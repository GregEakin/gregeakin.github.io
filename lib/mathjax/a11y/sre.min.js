(()=>{var __webpack_modules__={74:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{f:()=>SystemExternal});var _variables_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(714),_lib_external_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(268);const windowSupported=!("undefined"==typeof window),documentSupported=windowSupported&&!(void 0===window.document),webworker=!("undefined"==typeof DedicatedWorkerGlobalScope),nodeRequire=()=>{try{return eval("require")}catch(e){return e=>null}},SystemExternal={extRequire:e=>"undefined"!=typeof process&&"undefined"!=typeof require?nodeRequire()(e):null,windowSupported:windowSupported,documentSupported:documentSupported,webworker:webworker,xmldom:_lib_external_js__WEBPACK_IMPORTED_MODULE_1__.Gb,document:_lib_external_js__WEBPACK_IMPORTED_MODULE_1__.Al,fs:documentSupported||webworker?null:nodeRequire()("fs"),url:_variables_js__WEBPACK_IMPORTED_MODULE_0__.u.url,jsonPath:function(){if(documentSupported||webworker)return _variables_js__WEBPACK_IMPORTED_MODULE_0__.u.url;if(process.env.SRE_JSON_PATH||global.SRE_JSON_PATH)return process.env.SRE_JSON_PATH||global.SRE_JSON_PATH;try{return nodeRequire().resolve("speech-rule-engine").replace(/sre\.js$/,"")+"mathmaps"}catch(e){}try{return nodeRequire().resolve(".").replace(/sre\.js$/,"")+"mathmaps"}catch(e){}return"undefined"!=typeof __dirname?__dirname+(__dirname.match(/lib?$/)?"/mathmaps":"/lib/mathmaps"):process.cwd()+"/lib/mathmaps"}(),xpath:_lib_external_js__WEBPACK_IMPORTED_MODULE_1__.Oe}},159:(e,t,n)=>{"use strict";n=n(870).freeze;t.XML_ENTITIES=n({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),t.HTML_ENTITIES=n({Aacute:"Ã",aacute:"Ã¡",Abreve:"Ä‚",abreve:"Äƒ",ac:"âˆ¾",acd:"âˆ¿",acE:"âˆ¾Ì³",Acirc:"Ã‚",acirc:"Ã¢",acute:"Â´",Acy:"Ğ",acy:"Ğ°",AElig:"Ã†",aelig:"Ã¦",af:"â¡",Afr:"ğ”„",afr:"ğ”",Agrave:"Ã€",agrave:"Ã ",alefsym:"â„µ",aleph:"â„µ",Alpha:"Î‘",alpha:"Î±",Amacr:"Ä€",amacr:"Ä",amalg:"â¨¿",AMP:"&",amp:"&",And:"â©“",and:"âˆ§",andand:"â©•",andd:"â©œ",andslope:"â©˜",andv:"â©š",ang:"âˆ ",ange:"â¦¤",angle:"âˆ ",angmsd:"âˆ¡",angmsdaa:"â¦¨",angmsdab:"â¦©",angmsdac:"â¦ª",angmsdad:"â¦«",angmsdae:"â¦¬",angmsdaf:"â¦­",angmsdag:"â¦®",angmsdah:"â¦¯",angrt:"âˆŸ",angrtvb:"âŠ¾",angrtvbd:"â¦",angsph:"âˆ¢",angst:"Ã…",angzarr:"â¼",Aogon:"Ä„",aogon:"Ä…",Aopf:"ğ”¸",aopf:"ğ•’",ap:"â‰ˆ",apacir:"â©¯",apE:"â©°",ape:"â‰Š",apid:"â‰‹",apos:"'",ApplyFunction:"â¡",approx:"â‰ˆ",approxeq:"â‰Š",Aring:"Ã…",aring:"Ã¥",Ascr:"ğ’œ",ascr:"ğ’¶",Assign:"â‰”",ast:"*",asymp:"â‰ˆ",asympeq:"â‰",Atilde:"Ãƒ",atilde:"Ã£",Auml:"Ã„",auml:"Ã¤",awconint:"âˆ³",awint:"â¨‘",backcong:"â‰Œ",backepsilon:"Ï¶",backprime:"â€µ",backsim:"âˆ½",backsimeq:"â‹",Backslash:"âˆ–",Barv:"â«§",barvee:"âŠ½",Barwed:"âŒ†",barwed:"âŒ…",barwedge:"âŒ…",bbrk:"âµ",bbrktbrk:"â¶",bcong:"â‰Œ",Bcy:"Ğ‘",bcy:"Ğ±",bdquo:"â€",becaus:"âˆµ",Because:"âˆµ",because:"âˆµ",bemptyv:"â¦°",bepsi:"Ï¶",bernou:"â„¬",Bernoullis:"â„¬",Beta:"Î’",beta:"Î²",beth:"â„¶",between:"â‰¬",Bfr:"ğ”…",bfr:"ğ”Ÿ",bigcap:"â‹‚",bigcirc:"â—¯",bigcup:"â‹ƒ",bigodot:"â¨€",bigoplus:"â¨",bigotimes:"â¨‚",bigsqcup:"â¨†",bigstar:"â˜…",bigtriangledown:"â–½",bigtriangleup:"â–³",biguplus:"â¨„",bigvee:"â‹",bigwedge:"â‹€",bkarow:"â¤",blacklozenge:"â§«",blacksquare:"â–ª",blacktriangle:"â–´",blacktriangledown:"â–¾",blacktriangleleft:"â—‚",blacktriangleright:"â–¸",blank:"â£",blk12:"â–’",blk14:"â–‘",blk34:"â–“",block:"â–ˆ",bne:"=âƒ¥",bnequiv:"â‰¡âƒ¥",bNot:"â«­",bnot:"âŒ",Bopf:"ğ”¹",bopf:"ğ•“",bot:"âŠ¥",bottom:"âŠ¥",bowtie:"â‹ˆ",boxbox:"â§‰",boxDL:"â•—",boxDl:"â•–",boxdL:"â••",boxdl:"â”",boxDR:"â•”",boxDr:"â•“",boxdR:"â•’",boxdr:"â”Œ",boxH:"â•",boxh:"â”€",boxHD:"â•¦",boxHd:"â•¤",boxhD:"â•¥",boxhd:"â”¬",boxHU:"â•©",boxHu:"â•§",boxhU:"â•¨",boxhu:"â”´",boxminus:"âŠŸ",boxplus:"âŠ",boxtimes:"âŠ ",boxUL:"â•",boxUl:"â•œ",boxuL:"â•›",boxul:"â”˜",boxUR:"â•š",boxUr:"â•™",boxuR:"â•˜",boxur:"â””",boxV:"â•‘",boxv:"â”‚",boxVH:"â•¬",boxVh:"â•«",boxvH:"â•ª",boxvh:"â”¼",boxVL:"â•£",boxVl:"â•¢",boxvL:"â•¡",boxvl:"â”¤",boxVR:"â• ",boxVr:"â•Ÿ",boxvR:"â•",boxvr:"â”œ",bprime:"â€µ",Breve:"Ë˜",breve:"Ë˜",brvbar:"Â¦",Bscr:"â„¬",bscr:"ğ’·",bsemi:"â",bsim:"âˆ½",bsime:"â‹",bsol:"\\",bsolb:"â§…",bsolhsub:"âŸˆ",bull:"â€¢",bullet:"â€¢",bump:"â‰",bumpE:"âª®",bumpe:"â‰",Bumpeq:"â‰",bumpeq:"â‰",Cacute:"Ä†",cacute:"Ä‡",Cap:"â‹’",cap:"âˆ©",capand:"â©„",capbrcup:"â©‰",capcap:"â©‹",capcup:"â©‡",capdot:"â©€",CapitalDifferentialD:"â……",caps:"âˆ©ï¸€",caret:"â",caron:"Ë‡",Cayleys:"â„­",ccaps:"â©",Ccaron:"ÄŒ",ccaron:"Ä",Ccedil:"Ã‡",ccedil:"Ã§",Ccirc:"Äˆ",ccirc:"Ä‰",Cconint:"âˆ°",ccups:"â©Œ",ccupssm:"â©",Cdot:"ÄŠ",cdot:"Ä‹",cedil:"Â¸",Cedilla:"Â¸",cemptyv:"â¦²",cent:"Â¢",CenterDot:"Â·",centerdot:"Â·",Cfr:"â„­",cfr:"ğ” ",CHcy:"Ğ§",chcy:"Ñ‡",check:"âœ“",checkmark:"âœ“",Chi:"Î§",chi:"Ï‡",cir:"â—‹",circ:"Ë†",circeq:"â‰—",circlearrowleft:"â†º",circlearrowright:"â†»",circledast:"âŠ›",circledcirc:"âŠš",circleddash:"âŠ",CircleDot:"âŠ™",circledR:"Â®",circledS:"â“ˆ",CircleMinus:"âŠ–",CirclePlus:"âŠ•",CircleTimes:"âŠ—",cirE:"â§ƒ",cire:"â‰—",cirfnint:"â¨",cirmid:"â«¯",cirscir:"â§‚",ClockwiseContourIntegral:"âˆ²",CloseCurlyDoubleQuote:"â€",CloseCurlyQuote:"â€™",clubs:"â™£",clubsuit:"â™£",Colon:"âˆ·",colon:":",Colone:"â©´",colone:"â‰”",coloneq:"â‰”",comma:",",commat:"@",comp:"âˆ",compfn:"âˆ˜",complement:"âˆ",complexes:"â„‚",cong:"â‰…",congdot:"â©­",Congruent:"â‰¡",Conint:"âˆ¯",conint:"âˆ®",ContourIntegral:"âˆ®",Copf:"â„‚",copf:"ğ•”",coprod:"âˆ",Coproduct:"âˆ",COPY:"Â©",copy:"Â©",copysr:"â„—",CounterClockwiseContourIntegral:"âˆ³",crarr:"â†µ",Cross:"â¨¯",cross:"âœ—",Cscr:"ğ’",cscr:"ğ’¸",csub:"â«",csube:"â«‘",csup:"â«",csupe:"â«’",ctdot:"â‹¯",cudarrl:"â¤¸",cudarrr:"â¤µ",cuepr:"â‹",cuesc:"â‹Ÿ",cularr:"â†¶",cularrp:"â¤½",Cup:"â‹“",cup:"âˆª",cupbrcap:"â©ˆ",CupCap:"â‰",cupcap:"â©†",cupcup:"â©Š",cupdot:"âŠ",cupor:"â©…",cups:"âˆªï¸€",curarr:"â†·",curarrm:"â¤¼",curlyeqprec:"â‹",curlyeqsucc:"â‹Ÿ",curlyvee:"â‹",curlywedge:"â‹",curren:"Â¤",curvearrowleft:"â†¶",curvearrowright:"â†·",cuvee:"â‹",cuwed:"â‹",cwconint:"âˆ²",cwint:"âˆ±",cylcty:"âŒ­",Dagger:"â€¡",dagger:"â€ ",daleth:"â„¸",Darr:"â†¡",dArr:"â‡“",darr:"â†“",dash:"â€",Dashv:"â«¤",dashv:"âŠ£",dbkarow:"â¤",dblac:"Ë",Dcaron:"Ä",dcaron:"Ä",Dcy:"Ğ”",dcy:"Ğ´",DD:"â……",dd:"â…†",ddagger:"â€¡",ddarr:"â‡Š",DDotrahd:"â¤‘",ddotseq:"â©·",deg:"Â°",Del:"âˆ‡",Delta:"Î”",delta:"Î´",demptyv:"â¦±",dfisht:"â¥¿",Dfr:"ğ”‡",dfr:"ğ”¡",dHar:"â¥¥",dharl:"â‡ƒ",dharr:"â‡‚",DiacriticalAcute:"Â´",DiacriticalDot:"Ë™",DiacriticalDoubleAcute:"Ë",DiacriticalGrave:"`",DiacriticalTilde:"Ëœ",diam:"â‹„",Diamond:"â‹„",diamond:"â‹„",diamondsuit:"â™¦",diams:"â™¦",die:"Â¨",DifferentialD:"â…†",digamma:"Ï",disin:"â‹²",div:"Ã·",divide:"Ã·",divideontimes:"â‹‡",divonx:"â‹‡",DJcy:"Ğ‚",djcy:"Ñ’",dlcorn:"âŒ",dlcrop:"âŒ",dollar:"$",Dopf:"ğ”»",dopf:"ğ••",Dot:"Â¨",dot:"Ë™",DotDot:"âƒœ",doteq:"â‰",doteqdot:"â‰‘",DotEqual:"â‰",dotminus:"âˆ¸",dotplus:"âˆ”",dotsquare:"âŠ¡",doublebarwedge:"âŒ†",DoubleContourIntegral:"âˆ¯",DoubleDot:"Â¨",DoubleDownArrow:"â‡“",DoubleLeftArrow:"â‡",DoubleLeftRightArrow:"â‡”",DoubleLeftTee:"â«¤",DoubleLongLeftArrow:"âŸ¸",DoubleLongLeftRightArrow:"âŸº",DoubleLongRightArrow:"âŸ¹",DoubleRightArrow:"â‡’",DoubleRightTee:"âŠ¨",DoubleUpArrow:"â‡‘",DoubleUpDownArrow:"â‡•",DoubleVerticalBar:"âˆ¥",DownArrow:"â†“",Downarrow:"â‡“",downarrow:"â†“",DownArrowBar:"â¤“",DownArrowUpArrow:"â‡µ",DownBreve:"Ì‘",downdownarrows:"â‡Š",downharpoonleft:"â‡ƒ",downharpoonright:"â‡‚",DownLeftRightVector:"â¥",DownLeftTeeVector:"â¥",DownLeftVector:"â†½",DownLeftVectorBar:"â¥–",DownRightTeeVector:"â¥Ÿ",DownRightVector:"â‡",DownRightVectorBar:"â¥—",DownTee:"âŠ¤",DownTeeArrow:"â†§",drbkarow:"â¤",drcorn:"âŒŸ",drcrop:"âŒŒ",Dscr:"ğ’Ÿ",dscr:"ğ’¹",DScy:"Ğ…",dscy:"Ñ•",dsol:"â§¶",Dstrok:"Ä",dstrok:"Ä‘",dtdot:"â‹±",dtri:"â–¿",dtrif:"â–¾",duarr:"â‡µ",duhar:"â¥¯",dwangle:"â¦¦",DZcy:"Ğ",dzcy:"ÑŸ",dzigrarr:"âŸ¿",Eacute:"Ã‰",eacute:"Ã©",easter:"â©®",Ecaron:"Äš",ecaron:"Ä›",ecir:"â‰–",Ecirc:"ÃŠ",ecirc:"Ãª",ecolon:"â‰•",Ecy:"Ğ­",ecy:"Ñ",eDDot:"â©·",Edot:"Ä–",eDot:"â‰‘",edot:"Ä—",ee:"â…‡",efDot:"â‰’",Efr:"ğ”ˆ",efr:"ğ”¢",eg:"âªš",Egrave:"Ãˆ",egrave:"Ã¨",egs:"âª–",egsdot:"âª˜",el:"âª™",Element:"âˆˆ",elinters:"â§",ell:"â„“",els:"âª•",elsdot:"âª—",Emacr:"Ä’",emacr:"Ä“",empty:"âˆ…",emptyset:"âˆ…",EmptySmallSquare:"â—»",emptyv:"âˆ…",EmptyVerySmallSquare:"â–«",emsp:"â€ƒ",emsp13:"â€„",emsp14:"â€…",ENG:"ÅŠ",eng:"Å‹",ensp:"â€‚",Eogon:"Ä˜",eogon:"Ä™",Eopf:"ğ”¼",eopf:"ğ•–",epar:"â‹•",eparsl:"â§£",eplus:"â©±",epsi:"Îµ",Epsilon:"Î•",epsilon:"Îµ",epsiv:"Ïµ",eqcirc:"â‰–",eqcolon:"â‰•",eqsim:"â‰‚",eqslantgtr:"âª–",eqslantless:"âª•",Equal:"â©µ",equals:"=",EqualTilde:"â‰‚",equest:"â‰Ÿ",Equilibrium:"â‡Œ",equiv:"â‰¡",equivDD:"â©¸",eqvparsl:"â§¥",erarr:"â¥±",erDot:"â‰“",Escr:"â„°",escr:"â„¯",esdot:"â‰",Esim:"â©³",esim:"â‰‚",Eta:"Î—",eta:"Î·",ETH:"Ã",eth:"Ã°",Euml:"Ã‹",euml:"Ã«",euro:"â‚¬",excl:"!",exist:"âˆƒ",Exists:"âˆƒ",expectation:"â„°",ExponentialE:"â…‡",exponentiale:"â…‡",fallingdotseq:"â‰’",Fcy:"Ğ¤",fcy:"Ñ„",female:"â™€",ffilig:"ï¬ƒ",fflig:"ï¬€",ffllig:"ï¬„",Ffr:"ğ”‰",ffr:"ğ”£",filig:"ï¬",FilledSmallSquare:"â—¼",FilledVerySmallSquare:"â–ª",fjlig:"fj",flat:"â™­",fllig:"ï¬‚",fltns:"â–±",fnof:"Æ’",Fopf:"ğ”½",fopf:"ğ•—",ForAll:"âˆ€",forall:"âˆ€",fork:"â‹”",forkv:"â«™",Fouriertrf:"â„±",fpartint:"â¨",frac12:"Â½",frac13:"â…“",frac14:"Â¼",frac15:"â…•",frac16:"â…™",frac18:"â…›",frac23:"â…”",frac25:"â…–",frac34:"Â¾",frac35:"â…—",frac38:"â…œ",frac45:"â…˜",frac56:"â…š",frac58:"â…",frac78:"â…",frasl:"â„",frown:"âŒ¢",Fscr:"â„±",fscr:"ğ’»",gacute:"Çµ",Gamma:"Î“",gamma:"Î³",Gammad:"Ïœ",gammad:"Ï",gap:"âª†",Gbreve:"Ä",gbreve:"ÄŸ",Gcedil:"Ä¢",Gcirc:"Äœ",gcirc:"Ä",Gcy:"Ğ“",gcy:"Ğ³",Gdot:"Ä ",gdot:"Ä¡",gE:"â‰§",ge:"â‰¥",gEl:"âªŒ",gel:"â‹›",geq:"â‰¥",geqq:"â‰§",geqslant:"â©¾",ges:"â©¾",gescc:"âª©",gesdot:"âª€",gesdoto:"âª‚",gesdotol:"âª„",gesl:"â‹›ï¸€",gesles:"âª”",Gfr:"ğ”Š",gfr:"ğ”¤",Gg:"â‹™",gg:"â‰«",ggg:"â‹™",gimel:"â„·",GJcy:"Ğƒ",gjcy:"Ñ“",gl:"â‰·",gla:"âª¥",glE:"âª’",glj:"âª¤",gnap:"âªŠ",gnapprox:"âªŠ",gnE:"â‰©",gne:"âªˆ",gneq:"âªˆ",gneqq:"â‰©",gnsim:"â‹§",Gopf:"ğ”¾",gopf:"ğ•˜",grave:"`",GreaterEqual:"â‰¥",GreaterEqualLess:"â‹›",GreaterFullEqual:"â‰§",GreaterGreater:"âª¢",GreaterLess:"â‰·",GreaterSlantEqual:"â©¾",GreaterTilde:"â‰³",Gscr:"ğ’¢",gscr:"â„Š",gsim:"â‰³",gsime:"âª",gsiml:"âª",Gt:"â‰«",GT:">",gt:">",gtcc:"âª§",gtcir:"â©º",gtdot:"â‹—",gtlPar:"â¦•",gtquest:"â©¼",gtrapprox:"âª†",gtrarr:"â¥¸",gtrdot:"â‹—",gtreqless:"â‹›",gtreqqless:"âªŒ",gtrless:"â‰·",gtrsim:"â‰³",gvertneqq:"â‰©ï¸€",gvnE:"â‰©ï¸€",Hacek:"Ë‡",hairsp:"â€Š",half:"Â½",hamilt:"â„‹",HARDcy:"Ğª",hardcy:"ÑŠ",hArr:"â‡”",harr:"â†”",harrcir:"â¥ˆ",harrw:"â†­",Hat:"^",hbar:"â„",Hcirc:"Ä¤",hcirc:"Ä¥",hearts:"â™¥",heartsuit:"â™¥",hellip:"â€¦",hercon:"âŠ¹",Hfr:"â„Œ",hfr:"ğ”¥",HilbertSpace:"â„‹",hksearow:"â¤¥",hkswarow:"â¤¦",hoarr:"â‡¿",homtht:"âˆ»",hookleftarrow:"â†©",hookrightarrow:"â†ª",Hopf:"â„",hopf:"ğ•™",horbar:"â€•",HorizontalLine:"â”€",Hscr:"â„‹",hscr:"ğ’½",hslash:"â„",Hstrok:"Ä¦",hstrok:"Ä§",HumpDownHump:"â‰",HumpEqual:"â‰",hybull:"âƒ",hyphen:"â€",Iacute:"Ã",iacute:"Ã­",ic:"â£",Icirc:"Ã",icirc:"Ã®",Icy:"Ğ˜",icy:"Ğ¸",Idot:"Ä°",IEcy:"Ğ•",iecy:"Ğµ",iexcl:"Â¡",iff:"â‡”",Ifr:"â„‘",ifr:"ğ”¦",Igrave:"ÃŒ",igrave:"Ã¬",ii:"â…ˆ",iiiint:"â¨Œ",iiint:"âˆ­",iinfin:"â§œ",iiota:"â„©",IJlig:"Ä²",ijlig:"Ä³",Im:"â„‘",Imacr:"Äª",imacr:"Ä«",image:"â„‘",ImaginaryI:"â…ˆ",imagline:"â„",imagpart:"â„‘",imath:"Ä±",imof:"âŠ·",imped:"Æµ",Implies:"â‡’",in:"âˆˆ",incare:"â„…",infin:"âˆ",infintie:"â§",inodot:"Ä±",Int:"âˆ¬",int:"âˆ«",intcal:"âŠº",integers:"â„¤",Integral:"âˆ«",intercal:"âŠº",Intersection:"â‹‚",intlarhk:"â¨—",intprod:"â¨¼",InvisibleComma:"â£",InvisibleTimes:"â¢",IOcy:"Ğ",iocy:"Ñ‘",Iogon:"Ä®",iogon:"Ä¯",Iopf:"ğ•€",iopf:"ğ•š",Iota:"Î™",iota:"Î¹",iprod:"â¨¼",iquest:"Â¿",Iscr:"â„",iscr:"ğ’¾",isin:"âˆˆ",isindot:"â‹µ",isinE:"â‹¹",isins:"â‹´",isinsv:"â‹³",isinv:"âˆˆ",it:"â¢",Itilde:"Ä¨",itilde:"Ä©",Iukcy:"Ğ†",iukcy:"Ñ–",Iuml:"Ã",iuml:"Ã¯",Jcirc:"Ä´",jcirc:"Äµ",Jcy:"Ğ™",jcy:"Ğ¹",Jfr:"ğ”",jfr:"ğ”§",jmath:"È·",Jopf:"ğ•",jopf:"ğ•›",Jscr:"ğ’¥",jscr:"ğ’¿",Jsercy:"Ğˆ",jsercy:"Ñ˜",Jukcy:"Ğ„",jukcy:"Ñ”",Kappa:"Îš",kappa:"Îº",kappav:"Ï°",Kcedil:"Ä¶",kcedil:"Ä·",Kcy:"Ğš",kcy:"Ğº",Kfr:"ğ”",kfr:"ğ”¨",kgreen:"Ä¸",KHcy:"Ğ¥",khcy:"Ñ…",KJcy:"ĞŒ",kjcy:"Ñœ",Kopf:"ğ•‚",kopf:"ğ•œ",Kscr:"ğ’¦",kscr:"ğ“€",lAarr:"â‡š",Lacute:"Ä¹",lacute:"Äº",laemptyv:"â¦´",lagran:"â„’",Lambda:"Î›",lambda:"Î»",Lang:"âŸª",lang:"âŸ¨",langd:"â¦‘",langle:"âŸ¨",lap:"âª…",Laplacetrf:"â„’",laquo:"Â«",Larr:"â†",lArr:"â‡",larr:"â†",larrb:"â‡¤",larrbfs:"â¤Ÿ",larrfs:"â¤",larrhk:"â†©",larrlp:"â†«",larrpl:"â¤¹",larrsim:"â¥³",larrtl:"â†¢",lat:"âª«",lAtail:"â¤›",latail:"â¤™",late:"âª­",lates:"âª­ï¸€",lBarr:"â¤",lbarr:"â¤Œ",lbbrk:"â²",lbrace:"{",lbrack:"[",lbrke:"â¦‹",lbrksld:"â¦",lbrkslu:"â¦",Lcaron:"Ä½",lcaron:"Ä¾",Lcedil:"Ä»",lcedil:"Ä¼",lceil:"âŒˆ",lcub:"{",Lcy:"Ğ›",lcy:"Ğ»",ldca:"â¤¶",ldquo:"â€œ",ldquor:"â€",ldrdhar:"â¥§",ldrushar:"â¥‹",ldsh:"â†²",lE:"â‰¦",le:"â‰¤",LeftAngleBracket:"âŸ¨",LeftArrow:"â†",Leftarrow:"â‡",leftarrow:"â†",LeftArrowBar:"â‡¤",LeftArrowRightArrow:"â‡†",leftarrowtail:"â†¢",LeftCeiling:"âŒˆ",LeftDoubleBracket:"âŸ¦",LeftDownTeeVector:"â¥¡",LeftDownVector:"â‡ƒ",LeftDownVectorBar:"â¥™",LeftFloor:"âŒŠ",leftharpoondown:"â†½",leftharpoonup:"â†¼",leftleftarrows:"â‡‡",LeftRightArrow:"â†”",Leftrightarrow:"â‡”",leftrightarrow:"â†”",leftrightarrows:"â‡†",leftrightharpoons:"â‡‹",leftrightsquigarrow:"â†­",LeftRightVector:"â¥",LeftTee:"âŠ£",LeftTeeArrow:"â†¤",LeftTeeVector:"â¥š",leftthreetimes:"â‹‹",LeftTriangle:"âŠ²",LeftTriangleBar:"â§",LeftTriangleEqual:"âŠ´",LeftUpDownVector:"â¥‘",LeftUpTeeVector:"â¥ ",LeftUpVector:"â†¿",LeftUpVectorBar:"â¥˜",LeftVector:"â†¼",LeftVectorBar:"â¥’",lEg:"âª‹",leg:"â‹š",leq:"â‰¤",leqq:"â‰¦",leqslant:"â©½",les:"â©½",lescc:"âª¨",lesdot:"â©¿",lesdoto:"âª",lesdotor:"âªƒ",lesg:"â‹šï¸€",lesges:"âª“",lessapprox:"âª…",lessdot:"â‹–",lesseqgtr:"â‹š",lesseqqgtr:"âª‹",LessEqualGreater:"â‹š",LessFullEqual:"â‰¦",LessGreater:"â‰¶",lessgtr:"â‰¶",LessLess:"âª¡",lesssim:"â‰²",LessSlantEqual:"â©½",LessTilde:"â‰²",lfisht:"â¥¼",lfloor:"âŒŠ",Lfr:"ğ”",lfr:"ğ”©",lg:"â‰¶",lgE:"âª‘",lHar:"â¥¢",lhard:"â†½",lharu:"â†¼",lharul:"â¥ª",lhblk:"â–„",LJcy:"Ğ‰",ljcy:"Ñ™",Ll:"â‹˜",ll:"â‰ª",llarr:"â‡‡",llcorner:"âŒ",Lleftarrow:"â‡š",llhard:"â¥«",lltri:"â—º",Lmidot:"Ä¿",lmidot:"Å€",lmoust:"â°",lmoustache:"â°",lnap:"âª‰",lnapprox:"âª‰",lnE:"â‰¨",lne:"âª‡",lneq:"âª‡",lneqq:"â‰¨",lnsim:"â‹¦",loang:"âŸ¬",loarr:"â‡½",lobrk:"âŸ¦",LongLeftArrow:"âŸµ",Longleftarrow:"âŸ¸",longleftarrow:"âŸµ",LongLeftRightArrow:"âŸ·",Longleftrightarrow:"âŸº",longleftrightarrow:"âŸ·",longmapsto:"âŸ¼",LongRightArrow:"âŸ¶",Longrightarrow:"âŸ¹",longrightarrow:"âŸ¶",looparrowleft:"â†«",looparrowright:"â†¬",lopar:"â¦…",Lopf:"ğ•ƒ",lopf:"ğ•",loplus:"â¨­",lotimes:"â¨´",lowast:"âˆ—",lowbar:"_",LowerLeftArrow:"â†™",LowerRightArrow:"â†˜",loz:"â—Š",lozenge:"â—Š",lozf:"â§«",lpar:"(",lparlt:"â¦“",lrarr:"â‡†",lrcorner:"âŒŸ",lrhar:"â‡‹",lrhard:"â¥­",lrm:"â€",lrtri:"âŠ¿",lsaquo:"â€¹",Lscr:"â„’",lscr:"ğ“",Lsh:"â†°",lsh:"â†°",lsim:"â‰²",lsime:"âª",lsimg:"âª",lsqb:"[",lsquo:"â€˜",lsquor:"â€š",Lstrok:"Å",lstrok:"Å‚",Lt:"â‰ª",LT:"<",lt:"<",ltcc:"âª¦",ltcir:"â©¹",ltdot:"â‹–",lthree:"â‹‹",ltimes:"â‹‰",ltlarr:"â¥¶",ltquest:"â©»",ltri:"â—ƒ",ltrie:"âŠ´",ltrif:"â—‚",ltrPar:"â¦–",lurdshar:"â¥Š",luruhar:"â¥¦",lvertneqq:"â‰¨ï¸€",lvnE:"â‰¨ï¸€",macr:"Â¯",male:"â™‚",malt:"âœ ",maltese:"âœ ",Map:"â¤…",map:"â†¦",mapsto:"â†¦",mapstodown:"â†§",mapstoleft:"â†¤",mapstoup:"â†¥",marker:"â–®",mcomma:"â¨©",Mcy:"Ğœ",mcy:"Ğ¼",mdash:"â€”",mDDot:"âˆº",measuredangle:"âˆ¡",MediumSpace:"âŸ",Mellintrf:"â„³",Mfr:"ğ”",mfr:"ğ”ª",mho:"â„§",micro:"Âµ",mid:"âˆ£",midast:"*",midcir:"â«°",middot:"Â·",minus:"âˆ’",minusb:"âŠŸ",minusd:"âˆ¸",minusdu:"â¨ª",MinusPlus:"âˆ“",mlcp:"â«›",mldr:"â€¦",mnplus:"âˆ“",models:"âŠ§",Mopf:"ğ•„",mopf:"ğ•",mp:"âˆ“",Mscr:"â„³",mscr:"ğ“‚",mstpos:"âˆ¾",Mu:"Îœ",mu:"Î¼",multimap:"âŠ¸",mumap:"âŠ¸",nabla:"âˆ‡",Nacute:"Åƒ",nacute:"Å„",nang:"âˆ âƒ’",nap:"â‰‰",napE:"â©°Ì¸",napid:"â‰‹Ì¸",napos:"Å‰",napprox:"â‰‰",natur:"â™®",natural:"â™®",naturals:"â„•",nbsp:"Â ",nbump:"â‰Ì¸",nbumpe:"â‰Ì¸",ncap:"â©ƒ",Ncaron:"Å‡",ncaron:"Åˆ",Ncedil:"Å…",ncedil:"Å†",ncong:"â‰‡",ncongdot:"â©­Ì¸",ncup:"â©‚",Ncy:"Ğ",ncy:"Ğ½",ndash:"â€“",ne:"â‰ ",nearhk:"â¤¤",neArr:"â‡—",nearr:"â†—",nearrow:"â†—",nedot:"â‰Ì¸",NegativeMediumSpace:"â€‹",NegativeThickSpace:"â€‹",NegativeThinSpace:"â€‹",NegativeVeryThinSpace:"â€‹",nequiv:"â‰¢",nesear:"â¤¨",nesim:"â‰‚Ì¸",NestedGreaterGreater:"â‰«",NestedLessLess:"â‰ª",NewLine:"\n",nexist:"âˆ„",nexists:"âˆ„",Nfr:"ğ”‘",nfr:"ğ”«",ngE:"â‰§Ì¸",nge:"â‰±",ngeq:"â‰±",ngeqq:"â‰§Ì¸",ngeqslant:"â©¾Ì¸",nges:"â©¾Ì¸",nGg:"â‹™Ì¸",ngsim:"â‰µ",nGt:"â‰«âƒ’",ngt:"â‰¯",ngtr:"â‰¯",nGtv:"â‰«Ì¸",nhArr:"â‡",nharr:"â†®",nhpar:"â«²",ni:"âˆ‹",nis:"â‹¼",nisd:"â‹º",niv:"âˆ‹",NJcy:"ĞŠ",njcy:"Ñš",nlArr:"â‡",nlarr:"â†š",nldr:"â€¥",nlE:"â‰¦Ì¸",nle:"â‰°",nLeftarrow:"â‡",nleftarrow:"â†š",nLeftrightarrow:"â‡",nleftrightarrow:"â†®",nleq:"â‰°",nleqq:"â‰¦Ì¸",nleqslant:"â©½Ì¸",nles:"â©½Ì¸",nless:"â‰®",nLl:"â‹˜Ì¸",nlsim:"â‰´",nLt:"â‰ªâƒ’",nlt:"â‰®",nltri:"â‹ª",nltrie:"â‹¬",nLtv:"â‰ªÌ¸",nmid:"âˆ¤",NoBreak:"â ",NonBreakingSpace:"Â ",Nopf:"â„•",nopf:"ğ•Ÿ",Not:"â«¬",not:"Â¬",NotCongruent:"â‰¢",NotCupCap:"â‰­",NotDoubleVerticalBar:"âˆ¦",NotElement:"âˆ‰",NotEqual:"â‰ ",NotEqualTilde:"â‰‚Ì¸",NotExists:"âˆ„",NotGreater:"â‰¯",NotGreaterEqual:"â‰±",NotGreaterFullEqual:"â‰§Ì¸",NotGreaterGreater:"â‰«Ì¸",NotGreaterLess:"â‰¹",NotGreaterSlantEqual:"â©¾Ì¸",NotGreaterTilde:"â‰µ",NotHumpDownHump:"â‰Ì¸",NotHumpEqual:"â‰Ì¸",notin:"âˆ‰",notindot:"â‹µÌ¸",notinE:"â‹¹Ì¸",notinva:"âˆ‰",notinvb:"â‹·",notinvc:"â‹¶",NotLeftTriangle:"â‹ª",NotLeftTriangleBar:"â§Ì¸",NotLeftTriangleEqual:"â‹¬",NotLess:"â‰®",NotLessEqual:"â‰°",NotLessGreater:"â‰¸",NotLessLess:"â‰ªÌ¸",NotLessSlantEqual:"â©½Ì¸",NotLessTilde:"â‰´",NotNestedGreaterGreater:"âª¢Ì¸",NotNestedLessLess:"âª¡Ì¸",notni:"âˆŒ",notniva:"âˆŒ",notnivb:"â‹¾",notnivc:"â‹½",NotPrecedes:"âŠ€",NotPrecedesEqual:"âª¯Ì¸",NotPrecedesSlantEqual:"â‹ ",NotReverseElement:"âˆŒ",NotRightTriangle:"â‹«",NotRightTriangleBar:"â§Ì¸",NotRightTriangleEqual:"â‹­",NotSquareSubset:"âŠÌ¸",NotSquareSubsetEqual:"â‹¢",NotSquareSuperset:"âŠÌ¸",NotSquareSupersetEqual:"â‹£",NotSubset:"âŠ‚âƒ’",NotSubsetEqual:"âŠˆ",NotSucceeds:"âŠ",NotSucceedsEqual:"âª°Ì¸",NotSucceedsSlantEqual:"â‹¡",NotSucceedsTilde:"â‰¿Ì¸",NotSuperset:"âŠƒâƒ’",NotSupersetEqual:"âŠ‰",NotTilde:"â‰",NotTildeEqual:"â‰„",NotTildeFullEqual:"â‰‡",NotTildeTilde:"â‰‰",NotVerticalBar:"âˆ¤",npar:"âˆ¦",nparallel:"âˆ¦",nparsl:"â«½âƒ¥",npart:"âˆ‚Ì¸",npolint:"â¨”",npr:"âŠ€",nprcue:"â‹ ",npre:"âª¯Ì¸",nprec:"âŠ€",npreceq:"âª¯Ì¸",nrArr:"â‡",nrarr:"â†›",nrarrc:"â¤³Ì¸",nrarrw:"â†Ì¸",nRightarrow:"â‡",nrightarrow:"â†›",nrtri:"â‹«",nrtrie:"â‹­",nsc:"âŠ",nsccue:"â‹¡",nsce:"âª°Ì¸",Nscr:"ğ’©",nscr:"ğ“ƒ",nshortmid:"âˆ¤",nshortparallel:"âˆ¦",nsim:"â‰",nsime:"â‰„",nsimeq:"â‰„",nsmid:"âˆ¤",nspar:"âˆ¦",nsqsube:"â‹¢",nsqsupe:"â‹£",nsub:"âŠ„",nsubE:"â«…Ì¸",nsube:"âŠˆ",nsubset:"âŠ‚âƒ’",nsubseteq:"âŠˆ",nsubseteqq:"â«…Ì¸",nsucc:"âŠ",nsucceq:"âª°Ì¸",nsup:"âŠ…",nsupE:"â«†Ì¸",nsupe:"âŠ‰",nsupset:"âŠƒâƒ’",nsupseteq:"âŠ‰",nsupseteqq:"â«†Ì¸",ntgl:"â‰¹",Ntilde:"Ã‘",ntilde:"Ã±",ntlg:"â‰¸",ntriangleleft:"â‹ª",ntrianglelefteq:"â‹¬",ntriangleright:"â‹«",ntrianglerighteq:"â‹­",Nu:"Î",nu:"Î½",num:"#",numero:"â„–",numsp:"â€‡",nvap:"â‰âƒ’",nVDash:"âŠ¯",nVdash:"âŠ®",nvDash:"âŠ­",nvdash:"âŠ¬",nvge:"â‰¥âƒ’",nvgt:">âƒ’",nvHarr:"â¤„",nvinfin:"â§",nvlArr:"â¤‚",nvle:"â‰¤âƒ’",nvlt:"<âƒ’",nvltrie:"âŠ´âƒ’",nvrArr:"â¤ƒ",nvrtrie:"âŠµâƒ’",nvsim:"âˆ¼âƒ’",nwarhk:"â¤£",nwArr:"â‡–",nwarr:"â†–",nwarrow:"â†–",nwnear:"â¤§",Oacute:"Ã“",oacute:"Ã³",oast:"âŠ›",ocir:"âŠš",Ocirc:"Ã”",ocirc:"Ã´",Ocy:"Ğ",ocy:"Ğ¾",odash:"âŠ",Odblac:"Å",odblac:"Å‘",odiv:"â¨¸",odot:"âŠ™",odsold:"â¦¼",OElig:"Å’",oelig:"Å“",ofcir:"â¦¿",Ofr:"ğ”’",ofr:"ğ”¬",ogon:"Ë›",Ograve:"Ã’",ograve:"Ã²",ogt:"â§",ohbar:"â¦µ",ohm:"Î©",oint:"âˆ®",olarr:"â†º",olcir:"â¦¾",olcross:"â¦»",oline:"â€¾",olt:"â§€",Omacr:"ÅŒ",omacr:"Å",Omega:"Î©",omega:"Ï‰",Omicron:"ÎŸ",omicron:"Î¿",omid:"â¦¶",ominus:"âŠ–",Oopf:"ğ•†",oopf:"ğ• ",opar:"â¦·",OpenCurlyDoubleQuote:"â€œ",OpenCurlyQuote:"â€˜",operp:"â¦¹",oplus:"âŠ•",Or:"â©”",or:"âˆ¨",orarr:"â†»",ord:"â©",order:"â„´",orderof:"â„´",ordf:"Âª",ordm:"Âº",origof:"âŠ¶",oror:"â©–",orslope:"â©—",orv:"â©›",oS:"â“ˆ",Oscr:"ğ’ª",oscr:"â„´",Oslash:"Ã˜",oslash:"Ã¸",osol:"âŠ˜",Otilde:"Ã•",otilde:"Ãµ",Otimes:"â¨·",otimes:"âŠ—",otimesas:"â¨¶",Ouml:"Ã–",ouml:"Ã¶",ovbar:"âŒ½",OverBar:"â€¾",OverBrace:"â",OverBracket:"â´",OverParenthesis:"âœ",par:"âˆ¥",para:"Â¶",parallel:"âˆ¥",parsim:"â«³",parsl:"â«½",part:"âˆ‚",PartialD:"âˆ‚",Pcy:"ĞŸ",pcy:"Ğ¿",percnt:"%",period:".",permil:"â€°",perp:"âŠ¥",pertenk:"â€±",Pfr:"ğ”“",pfr:"ğ”­",Phi:"Î¦",phi:"Ï†",phiv:"Ï•",phmmat:"â„³",phone:"â˜",Pi:"Î ",pi:"Ï€",pitchfork:"â‹”",piv:"Ï–",planck:"â„",planckh:"â„",plankv:"â„",plus:"+",plusacir:"â¨£",plusb:"âŠ",pluscir:"â¨¢",plusdo:"âˆ”",plusdu:"â¨¥",pluse:"â©²",PlusMinus:"Â±",plusmn:"Â±",plussim:"â¨¦",plustwo:"â¨§",pm:"Â±",Poincareplane:"â„Œ",pointint:"â¨•",Popf:"â„™",popf:"ğ•¡",pound:"Â£",Pr:"âª»",pr:"â‰º",prap:"âª·",prcue:"â‰¼",prE:"âª³",pre:"âª¯",prec:"â‰º",precapprox:"âª·",preccurlyeq:"â‰¼",Precedes:"â‰º",PrecedesEqual:"âª¯",PrecedesSlantEqual:"â‰¼",PrecedesTilde:"â‰¾",preceq:"âª¯",precnapprox:"âª¹",precneqq:"âªµ",precnsim:"â‹¨",precsim:"â‰¾",Prime:"â€³",prime:"â€²",primes:"â„™",prnap:"âª¹",prnE:"âªµ",prnsim:"â‹¨",prod:"âˆ",Product:"âˆ",profalar:"âŒ®",profline:"âŒ’",profsurf:"âŒ“",prop:"âˆ",Proportion:"âˆ·",Proportional:"âˆ",propto:"âˆ",prsim:"â‰¾",prurel:"âŠ°",Pscr:"ğ’«",pscr:"ğ“…",Psi:"Î¨",psi:"Ïˆ",puncsp:"â€ˆ",Qfr:"ğ””",qfr:"ğ”®",qint:"â¨Œ",Qopf:"â„š",qopf:"ğ•¢",qprime:"â—",Qscr:"ğ’¬",qscr:"ğ“†",quaternions:"â„",quatint:"â¨–",quest:"?",questeq:"â‰Ÿ",QUOT:'"',quot:'"',rAarr:"â‡›",race:"âˆ½Ì±",Racute:"Å”",racute:"Å•",radic:"âˆš",raemptyv:"â¦³",Rang:"âŸ«",rang:"âŸ©",rangd:"â¦’",range:"â¦¥",rangle:"âŸ©",raquo:"Â»",Rarr:"â† ",rArr:"â‡’",rarr:"â†’",rarrap:"â¥µ",rarrb:"â‡¥",rarrbfs:"â¤ ",rarrc:"â¤³",rarrfs:"â¤",rarrhk:"â†ª",rarrlp:"â†¬",rarrpl:"â¥…",rarrsim:"â¥´",Rarrtl:"â¤–",rarrtl:"â†£",rarrw:"â†",rAtail:"â¤œ",ratail:"â¤š",ratio:"âˆ¶",rationals:"â„š",RBarr:"â¤",rBarr:"â¤",rbarr:"â¤",rbbrk:"â³",rbrace:"}",rbrack:"]",rbrke:"â¦Œ",rbrksld:"â¦",rbrkslu:"â¦",Rcaron:"Å˜",rcaron:"Å™",Rcedil:"Å–",rcedil:"Å—",rceil:"âŒ‰",rcub:"}",Rcy:"Ğ ",rcy:"Ñ€",rdca:"â¤·",rdldhar:"â¥©",rdquo:"â€",rdquor:"â€",rdsh:"â†³",Re:"â„œ",real:"â„œ",realine:"â„›",realpart:"â„œ",reals:"â„",rect:"â–­",REG:"Â®",reg:"Â®",ReverseElement:"âˆ‹",ReverseEquilibrium:"â‡‹",ReverseUpEquilibrium:"â¥¯",rfisht:"â¥½",rfloor:"âŒ‹",Rfr:"â„œ",rfr:"ğ”¯",rHar:"â¥¤",rhard:"â‡",rharu:"â‡€",rharul:"â¥¬",Rho:"Î¡",rho:"Ï",rhov:"Ï±",RightAngleBracket:"âŸ©",RightArrow:"â†’",Rightarrow:"â‡’",rightarrow:"â†’",RightArrowBar:"â‡¥",RightArrowLeftArrow:"â‡„",rightarrowtail:"â†£",RightCeiling:"âŒ‰",RightDoubleBracket:"âŸ§",RightDownTeeVector:"â¥",RightDownVector:"â‡‚",RightDownVectorBar:"â¥•",RightFloor:"âŒ‹",rightharpoondown:"â‡",rightharpoonup:"â‡€",rightleftarrows:"â‡„",rightleftharpoons:"â‡Œ",rightrightarrows:"â‡‰",rightsquigarrow:"â†",RightTee:"âŠ¢",RightTeeArrow:"â†¦",RightTeeVector:"â¥›",rightthreetimes:"â‹Œ",RightTriangle:"âŠ³",RightTriangleBar:"â§",RightTriangleEqual:"âŠµ",RightUpDownVector:"â¥",RightUpTeeVector:"â¥œ",RightUpVector:"â†¾",RightUpVectorBar:"â¥”",RightVector:"â‡€",RightVectorBar:"â¥“",ring:"Ëš",risingdotseq:"â‰“",rlarr:"â‡„",rlhar:"â‡Œ",rlm:"â€",rmoust:"â±",rmoustache:"â±",rnmid:"â«®",roang:"âŸ­",roarr:"â‡¾",robrk:"âŸ§",ropar:"â¦†",Ropf:"â„",ropf:"ğ•£",roplus:"â¨®",rotimes:"â¨µ",RoundImplies:"â¥°",rpar:")",rpargt:"â¦”",rppolint:"â¨’",rrarr:"â‡‰",Rrightarrow:"â‡›",rsaquo:"â€º",Rscr:"â„›",rscr:"ğ“‡",Rsh:"â†±",rsh:"â†±",rsqb:"]",rsquo:"â€™",rsquor:"â€™",rthree:"â‹Œ",rtimes:"â‹Š",rtri:"â–¹",rtrie:"âŠµ",rtrif:"â–¸",rtriltri:"â§",RuleDelayed:"â§´",ruluhar:"â¥¨",rx:"â„",Sacute:"Åš",sacute:"Å›",sbquo:"â€š",Sc:"âª¼",sc:"â‰»",scap:"âª¸",Scaron:"Å ",scaron:"Å¡",sccue:"â‰½",scE:"âª´",sce:"âª°",Scedil:"Å",scedil:"ÅŸ",Scirc:"Åœ",scirc:"Å",scnap:"âªº",scnE:"âª¶",scnsim:"â‹©",scpolint:"â¨“",scsim:"â‰¿",Scy:"Ğ¡",scy:"Ñ",sdot:"â‹…",sdotb:"âŠ¡",sdote:"â©¦",searhk:"â¤¥",seArr:"â‡˜",searr:"â†˜",searrow:"â†˜",sect:"Â§",semi:";",seswar:"â¤©",setminus:"âˆ–",setmn:"âˆ–",sext:"âœ¶",Sfr:"ğ”–",sfr:"ğ”°",sfrown:"âŒ¢",sharp:"â™¯",SHCHcy:"Ğ©",shchcy:"Ñ‰",SHcy:"Ğ¨",shcy:"Ñˆ",ShortDownArrow:"â†“",ShortLeftArrow:"â†",shortmid:"âˆ£",shortparallel:"âˆ¥",ShortRightArrow:"â†’",ShortUpArrow:"â†‘",shy:"Â­",Sigma:"Î£",sigma:"Ïƒ",sigmaf:"Ï‚",sigmav:"Ï‚",sim:"âˆ¼",simdot:"â©ª",sime:"â‰ƒ",simeq:"â‰ƒ",simg:"âª",simgE:"âª ",siml:"âª",simlE:"âªŸ",simne:"â‰†",simplus:"â¨¤",simrarr:"â¥²",slarr:"â†",SmallCircle:"âˆ˜",smallsetminus:"âˆ–",smashp:"â¨³",smeparsl:"â§¤",smid:"âˆ£",smile:"âŒ£",smt:"âªª",smte:"âª¬",smtes:"âª¬ï¸€",SOFTcy:"Ğ¬",softcy:"ÑŒ",sol:"/",solb:"â§„",solbar:"âŒ¿",Sopf:"ğ•Š",sopf:"ğ•¤",spades:"â™ ",spadesuit:"â™ ",spar:"âˆ¥",sqcap:"âŠ“",sqcaps:"âŠ“ï¸€",sqcup:"âŠ”",sqcups:"âŠ”ï¸€",Sqrt:"âˆš",sqsub:"âŠ",sqsube:"âŠ‘",sqsubset:"âŠ",sqsubseteq:"âŠ‘",sqsup:"âŠ",sqsupe:"âŠ’",sqsupset:"âŠ",sqsupseteq:"âŠ’",squ:"â–¡",Square:"â–¡",square:"â–¡",SquareIntersection:"âŠ“",SquareSubset:"âŠ",SquareSubsetEqual:"âŠ‘",SquareSuperset:"âŠ",SquareSupersetEqual:"âŠ’",SquareUnion:"âŠ”",squarf:"â–ª",squf:"â–ª",srarr:"â†’",Sscr:"ğ’®",sscr:"ğ“ˆ",ssetmn:"âˆ–",ssmile:"âŒ£",sstarf:"â‹†",Star:"â‹†",star:"â˜†",starf:"â˜…",straightepsilon:"Ïµ",straightphi:"Ï•",strns:"Â¯",Sub:"â‹",sub:"âŠ‚",subdot:"âª½",subE:"â«…",sube:"âŠ†",subedot:"â«ƒ",submult:"â«",subnE:"â«‹",subne:"âŠŠ",subplus:"âª¿",subrarr:"â¥¹",Subset:"â‹",subset:"âŠ‚",subseteq:"âŠ†",subseteqq:"â«…",SubsetEqual:"âŠ†",subsetneq:"âŠŠ",subsetneqq:"â«‹",subsim:"â«‡",subsub:"â«•",subsup:"â«“",succ:"â‰»",succapprox:"âª¸",succcurlyeq:"â‰½",Succeeds:"â‰»",SucceedsEqual:"âª°",SucceedsSlantEqual:"â‰½",SucceedsTilde:"â‰¿",succeq:"âª°",succnapprox:"âªº",succneqq:"âª¶",succnsim:"â‹©",succsim:"â‰¿",SuchThat:"âˆ‹",Sum:"âˆ‘",sum:"âˆ‘",sung:"â™ª",Sup:"â‹‘",sup:"âŠƒ",sup1:"Â¹",sup2:"Â²",sup3:"Â³",supdot:"âª¾",supdsub:"â«˜",supE:"â«†",supe:"âŠ‡",supedot:"â«„",Superset:"âŠƒ",SupersetEqual:"âŠ‡",suphsol:"âŸ‰",suphsub:"â«—",suplarr:"â¥»",supmult:"â«‚",supnE:"â«Œ",supne:"âŠ‹",supplus:"â«€",Supset:"â‹‘",supset:"âŠƒ",supseteq:"âŠ‡",supseteqq:"â«†",supsetneq:"âŠ‹",supsetneqq:"â«Œ",supsim:"â«ˆ",supsub:"â«”",supsup:"â«–",swarhk:"â¤¦",swArr:"â‡™",swarr:"â†™",swarrow:"â†™",swnwar:"â¤ª",szlig:"ÃŸ",Tab:"\t",target:"âŒ–",Tau:"Î¤",tau:"Ï„",tbrk:"â´",Tcaron:"Å¤",tcaron:"Å¥",Tcedil:"Å¢",tcedil:"Å£",Tcy:"Ğ¢",tcy:"Ñ‚",tdot:"âƒ›",telrec:"âŒ•",Tfr:"ğ”—",tfr:"ğ”±",there4:"âˆ´",Therefore:"âˆ´",therefore:"âˆ´",Theta:"Î˜",theta:"Î¸",thetasym:"Ï‘",thetav:"Ï‘",thickapprox:"â‰ˆ",thicksim:"âˆ¼",ThickSpace:"âŸâ€Š",thinsp:"â€‰",ThinSpace:"â€‰",thkap:"â‰ˆ",thksim:"âˆ¼",THORN:"Ã",thorn:"Ã¾",Tilde:"âˆ¼",tilde:"Ëœ",TildeEqual:"â‰ƒ",TildeFullEqual:"â‰…",TildeTilde:"â‰ˆ",times:"Ã—",timesb:"âŠ ",timesbar:"â¨±",timesd:"â¨°",tint:"âˆ­",toea:"â¤¨",top:"âŠ¤",topbot:"âŒ¶",topcir:"â«±",Topf:"ğ•‹",topf:"ğ•¥",topfork:"â«š",tosa:"â¤©",tprime:"â€´",TRADE:"â„¢",trade:"â„¢",triangle:"â–µ",triangledown:"â–¿",triangleleft:"â—ƒ",trianglelefteq:"âŠ´",triangleq:"â‰œ",triangleright:"â–¹",trianglerighteq:"âŠµ",tridot:"â—¬",trie:"â‰œ",triminus:"â¨º",TripleDot:"âƒ›",triplus:"â¨¹",trisb:"â§",tritime:"â¨»",trpezium:"â¢",Tscr:"ğ’¯",tscr:"ğ“‰",TScy:"Ğ¦",tscy:"Ñ†",TSHcy:"Ğ‹",tshcy:"Ñ›",Tstrok:"Å¦",tstrok:"Å§",twixt:"â‰¬",twoheadleftarrow:"â†",twoheadrightarrow:"â† ",Uacute:"Ãš",uacute:"Ãº",Uarr:"â†Ÿ",uArr:"â‡‘",uarr:"â†‘",Uarrocir:"â¥‰",Ubrcy:"Ğ",ubrcy:"Ñ",Ubreve:"Å¬",ubreve:"Å­",Ucirc:"Ã›",ucirc:"Ã»",Ucy:"Ğ£",ucy:"Ñƒ",udarr:"â‡…",Udblac:"Å°",udblac:"Å±",udhar:"â¥®",ufisht:"â¥¾",Ufr:"ğ”˜",ufr:"ğ”²",Ugrave:"Ã™",ugrave:"Ã¹",uHar:"â¥£",uharl:"â†¿",uharr:"â†¾",uhblk:"â–€",ulcorn:"âŒœ",ulcorner:"âŒœ",ulcrop:"âŒ",ultri:"â—¸",Umacr:"Åª",umacr:"Å«",uml:"Â¨",UnderBar:"_",UnderBrace:"âŸ",UnderBracket:"âµ",UnderParenthesis:"â",Union:"â‹ƒ",UnionPlus:"âŠ",Uogon:"Å²",uogon:"Å³",Uopf:"ğ•Œ",uopf:"ğ•¦",UpArrow:"â†‘",Uparrow:"â‡‘",uparrow:"â†‘",UpArrowBar:"â¤’",UpArrowDownArrow:"â‡…",UpDownArrow:"â†•",Updownarrow:"â‡•",updownarrow:"â†•",UpEquilibrium:"â¥®",upharpoonleft:"â†¿",upharpoonright:"â†¾",uplus:"âŠ",UpperLeftArrow:"â†–",UpperRightArrow:"â†—",Upsi:"Ï’",upsi:"Ï…",upsih:"Ï’",Upsilon:"Î¥",upsilon:"Ï…",UpTee:"âŠ¥",UpTeeArrow:"â†¥",upuparrows:"â‡ˆ",urcorn:"âŒ",urcorner:"âŒ",urcrop:"âŒ",Uring:"Å®",uring:"Å¯",urtri:"â—¹",Uscr:"ğ’°",uscr:"ğ“Š",utdot:"â‹°",Utilde:"Å¨",utilde:"Å©",utri:"â–µ",utrif:"â–´",uuarr:"â‡ˆ",Uuml:"Ãœ",uuml:"Ã¼",uwangle:"â¦§",vangrt:"â¦œ",varepsilon:"Ïµ",varkappa:"Ï°",varnothing:"âˆ…",varphi:"Ï•",varpi:"Ï–",varpropto:"âˆ",vArr:"â‡•",varr:"â†•",varrho:"Ï±",varsigma:"Ï‚",varsubsetneq:"âŠŠï¸€",varsubsetneqq:"â«‹ï¸€",varsupsetneq:"âŠ‹ï¸€",varsupsetneqq:"â«Œï¸€",vartheta:"Ï‘",vartriangleleft:"âŠ²",vartriangleright:"âŠ³",Vbar:"â««",vBar:"â«¨",vBarv:"â«©",Vcy:"Ğ’",vcy:"Ğ²",VDash:"âŠ«",Vdash:"âŠ©",vDash:"âŠ¨",vdash:"âŠ¢",Vdashl:"â«¦",Vee:"â‹",vee:"âˆ¨",veebar:"âŠ»",veeeq:"â‰š",vellip:"â‹®",Verbar:"â€–",verbar:"|",Vert:"â€–",vert:"|",VerticalBar:"âˆ£",VerticalLine:"|",VerticalSeparator:"â˜",VerticalTilde:"â‰€",VeryThinSpace:"â€Š",Vfr:"ğ”™",vfr:"ğ”³",vltri:"âŠ²",vnsub:"âŠ‚âƒ’",vnsup:"âŠƒâƒ’",Vopf:"ğ•",vopf:"ğ•§",vprop:"âˆ",vrtri:"âŠ³",Vscr:"ğ’±",vscr:"ğ“‹",vsubnE:"â«‹ï¸€",vsubne:"âŠŠï¸€",vsupnE:"â«Œï¸€",vsupne:"âŠ‹ï¸€",Vvdash:"âŠª",vzigzag:"â¦š",Wcirc:"Å´",wcirc:"Åµ",wedbar:"â©Ÿ",Wedge:"â‹€",wedge:"âˆ§",wedgeq:"â‰™",weierp:"â„˜",Wfr:"ğ”š",wfr:"ğ”´",Wopf:"ğ•",wopf:"ğ•¨",wp:"â„˜",wr:"â‰€",wreath:"â‰€",Wscr:"ğ’²",wscr:"ğ“Œ",xcap:"â‹‚",xcirc:"â—¯",xcup:"â‹ƒ",xdtri:"â–½",Xfr:"ğ”›",xfr:"ğ”µ",xhArr:"âŸº",xharr:"âŸ·",Xi:"Î",xi:"Î¾",xlArr:"âŸ¸",xlarr:"âŸµ",xmap:"âŸ¼",xnis:"â‹»",xodot:"â¨€",Xopf:"ğ•",xopf:"ğ•©",xoplus:"â¨",xotime:"â¨‚",xrArr:"âŸ¹",xrarr:"âŸ¶",Xscr:"ğ’³",xscr:"ğ“",xsqcup:"â¨†",xuplus:"â¨„",xutri:"â–³",xvee:"â‹",xwedge:"â‹€",Yacute:"Ã",yacute:"Ã½",YAcy:"Ğ¯",yacy:"Ñ",Ycirc:"Å¶",ycirc:"Å·",Ycy:"Ğ«",ycy:"Ñ‹",yen:"Â¥",Yfr:"ğ”œ",yfr:"ğ”¶",YIcy:"Ğ‡",yicy:"Ñ—",Yopf:"ğ•",yopf:"ğ•ª",Yscr:"ğ’´",yscr:"ğ“",YUcy:"Ğ®",yucy:"Ñ",Yuml:"Å¸",yuml:"Ã¿",Zacute:"Å¹",zacute:"Åº",Zcaron:"Å½",zcaron:"Å¾",Zcy:"Ğ—",zcy:"Ğ·",Zdot:"Å»",zdot:"Å¼",zeetrf:"â„¨",ZeroWidthSpace:"â€‹",Zeta:"Î–",zeta:"Î¶",Zfr:"â„¨",zfr:"ğ”·",ZHcy:"Ğ–",zhcy:"Ğ¶",zigrarr:"â‡",Zopf:"â„¤",zopf:"ğ•«",Zscr:"ğ’µ",zscr:"ğ“",zwj:"â€",zwnj:"â€Œ"}),t.entityMap=t.HTML_ENTITIES},268:(e,t,n)=>{"use strict";n.d(t,{Al:()=>s,Gb:()=>i,Oe:()=>l});var r,t=n(546),o=n(999);const i=n.t(t,2),s=(new i.DOMImplementation).createDocument("",""),a=(null===(r=r||n.t(o,2))||void 0===(r=r||n.t(o,2))?void 0:o.install)||window.wgxpath.install,c=function(){const e={document:{},XPathResult:{}};return a(e),e.document.XPathResult=e.XPathResult,e.document}(),l={currentDocument:s,evaluate:c.evaluate,result:c.XPathResult,createNSResolver:c.createNSResolver}},546:(e,t,n)=>{"use strict";var r=n(870),r=(t.assign=r.assign,t.hasDefaultHTMLNamespace=r.hasDefaultHTMLNamespace,t.isHTMLMimeType=r.isHTMLMimeType,t.isValidMimeType=r.isValidMimeType,t.MIME_TYPE=r.MIME_TYPE,t.NAMESPACE=r.NAMESPACE,n(767)),r=(t.DOMException=r.DOMException,t.DOMExceptionName=r.DOMExceptionName,t.ExceptionCode=r.ExceptionCode,t.ParseError=r.ParseError,n(786)),r=(t.Attr=r.Attr,t.CDATASection=r.CDATASection,t.CharacterData=r.CharacterData,t.Comment=r.Comment,t.Document=r.Document,t.DocumentFragment=r.DocumentFragment,t.DocumentType=r.DocumentType,t.DOMImplementation=r.DOMImplementation,t.Element=r.Element,t.Entity=r.Entity,t.EntityReference=r.EntityReference,t.LiveNodeList=r.LiveNodeList,t.NamedNodeMap=r.NamedNodeMap,t.Node=r.Node,t.NodeList=r.NodeList,t.Notation=r.Notation,t.ProcessingInstruction=r.ProcessingInstruction,t.Text=r.Text,t.XMLSerializer=r.XMLSerializer,n(576));t.DOMParser=r.DOMParser,t.normalizeLineEndings=r.normalizeLineEndings,t.onErrorStopParsing=r.onErrorStopParsing,t.onWarningStopParsing=r.onWarningStopParsing},576:(e,t,n)=>{"use strict";var s=n(870),r=n(786),o=n(767),a=n(159),n=n(802),i=r.DOMImplementation,c=s.hasDefaultHTMLNamespace,l=s.isHTMLMimeType,u=s.isValidMimeType,h=s.MIME_TYPE,d=s.NAMESPACE,f=o.ParseError,p=n.XMLReader;function E(e){return e.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028\u2029]/g,"\n")}function m(e){if(void 0===(e=e||{}).locator&&(e.locator=!0),this.assign=e.assign||s.assign,this.domHandler=e.domHandler||N,this.onError=e.onError||e.errorHandler,e.errorHandler&&"function"!=typeof e.errorHandler)throw new TypeError("errorHandler object is no longer supported, switch to onError!");e.errorHandler&&e.errorHandler("warning","The `errorHandler` option has been deprecated, use `onError` instead!",this),this.normalizeLineEndings=e.normalizeLineEndings||E,this.locator=!!e.locator,this.xmlns=this.assign(Object.create(null),e.xmlns)}function N(e){e=e||{};this.mimeType=e.mimeType||h.XML_APPLICATION,this.defaultNamespace=e.defaultNamespace||null,this.cdata=!1,this.currentElement=void 0,this.doc=void 0,this.locator=void 0,this.onError=e.onError}function g(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function T(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function I(e,t){(e.currentElement||e.doc).appendChild(t)}m.prototype.parseFromString=function(e,t){if(!u(t))throw new TypeError('DOMParser.parseFromString: the provided mimeType "'+t+'" is not valid.');var n=this.assign(Object.create(null),this.xmlns),r=a.XML_ENTITIES,o=n[""]||null,o=(c(t)?(r=a.HTML_ENTITIES,o=d.HTML):t===h.XML_SVG_IMAGE&&(o=d.SVG),n[""]=o,n.xml=n.xml||d.XML,new this.domHandler({mimeType:t,defaultNamespace:o,onError:this.onError})),i=this.locator?{}:void 0,i=(this.locator&&o.setDocumentLocator(i),new p);return i.errorHandler=o,i.domBuilder=o,s.isHTMLMimeType(t)||"string"==typeof e||i.errorHandler.fatalError("source is not a string"),i.parse(this.normalizeLineEndings(String(e)),n,r),o.doc.documentElement||i.errorHandler.fatalError("missing root element"),o.doc},N.prototype={startDocument:function(){var e=new i;this.doc=l(this.mimeType)?e.createHTMLDocument(!1):e.createDocument(this.defaultNamespace,"")},startElement:function(e,t,n,r){var o=this.doc,i=o.createElementNS(e,n||t),s=r.length;I(this,i),this.currentElement=i,this.locator&&g(this.locator,i);for(var a=0;a<s;a++){e=r.getURI(a);var c=r.getValue(a),l=(n=r.getQName(a),o.createAttributeNS(e,n));this.locator&&g(r.getLocator(a),l),l.value=l.nodeValue=c,i.setAttributeNode(l)}},endElement:function(e,t,n){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){e=this.doc.createProcessingInstruction(e,t);this.locator&&g(this.locator,e),I(this,e)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){var r;(e=T.apply(this,arguments))&&(r=this.cdata?this.doc.createCDATASection(e):this.doc.createTextNode(e),this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&g(this.locator,r))},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){e&&(e.lineNumber=0),this.locator=e},comment:function(e,t,n){e=T.apply(this,arguments);e=this.doc.createComment(e);this.locator&&g(this.locator,e),I(this,e)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n,r){var o=this.doc.implementation;o&&o.createDocumentType&&(o=o.createDocumentType(e,t,n,r),this.locator&&g(this.locator,o),I(this,o),this.doc.doctype=o)},reportError:function(t,n){if("function"==typeof this.onError)try{this.onError(t,n,this)}catch(e){throw new f("Reporting "+t+' "'+n+'" caused '+e,this.locator)}else console.error("[xmldom "+t+"]\t"+n,function(e){if(e)return"\n@#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}(this.locator))},warning:function(e){this.reportError("warning",e)},error:function(e){this.reportError("error",e)},fatalError:function(e){throw this.reportError("fatalError",e),new f(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){N.prototype[e]=function(){return null}}),t.__DOMHandler=N,t.DOMParser=m,t.normalizeLineEndings=E,t.onErrorStopParsing=function(e){if("error"===e)throw"onErrorStopParsing"},t.onWarningStopParsing=function(){throw"onWarningStopParsing"}},714:(e,t,n)=>{"use strict";n.d(t,{u:()=>r});class r{static ensureLocale(e,t){return r.LOCALES.get(e)?e:(console.error(`Locale ${e} does not exist! Using ${r.LOCALES.get(t)} instead.`),t)}}r.VERSION="5.0.0-beta.1",r.LOCALES=new Map([["af","Africaans"],["ca","Catalan"],["da","Danish"],["de","German"],["en","English"],["es","Spanish"],["euro","Euro"],["fr","French"],["hi","Hindi"],["it","Italian"],["ko","Korean"],["nb","BokmÃ¥l"],["nn","Nynorsk"],["sv","Swedish"],["nemeth","Nemeth"]]),r.mathjaxVersion="4.0.0",r.url="https://cdn.jsdelivr.net/npm/speech-rule-engine@"+r.VERSION+"/lib/mathmaps"},731:(e,t)=>{"use strict";function n(e){try{var t=new(e="function"!=typeof e?RegExp:e)("ğŒ†","u").exec("ğŒ†");return!!t&&2===t[0].length}catch(e){}return!1}var r=n();function o(e){if("["!==e.source[0])throw new Error(e+" can not be used with chars");return e.source.slice(1,e.source.lastIndexOf("]"))}function i(e,t){if("["!==e.source[0])throw new Error("/"+e.source+"/ can not be used with chars_without");if(!t||"string"!=typeof t)throw new Error(JSON.stringify(t)+" is not a valid search");if(-1===e.source.indexOf(t))throw new Error('"'+t+'" is not is /'+e.source+"/");if("-"===t&&1!==e.source.indexOf(t))throw new Error('"'+t+'" is not at the first postion of /'+e.source+"/");return new RegExp(e.source.replace(t,""),r?"u":"")}function s(e){var n=this;return new RegExp(Array.prototype.slice.call(arguments).map(function(e){var t="string"==typeof e;if(t&&void 0===n&&"|"===e)throw new Error("use regg instead of reg to wrap expressions with `|`!");return t?e:e.source}).join(""),r?"mu":"m")}function a(e){if(0===arguments.length)throw new Error("no parameters provided");return s.apply(a,["(?:"].concat(Array.prototype.slice.call(arguments),[")"]))}var c=/[-\x09\x0A\x0D\x20-\x2C\x2E-\uD7FF\uE000-\uFFFD]/,l=(r&&(c=s("[",o(c),"\\u{10000}-\\u{10FFFF}","]")),/[\x20\x09\x0D\x0A]/),u=o(l),h=s(l,"+"),l=s(l,"*"),d=/[:_a-zA-Z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,f=(r&&(d=s("[",o(d),"\\u{10000}-\\u{10FFFF}","]")),s("[",o(d),o(/[-.0-9\xB7]/),o(/[\u0300-\u036F\u203F-\u2040]/),"]")),p=s(d,f,"*"),E=s(f,"+"),m=s("&",p,";"),N=a(/&#[0-9]+;|&#x[0-9a-fA-F]+;/),m=a(m,"|",N),N=s("%",p,";"),g=a(s('"',a(/[^%&"]/,"|",N,"|",m),"*",'"'),"|",s("'",a(/[^%&']/,"|",N,"|",m),"*","'")),T=a('"',a(/[^<&"]/,"|",m),"*",'"',"|","'",a(/[^<&']/,"|",m),"*","'"),d=s(i(d,":"),i(f,":"),"*"),f=s(d,a(":",d),"?"),d=s("^",f,"$"),I=s("(",f,")"),b=a(/"[^"]*"|'[^']*'/),A=s(/^<\?/,"(",p,")",a(h,"(",c,"*?)"),"?",/\?>/),O=/[\x20\x0D\x0Aa-zA-Z0-9-'()+,./:=?;!*#@$_%]/,O=a('"',O,'*"',"|","'",i(O,"'"),"*'"),y=s("\x3c!--",a(i(c,"-"),"|",s("-",i(c,"-"))),"*","--\x3e"),R="#PCDATA",R=a(s(/\(/,l,R,a(l,/\|/,l,f),"*",l,/\)\*/),"|",s(/\(/,l,R,l,/\)/)),R=a("EMPTY","|","ANY","|",R,"|",s(/\([^>]+\)/,/[?*+]?/)),R=s("<!ELEMENT",h,a(f,"|",N),h,a(R,"|",N),l,">"),L=s("NOTATION",h,/\(/,l,p,a(l,/\|/,l,p),"*",l,/\)/),E=s(/\(/,l,E,a(l,/\|/,l,E),"*",l,/\)/),L=a(L,"|",E),E=a(/CDATA|ID|IDREF|IDREFS|ENTITY|ENTITIES|NMTOKEN|NMTOKENS/,"|",L),L=a(/#REQUIRED|#IMPLIED/,"|",a(a("#FIXED",h),"?",T)),T=s("<!ATTLIST",h,p,a(h,p,h,E,h,L),"*",l,">"),E="about:legacy-compat",L=a('"'+E+'"',"|","'"+E+"'"),C="SYSTEM",_="PUBLIC",S=a(a(C,h,b),"|",a(_,h,O,h,b)),D=s("^",a(a(C,h,"(?<SystemLiteralOnly>",b,")"),"|",a(_,h,"(?<PubidLiteral>",O,")",h,"(?<SystemLiteral>",b,")"))),v=a(h,"NDATA",h,p),M="<!ENTITY",v=s(M,h,p,h,a(g,"|",a(S,v,"?")),l,">"),w=a(g,"|",S),v=a(v,"|",s(M,h,"%",h,p,h,w,l,">")),M=s(_,h,O),w=s("<!NOTATION",h,p,h,a(S,"|",M),l,">"),M=s(l,"=",l),P=/1[.]\d+/,P=s(h,"version",M,a("'",P,"'","|",'"',P,'"')),x=/[A-Za-z][-A-Za-z0-9._]*/,P=s(/^<\?xml/,P,a(h,"encoding",M,a('"',x,'"',"|","'",x,"'")),"?",a(h,"standalone",M,a("'",a("yes","|","no"),"'","|",'"',a("yes","|","no"),'"')),"?",l,/\?>/),x=s(c,"*?",/\]\]>/),M=s(/<!\[CDATA\[/,x);t.chars=o,t.chars_without=i,t.detectUnicodeSupport=n,t.reg=s,t.regg=a,t.ABOUT_LEGACY_COMPAT=E,t.ABOUT_LEGACY_COMPAT_SystemLiteral=L,t.AttlistDecl=T,t.CDATA_START="<![CDATA[",t.CDATA_END="]]>",t.CDSect=M,t.Char=c,t.Comment=y,t.COMMENT_START="\x3c!--",t.COMMENT_END="--\x3e",t.DOCTYPE_DECL_START="<!DOCTYPE",t.elementdecl=R,t.EntityDecl=v,t.EntityValue=g,t.ExternalID=S,t.ExternalID_match=D,t.Name=p,t.NotationDecl=w,t.Reference=m,t.PEReference=N,t.PI=A,t.PUBLIC=_,t.PubidLiteral=O,t.QName=f,t.QName_exact=d,t.QName_group=I,t.S=h,t.SChar_s=u,t.S_OPT=l,t.SYSTEM=C,t.SystemLiteral=b,t.UNICODE_REPLACEMENT_CHARACTER="ï¿½",t.UNICODE_SUPPORT=r,t.XMLDecl=P},767:(e,t,n)=>{"use strict";function r(e,t){e.prototype=Object.create(Error.prototype,{constructor:{value:e},name:{value:e.name,enumerable:!0,writable:t}})}var o=n(870).freeze({Error:"Error",IndexSizeError:"IndexSizeError",DomstringSizeError:"DomstringSizeError",HierarchyRequestError:"HierarchyRequestError",WrongDocumentError:"WrongDocumentError",InvalidCharacterError:"InvalidCharacterError",NoDataAllowedError:"NoDataAllowedError",NoModificationAllowedError:"NoModificationAllowedError",NotFoundError:"NotFoundError",NotSupportedError:"NotSupportedError",InUseAttributeError:"InUseAttributeError",InvalidStateError:"InvalidStateError",SyntaxError:"SyntaxError",InvalidModificationError:"InvalidModificationError",NamespaceError:"NamespaceError",InvalidAccessError:"InvalidAccessError",ValidationError:"ValidationError",TypeMismatchError:"TypeMismatchError",SecurityError:"SecurityError",NetworkError:"NetworkError",AbortError:"AbortError",URLMismatchError:"URLMismatchError",QuotaExceededError:"QuotaExceededError",TimeoutError:"TimeoutError",InvalidNodeTypeError:"InvalidNodeTypeError",DataCloneError:"DataCloneError",EncodingError:"EncodingError",NotReadableError:"NotReadableError",UnknownError:"UnknownError",ConstraintError:"ConstraintError",DataError:"DataError",TransactionInactiveError:"TransactionInactiveError",ReadOnlyError:"ReadOnlyError",VersionError:"VersionError",OperationError:"OperationError",NotAllowedError:"NotAllowedError",OptOutError:"OptOutError"}),i=Object.keys(o);function s(e){return"number"==typeof e&&1<=e&&e<=25}function a(e,t){s(e)?(this.name=i[e],this.message=t||""):(this.message=e,this.name="string"==typeof t&&t.substring(t.length-o.Error.length)===o.Error?t:o.Error),Error.captureStackTrace&&Error.captureStackTrace(this,a)}r(a,!0),Object.defineProperties(a.prototype,{code:{enumerable:!0,get:function(){var e=i.indexOf(this.name);return s(e)?e:0}}});for(var n={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25},c=Object.entries(n),l=0;l<c.length;l++)a[c[l][0]]=c[l][1];function u(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,u)}r(u),t.DOMException=a,t.DOMExceptionName=o,t.ExceptionCode=n,t.ParseError=u},786:(U,e,t)=>{"use strict";var i=t(870),s=i.find,F=i.hasDefaultHTMLNamespace,d=i.hasOwn,k=i.isHTMLMimeType,B=i.isHTMLRawTextElement,q=i.isHTMLVoidElement,a=i.MIME_TYPE,I=i.NAMESPACE,f=Symbol(),n=t(767),l=n.DOMException,H=n.DOMExceptionName,b=t(731);function r(e){if(e!==f)throw new TypeError("Illegal constructor")}function G(e){return""!==e}function V(e,t){return d(e,t)||(e[t]=!0),e}function Y(e){if(!e)return[];e=e?e.split(/[\t\n\f\r ]+/).filter(G):[];return Object.keys(e.reduce(V,{}))}function X(e){if(!b.QName_exact.test(e))throw new l(l.INVALID_CHARACTER_ERR,'invalid character in qualified name "'+e+'"')}function j(e,t){X(t),e=e||null;var n,r=null,o=t;if(0<=t.indexOf(":")&&(r=(n=t.split(":"))[0],o=n[1]),null!==r&&null===e)throw new l(l.NAMESPACE_ERR,"prefix is non-null and namespace is null");if("xml"===r&&e!==i.NAMESPACE.XML)throw new l(l.NAMESPACE_ERR,'prefix is "xml" and namespace is not the XML namespace');if(("xmlns"===r||"xmlns"===t)&&e!==i.NAMESPACE.XMLNS)throw new l(l.NAMESPACE_ERR,'either qualifiedName or prefix is "xmlns" and namespace is not the XMLNS namespace');if(e===i.NAMESPACE.XMLNS&&"xmlns"!==r&&"xmlns"!==t)throw new l(l.NAMESPACE_ERR,'namespace is the XMLNS namespace and neither qualifiedName nor prefix is "xmlns"');return[e,r,o]}function o(e,t){for(var n in e)d(e,n)&&(t[n]=e[n])}function c(e,t){var n=e.prototype;function r(){}n instanceof t||(r.prototype=t.prototype,o(n,r=new r),e.prototype=n=r),n.constructor!=e&&("function"!=typeof e&&console.error("unknown Class:"+e),n.constructor=e)}var n={},p=(n.ELEMENT_NODE=1,n.ATTRIBUTE_NODE=2,n.TEXT_NODE=3,n.CDATA_SECTION_NODE=4,n.ENTITY_REFERENCE_NODE=5,n.ENTITY_NODE=6,n.PROCESSING_INSTRUCTION_NODE=7,n.COMMENT_NODE=8,n.DOCUMENT_NODE=9,n.DOCUMENT_TYPE_NODE=10,n.DOCUMENT_FRAGMENT_NODE=11,n.NOTATION_NODE=12,i.freeze({DOCUMENT_POSITION_DISCONNECTED:1,DOCUMENT_POSITION_PRECEDING:2,DOCUMENT_POSITION_FOLLOWING:4,DOCUMENT_POSITION_CONTAINS:8,DOCUMENT_POSITION_CONTAINED_BY:16,DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC:32}));function W(e){return e.guid||(e.guid=Math.random()),e.guid}function E(){}function u(e,t){this._node=e,this._refresh=t,h(this)}function h(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var n=e._refresh(e._node);if(de(e,"length",n.length),!e.$$length||n.length<e.$$length)for(var r=n.length;r in e;r++)d(e,r)&&delete e[r];o(n,e),e._inc=t}}function m(){}function K(e,t){for(var n=0;n<e.length;){if(e[n]===t)return n;n++}}function z(e,t,n){var r=K(t,n);if(0<=r){for(var o,i=t.length-1;r<=i;)t[r]=t[++r];t.length=i,e&&((o=e.ownerDocument)&&J(o,e,n),n.ownerElement=null)}}function Q(){}function N(e){r(e)}function $(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function g(e,t){if(t(e))return 1;if(e=e.firstChild)do{if(g(e,t))return 1}while(e=e.nextSibling)}function T(e,t){r(e);e=t||{};(this.ownerDocument=this).contentType=e.contentType||a.XML_APPLICATION,this.type=k(this.contentType)?"html":"xml"}function J(e,t,n){e&&e._inc++,n.namespaceURI===I.XMLNS&&delete t._nsMap[n.prefix?n.localName:""]}function Z(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n&&!n.nextSibling)r[r.length++]=n;else{for(var o=t.firstChild,i=0;o;)o=(r[i++]=o).nextSibling;r.length=i,delete r[r.length]}}}function ee(e,t){if(e!==t.parentNode)throw new l(l.NOT_FOUND_ERR,"child's parent is not parent");var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,Z(e.ownerDocument,e),t.parentNode=null,t.previousSibling=null,t.nextSibling=null,t}function A(e){return e&&e.nodeType===N.DOCUMENT_TYPE_NODE}function O(e){return e&&e.nodeType===N.ELEMENT_NODE}function te(e){return e&&e.nodeType===N.TEXT_NODE}function ne(e,t){var n,e=e.childNodes||[];if(!s(e,O)&&!A(t))return n=s(e,A),!(t&&n&&e.indexOf(n)>e.indexOf(t))}function re(e,t){var n,e=e.childNodes||[];if(!s(e,function(e){return O(e)&&e!==t}))return n=s(e,A),!(t&&n&&e.indexOf(n)>e.indexOf(t))}function oe(e,t,n){var r=e.childNodes||[],o=t.childNodes||[];if(t.nodeType===N.DOCUMENT_FRAGMENT_NODE){var i=o.filter(O);if(1<i.length||s(o,te))throw new l(l.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(1===i.length&&!ne(e,n))throw new l(l.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(O(t)&&!ne(e,n))throw new l(l.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(A(t)){if(s(r,A))throw new l(l.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");o=s(r,O);if(n&&r.indexOf(o)<r.indexOf(n))throw new l(l.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element");if(!n&&o)throw new l(l.HIERARCHY_REQUEST_ERR,"Doctype can not be appended since element is present")}}function ie(e,t,n){var r=e.childNodes||[],o=t.childNodes||[];if(t.nodeType===N.DOCUMENT_FRAGMENT_NODE){var i=o.filter(O);if(1<i.length||s(o,te))throw new l(l.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(1===i.length&&!re(e,n))throw new l(l.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(O(t)&&!re(e,n))throw new l(l.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(A(t)){if(s(r,function(e){return A(e)&&e!==n}))throw new l(l.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");o=s(r,O);if(n&&r.indexOf(o)<r.indexOf(n))throw new l(l.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element")}}function y(e,t,n,r){var o=e,i=t,s=n;if(!o||o.nodeType!==N.DOCUMENT_NODE&&o.nodeType!==N.DOCUMENT_FRAGMENT_NODE&&o.nodeType!==N.ELEMENT_NODE)throw new l(l.HIERARCHY_REQUEST_ERR,"Unexpected parent node type "+o.nodeType);if(s&&s.parentNode!==o)throw new l(l.NOT_FOUND_ERR,"child not in parent");if(!i||i.nodeType!==N.CDATA_SECTION_NODE&&i.nodeType!==N.COMMENT_NODE&&i.nodeType!==N.DOCUMENT_FRAGMENT_NODE&&i.nodeType!==N.DOCUMENT_TYPE_NODE&&i.nodeType!==N.ELEMENT_NODE&&i.nodeType!==N.PROCESSING_INSTRUCTION_NODE&&i.nodeType!==N.TEXT_NODE||A(i)&&o.nodeType!==N.DOCUMENT_NODE)throw new l(l.HIERARCHY_REQUEST_ERR,"Unexpected node type "+i.nodeType+" for parent node type "+o.nodeType);e.nodeType===N.DOCUMENT_NODE&&(r||oe)(e,t,n);s=t.parentNode;if(s&&s.removeChild(t),11===t.nodeType){var a=t.firstChild;if(null==a)return t;var c=t.lastChild}else a=c=t;i=n?n.previousSibling:e.lastChild;for(a.previousSibling=i,c.nextSibling=n,i?i.nextSibling=a:e.firstChild=a,null==n?e.lastChild=c:n.previousSibling=c;a.parentNode=e,a!==c&&(a=a.nextSibling););return Z(e.ownerDocument||e,e,t),11==t.nodeType&&(t.firstChild=t.lastChild=null),t}function R(e){r(e),this._nsMap=Object.create(null)}function L(e){r(e),this.namespaceURI=null,this.prefix=null,this.ownerElement=null}function C(e){r(e)}function _(e){r(e)}function S(e){r(e)}function D(e){r(e)}function v(e){r(e)}function se(e){r(e)}function ae(e){r(e)}function M(e){r(e)}function w(e){r(e)}function P(e){r(e)}function ce(){}function le(e){var t,n=[],r=9===this.nodeType&&this.documentElement||this,o=r.prefix,i=r.namespaceURI;return x(this,n,e,t=i&&null==o&&null==(o=r.lookupPrefix(i))?[{namespace:i,prefix:null}]:t),n.join("")}function ue(e,t,n){var r=e.prefix||"",o=e.namespaceURI;if(o&&("xml"!==r||o!==I.XML)&&o!==I.XMLNS){for(var i=n.length;i--;){var s=n[i];if(s.prefix===r)return s.namespace!==o}return 1}}function he(e,t,n){e.push(" ",t,'="',n.replace(/[<>&"\t\n\r]/g,$),'"')}function x(e,t,n,r){r=r||[];var o="html"===(9===e.nodeType?e:e.ownerDocument).type;if(n){if(!(e=n(e)))return;if("string"==typeof e)return t.push(e)}switch(e.nodeType){case 1:var i=e.attributes,s=i.length,a=e.firstChild,c=e.tagName,l=c;if(!o&&!e.prefix&&e.namespaceURI){for(var u,h,d=0;d<i.length;d++)if("xmlns"===i.item(d).name){u=i.item(d).value;break}if(!u)for(var f=r.length-1;0<=f;f--)if(""===(h=r[f]).prefix&&h.namespace===e.namespaceURI){u=h.namespace;break}if(u!==e.namespaceURI)for(f=r.length-1;0<=f;f--)if((h=r[f]).namespace===e.namespaceURI){h.prefix&&(l=h.prefix+":"+c);break}}t.push("<",l);for(var p,E,m,N=0;N<s;N++)"xmlns"==(p=i.item(N)).prefix?r.push({prefix:p.localName,namespace:p.value}):"xmlns"==p.nodeName&&r.push({prefix:"",namespace:p.value});for(N=0;N<s;N++)ue(p=i.item(N),0,r)&&(he(t,(E=p.prefix||"")?"xmlns:"+E:"xmlns",m=p.namespaceURI),r.push({prefix:E,namespace:m})),x(p,t,n,r);c===l&&ue(e,0,r)&&(he(t,(E=e.prefix||"")?"xmlns:"+E:"xmlns",m=e.namespaceURI),r.push({prefix:E,namespace:m}));var g=!a;if(g=g&&(o||e.namespaceURI===I.HTML)?q(c):g)t.push("/>");else{if(t.push(">"),o&&B(c))for(;a;)a.data?t.push(a.data):x(a,t,n,r.slice()),a=a.nextSibling;else for(;a;)x(a,t,n,r.slice()),a=a.nextSibling;t.push("</",l,">")}return;case 9:case 11:for(a=e.firstChild;a;)x(a,t,n,r.slice()),a=a.nextSibling;return;case 2:return he(t,e.name,e.value);case 3:return t.push(e.data.replace(/[<&>]/g,$));case 4:return t.push(b.CDATA_START,e.data,b.CDATA_END);case 8:return t.push(b.COMMENT_START,e.data,b.COMMENT_END);case 10:var g=e.publicId,T=e.systemId;return t.push(b.DOCTYPE_DECL_START," ",e.name),g?(t.push(" ",b.PUBLIC," ",g),T&&"."!==T&&t.push(" ",T)):T&&"."!==T&&t.push(" ",b.SYSTEM," ",T),e.internalSubset&&t.push(" [",e.internalSubset,"]"),t.push(">");case 7:return t.push("<?",e.target," ",e.data,"?>");case 5:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function de(e,t,n){e[t]=n}(E.prototype={length:0,item:function(e){return 0<=e&&e<this.length?this[e]:null},toString:function(e){for(var t=[],n=0;n<this.length;n++)x(this[n],t,e);return t.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}})[Symbol.iterator]=function(){var e=this,t=0;return{next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0}},return:function(){return{done:!0}}}},u.prototype.item=function(e){return h(this),this[e]||null},c(u,E),(m.prototype={length:0,item:E.prototype.item,getNamedItem:function(e){this._ownerElement&&this._ownerElement._isInHTMLDocumentAndNamespace()&&(e=e.toLowerCase());for(var t=0;t<this.length;){var n=this[t];if(n.nodeName===e)return n;t++}return null},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!==this._ownerElement)throw new l(l.INUSE_ATTRIBUTE_ERR);var n,r,o,t=this.getNamedItemNS(e.namespaceURI,e.localName);return t===e?e:(n=this._ownerElement,r=this,e=e,(o=t)?r[K(r,o)]=e:(r[r.length]=e,r.length++),n&&(r=(e.ownerElement=n).ownerDocument)&&(o&&J(r,n,o),o=n,n=e,r&&r._inc++,n.namespaceURI===I.XMLNS&&(o._nsMap[n.prefix?n.localName:""]=n.value)),t)},setNamedItemNS:function(e){return this.setNamedItem(e)},removeNamedItem:function(e){var t=this.getNamedItem(e);if(t)return z(this._ownerElement,this,t),t;throw new l(l.NOT_FOUND_ERR,e)},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);if(n)return z(this._ownerElement,this,n),n;throw new l(l.NOT_FOUND_ERR,e?e+" : "+t:t)},getNamedItemNS:function(e,t){e=e||null;for(var n=0;n<this.length;){var r=this[n];if(r.localName===t&&r.namespaceURI===e)return r;n++}return null}})[Symbol.iterator]=function(){var e=this,t=0;return{next:function(){return t<e.length?{value:e[t++],done:!1}:{done:!0}},return:function(){return{done:!0}}}},Q.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,n){var r=a.XML_APPLICATION,r=(e===I.HTML?r=a.XML_XHTML_APPLICATION:e===I.SVG&&(r=a.XML_SVG_IMAGE),new T(f,{contentType:r}));return r.implementation=this,r.childNodes=new E,r.doctype=n||null,n&&r.appendChild(n),t&&(n=r.createElementNS(e,t),r.appendChild(n)),r},createDocumentType:function(e,t,n,r){X(e);var o=new v(f);return o.name=e,o.nodeName=e,o.publicId=t||"",o.systemId=n||"",o.internalSubset=r||"",o.childNodes=new E,o},createHTMLDocument:function(e){var t,n,r,o=new T(f,{contentType:a.HTML});return o.implementation=this,o.childNodes=new E,!1!==e&&(o.doctype=this.createDocumentType("html"),(o.doctype.ownerDocument=o).appendChild(o.doctype),t=o.createElement("html"),o.appendChild(t),n=o.createElement("head"),t.appendChild(n),"string"==typeof e&&((r=o.createElement("title")).appendChild(o.createTextNode(e)),n.appendChild(r)),t.appendChild(o.createElement("body"))),o}},N.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,parentNode:null,get parentElement(){return this.parentNode&&this.parentNode.nodeType===this.ELEMENT_NODE?this.parentNode:null},childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,baseURI:"about:blank",get isConnected(){var e=this.getRootNode();return e&&e.nodeType===e.DOCUMENT_NODE},contains:function(e){if(!e)return!1;var t=e;do{if(this===t)return!0}while(t=e.parentNode);return!1},getRootNode:function(e){var t=this;do{if(!t.parentNode)return t}while(t=t.parentNode)},isEqualNode:function(e){if(!e)return!1;if(this.nodeType!==e.nodeType)return!1;switch(this.nodeType){case this.DOCUMENT_TYPE_NODE:if(this.name!==e.name)return!1;if(this.publicId!==e.publicId)return!1;if(this.systemId!==e.systemId)return!1;break;case this.ELEMENT_NODE:if(this.namespaceURI!==e.namespaceURI)return!1;if(this.prefix!==e.prefix)return!1;if(this.localName!==e.localName)return!1;if(this.attributes.length!==e.attributes.length)return!1;for(var t=0;t<this.attributes.length;t++){var n=this.attributes.item(t);if(!n.isEqualNode(e.getAttributeNodeNS(n.namespaceURI,n.localName)))return!1}break;case this.ATTRIBUTE_NODE:if(this.namespaceURI!==e.namespaceURI)return!1;if(this.localName!==e.localName)return!1;if(this.value!==e.value)return!1;break;case this.PROCESSING_INSTRUCTION_NODE:if(this.target!==e.target||this.data!==e.data)return!1;break;case this.TEXT_NODE:case this.COMMENT_NODE:if(this.data!==e.data)return!1}if(this.childNodes.length!==e.childNodes.length)return!1;for(t=0;t<this.childNodes.length;t++)if(!this.childNodes[t].isEqualNode(e.childNodes[t]))return!1;return!0},isSameNode:function(e){return this===e},insertBefore:function(e,t){return y(this,e,t)},replaceChild:function(e,t){y(this,e,t,ie),t&&this.removeChild(t)},removeChild:function(e){return ee(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return function e(t,n,r){var o,i,s=new n.constructor(f);for(o in n)d(n,o)&&"object"!=typeof(i=n[o])&&i!=s[o]&&(s[o]=i);switch(n.childNodes&&(s.childNodes=new E),s.ownerDocument=t,s.nodeType){case 1:var a=n.attributes,c=s.attributes=new m,l=a.length;c._ownerElement=s;for(var u=0;u<l;u++)s.setAttributeNode(e(t,a.item(u),!0));break;case 2:r=!0}if(r)for(var h=n.firstChild;h;)s.appendChild(e(t,h,r)),h=h.nextSibling;return s}(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&3==t.nodeType&&3==e.nodeType?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(d(n,r)&&n[r]===e)return r;t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&d(n,e))return n[e];t=2==t.nodeType?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)},compareDocumentPosition:function(e){if(this===e)return 0;var t=e,n=this,r=null,o=null;if(t instanceof L&&(t=(r=t).ownerElement),n instanceof L&&(n=(o=n).ownerElement,r&&t&&n===t))for(var i,s=0;i=n.attributes[s];s++){if(i===r)return p.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+p.DOCUMENT_POSITION_PRECEDING;if(i===o)return p.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+p.DOCUMENT_POSITION_FOLLOWING}if(!t||!n||n.ownerDocument!==t.ownerDocument)return p.DOCUMENT_POSITION_DISCONNECTED+p.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+(W(n.ownerDocument)>W(t.ownerDocument)?p.DOCUMENT_POSITION_FOLLOWING:p.DOCUMENT_POSITION_PRECEDING);if(o&&t===n)return p.DOCUMENT_POSITION_CONTAINS+p.DOCUMENT_POSITION_PRECEDING;if(r&&t===n)return p.DOCUMENT_POSITION_CONTAINED_BY+p.DOCUMENT_POSITION_FOLLOWING;for(var a=[],c=t.parentNode;c;){if(!o&&c===n)return p.DOCUMENT_POSITION_CONTAINED_BY+p.DOCUMENT_POSITION_FOLLOWING;a.push(c),c=c.parentNode}a.reverse();for(var l=[],u=n.parentNode;u;){if(!r&&u===t)return p.DOCUMENT_POSITION_CONTAINS+p.DOCUMENT_POSITION_PRECEDING;l.push(u),u=u.parentNode}l.reverse();var h,d=function e(t,n){if(n.length<t.length)return e(n,t);var r,o=null;for(r in t){if(t[r]!==n[r])return o;o=t[r]}return o}(a,l);for(h in d.childNodes){var f=d.childNodes[h];if(f===n)return p.DOCUMENT_POSITION_FOLLOWING;if(f===t)return p.DOCUMENT_POSITION_PRECEDING;if(0<=l.indexOf(f))return p.DOCUMENT_POSITION_FOLLOWING;if(0<=a.indexOf(f))return p.DOCUMENT_POSITION_PRECEDING}return 0}},o(n,N),o(n,N.prototype),o(p,N),o(p,N.prototype),T.prototype={implementation:null,nodeName:"#document",nodeType:9,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(11!==e.nodeType)return y(this,e,t),null===(e.ownerDocument=this).documentElement&&1===e.nodeType&&(this.documentElement=e),e;for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e},removeChild:function(e){e=ee(this,e);return e===this.documentElement&&(this.documentElement=null),e},replaceChild:function(e,t){y(this,e,t,ie),e.ownerDocument=this,t&&this.removeChild(t),O(e)&&(this.documentElement=e)},importNode:function(e,t){return function e(t,n,r){var o;switch(n.nodeType){case 1:(o=n.cloneNode(!1)).ownerDocument=t;case 11:break;case 2:r=!0}if((o=o||n.cloneNode(!1)).ownerDocument=t,o.parentNode=null,r)for(var i=n.firstChild;i;)o.appendChild(e(t,i,r)),i=i.nextSibling;return o}(this,e,t)},getElementById:function(t){var n=null;return g(this.documentElement,function(e){if(1==e.nodeType&&e.getAttribute("id")==t)return n=e,!0}),n},createElement:function(e){var t=new R(f);return"html"===(t.ownerDocument=this).type&&(e=e.toLowerCase()),F(this.contentType)&&(t.namespaceURI=I.HTML),t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new E,(t.attributes=new m)._ownerElement=t},createDocumentFragment:function(){var e=new w(f);return e.ownerDocument=this,e.childNodes=new E,e},createTextNode:function(e){var t=new _(f);return t.ownerDocument=this,t.childNodes=new E,t.appendData(e),t},createComment:function(e){var t=new S(f);return t.ownerDocument=this,t.childNodes=new E,t.appendData(e),t},createCDATASection:function(e){var t=new D(f);return t.ownerDocument=this,t.childNodes=new E,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new P(f);return n.ownerDocument=this,n.childNodes=new E,n.nodeName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){if(b.QName_exact.test(e))return"html"===this.type&&(e=e.toLowerCase()),this._createAttribute(e);throw new l(l.INVALID_CHARACTER_ERR,'invalid character in name "'+e+'"')},_createAttribute:function(e){var t=new L(f);return t.ownerDocument=this,t.childNodes=new E,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){if(!b.Name.test(e))throw new l(l.INVALID_CHARACTER_ERR,'not a valid xml name "'+e+'"');if("html"===this.type)throw new l("document is an html document",H.NotSupportedError);var t=new M(f);return t.ownerDocument=this,t.childNodes=new E,t.nodeName=e,t},createElementNS:function(e,t){var e=j(e,t),n=new R(f),r=n.attributes=new m;return n.childNodes=new E,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e[0],n.prefix=e[1],n.localName=e[2],r._ownerElement=n},createAttributeNS:function(e,t){var e=j(e,t),n=new L(f);return n.ownerDocument=this,n.childNodes=new E,n.nodeName=t,n.name=t,n.specified=!0,n.namespaceURI=e[0],n.prefix=e[1],n.localName=e[2],n}},c(T,N),T.prototype.getElementsByClassName=(R.prototype={nodeType:1,attributes:null,getQualifiedName:function(){return this.prefix?this.prefix+":"+this.localName:this.localName},_isInHTMLDocumentAndNamespace:function(){return"html"===this.ownerDocument.type&&this.namespaceURI===I.HTML},hasAttributes:function(){return!(!this.attributes||!this.attributes.length)},hasAttribute:function(e){return!!this.getAttributeNode(e)},getAttribute:function(e){e=this.getAttributeNode(e);return e?e.value:null},getAttributeNode:function(e){return this._isInHTMLDocumentAndNamespace()&&(e=e.toLowerCase()),this.attributes.getNamedItem(e)},setAttribute:function(e,t){this._isInHTMLDocumentAndNamespace()&&(e=e.toLowerCase());var n=this.getAttributeNode(e);n?n.value=n.nodeValue=""+t:((n=this.ownerDocument._createAttribute(e)).value=n.nodeValue=""+t,this.setAttributeNode(n))},removeAttribute:function(e){e=this.getAttributeNode(e);e&&this.removeAttributeNode(e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){e=this.getAttributeNodeNS(e,t);e&&this.removeAttributeNode(e)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){e=this.getAttributeNodeNS(e,t);return e?e.value:null},setAttributeNS:function(e,t,n){var r=j(e,t)[2],r=this.getAttributeNodeNS(e,r);r?r.value=r.nodeValue=""+n:((r=this.ownerDocument.createAttributeNS(e,t)).value=r.nodeValue=""+n,this.setAttributeNode(r))},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByClassName:function(s){var a=Y(s);return new u(this,function(o){var i=[];return 0<a.length&&g(o,function(e){var t,n,r;e!==o&&1===e.nodeType&&(t=e.getAttribute("class"))&&((n=s===t)||(t=Y(t),n=a.every((r=t,function(e){return r&&-1!==r.indexOf(e)}))),n&&i.push(e))}),i})},getElementsByTagName:function(r){var o="html"===(9===this.nodeType?this:this.ownerDocument).type,i=r.toLowerCase();return new u(this,function(t){var n=[];return g(t,function(e){e===t||1!==e.nodeType||"*"!==r&&e.getQualifiedName()!==(o&&e.namespaceURI===I.HTML?i:r)||n.push(e)}),n})},getElementsByTagNameNS:function(r,o){return new u(this,function(t){var n=[];return g(t,function(e){e===t||1!==e.nodeType||"*"!==r&&e.namespaceURI!==r||"*"!==o&&e.localName!=o||n.push(e)}),n})}}).getElementsByClassName,T.prototype.getElementsByTagName=R.prototype.getElementsByTagName,T.prototype.getElementsByTagNameNS=R.prototype.getElementsByTagNameNS,c(R,N),L.prototype.nodeType=2,c(L,N),C.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},c(C,N),_.prototype={nodeName:"#text",nodeType:3,splitText:function(e){var t=(n=this.data).substring(e),n=n.substring(0,e),e=(this.data=this.nodeValue=n,this.length=n.length,this.ownerDocument.createTextNode(t));return this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling),e}},c(_,C),S.prototype={nodeName:"#comment",nodeType:8},c(S,C),D.prototype={nodeName:"#cdata-section",nodeType:4},c(D,_),v.prototype.nodeType=10,c(v,N),se.prototype.nodeType=12,c(se,N),ae.prototype.nodeType=6,c(ae,N),M.prototype.nodeType=5,c(M,N),w.prototype.nodeName="#document-fragment",w.prototype.nodeType=11,c(w,N),P.prototype.nodeType=7,c(P,C),ce.prototype.serializeToString=function(e,t){return le.call(e,t)},N.prototype.toString=le;try{Object.defineProperty&&(Object.defineProperty(u.prototype,"length",{get:function(){return h(this),this.$$length}}),Object.defineProperty(N.prototype,"textContent",{get:function(){return function e(t){switch(t.nodeType){case 1:case 11:var n=[];for(t=t.firstChild;t;)7!==t.nodeType&&8!==t.nodeType&&n.push(e(t)),t=t.nextSibling;return n.join("");default:return t.nodeValue}}(this)},set:function(e){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),de=function(e,t,n){e["$$"+t]=n})}catch(e){}e._updateLiveList=h,e.Attr=L,e.CDATASection=D,e.CharacterData=C,e.Comment=S,e.Document=T,e.DocumentFragment=w,e.DocumentType=v,e.DOMImplementation=Q,e.Element=R,e.Entity=ae,e.EntityReference=M,e.LiveNodeList=u,e.NamedNodeMap=m,e.Node=N,e.NodeList=E,e.Notation=se,e.Text=_,e.ProcessingInstruction=P,e.XMLSerializer=ce},802:(e,t,n)=>{"use strict";var P=n(870),x=n(731),n=n(767),U=P.isHTMLEscapableRawTextElement,F=P.isHTMLMimeType,k=P.isHTMLRawTextElement,B=P.hasOwn,f=P.NAMESPACE,q=n.ParseError,H=n.DOMException;function r(){}r.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),p(t,t=Object.create(null)),function(n,e,r,o,i){var s=F(o.mimeType);function a(e){var t=";"===e[e.length-1]?e:e+";";if(!s&&t!==e)return i.error("EntityRef: expecting ;"),e;var n=x.Reference.exec(t);if(!n||n[0].length!==t.length)return i.error("entity not matching Reference production: "+e),e;var n=t.slice(1,-1);return B(r,n)?r[n]:"#"===n.charAt(0)?65535<(t=parseInt(n.substring(1).replace("x","0x")))?(n=55296+((t-=65536)>>10),String.fromCharCode(n,56320+(1023&t))):String.fromCharCode(t):(i.error("entity not found:"+e),e)}function t(e){var t;E<e&&(t=n.substring(E,e).replace(G,a),h&&d(E),o.characters(t,0,e-E),E=e)}0<=n.indexOf(x.UNICODE_REPLACEMENT_CHARACTER)&&i.warning("Unicode replacement character detected, source encoding issues?");var c=0,l=0,u=/\r\n?|\n|$/g,h=o.locator;function d(e,t){for(;l<=e&&(t=u.exec(n));)c=l,l=t.index+t[0].length,h.lineNumber++;h.columnNumber=e-c+1}for(var f=[{currentNSMap:e}],p=[],E=0;;){try{var m,N=n.indexOf("<",E);if(N<0){if(!s&&0<p.length)return i.fatalError("unclosed xml tag(s): "+p.join(", "));if(!n.substring(E).match(/^\s*$/)){var g=o.doc,T=g.createTextNode(n.substring(E));if(g.documentElement)return i.error("Extra content at the end of the document");g.appendChild(T),o.currentElement=T}return}switch(E<N&&(m=n.substring(E,N),s||0!==p.length||(m=m.replace(new RegExp(x.S_OPT.source,"g"),""))&&i.error("Unexpected content outside root element: '"+m+"'"),t(N)),n.charAt(N+1)){case"/":var I=n.indexOf(">",N+2),b=n.substring(N+2,0<I?I:void 0);if(!b)return i.fatalError("end tag name missing");var A=0<I&&x.reg("^",x.QName_group,x.S_OPT,"$").exec(b);if(!A)return i.fatalError('end tag name contains invalid characters: "'+b+'"');if(!o.currentElement&&!o.doc.documentElement)return;var O=p[p.length-1]||o.currentElement.tagName||o.doc.documentElement.tagName||"";if(O!==A[1]){var y=A[1].toLowerCase();if(!s||O.toLowerCase()!==y)return i.fatalError('Opening and ending tag mismatch: "'+O+'" != "'+b+'"')}var R=f.pop(),L=(p.pop(),R.localNSMap);if(o.endElement(R.uri,R.localName,O),L)for(var C in L)B(L,C)&&o.endPrefixMapping(C);I++;break;case"?":h&&d(N),I=function(e,t,n,r){var o=e.substring(t).match(x.PI);if(!o)return r.fatalError("Invalid processing instruction starting at position "+t);if("xml"===o[1].toLowerCase()){if(0<t)return r.fatalError("processing instruction at position "+t+" is an xml declaration which is only at the start of the document");if(!x.XMLDecl.test(e.substring(t)))return r.fatalError("xml declaration is not well-formed")}return n.processingInstruction(o[1],o[2]),t+o[0].length}(n,N,o,i);break;case"!":h&&d(N),I=X(n,N,o,i,s);break;default:h&&d(N);var _=new j,S=f[f.length-1].currentNSMap,D=(I=function(e,t,r,o,i,s){function n(e,t,n){B(r.attributeNames,e)?i.fatalError("Attribute "+e+" redefined"):!s&&0<=t.indexOf("<")?i.fatalError("Unescaped '<' not allowed in attributes values"):r.addValue(e,t.replace(/[\t\n\r]/g," ").replace(G,o),n)}for(var a,c=++t,l=0;;){var u=e.charAt(c);switch(u){case"=":if(1===l)a=e.slice(t,c),l=3;else{if(2!==l)throw new Error("attribute equal must after attrName");l=3}break;case"'":case'"':if(3===l||1===l){if(1===l&&(i.warning('attribute value must after "="'),a=e.slice(t,c)),t=c+1,!(0<(c=e.indexOf(u,t))))throw new Error("attribute value no end '"+u+"' match");n(a,h=e.slice(t,c),t-1),l=5}else{if(4!=l)throw new Error('attribute value must after "="');n(a,h=e.slice(t,c),t),i.warning('attribute "'+a+'" missed start quot('+u+")!!"),t=c+1,l=5}break;case"/":switch(l){case 0:r.setTagName(e.slice(t,c));case 5:case 6:case 7:l=7,r.closed=!0;case 4:case 1:break;case 2:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return i.error("unexpected end of input"),0==l&&r.setTagName(e.slice(t,c)),c;case">":switch(l){case 0:r.setTagName(e.slice(t,c));case 5:case 6:case 7:break;case 4:case 1:"/"===(h=e.slice(t,c)).slice(-1)&&(r.closed=!0,h=h.slice(0,-1));case 2:2===l&&(h=a),4==l?(i.warning('attribute "'+h+'" missed quot(")!'),n(a,h,t)):(s||i.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),n(h,h,t));break;case 3:if(!s)return i.fatalError("AttValue: ' or \" expected")}return c;case"Â€":u=" ";default:if(u<=" ")switch(l){case 0:r.setTagName(e.slice(t,c)),l=6;break;case 1:a=e.slice(t,c),l=2;break;case 4:var h=e.slice(t,c);i.warning('attribute "'+h+'" missed quot(")!!'),n(a,h,t);case 5:l=6}else switch(l){case 2:s||i.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),n(a,a,t),t=c,l=1;break;case 5:i.warning('attribute space is required"'+a+'"!!');case 6:l=1,t=c;break;case 3:l=4,t=c;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}(n,N,_,a,i,s),_.length);if(_.closed||(s&&P.isHTMLVoidElement(_.tagName)?_.closed=!0:p.push(_.tagName)),h&&D){for(var v=V(h,{}),M=0;M<D;M++){var w=_[M];d(w.offset),w.locator=V(h,{})}o.locator=v,Y(_,o,S)&&f.push(_),o.locator=h}else Y(_,o,S)&&f.push(_);s&&!_.closed?I=function(e,t,n,r,o){var i=U(n);if(i||k(n))return n=e.indexOf("</"+n+">",t),e=e.substring(t+1,n),i&&(e=e.replace(G,r)),o.characters(e,0,e.length),n;return t+1}(n,I,_.tagName,a,o):I++}}catch(n){if(n instanceof q)throw n;if(n instanceof H)throw new q(n.name+": "+n.message,o.locator,n);i.error("element parse error: "+n),I=-1}E<I?E=I:t(Math.max(N,E)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}};var G=/&#?\w+;?/g;function V(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function Y(e,t,n){for(var r,o=e.tagName,i=null,s=e.length;s--;){var a,c=e[s],l=c.qName,u=c.value,l=0<(r=l.indexOf(":"))?(a=c.prefix=l.slice(0,r),h=l.slice(r+1),"xmlns"===a&&h):(a=null,"xmlns"===(h=l)&&"");c.localName=h,!1!==l&&(null==i&&(i=Object.create(null),p(n,n=Object.create(null))),n[l]=i[l]=u,c.uri=f.XMLNS,t.startPrefixMapping(l,u))}for(s=e.length;s--;)(c=e[s]).prefix&&("xml"===c.prefix&&(c.uri=f.XML),"xmlns"!==c.prefix&&(c.uri=n[c.prefix]));var h=0<(r=o.indexOf(":"))?(a=e.prefix=o.slice(0,r),e.localName=o.slice(r+1)):(a=null,e.localName=o),d=e.uri=n[a||""];if(t.startElement(d,h,o,e),!e.closed)return e.currentNSMap=n,e.localNSMap=i,1;if(t.endElement(d,h,o),i)for(a in i)B(i,a)&&t.endPrefixMapping(a)}function p(e,t){for(var n in e)B(e,n)&&(t[n]=e[n])}function c(n,e){var r=e;function o(e){return n.charAt(r+(e=e||0))}function i(e){r+=e||1}function t(){return n.substring(r)}return{char:o,getIndex:function(){return r},getMatch:function(e){e=x.reg("^",e).exec(t());return e?(i(e[0].length),e[0]):null},getSource:function(){return n},skip:i,skipBlanks:function(){for(var e=0;r<n.length;){var t=o();if(" "!==t&&"\n"!==t&&"\t"!==t&&"\r"!==t)return e;e++,i()}return-1},substringFromIndex:t,substringStartsWith:function(e){return n.substring(r,r+e.length)===e},substringStartsWithCaseInsensitive:function(e){return n.substring(r,r+e.length).toUpperCase()===e.toUpperCase()}}}function X(e,t,n,r,o){var i=c(e,t);switch(o?i.char(2).toUpperCase():i.char(2)){case"-":var s=i.getMatch(x.Comment);return s?(n.comment(s,x.COMMENT_START.length,s.length-x.COMMENT_START.length-x.COMMENT_END.length),i.getIndex()):r.fatalError("comment is not well-formed at position "+i.getIndex());case"[":s=i.getMatch(x.CDSect);return s?o||n.currentElement?(n.startCDATA(),n.characters(s,x.CDATA_START.length,s.length-x.CDATA_START.length-x.CDATA_END.length),n.endCDATA(),i.getIndex()):r.fatalError("CDATA outside of element"):r.fatalError("Invalid CDATA starting at position "+t);case"D":if(n.doc&&n.doc.documentElement)return r.fatalError("Doctype not allowed inside or after documentElement at position "+i.getIndex());if(o?!i.substringStartsWithCaseInsensitive(x.DOCTYPE_DECL_START):!i.substringStartsWith(x.DOCTYPE_DECL_START))return r.fatalError("Expected "+x.DOCTYPE_DECL_START+" at position "+i.getIndex());if(i.skip(x.DOCTYPE_DECL_START.length),i.skipBlanks()<1)return r.fatalError("Expected whitespace after "+x.DOCTYPE_DECL_START+" at position "+i.getIndex());s={name:void 0,publicId:void 0,systemId:void 0,internalSubset:void 0};if(s.name=i.getMatch(x.Name),!s.name)return r.fatalError("doctype name missing or contains unexpected characters at position "+i.getIndex());if(o&&"html"!==s.name.toLowerCase()&&r.warning("Unexpected DOCTYPE in HTML document at position "+i.getIndex()),i.skipBlanks(),i.substringStartsWith(x.PUBLIC)||i.substringStartsWith(x.SYSTEM)){var a=x.ExternalID_match.exec(i.substringFromIndex());if(!a)return r.fatalError("doctype external id is not well-formed at position "+i.getIndex());void 0!==a.groups.SystemLiteralOnly?s.systemId=a.groups.SystemLiteralOnly:(s.systemId=a.groups.SystemLiteral,s.publicId=a.groups.PubidLiteral),i.skip(a[0].length)}else if(o&&i.substringStartsWithCaseInsensitive(x.SYSTEM)){if(i.skip(x.SYSTEM.length),i.skipBlanks()<1)return r.fatalError("Expected whitespace after "+x.SYSTEM+" at position "+i.getIndex());if(s.systemId=i.getMatch(x.ABOUT_LEGACY_COMPAT_SystemLiteral),!s.systemId)return r.fatalError("Expected "+x.ABOUT_LEGACY_COMPAT+" in single or double quotes after "+x.SYSTEM+" at position "+i.getIndex())}return o&&s.systemId&&!x.ABOUT_LEGACY_COMPAT_SystemLiteral.test(s.systemId)&&r.warning("Unexpected doctype.systemId in HTML document at position "+i.getIndex()),o||(i.skipBlanks(),s.internalSubset=function(e,t){var n,r,o=e.getSource();if("["===e.char()){e.skip(1);for(var i,s=e.getIndex();e.getIndex()<o.length;){if(e.skipBlanks(),"]"===e.char())return i=o.substring(s,e.getIndex()),e.skip(1),i;var a=null;if("<"===e.char()&&"!"===e.char(1))switch(e.char(2)){case"E":"L"===e.char(3)?a=e.getMatch(x.elementdecl):"N"===e.char(3)&&(a=e.getMatch(x.EntityDecl));break;case"A":a=e.getMatch(x.AttlistDecl);break;case"N":a=e.getMatch(x.NotationDecl);break;case"-":a=e.getMatch(x.Comment)}else if("<"===e.char()&&"?"===e.char(1))i=e,n=t,r=void 0,a=(r=x.PI.exec(i.substringFromIndex()))?"xml"===r[1].toLowerCase()?n.fatalError("xml declaration is only allowed at the start of the document, but found at position "+i.getIndex()):(i.skip(r[0].length),r[0]):n.fatalError("processing instruction is not well-formed at position "+i.getIndex());else{if("%"!==e.char())return t.fatalError("Error detected in Markup declaration");a=e.getMatch(x.PEReference)}if(!a)return t.fatalError("Error in internal subset at position "+e.getIndex())}return t.fatalError("doctype internal subset is not well-formed, missing ]")}}(i,r)),i.skipBlanks(),">"!==i.char()?r.fatalError("doctype not terminated with > at position "+i.getIndex()):(i.skip(1),n.startDTD(s.name,s.publicId,s.systemId,s.internalSubset),n.endDTD(),i.getIndex());default:return r.fatalError('Not well-formed XML starting with "<!" at position '+t)}}function j(){this.attributeNames=Object.create(null)}j.prototype={setTagName:function(e){if(!x.QName_exact.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!x.QName_exact.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=r,t.parseUtils=c,t.parseDoctypeCommentOrCData=X},870:(e,t)=>{"use strict";function n(e,t){return(t=void 0===t?Object:t)&&"function"==typeof t.getOwnPropertyDescriptors&&(e=t.create(null,t.getOwnPropertyDescriptors(e))),t&&"function"==typeof t.freeze?t.freeze(e):e}function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}var r=n({allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,formnovalidate:!0,hidden:!0,ismap:!0,itemscope:!0,loop:!0,multiple:!0,muted:!0,nomodule:!0,novalidate:!0,open:!0,playsinline:!0,readonly:!0,required:!0,reversed:!0,selected:!0}),o=n({area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),s=n({script:!1,style:!1,textarea:!0,title:!0});function a(e){return e===c.HTML}var c=n({HTML:"text/html",XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),l=Object.keys(c).map(function(e){return c[e]}),u=n({HTML:"http://www.w3.org/1999/xhtml",SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});t.assign=function(e,t){if(null===e||"object"!=typeof e)throw new TypeError("target is not an object");for(var n in t)i(t,n)&&(e[n]=t[n]);return e},t.find=function(e,t,n){if(void 0===n&&(n=Array.prototype),e&&"function"==typeof n.find)return n.find.call(e,t);for(var r=0;r<e.length;r++)if(i(e,r)){var o=e[r];if(t.call(void 0,o,r,e))return o}},t.freeze=n,t.HTML_BOOLEAN_ATTRIBUTES=r,t.HTML_RAW_TEXT_ELEMENTS=s,t.HTML_VOID_ELEMENTS=o,t.hasDefaultHTMLNamespace=function(e){return a(e)||e===c.XML_XHTML_APPLICATION},t.hasOwn=i,t.isHTMLBooleanAttribute=function(e){return i(r,e.toLowerCase())},t.isHTMLRawTextElement=function(e){e=e.toLowerCase();return i(s,e)&&!s[e]},t.isHTMLEscapableRawTextElement=function(e){e=e.toLowerCase();return i(s,e)&&s[e]},t.isHTMLMimeType=a,t.isHTMLVoidElement=function(e){return i(o,e.toLowerCase())},t.isValidMimeType=function(e){return-1<l.indexOf(e)},t.MIME_TYPE=c,t.NAMESPACE=u},999:(dt,e,t)=>{!function(){"use strict";var s=this;function l(e){return"string"==typeof e}function U(e,t,n){return e.call.apply(e.bind,arguments)}function F(t,n,e){if(t)return 2<arguments.length?(r=Array.prototype.slice.call(arguments,2),function(){var e=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(e,r),t.apply(n,e)}):function(){return t.apply(n,arguments)};var r;throw Error()}function k(e,t,n){return(k=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?U:F).apply(null,arguments)}function e(e){var i=g;function t(){}t.prototype=i.prototype,e.G=i.prototype,e.prototype=new t,(e.prototype.constructor=e).F=function(e,t,n){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return i.prototype[t].apply(e,r)}}var B=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function r(e,t){return-1!=e.indexOf(t)}function q(e,t){return e<t?-1:t<e?1:0}var t,H=Array.prototype.indexOf?function(e,t,n){return Array.prototype.indexOf.call(e,t,n)}:function(e,t,n){if(n=null==n?0:n<0?Math.max(0,e.length+n):n,l(e))return l(t)&&1==t.length?e.indexOf(t,n):-1;for(;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},c=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=l(e)?e.split(""):e,i=0;i<r;i++)i in o&&t.call(n,o[i],i,e)},G=Array.prototype.filter?function(e,t,n){return Array.prototype.filter.call(e,t,n)}:function(e,t,n){for(var r,o=e.length,i=[],s=0,a=l(e)?e.split(""):e,c=0;c<o;c++)c in a&&(r=a[c],t.call(n,r,c,e)&&(i[s++]=r));return i},o=Array.prototype.reduce?function(e,t,n,r){return r&&(t=k(t,r)),Array.prototype.reduce.call(e,t,n)}:function(n,r,e,o){var i=e;return c(n,function(e,t){i=r.call(o,i,e,t,n)}),i},V=Array.prototype.some?function(e,t,n){return Array.prototype.some.call(e,t,n)}:function(e,t,n){for(var r=e.length,o=l(e)?e.split(""):e,i=0;i<r;i++)if(i in o&&t.call(n,o[i],i,e))return!0;return!1};e:{var n=s.navigator;if(n){n=n.userAgent;if(n){t=n;break e}}t=""}var Y,X=r(t,"Opera")||r(t,"OPR"),a=r(t,"Trident")||r(t,"MSIE"),j=r(t,"Edge"),W=r(t,"Gecko")&&!(r(t.toLowerCase(),"webkit")&&!r(t,"Edge"))&&!(r(t,"Trident")||r(t,"MSIE"))&&!r(t,"Edge"),K=r(t.toLowerCase(),"webkit")&&!r(t,"Edge");function z(){var e=s.document;return e?e.documentMode:void 0}e:{var Q="",i=(i=t,W?/rv\:([^\);]+)(\)|;)/.exec(i):j?/Edge\/([\d\.]+)/.exec(i):a?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):K?/WebKit\/(\S+)/.exec(i):X?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(i&&(Q=i?i[1]:""),a){i=z();if(null!=i&&i>parseFloat(Q)){Y=String(i);break e}}Y=Q}var $={};function J(e){if(!$[e]){for(var t=0,n=B(String(Y)).split("."),r=B(String(e)).split("."),o=Math.max(n.length,r.length),i=0;0==t&&i<o;i++){var s=n[i]||"",a=r[i]||"",c=/(\d*)(\D*)/g,l=/(\d*)(\D*)/g;do{var u=c.exec(s)||["","",""],h=l.exec(a)||["","",""]}while((0!=u[0].length||0!=h[0].length)&&0==(t=q(0==u[1].length?0:parseInt(u[1],10),0==h[1].length?0:parseInt(h[1],10))||q(0==u[2].length,0==h[2].length)||q(u[2],h[2])))}$[e]=0<=t}}var Z=s.document,ee=Z&&a?z()||("CSS1Compat"==Z.compatMode?parseInt(Y,10):5):void 0,u=a&&!(9<=Number(ee)),te=a&&!(8<=Number(ee));function h(e,t,n,r){this.a=e,this.nodeName=n,this.nodeValue=r,this.nodeType=2,this.parentNode=this.ownerElement=t}function ne(e,t){var n=te&&"href"==t.nodeName?e.getAttribute(t.nodeName,2):t.nodeValue;return new h(t,e,t.nodeName,n)}function d(e){var t=null;if("string"!=typeof(t=1==(n=e.nodeType)?null==(t=null==(t=e.textContent)||null==t?e.innerText:t)||null==t?"":t:t))if(u&&"title"==e.nodeName.toLowerCase()&&1==n)t=e.text;else if(9==n||1==n){e=9==n?e.documentElement:e.firstChild;for(var n=0,r=[],t="";e;){for(;1!=e.nodeType&&(t+=e.nodeValue),u&&"title"==e.nodeName.toLowerCase()&&(t+=e.text),e=(r[n++]=e).firstChild;);for(;n&&!(e=r[--n].nextSibling););}}else t=e.nodeValue;return""+t}function f(e,t,n){if(null===t)return!0;try{if(!e.getAttribute)return!1}catch(e){return!1}return te&&"class"==t&&(t="className"),null==n?!!e.getAttribute(t):e.getAttribute(t,2)==n}function re(e,t,n,r,o){return(u?function(e,t,n,r,o){if(e instanceof D||8==e.b||n&&null===e.b){var i=t.all;if(!i)return o;if("*"!=(e=se(e))&&!(i=t.getElementsByTagName(e)))return o;if(n){for(var s=[],a=0;t=i[a++];)f(t,n,r)&&s.push(t);i=s}for(a=0;t=i[a++];)"*"==e&&"!"==t.tagName||E(o,t);return o}return ie(e,t,n,r,o),o}:function(t,e,n,r,o){return e.getElementsByName&&r&&"name"==n&&!a?(e=e.getElementsByName(r),c(e,function(e){t.a(e)&&E(o,e)})):e.getElementsByClassName&&r&&"class"==n?(e=e.getElementsByClassName(r),c(e,function(e){e.className==r&&t.a(e)&&E(o,e)})):t instanceof C?ie(t,e,n,r,o):e.getElementsByTagName&&(e=e.getElementsByTagName(t.f()),c(e,function(e){f(e,n,r)&&E(o,e)})),o}).call(null,e,t,l(n)?n:null,l(r)?r:null,o||new p)}function oe(e,t,n,r,o){for(t=t.firstChild;t;t=t.nextSibling)f(t,n,r)&&e.a(t)&&E(o,t);return o}function ie(e,t,n,r,o){for(t=t.firstChild;t;t=t.nextSibling)f(t,n,r)&&e.a(t)&&E(o,t),ie(e,t,n,r,o)}function se(e){if(e instanceof C){if(8==e.b)return"!";if(null===e.b)return"*"}return e.f()}function ae(e,t){if(e&&t){if(e.contains&&1==t.nodeType)return e==t||e.contains(t);if(void 0!==e.compareDocumentPosition)return e==t||16&e.compareDocumentPosition(t);for(;t&&e!=t;)t=t.parentNode;return t==e}}function ce(e,t){if(e==t)return 0;if(e.compareDocumentPosition)return 2&e.compareDocumentPosition(t)?1:-1;if(a&&!(9<=Number(ee))){if(9==e.nodeType)return-1;if(9==t.nodeType)return 1}if("sourceIndex"in e||e.parentNode&&"sourceIndex"in e.parentNode){var n=1==e.nodeType,r=1==t.nodeType;if(n&&r)return e.sourceIndex-t.sourceIndex;var o=e.parentNode,i=t.parentNode;return o==i?ue(e,t):!n&&ae(o,t)?-1*le(e,t):!r&&ae(i,e)?le(t,e):(n?e:o).sourceIndex-(r?t:i).sourceIndex}return(n=(r=9==e.nodeType?e:e.ownerDocument||e.document).createRange()).selectNode(e),n.collapse(!0),(r=r.createRange()).selectNode(t),r.collapse(!0),n.compareBoundaryPoints(s.Range.START_TO_END,r)}function le(e,t){var n=e.parentNode;if(n==t)return-1;for(var r=t;r.parentNode!=n;)r=r.parentNode;return ue(r,e)}function ue(e,t){for(var n=t;n=n.previousSibling;)if(n==e)return-1;return 1}function p(){this.b=this.a=null,this.l=0}function he(e){this.node=e,this.a=this.b=null}function de(e,t){if(!e.a)return t;if(!t.a)return e;for(var n=e.a,r=t.a,o=null,i=null,s=0;n&&r;){var i=n.node,a=r.node;i==a||i instanceof h&&a instanceof h&&i.a==a.a?(n=(i=n).a,r=r.a):0<ce(n.node,r.node)?r=(i=r).a:n=(i=n).a,(i.b=o)?o.a=i:e.a=i,o=i,s++}for(i=n||r;i;)i.b=o,s++,i=(o=o.a=i).a;return e.b=o,e.l=s,e}function fe(e,t){t=new he(t);t.a=e.a,e.b?e.a.b=t:e.a=e.b=t,e.a=t,e.l++}function E(e,t){t=new he(t);t.b=e.b,e.a?e.b.a=t:e.a=e.b=t,e.b=t,e.l++}function pe(e){return(e=e.a)?e.node:null}function Ee(e){return(e=pe(e))?d(e):""}function m(e,t){return new me(e,!!t)}function me(e,t){this.f=e,this.b=(this.c=t)?e.b:e.a,this.a=null}function N(e){var t=e.b;if(null==t)return null;var n=e.a=t;return e.b=e.c?t.b:t.a,n.node}function g(e){this.i=e,this.b=this.g=!1,this.f=null}function T(e){return"\n  "+e.toString().split("\n").join("\n  ")}function Ne(e,t){e.g=t}function ge(e,t){e.b=t}function I(e,t){e=e.a(t);return e instanceof p?+Ee(e):+e}function b(e,t){e=e.a(t);return e instanceof p?Ee(e):""+e}function A(e,t){e=e.a(t);return e instanceof p?!!e.l:!!e}function Te(e,t,n){g.call(this,e.i),this.c=e,this.h=t,this.o=n,this.g=t.g||n.g,this.b=t.b||n.b,this.c==Ae&&(n.b||n.g||4==n.i||0==n.i||!t.f?t.b||t.g||4==t.i||0==t.i||!n.f||(this.f={name:n.f.name,s:t}):this.f={name:t.f.name,s:n})}function O(e,t,n,r,o){var i;if(t=t.a(r),n=n.a(r),t instanceof p&&n instanceof p){for(r=N(t=m(t));r;r=N(t))for(i=N(o=m(n));i;i=N(o))if(e(d(r),d(i)))return!0;return!1}if(t instanceof p||n instanceof p){for(var s=typeof(r=t instanceof p?(o=t,n):(o=n,t)),a=N(i=m(o));a;a=N(i)){switch(s){case"number":a=+d(a);break;case"boolean":a=!!d(a);break;case"string":a=d(a);break;default:throw Error("Illegal primitive type for comparison.")}if(o==t&&e(a,r)||o==n&&e(r,a))return!0}return!1}return o?"boolean"==typeof t||"boolean"==typeof n?e(!!t,!!n):"number"==typeof t||"number"==typeof n?e(+t,+n):e(t,n):e(+t,+n)}function Ie(e,t,n,r){this.a=e,this.w=t,this.i=n,this.m=r}!W&&!a||a&&9<=Number(ee)||W&&J("1.9.1"),a&&J("9"),e(Te),Te.prototype.a=function(e){return this.c.m(this.h,this.o,e)},Te.prototype.toString=function(){return"Binary Expression: "+this.c+T(this.h)+T(this.o)},Ie.prototype.toString=function(){return this.a};var be={};function y(e,t,n,r){if(be.hasOwnProperty(e))throw Error("Binary operator already created: "+e);return e=new Ie(e,t,n,r),be[e.toString()]=e}y("div",6,1,function(e,t,n){return I(e,n)/I(t,n)}),y("mod",6,1,function(e,t,n){return I(e,n)%I(t,n)}),y("*",6,1,function(e,t,n){return I(e,n)*I(t,n)}),y("+",5,1,function(e,t,n){return I(e,n)+I(t,n)}),y("-",5,1,function(e,t,n){return I(e,n)-I(t,n)}),y("<",4,2,function(e,t,n){return O(function(e,t){return e<t},e,t,n)}),y(">",4,2,function(e,t,n){return O(function(e,t){return t<e},e,t,n)}),y("<=",4,2,function(e,t,n){return O(function(e,t){return e<=t},e,t,n)}),y(">=",4,2,function(e,t,n){return O(function(e,t){return t<=e},e,t,n)});var Ae=y("=",3,2,function(e,t,n){return O(function(e,t){return e==t},e,t,n,!0)});function R(e,t,n){this.a=e,this.b=t||1,this.f=n||1}function Oe(e,t){if(t.a.length&&4!=e.i)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");g.call(this,e.i),this.c=e,this.h=t,this.g=e.g,this.b=e.b}function ye(n,e){if(e.length<n.A)throw Error("Function "+n.j+" expects at least"+n.A+" arguments, "+e.length+" given");if(null!==n.v&&e.length>n.v)throw Error("Function "+n.j+" expects at most "+n.v+" arguments, "+e.length+" given");n.B&&c(e,function(e,t){if(4!=e.i)throw Error("Argument "+t+" to function "+n.j+" is not of type Nodeset: "+e)}),g.call(this,n.i),this.h=n,this.c=e,Ne(this,n.g||V(e,function(e){return e.g})),ge(this,n.D&&!e.length||n.C&&!!e.length||V(e,function(e){return e.b}))}function Re(e,t,n,r,o,i,s,a,c){this.j=e,this.i=t,this.g=n,this.D=r,this.C=o,this.m=i,this.A=s,this.v=void 0!==a?a:s,this.B=!!c}y("!=",3,2,function(e,t,n){return O(function(e,t){return e!=t},e,t,n,!0)}),y("and",2,2,function(e,t,n){return A(e,n)&&A(t,n)}),y("or",1,2,function(e,t,n){return A(e,n)||A(t,n)}),e(Oe),Oe.prototype.a=function(e){return e=this.c.a(e),Be(this.h,e)},Oe.prototype.toString=function(){return"Filter:"+T(this.c)+T(this.h)},e(ye),ye.prototype.a=function(e){return this.h.m.apply(null,function(){return Array.prototype.concat.apply(Array.prototype,arguments)}(e,this.c))},ye.prototype.toString=function(){var e,t="Function: "+this.h;return this.c.length&&(e=o(this.c,function(e,t){return e+T(t)},"Arguments:"),t+=T(e)),t};var Le={};function L(e,t,n,r,o,i,s,a){if(Le.hasOwnProperty(e))throw Error("Function already created: "+e+".");Le[e]=new Re(e,t,n,r,!1,o,i,s,a)}function C(e,t){switch(this.h=e,this.c=void 0!==t?t:null,this.b=null,e){case"comment":this.b=8;break;case"text":this.b=3;break;case"processing-instruction":this.b=7;break;case"node":break;default:throw Error("Unexpected argument")}}function Ce(e){return"comment"==e||"text"==e||"processing-instruction"==e||"node"==e}function _e(e){this.b=e,this.a=0}L("boolean",2,!(Re.prototype.toString=function(){return this.j}),!1,function(e,t){return A(t,e)},1),L("ceiling",1,!1,!1,function(e,t){return Math.ceil(I(t,e))},1),L("concat",3,!1,!1,function(n,e){return o(function(e){return arguments.length<=2?Array.prototype.slice.call(e,1):Array.prototype.slice.call(e,1,void 0)}(arguments,1),function(e,t){return e+b(t,n)},"")},2,null),L("contains",2,!1,!1,function(e,t,n){return r(b(t,e),b(n,e))},2),L("count",1,!1,!1,function(e,t){return t.a(e).l},1,1,!0),L("false",2,!1,!1,function(){return!1},0),L("floor",1,!1,!1,function(e,t){return Math.floor(I(t,e))},1),L("id",4,!1,!1,function(e,t){var a=9==(n=e.a).nodeType?n:n.ownerDocument,n=b(t,e).split(/\s+/),r=[],o=(c(n,function(e){!(e=function(t){if(u){var e=a.all[t];if(e){if(e.nodeType&&t==e.id)return e;if(e.length){var n=e;var r=function(e){return t==e.id};e:{for(var o=n.length,i=l(n)?n.split(""):n,s=0;s<o;s++)if(s in i&&r.call(void 0,i[s],s,n)){o=s;break e}o=-1}return o<0?null:l(n)?n.charAt(o):n[o];return}}return null}return a.getElementById(t)}(e))||0<=H(r,e)||r.push(e)}),r.sort(ce),new p);return c(r,function(e){E(o,e)}),o},1),L("lang",2,!1,!1,function(){return!1},1),L("last",1,!0,!1,function(e){if(1!=arguments.length)throw Error("Function last expects ()");return e.f},0),L("local-name",3,!1,!0,function(e,t){t=t?pe(t.a(e)):e.a;return t?t.localName||t.nodeName.toLowerCase():""},0,1,!0),L("name",3,!1,!0,function(e,t){t=t?pe(t.a(e)):e.a;return t?t.nodeName.toLowerCase():""},0,1,!0),L("namespace-uri",3,!0,!1,function(){return""},0,1,!0),L("normalize-space",3,!1,!0,function(e,t){return(t?b(t,e):d(e.a)).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},0,1),L("not",2,!1,!1,function(e,t){return!A(t,e)},1),L("number",1,!1,!0,function(e,t){return t?I(t,e):+d(e.a)},0,1),L("position",1,!0,!1,function(e){return e.b},0),L("round",1,!1,!1,function(e,t){return Math.round(I(t,e))},1),L("starts-with",2,!1,!1,function(e,t,n){return t=b(t,e),e=b(n,e),0==t.lastIndexOf(e,0)},2),L("string",3,!1,!0,function(e,t){return t?b(t,e):d(e.a)},0,1),L("string-length",1,!1,!0,function(e,t){return(t?b(t,e):d(e.a)).length},0,1),L("substring",3,!1,!1,function(e,t,n,r){if(n=I(n,e),isNaN(n)||1/0==n||-1/0==n)return"";if(r=r?I(r,e):1/0,isNaN(r)||-1/0===r)return"";n=Math.round(n)-1;var o=Math.max(n,0);return e=b(t,e),1/0==r?e.substring(o):e.substring(o,n+Math.round(r))},2,3),L("substring-after",3,!1,!1,function(e,t,n){return t=b(t,e),e=b(n,e),-1==(n=t.indexOf(e))?"":t.substring(n+e.length)},2),L("substring-before",3,!1,!1,function(e,t,n){return t=b(t,e),e=b(n,e),-1==(e=t.indexOf(e))?"":t.substring(0,e)},2),L("sum",1,!1,!1,function(e,t){for(var n=m(t.a(e)),r=0,o=N(n);o;o=N(n))r+=+d(o);return r},1,1,!0),L("translate",3,!1,!1,function(e,t,n,r){t=b(t,e),n=b(n,e);var o=b(r,e);for(e={},r=0;r<n.length;r++){var i=n.charAt(r);i in e||(e[i]=o.charAt(r))}for(n="",r=0;r<t.length;r++)n+=(i=t.charAt(r))in e?e[i]:i;return n},3),L("true",2,!1,!1,function(){return!0},0),C.prototype.a=function(e){return null===this.b||this.b==e.nodeType},C.prototype.f=function(){return this.h},C.prototype.toString=function(){var e="Kind Test: "+this.h;return null!==this.c&&(e+=T(this.c)),e};var Se=/\$?(?:(?![0-9-\.])(?:\*|[\w-\.]+):)?(?![0-9-\.])(?:\*|[\w-\.]+)|\/\/|\.\.|::|\d+(?:\.\d*)?|\.\d+|"[^"]*"|'[^']*'|[!<>]=|\s+|./g,De=/^\s/;function _(e,t){return e.b[e.a+(t||0)]}function S(e){return e.b[e.a++]}function ve(e){return e.b.length<=e.a}function Me(e){g.call(this,3),this.c=e.substring(1,e.length-1)}function D(e,t){this.j=e.toLowerCase(),e="*"==this.j?"*":"http://www.w3.org/1999/xhtml",this.c=t?t.toLowerCase():e}function we(e,t){g.call(this,e.i),this.h=e,this.c=t,this.g=e.g,this.b=e.b,1!=this.c.length||(t=this.c[0]).u||t.c!=Ge||"*"!=(t=t.o).f()&&(this.f={name:t.f(),s:null})}function Pe(){g.call(this,4)}function xe(){g.call(this,4)}function Ue(e){return"/"==e||"//"==e}function Fe(e){g.call(this,4),this.c=e,Ne(this,V(this.c,function(e){return e.g})),ge(this,V(this.c,function(e){return e.b}))}function ke(e,t){this.a=e,this.b=!!t}function Be(e,t,n){for(n=n||0;n<e.a.length;n++)for(var r,o=e.a[n],i=m(t),s=t.l,a=0;r=N(i);a++){var c=e.b?s-a:a+1;if("number"==typeof(r=o.a(new R(r,c,s))))c=c==r;else if("string"==typeof r||"boolean"==typeof r)c=!!r;else{if(!(r instanceof p))throw Error("Predicate.evaluate returned an unexpected type.");c=0<r.l}if(!c){if(r=(c=i).f,!(u=c.a))throw Error("Next must be called at least once before remove.");var l=u.b,u=u.a;l?l.a=u:r.a=u,u?u.b=l:r.b=l,r.l--,c.a=null}}return t}function v(e,t,n,r){g.call(this,4),this.c=e,this.o=t,this.h=n||new ke([]),this.u=!!r,t=0<(t=this.h).a.length?t.a[0].f:null,e.b&&t&&(e=t.name,e=u?e.toLowerCase():e,this.f={name:e,s:t.s});e:{for(e=this.h,t=0;t<e.a.length;t++)if((n=e.a[t]).g||1==n.i||0==n.i){e=!0;break e}e=!1}this.g=e}function qe(e,t,n,r){this.j=e,this.f=t,this.a=n,this.b=r}e(Me),Me.prototype.a=function(){return this.c},Me.prototype.toString=function(){return"Literal: "+this.c},D.prototype.a=function(e){var t=e.nodeType;return!(1!=t&&2!=t||(t=void 0!==e.localName?e.localName:e.nodeName,"*"!=this.j&&this.j!=t.toLowerCase()||"*"!=this.c&&this.c!=(e.namespaceURI?e.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml")))},D.prototype.f=function(){return this.j},D.prototype.toString=function(){return"Name Test: "+("http://www.w3.org/1999/xhtml"==this.c?"":this.c+":")+this.j},e(we),e(Pe),Pe.prototype.a=function(e){var t=new p;return 9==(e=e.a).nodeType?E(t,e):E(t,e.ownerDocument),t},Pe.prototype.toString=function(){return"Root Helper Expression"},e(xe),xe.prototype.a=function(e){var t=new p;return E(t,e.a),t},xe.prototype.toString=function(){return"Context Helper Expression"},we.prototype.a=function(e){var t=this.h.a(e);if(!(t instanceof p))throw Error("Filter expression must evaluate to nodeset.");for(var n=0,r=(e=this.c).length;n<r&&t.l;n++){var o,i=e[n],s=m(t,i.c.a);if(i.g||i.c!=Xe)if(i.g||i.c!=We)for(o=N(s),t=i.a(new R(o));null!=(o=N(s));)t=de(t,o=i.a(new R(o)));else o=N(s),t=i.a(new R(o));else{for(o=N(s);(t=N(s))&&(!o.contains||o.contains(t))&&8&t.compareDocumentPosition(o);o=t);t=i.a(new R(o))}}return t},we.prototype.toString=function(){var e,t="Path Expression:"+T(this.h);return this.c.length&&(e=o(this.c,function(e,t){return e+T(t)},"Steps:"),t+=T(e)),t},e(Fe),Fe.prototype.a=function(t){var n=new p;return c(this.c,function(e){if(!((e=e.a(t))instanceof p))throw Error("Path expression must evaluate to NodeSet.");n=de(n,e)}),n},Fe.prototype.toString=function(){return o(this.c,function(e,t){return e+T(t)},"Union Expression:")},ke.prototype.toString=function(){return o(this.a,function(e,t){return e+T(t)},"Predicates:")},e(v),v.prototype.a=function(e){var t=e.a,n=null,r=null,o=null,i=0;if((n=this.f)&&(r=n.name,o=n.s?b(n.s,e):null,i=1),this.u)if(this.g||this.c!=Ve)if(t=N(e=m(new v(Ye,new C("node")).a(e))))for(n=this.m(t,r,o,i);null!=(t=N(e));)n=de(n,this.m(t,r,o,i));else n=new p;else n=re(this.o,t,r,o),n=Be(this.h,n,i);else n=this.m(e.a,r,o,i);return n},v.prototype.m=function(e,t,n,r){return e=this.c.f(this.o,e,t,n),Be(this.h,e,r)},v.prototype.toString=function(){var e,t="Step:"+T("Operator: "+(this.u?"//":"/"));return this.c.j&&(t+=T("Axis: "+this.c)),t+=T(this.o),this.h.a.length&&(e=o(this.h.a,function(e,t){return e+T(t)},"Predicates:"),t+=T(e)),t},qe.prototype.toString=function(){return this.j};var He={};function M(e,t,n,r){if(He.hasOwnProperty(e))throw Error("Axis already created: "+e);return t=new qe(e,t,n,!!r),He[e]=t}M("ancestor",function(e,t){for(var n=new p,r=t;r=r.parentNode;)e.a(r)&&fe(n,r);return n},!0),M("ancestor-or-self",function(e,t){for(var n=new p,r=t;e.a(r)&&fe(n,r),r=r.parentNode;);return n},!0);var Ge=M("attribute",function(e,t){var n=new p;if("style"==(i=e.f())&&u&&t.style)return E(n,new h(t.style,t,"style",t.style.cssText)),n;var r=t.attributes;if(r)if(e instanceof C&&null===e.b||"*"==i)for(var o,i=0;o=r[i];i++)u?o.nodeValue&&E(n,ne(t,o)):E(n,o);else(o=r.getNamedItem(i))&&(u?o.nodeValue&&E(n,ne(t,o)):E(n,o));return n},!1),Ve=M("child",function(e,t,n,r,o){return(u?function(e,t,n,r,o){var i,s;return(e instanceof D||8==e.b||n&&null===e.b)&&(i=t.childNodes)?("*"!=(s=se(e))&&!(i=G(i,function(e){return e.tagName&&e.tagName.toLowerCase()==s}))||(n&&(i=G(i,function(e){return f(e,n,r)})),c(i,function(e){"*"==s&&("!"==e.tagName||"*"==s&&1!=e.nodeType)||E(o,e)})),o):oe(e,t,n,r,o)}:oe).call(null,e,t,l(n)?n:null,l(r)?r:null,o||new p)},!1,!0),Ye=(M("descendant",re,!1,!0),M("descendant-or-self",function(e,t,n,r){var o=new p;return f(t,n,r)&&e.a(t)&&E(o,t),re(e,t,n,r,o)},!1,!0)),Xe=M("following",function(e,t,n,r){var o=new p;do{for(var i=t;i=i.nextSibling;)f(i,n,r)&&e.a(i)&&E(o,i),o=re(e,i,n,r,o)}while(t=t.parentNode);return o},!1,!0),je=(M("following-sibling",function(e,t){for(var n=new p,r=t;r=r.nextSibling;)e.a(r)&&E(n,r);return n},!1),M("namespace",function(){return new p},!1),M("parent",function(e,t){var n=new p;if(9==t.nodeType)return n;if(2==t.nodeType)return E(n,t.ownerElement),n;t=t.parentNode;return e.a(t)&&E(n,t),n},!1)),We=M("preceding",function(e,t,n,r){for(var o=new p,i=[];i.unshift(t),t=t.parentNode;);for(var s=1,a=i.length;s<a;s++){var c=[];for(t=i[s];t=t.previousSibling;)c.unshift(t);for(var l=0,u=c.length;l<u;l++)f(t=c[l],n,r)&&e.a(t)&&E(o,t),o=re(e,t,n,r,o)}return o},!0,!0),Ke=(M("preceding-sibling",function(e,t){for(var n=new p,r=t;r=r.previousSibling;)e.a(r)&&fe(n,r);return n},!0),M("self",function(e,t){var n=new p;return e.a(t)&&E(n,t),n},!1));function ze(e){g.call(this,1),this.c=e,this.g=e.g,this.b=e.b}function Qe(e){g.call(this,1),this.c=e}function $e(e,t){this.a=e,this.b=t}function Je(e){for(var t=[];;){w(e,"Missing right hand side of binary expression.");var n=function e(t){if("-"==_(t.a))return S(t.a),new ze(e(t));var n=nt(t);if("|"!=_(t.a))t=n;else{for(n=[n];"|"==S(t.a);)w(t,"Missing next union location path."),n.push(nt(t));t.a.a--,t=new Fe(n)}return t}(e),r=S(e.a);if(!r)break;var o=(r=be[r]||null)&&r.w;if(!o){e.a.a--;break}for(;t.length&&o<=t[t.length-1].w;)n=new Te(t.pop(),t.pop(),n);t.push(n,r)}for(;t.length;)n=new Te(t.pop(),t.pop(),n);return n}function w(e,t){if(ve(e.a))throw Error(t)}function Ze(e,t){e=S(e.a);if(e!=t)throw Error("Bad token, expected: "+t+" got: "+e)}function et(e){if(")"!=(e=S(e.a)))throw Error("Bad token: "+e)}function tt(e){if((e=S(e.a)).length<2)throw Error("Unclosed literal string");return new Me(e)}function nt(e){var t,n,r=[];if(Ue(_(e.a))){if(t=S(e.a),n=_(e.a),"/"==t&&(ve(e.a)||"."!=n&&".."!=n&&"@"!=n&&"*"!=n&&!/(?![0-9])[\w]/.test(n)))return new Pe;n=new Pe,w(e,"Missing next location step."),t=rt(e,t),r.push(t)}else{e:{switch(n=(t=_(e.a)).charAt(0)){case"$":throw Error("Variable reference not allowed in HTML XPath");case"(":S(e.a),t=Je(e),w(e,'unclosed "("'),Ze(e,")");break;case'"':case"'":t=tt(e);break;default:if(isNaN(+t)){if(Ce(t)||!/(?![0-9])[\w]/.test(n)||"("!=_(e.a,1)){t=null;break e}for(t=S(e.a),t=Le[t]||null,S(e.a),n=[];")"!=_(e.a)&&(w(e,"Missing function argument list."),n.push(Je(e)),","==_(e.a));)S(e.a);w(e,"Unclosed function argument list."),et(e),t=new ye(t,n)}else t=new Qe(+S(e.a))}"["==_(e.a)&&(t=new Oe(t,n=new ke(ot(e))))}if(t){if(!Ue(_(e.a)))return t;n=t}else t=rt(e,"/"),n=new xe,r.push(t)}for(;Ue(_(e.a));)t=S(e.a),w(e,"Missing next location step."),t=rt(e,t),r.push(t);return new we(n,r)}function rt(e,t){var n,r,o,i,s;if("/"!=t&&"//"!=t)throw Error('Step op should be "/" or "//"');if("."==_(e.a))return r=new v(Ke,new C("node")),S(e.a),r;if(".."==_(e.a))return r=new v(je,new C("node")),S(e.a),r;if("@"==_(e.a))i=Ge,S(e.a),w(e,"Missing attribute name");else if("::"==_(e.a,1)){if(!/(?![0-9])[\w]/.test(_(e.a).charAt(0)))throw Error("Bad token: "+S(e.a));if(n=S(e.a),!(i=He[n]||null))throw Error("No axis with name: "+n);S(e.a),w(e,"Missing node name")}else i=Ve;if(n=_(e.a),!/(?![0-9])[\w\*]/.test(n.charAt(0)))throw Error("Bad token: "+S(e.a));if("("==_(e.a,1)){if(!Ce(n))throw Error("Invalid node type: "+n);if(!Ce(n=S(e.a)))throw Error("Invalid type name: "+n);Ze(e,"("),w(e,"Bad nodetype");var a=null;'"'!=(o=_(e.a).charAt(0))&&"'"!=o||(a=tt(e)),w(e,"Bad nodetype"),et(e),n=new C(n,a)}else if(-1==(o=(n=S(e.a)).indexOf(":")))n=new D(n);else{if("*"==(a=n.substring(0,o)))s="*";else if(!(s=e.b(a)))throw Error("Namespace prefix not declared: "+a);n=new D(n=n.substr(o+1),s)}return o=new ke(ot(e),i.a),r||new v(i,n,o,"//"==t)}function ot(e){for(var t=[];"["==_(e.a);){S(e.a),w(e,"Missing predicate expression.");var n=Je(e);t.push(n),w(e,"Unclosed predicate expression."),Ze(e,"]")}return t}function it(){return null}function st(e,t){if(e.prefix==t)return e.namespaceURI||"http://www.w3.org/1999/xhtml";var n=e.getAttributeNode("xmlns:"+t);return n&&n.specified?n.value||null:e.parentNode&&9!=e.parentNode.nodeType?st(e.parentNode,t):null}function at(e,t){if(!e.length)throw Error("Empty XPath expression.");e=function(e){e=e.match(Se);for(var t=0;t<e.length;t++)De.test(e[t])&&e.splice(t,1);return new _e(e)}(e);if(ve(e))throw Error("Invalid XPath expression.");t?"function"!=function(e){var t=typeof e;if("object"==t){if(!e)return"null";if(e instanceof Array)return"array";if(e instanceof Object)return t;var n=Object.prototype.toString.call(e);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof e.length&&void 0!==e.splice&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==e.call&&void 0!==e.propertyIsEnumerable&&!e.propertyIsEnumerable("call"))return"function"}else if("function"==t&&void 0===e.call)return"object";return t}(t)&&(t=k(t.lookupNamespaceURI,t)):t=function(){return null};var n=Je(new $e(e,t));if(!ve(e))throw Error("Bad token: "+S(e));this.evaluate=function(e,t){return new P(n.a(new R(e)),t)}}function P(e,t){if(0==t)if(e instanceof p)t=4;else if("string"==typeof e)t=2;else if("number"==typeof e)t=1;else{if("boolean"!=typeof e)throw Error("Unexpected evaluation result.");t=3}if(2!=t&&1!=t&&3!=t&&!(e instanceof p))throw Error("value could not be converted to the specified type");switch(this.resultType=t){case 2:this.stringValue=e instanceof p?Ee(e):""+e;break;case 1:this.numberValue=e instanceof p?+Ee(e):+e;break;case 3:this.booleanValue=e instanceof p?0<e.l:!!e;break;case 4:case 5:case 6:case 7:for(var n=m(e),r=[],o=N(n);o;o=N(n))r.push(o instanceof h?o.a:o);this.snapshotLength=e.l,this.invalidIteratorState=!1;break;case 8:case 9:n=pe(e),this.singleNodeValue=n instanceof h?n.a:n;break;default:throw Error("Unknown XPathResult type.")}var i=0;this.iterateNext=function(){if(4!=t&&5!=t)throw Error("iterateNext called with wrong result type");return i>=r.length?null:r[i++]},this.snapshotItem=function(e){if(6!=t&&7!=t)throw Error("snapshotItem called with wrong result type");return e>=r.length||e<0?null:r[e]}}function ct(e){this.lookupNamespaceURI=function e(t){switch(t.nodeType){case 1:return function(t){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}(st,t);case 9:return e(t.documentElement);case 11:case 10:case 6:case 12:return it;default:return t.parentNode?e(t.parentNode):it}}(e)}function lt(e,t){var e=e||s,n=e.Document&&e.Document.prototype||e.document;n.evaluate&&!t||(e.XPathResult=P,n.evaluate=function(e,t,n,r){return new at(e,n).evaluate(t,r)},n.createExpression=function(e,t){return new at(e,t)},n.createNSResolver=function(e){return new ct(e)})}e(ze),ze.prototype.a=function(e){return-I(this.c,e)},ze.prototype.toString=function(){return"Unary Expression: -"+T(this.c)},e(Qe),Qe.prototype.a=function(){return this.c},Qe.prototype.toString=function(){return"Number: "+this.c},P.ANY_TYPE=0,P.NUMBER_TYPE=1,P.STRING_TYPE=2,P.BOOLEAN_TYPE=3,P.UNORDERED_NODE_ITERATOR_TYPE=4,P.ORDERED_NODE_ITERATOR_TYPE=5,P.UNORDERED_NODE_SNAPSHOT_TYPE=6,P.ORDERED_NODE_SNAPSHOT_TYPE=7,P.ANY_UNORDERED_NODE_TYPE=8,P.FIRST_ORDERED_NODE_TYPE=9;var ut,ht=["wgxpath","install"],x=s;ht[0]in x||!x.execScript||x.execScript("var "+ht[0]);for(;ht.length&&(ut=ht.shift());)ht.length?x=x[ut]||(x[ut]={}):x[ut]=lt;dt.exports.install=lt,dt.exports.XPathResultType={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9}}.call(t.g)}},__webpack_module_cache__={},leafPrototypes,getProto;function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;t=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e](t,t.exports,__webpack_require__),t.exports}getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(t,e){if(1&e&&(t=this(t)),8&e)return t;if("object"==typeof t&&t){if(4&e&&t.__esModule)return t;if(16&e&&"function"==typeof t.then)return t}var n=Object.create(null),r=(__webpack_require__.r(n),{});leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var o=2&e&&t;"object"==typeof o&&!~leafPrototypes.indexOf(o);o=getProto(o))Object.getOwnPropertyNames(o).forEach(e=>r[e]=()=>t[e]);return r.default=()=>t,__webpack_require__.d(n,r),n},__webpack_require__.d=(e,t)=>{for(var n in t)__webpack_require__.o(t,n)&&!__webpack_require__.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var i,U,F,k,B={};__webpack_require__.r(B),__webpack_require__.d(B,{addPreference:()=>Gn,engineSetup:()=>Bn,fromPreference:()=>Vn,locales:()=>Fn,parseDOM:()=>Hn,setupEngine:()=>kn,toEnriched:()=>qn,toPreference:()=>Yn});const q=("undefined"!=typeof window?window:global).MathJax._.components.global,H=(q.GLOBAL,q.isObject,q.combineConfig,q.combineDefaults,q.combineWithMathJax);q.MathJax,(g=i=i||{}).DOMAIN="domain",g.STYLE="style",g.LOCALE="locale",g.TOPIC="topic",g.MODALITY="modality";class G{static createProp(...r){const o=s.DEFAULT_ORDER,i={};for(let e=0,t=r.length,n=o.length;e<t&&e<n;e++)i[o[e]]=r[e];return new G(i)}constructor(e,t=Object.keys(e)){this.properties=e,this.order=t}getProperties(){return this.properties}getOrder(){return this.order}getAxes(){return this.order}getProperty(e){return this.properties[e]}updateProperties(e){this.properties=e}allProperties(){const t=[];return this.order.forEach(e=>t.push(this.getProperty(e).slice())),t}toString(){const t=[];return this.order.forEach(e=>t.push(e+": "+this.getProperty(e).toString())),t.join("\n")}}class s extends G{static createCstr(...r){const o=s.DEFAULT_ORDER,i={};for(let e=0,t=r.length,n=o.length;e<t&&e<n;e++)i[o[e]]=r[e];return new s(i)}static defaultCstr(){return s.createCstr.apply(null,s.DEFAULT_ORDER.map(function(e){return s.DEFAULT_VALUES[e]}))}static validOrder(e){const t=s.DEFAULT_ORDER.slice();return e.every(e=>{e=t.indexOf(e);return-1!==e&&t.splice(e,1)})}constructor(e,t){const n={};for(const[t,r]of Object.entries(e))n[t]=[r];super(n,t),this.components=e}getComponents(){return this.components}getValue(e){return this.components[e]}getValues(){return this.order.map(e=>this.getValue(e))}allProperties(){const r=super.allProperties();for(let e,t,n=0;e=r[n],t=this.order[n];n++){const r=this.getValue(t);-1===e.indexOf(r)&&e.unshift(r)}return r}toString(){return this.getValues().join(".")}equal(n){const r=n.getAxes();if(this.order.length!==r.length)return!1;for(let e,t=0;e=r[t];t++){const r=this.getValue(e);if(!r||n.getValue(e)!==r)return!1}return!0}}s.DEFAULT_ORDER=[i.LOCALE,i.MODALITY,i.DOMAIN,i.STYLE,i.TOPIC],s.BASE_LOCALE="base",s.DEFAULT_VALUE="default",s.DEFAULT_VALUES={[i.LOCALE]:"en",[i.DOMAIN]:s.DEFAULT_VALUE,[i.STYLE]:s.DEFAULT_VALUE,[i.TOPIC]:s.DEFAULT_VALUE,[i.MODALITY]:"speech"};class V{constructor(e){this.order=e}parse(e){const n=e.split("."),r={};if(n.length>this.order.length)throw new Error("Invalid dynamic constraint: "+r);let o=0;for(let e,t=0;e=this.order[t],n.length;t++,o++){const o=n.shift();r[e]=o}return new s(r,this.order.slice(0,o))}}class Y{constructor(e,t=new G(e.getProperties(),e.getOrder())){this.reference=e,this.fallback=t,this.order=this.reference.getOrder()}getReference(){return this.reference}setReference(e,t){this.reference=e,this.fallback=t||new G(e.getProperties(),e.getOrder()),this.order=this.reference.getOrder()}match(n){const e=n.getAxes();return e.length===this.reference.getAxes().length&&e.every(e=>{var t=n.getValue(e);return t===this.reference.getValue(e)||-1!==this.fallback.getProperty(e).indexOf(t)})}compare(n,r){let o=!1;for(let e,t=0;e=this.order[t];t++){var i=n.getValue(e),s=r.getValue(e);if(!o){const n=this.reference.getValue(e);if(n===i&&n!==s)return-1;if(n===s&&n!==i)return 1;if(n===i&&n===s)continue;n!==i&&n!==s&&(o=!0)}const a=this.fallback.getProperty(e),c=a.indexOf(i),l=a.indexOf(s);if(c<l)return-1;if(l<c)return 1}return 0}toString(){return this.reference.toString()+"\n"+this.fallback.toString()}}(g=U=U||{}).SYNC="sync",g.ASYNC="async",g.HTTP="http",(g=O=O||{}).PITCH="pitch",g.RATE="rate",g.VOLUME="volume",g.PAUSE="pause",g.JOIN="join",g.LAYOUT="layout",O.PITCH,O.RATE,O.VOLUME,O.PAUSE,O.JOIN,(g=F=F||{}).NONE="none",g.SHALLOW="shallow",g.DEEP="deep",(O=k=k||{}).NONE="none",O.LAYOUT="layout",O.COUNTING="counting",O.PUNCTUATION="punctuation",O.SSML="ssml",O.ACSS="acss",O.SABLE="sable",O.VOICEXML="voicexml";var X=__webpack_require__(74);class l{static getInstance(){return l.instance=l.instance||new l,l.instance}init(e){return e&&this.startDebugFile_(e),this.isActive_=!0,this.fileHandle}output(...e){this.isActive_&&this.output_(e)}generate(e){this.isActive_&&this.output_(e.apply(e,[]))}exit(e=()=>{}){this.fileHandle.then(()=>{this.isActive_&&this.stream_&&this.stream_.end("","",e)})}constructor(){this.isActive_=!1,this.fileHandle=Promise.resolve(),this.stream_=null}startDebugFile_(t){this.fileHandle=X.f.fs.promises.open(t,"w"),this.fileHandle=this.fileHandle.then(e=>{this.stream_=e.createWriteStream(t),this.outputFunction=function(...e){this.stream_.write(e.join(" ")),this.stream_.write("\n")}.bind(this),this.stream_.on("error",function(e){console.info("Invalid log file. Debug information sent to console."),this.outputFunction=console.info}.bind(this)),this.stream_.on("finish",function(){console.info("Finalizing debug file.")})})}output_(e){this.stream_?this.fileHandle.then(()=>this.outputFunction.apply(this.outputFunction,["Speech Rule Engine Debugger:"].concat(e))):console.info.apply(console,["Speech Rule Engine Debugger:"].concat(e))}}var j,e,t,W,K,z=__webpack_require__(714);class r{constructor(e={}){this.delay=!1,this.domain="clearspeak",this.style=s.DEFAULT_VALUES[i.STYLE],this.locale=s.DEFAULT_VALUES[i.LOCALE],this.subiso="",this.modality=s.DEFAULT_VALUES[i.MODALITY],this.speech=F.NONE,this.markup=k.NONE,this.mark=!0,this.automark=!1,this.character=!0,this.cleanpause=!0,this.cayleyshort=!0,this.linebreaks=!1,this.rate="100",this.walker="Table",this.structure=!1,this.aria=!1,this.tree=!1,this.strict=!1,this.pprint=!1,this.rules="",this.prune="",this.set(e)}set(e){this.ensureDomain(e);for(var[t,n]of Object.entries(e))(r.BINARY_FEATURES.includes(t)||r.STRING_FEATURES.includes(t))&&(this[t]=n)}json(){const t={};return[].concat(r.STRING_FEATURES,r.BINARY_FEATURES).forEach(e=>t[e]=this[e]),t}ensureDomain(e){var t,n;e.modality&&"speech"!==e.modality||!e.modality&&"speech"!==this.modality||(e.domain||e.locale)&&("default"===e.domain?e.domain="mathspeak":(t=e.locale||this.locale,n=e.domain||this.domain,-1===Q.indexOf(t)||"mathspeak"===n?"en"!==t?"mathspeak"!==n&&"clearspeak"!==n&&(e.domain="mathspeak"):-1===$.indexOf(n)&&(e.domain="mathspeak"):e.domain="mathspeak"))}}r.BINARY_FEATURES=["automark","mark","character","cleanpause","strict","structure","aria","pprint","cayleyshort","linebreaks","tree"],r.STRING_FEATURES=["markup","style","domain","speech","walker","locale","delay","modality","rate","rules","subiso","prune"];const Q=["ca","da","es"],$=["chromevox","clearspeak","mathspeak","emacspeak","html"];class J extends Error{constructor(e=""){super(),this.message=e,this.name="SRE Error"}}class u{set defaultLocale(e){this._defaultLocale=z.u.ensureLocale(e,this._defaultLocale)}get defaultLocale(){return this._defaultLocale}static getInstance(){return u.instance=u.instance||new u,u.instance}static defaultEvaluator(e,t){return e}static evaluateNode(e){return u.nodeEvaluator(e)}getRate(){var e=parseInt(this.options.rate,10);return isNaN(e)?100:e}setDynamicCstr(t){if(this.defaultLocale&&(s.DEFAULT_VALUES[i.LOCALE]=this.defaultLocale),t){const n=Object.keys(t);for(let e=0;e<n.length;e++){const i=n[e];if(-1!==s.DEFAULT_ORDER.indexOf(i)){const n=t[i];this.options[i]=n}}}const n=[this.options.locale,this.options.modality,this.options.domain,this.options.style].join("."),e=G.createProp([s.DEFAULT_VALUES[i.LOCALE]],[s.DEFAULT_VALUES[i.MODALITY]],[s.DEFAULT_VALUES[i.DOMAIN]],[s.DEFAULT_VALUES[i.STYLE]]),r=this.comparators[this.options.domain],o=this.parsers[this.options.domain];this.parser=o||this.defaultParser,this.dynamicCstr=this.parser.parse(n),this.dynamicCstr.updateProperties(e.getProperties()),this.comparator=r?r():new Y(this.dynamicCstr)}constructor(){this.options=new r,this.config=!1,this.customLoader=null,this.parsers={},this.comparator=null,this.mode=U.SYNC,this.init=!0,this.comparators={},this._defaultLocale=s.DEFAULT_VALUES[i.LOCALE],this.options.locale=this.defaultLocale,this.evaluator=u.defaultEvaluator,this.defaultParser=new V(s.DEFAULT_ORDER),this.parser=this.defaultParser,this.dynamicCstr=s.defaultCstr()}configurate(e){if(this.mode===U.HTTP&&!X.f.webworker&&!this.config){{var n=e;const s=document.documentElement.querySelectorAll('script[type="text/x-sre-config"]');for(let t=0,e=s.length;t<e;t++){let e;try{e=s[t].innerHTML;var r=JSON.parse(e);for(const[s,a]of Object.entries(r))n[s]=a}catch(n){l.getInstance().output("Illegal configuration ",e)}}}this.config=!0}var t=e;if("undefined"!=typeof SREfeature)for(var[o,i]of Object.entries(SREfeature))t[o]=i}setCustomLoader(e){e&&(this.customLoader=e)}setup(e){var t;void 0!==e.mode&&(this.mode=e.mode),this.configurate(e),this.options.set(e),e.json&&(X.f.jsonPath=(t=e.json).match("/$")?t:t+"/"),this.setCustomLoader(e.custom)}json(){return Object.assign({mode:this.mode},this.options.json())}reset(){this.options=new r}}u.nodeEvaluator=function(e){return[]};class Z{static get(e=u.getInstance().options.locale){return Z.promises[e]||Promise.resolve("")}static getall(){return Promise.all(Object.values(Z.promises))}}Z.loaded={},Z.promises={};const ee=X.f.xpath,te={xhtml:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",mml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function ne(e){return te[e]||null}class re{constructor(){this.lookupNamespaceURI=ne}}function E(n){const r=[];for(let e=0,t=n.length;e<t;e++)r.push(n[e]);return r}function oe(e){const t=new X.f.xmldom.DOMParser,n=e.replace(/&nbsp;/g,"Â ").replace(/>[ \f\n\r\t\v\u200b]+</g,"><").trim(),r=!!n.match(/&(?!lt|gt|amp|quot|apos)\w+;/g);if(!n)throw new Error("Empty input!");try{const e=t.parseFromString(n,r?"text/html":"text/xml");return u.getInstance().mode===U.HTTP?(ee.currentDocument=e,r?e.body.childNodes[0]:e.documentElement):e.documentElement}catch(e){throw new J("Illegal input: "+e.message)}}function h(e,t){e.parentNode&&(e.parentNode.insertBefore(t,e),e.parentNode.removeChild(e))}function ie(e){return X.f.document.createElement(e)}function se(e){let n="",r=/(>)(<)(\/*)/g,o=0,i=(e=e.replace(r,"$1\r\n$2$3")).split("\r\n");for(r=/(\.)*(<)(\/*)/g,i=i.map(e=>e.replace(r,"$1\r\n$2$3").split("\r\n")).reduce((e,t)=>e.concat(t),[]);i.length;){let t=i.shift();if(t){let e=0;if(t.match(/^<\w[^>/]*>[^>]+$/)){const n=function(e,t){if(!t)return[!1,""];e=e.match(/^<([^> ]+).*>/),t=t.match(/^<\/([^>]+)>(.*)/);return e&&t&&e[1]===t[1]?[!0,t[2]]:[!1,""]}(t,i[0]);n[0]?n[1]?(t+=i.shift().slice(0,-n[1].length),n[1].trim()&&i.unshift(n[1])):t+=i.shift():e=1}else if(t.match(/^<\/\w/))0!==o&&--o;else if(t.match(/^<\w[^>]*[^/]>.*$/))e=1;else if(t.match(/^<\w[^>]*\/>.+$/)){const n=t.indexOf(">")+1,r=t.slice(n);r.trim()&&i.unshift(),t=t.slice(0,n)+r}else e=0;n+=new Array(o+1).join("  ")+t+"\r\n",o+=e}}return n}function d(e){return e.tagName.toUpperCase()}function ae(e){return(new X.f.xmldom.XMLSerializer).serializeToString(e)}(g=j=j||{})[g.ELEMENT_NODE=1]="ELEMENT_NODE",g[g.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",g[g.TEXT_NODE=3]="TEXT_NODE",g[g.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",g[g.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",g[g.ENTITY_NODE=6]="ENTITY_NODE",g[g.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",g[g.COMMENT_NODE=8]="COMMENT_NODE",g[g.DOCUMENT_NODE=9]="DOCUMENT_NODE",g[g.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",g[g.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE",g[g.NOTATION_NODE=12]="NOTATION_NODE";class ce{constructor(e,t,n){this.domain=e,this.name=t,this.func=n,this.active=!1}annotate(e){e.childNodes.forEach(this.annotate.bind(this)),e.contentNodes.forEach(this.annotate.bind(this)),e.addAnnotation(this.domain,this.func(e))}}class le{constructor(e,t,n,r={}){this.domain=e,this.name=t,this.func=n,this.def=r,this.active=!1}visit(n,e){let r=this.func(n,e);n.addAnnotation(this.domain,r[0]);for(let e,t=0;e=n.childNodes[t];t++)r=this.visit(e,r[1]);for(let e,t=0;e=n.contentNodes[t];t++)r=this.visit(e,r[1]);return r}}const ue=new Map,he=new Map;function de(e){var t=e.domain+":"+e.name;(e instanceof ce?ue:he).set(t,e)}function fe(e,t){const n=e+":"+t,r=ue.get(n)||he.get(n);r&&(r.active=!0)}function pe([e,t],n){const r=parseInt(e,16),o=parseInt(t,16),i=[];for(let t=r;t<=o;t++){let e=3<(s=(s=t).toString(16).toUpperCase()).length?s:("000"+s).slice(-4);!1!==n[e]&&(e=n[e]||e,i.push(e))}var s;return i}function Ee(e,t={}){return pe(e,t).map(e=>String.fromCodePoint(parseInt(e,16)))}(O=I=I||{}).BOLD="bold",O.BOLDFRAKTUR="bold-fraktur",O.BOLDITALIC="bold-italic",O.BOLDSCRIPT="bold-script",O.DOUBLESTRUCK="double-struck",O.DOUBLESTRUCKITALIC="double-struck-italic",O.FULLWIDTH="fullwidth",O.FRAKTUR="fraktur",O.ITALIC="italic",O.MONOSPACE="monospace",O.NORMAL="normal",O.SCRIPT="script",O.SANSSERIF="sans-serif",O.SANSSERIFITALIC="sans-serif-italic",O.SANSSERIFBOLD="sans-serif-bold",O.SANSSERIFBOLDITALIC="sans-serif-bold-italic",(g=e=e||{}).SUPER="super",g.SUB="sub",g.CIRCLED="circled",g.PARENTHESIZED="parenthesized",g.PERIOD="period",g.NEGATIVECIRCLED="negative-circled",g.DOUBLECIRCLED="double-circled",g.CIRCLEDSANSSERIF="circled-sans-serif",g.NEGATIVECIRCLEDSANSSERIF="negative-circled-sans-serif",g.COMMA="comma",g.SQUARED="squared",g.NEGATIVESQUARED="negative-squared",(O=t=t||{}).LATINCAP="latinCap",O.LATINSMALL="latinSmall",O.GREEKCAP="greekCap",O.GREEKSMALL="greekSmall",O.DIGIT="digit";const me=[{interval:["1D400","1D419"],base:t.LATINCAP,subst:{},capital:!0,category:"Lu",font:I.BOLD},{interval:["1D41A","1D433"],base:t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:I.BOLD},{interval:["1D56C","1D585"],base:t.LATINCAP,subst:{},capital:!0,category:"Lu",font:I.BOLDFRAKTUR},{interval:["1D586","1D59F"],base:t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:I.BOLDFRAKTUR},{interval:["1D468","1D481"],base:t.LATINCAP,subst:{},capital:!0,category:"Lu",font:I.BOLDITALIC},{interval:["1D482","1D49B"],base:t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:I.BOLDITALIC},{interval:["1D4D0","1D4E9"],base:t.LATINCAP,subst:{},capital:!0,category:"Lu",font:I.BOLDSCRIPT},{interval:["1D4EA","1D503"],base:t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:I.BOLDSCRIPT},{interval:["1D538","1D551"],base:t.LATINCAP,subst:{"1D53A":"2102","1D53F":"210D","1D545":"2115","1D547":"2119","1D548":"211A","1D549":"211D","1D551":"2124"},capital:!0,category:"Lu",font:I.DOUBLESTRUCK},{interval:["1D552","1D56B"],base:t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:I.DOUBLESTRUCK},{interval:["1D504","1D51D"],base:t.LATINCAP,subst:{"1D506":"212D","1D50B":"210C","1D50C":"2111","1D515":"211C","1D51D":"2128"},capital:!0,category:"Lu",font:I.FRAKTUR},{interval:["1D51E","1D537"],base:t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:I.FRAKTUR},{interval:["FF21","FF3A"],base:t.LATINCAP,subst:{},capital:!0,category:"Lu",font:I.FULLWIDTH},{interval:["FF41","FF5A"],base:t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:I.FULLWIDTH},{interval:["1D434","1D44D"],base:t.LATINCAP,subst:{},capital:!0,category:"Lu",font:I.ITALIC},{interval:["1D44E","1D467"],base:t.LATINSMALL,subst:{"1D455":"210E"},capital:!1,category:"Ll",font:I.ITALIC},{interval:["1D670","1D689"],base:t.LATINCAP,subst:{},capital:!0,category:"Lu",font:I.MONOSPACE},{interval:["1D68A","1D6A3"],base:t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:I.MONOSPACE},{interval:["0041","005A"],base:t.LATINCAP,subst:{},capital:!0,category:"Lu",font:I.NORMAL},{interval:["0061","007A"],base:t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:I.NORMAL},{interval:["1D49C","1D4B5"],base:t.LATINCAP,subst:{"1D49D":"212C","1D4A0":"2130","1D4A1":"2131","1D4A3":"210B","1D4A4":"2110","1D4A7":"2112","1D4A8":"2133","1D4AD":"211B"},capital:!0,category:"Lu",font:I.SCRIPT},{interval:["1D4B6","1D4CF"],base:t.LATINSMALL,subst:{"1D4BA":"212F","1D4BC":"210A","1D4C4":"2134"},capital:!1,category:"Ll",font:I.SCRIPT},{interval:["1D5A0","1D5B9"],base:t.LATINCAP,subst:{},capital:!0,category:"Lu",font:I.SANSSERIF},{interval:["1D5BA","1D5D3"],base:t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:I.SANSSERIF},{interval:["1D608","1D621"],base:t.LATINCAP,subst:{},capital:!0,category:"Lu",font:I.SANSSERIFITALIC},{interval:["1D622","1D63B"],base:t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:I.SANSSERIFITALIC},{interval:["1D5D4","1D5ED"],base:t.LATINCAP,subst:{},capital:!0,category:"Lu",font:I.SANSSERIFBOLD},{interval:["1D5EE","1D607"],base:t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:I.SANSSERIFBOLD},{interval:["1D63C","1D655"],base:t.LATINCAP,subst:{},capital:!0,category:"Lu",font:I.SANSSERIFBOLDITALIC},{interval:["1D656","1D66F"],base:t.LATINSMALL,subst:{},capital:!1,category:"Ll",font:I.SANSSERIFBOLDITALIC},{interval:["0391","03A9"],base:t.GREEKCAP,subst:{"03A2":"03F4"},capital:!0,category:"Lu",font:I.NORMAL},{interval:["03B0","03D0"],base:t.GREEKSMALL,subst:{"03B0":"2207","03CA":"2202","03CB":"03F5","03CC":"03D1","03CD":"03F0","03CE":"03D5","03CF":"03F1","03D0":"03D6"},capital:!1,category:"Ll",font:I.NORMAL},{interval:["1D6A8","1D6C0"],base:t.GREEKCAP,subst:{},capital:!0,category:"Lu",font:I.BOLD},{interval:["1D6C1","1D6E1"],base:t.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:I.BOLD},{interval:["1D6E2","1D6FA"],base:t.GREEKCAP,subst:{},capital:!0,category:"Lu",font:I.ITALIC},{interval:["1D6FB","1D71B"],base:t.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:I.ITALIC},{interval:["1D71C","1D734"],base:t.GREEKCAP,subst:{},capital:!0,category:"Lu",font:I.BOLDITALIC},{interval:["1D735","1D755"],base:t.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:I.BOLDITALIC},{interval:["1D756","1D76E"],base:t.GREEKCAP,subst:{},capital:!0,category:"Lu",font:I.SANSSERIFBOLD},{interval:["1D76F","1D78F"],base:t.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:I.SANSSERIFBOLD},{interval:["1D790","1D7A8"],base:t.GREEKCAP,subst:{},capital:!0,category:"Lu",font:I.SANSSERIFBOLDITALIC},{interval:["1D7A9","1D7C9"],base:t.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:I.SANSSERIFBOLDITALIC},{interval:["0030","0039"],base:t.DIGIT,subst:{},offset:0,category:"Nd",font:I.NORMAL},{interval:["2070","2079"],base:t.DIGIT,subst:{2071:"00B9",2072:"00B2",2073:"00B3"},offset:0,category:"No",font:e.SUPER},{interval:["2080","2089"],base:t.DIGIT,subst:{},offset:0,category:"No",font:e.SUB},{interval:["245F","2473"],base:t.DIGIT,subst:{"245F":"24EA"},offset:0,category:"No",font:e.CIRCLED},{interval:["3251","325F"],base:t.DIGIT,subst:{},offset:21,category:"No",font:e.CIRCLED},{interval:["32B1","32BF"],base:t.DIGIT,subst:{},offset:36,category:"No",font:e.CIRCLED},{interval:["2474","2487"],base:t.DIGIT,subst:{},offset:1,category:"No",font:e.PARENTHESIZED},{interval:["2487","249B"],base:t.DIGIT,subst:{2487:"1F100"},offset:0,category:"No",font:e.PERIOD},{interval:["2775","277F"],base:t.DIGIT,subst:{2775:"24FF"},offset:0,category:"No",font:e.NEGATIVECIRCLED},{interval:["24EB","24F4"],base:t.DIGIT,subst:{},offset:11,category:"No",font:e.NEGATIVECIRCLED},{interval:["24F5","24FE"],base:t.DIGIT,subst:{},offset:1,category:"No",font:e.DOUBLECIRCLED},{interval:["277F","2789"],base:t.DIGIT,subst:{"277F":"1F10B"},offset:0,category:"No",font:e.CIRCLEDSANSSERIF},{interval:["2789","2793"],base:t.DIGIT,subst:{2789:"1F10C"},offset:0,category:"No",font:e.NEGATIVECIRCLEDSANSSERIF},{interval:["FF10","FF19"],base:t.DIGIT,subst:{},offset:0,category:"Nd",font:I.FULLWIDTH},{interval:["1D7CE","1D7D7"],base:t.DIGIT,subst:{},offset:0,category:"Nd",font:I.BOLD},{interval:["1D7D8","1D7E1"],base:t.DIGIT,subst:{},offset:0,category:"Nd",font:I.DOUBLESTRUCK},{interval:["1D7E2","1D7EB"],base:t.DIGIT,subst:{},offset:0,category:"Nd",font:I.SANSSERIF},{interval:["1D7EC","1D7F5"],base:t.DIGIT,subst:{},offset:0,category:"Nd",font:I.SANSSERIFBOLD},{interval:["1D7F6","1D7FF"],base:t.DIGIT,subst:{},offset:0,category:"Nd",font:I.MONOSPACE},{interval:["1F101","1F10A"],base:t.DIGIT,subst:{},offset:0,category:"No",font:e.COMMA},{interval:["24B6","24CF"],base:t.LATINCAP,subst:{},capital:!0,category:"So",font:e.CIRCLED},{interval:["24D0","24E9"],base:t.LATINSMALL,subst:{},capital:!1,category:"So",font:e.CIRCLED},{interval:["1F110","1F129"],base:t.LATINCAP,subst:{},capital:!0,category:"So",font:e.PARENTHESIZED},{interval:["249C","24B5"],base:t.LATINSMALL,subst:{},capital:!1,category:"So",font:e.PARENTHESIZED},{interval:["1F130","1F149"],base:t.LATINCAP,subst:{},capital:!0,category:"So",font:e.SQUARED},{interval:["1F170","1F189"],base:t.LATINCAP,subst:{},capital:!0,category:"So",font:e.NEGATIVESQUARED},{interval:["1F150","1F169"],base:t.LATINCAP,subst:{},capital:!0,category:"So",font:e.NEGATIVECIRCLED}],Ne=new Map;function ge(e,t){return e+t.split("-").map(e=>e[0].toUpperCase()+e.slice(1)).join("")}for(const B of me){const q=ge(B.base,B.font),H=Ee(B.interval,B.subst);let e=Ne.get(q);e?e.unicode=e.unicode.concat(H):((e=B).unicode=H,Ne.set(q,e))}(g=K=K||{}).PUNCTUATION="punctuation",g.FENCE="fence",g.NUMBER="number",g.IDENTIFIER="identifier",g.TEXT="text",g.OPERATOR="operator",g.RELATION="relation",g.LARGEOP="largeop",g.FUNCTION="function",g.ACCENT="accent",g.FENCED="fenced",g.FRACTION="fraction",g.PUNCTUATED="punctuated",g.RELSEQ="relseq",g.MULTIREL="multirel",g.INFIXOP="infixop",g.PREFIXOP="prefixop",g.POSTFIXOP="postfixop",g.APPL="appl",g.INTEGRAL="integral",g.BIGOP="bigop",g.SQRT="sqrt",g.ROOT="root",g.LIMUPPER="limupper",g.LIMLOWER="limlower",g.LIMBOTH="limboth",g.SUBSCRIPT="subscript",g.SUPERSCRIPT="superscript",g.UNDERSCORE="underscore",g.OVERSCORE="overscore",g.TENSOR="tensor",g.TABLE="table",g.MULTILINE="multiline",g.MATRIX="matrix",g.VECTOR="vector",g.CASES="cases",g.ROW="row",g.LINE="line",g.CELL="cell",g.ENCLOSE="enclose",g.INFERENCE="inference",g.RULELABEL="rulelabel",g.CONCLUSION="conclusion",g.PREMISES="premises",g.UNKNOWN="unknown",g.EMPTY="empty";const m=Object.assign({},K),f=((O=n=n||{}).COMMA="comma",O.SEMICOLON="semicolon",O.ELLIPSIS="ellipsis",O.FULLSTOP="fullstop",O.QUESTION="question",O.EXCLAMATION="exclamation",O.QUOTES="quotes",O.DASH="dash",O.TILDE="tilde",O.PRIME="prime",O.DEGREE="degree",O.VBAR="vbar",O.COLON="colon",O.OPENFENCE="openfence",O.CLOSEFENCE="closefence",O.APPLICATION="application",O.DUMMY="dummy",O.UNIT="unit",O.LABEL="label",O.OPEN="open",O.CLOSE="close",O.TOP="top",O.BOTTOM="bottom",O.NEUTRAL="neutral",O.METRIC="metric",O.LATINLETTER="latinletter",O.GREEKLETTER="greekletter",O.OTHERLETTER="otherletter",O.NUMBERSET="numbersetletter",O.INTEGER="integer",O.FLOAT="float",O.OTHERNUMBER="othernumber",O.INFTY="infty",O.MIXED="mixed",O.MULTIACCENT="multiaccent",O.OVERACCENT="overaccent",O.UNDERACCENT="underaccent",O.UNDEROVER="underover",O.SUBSUP="subsup",O.LEFTSUB="leftsub",O.LEFTSUPER="leftsuper",O.RIGHTSUB="rightsub",O.RIGHTSUPER="rightsuper",O.LEFTRIGHT="leftright",O.ABOVEBELOW="abovebelow",O.INTERVAL="interval",O.SETEMPTY="set empty",O.SETEXT="set extended",O.SETSINGLE="set singleton",O.SETCOLLECT="set collection",O.STRING="string",O.SPACE="space",O.ANNOTATION="annotation",O.TEXT="text",O.SEQUENCE="sequence",O.ENDPUNCT="endpunct",O.STARTPUNCT="startpunct",O.NEGATIVE="negative",O.POSITIVE="positive",O.NEGATION="negation",O.MULTIOP="multiop",O.PREFIXOP="prefix operator",O.POSTFIXOP="postfix operator",O.LIMFUNC="limit function",O.INFIXFUNC="infix function",O.PREFIXFUNC="prefix function",O.POSTFIXFUNC="postfix function",O.SIMPLEFUNC="simple function",O.COMPFUNC="composed function",O.SUM="sum",O.INTEGRAL="integral",O.GEOMETRY="geometry",O.BOX="box",O.BLOCK="block",O.ADDITION="addition",O.MULTIPLICATION="multiplication",O.SUBTRACTION="subtraction",O.IMPLICIT="implicit",O.DIVISION="division",O.VULGAR="vulgar",O.EQUALITY="equality",O.INEQUALITY="inequality",O.ARROW="arrow",O.ELEMENT="element",O.NONELEMENT="nonelement",O.REELEMENT="reelement",O.RENONELEMENT="renonelement",O.SET="set",O.DETERMINANT="determinant",O.ROWVECTOR="rowvector",O.BINOMIAL="binomial",O.SQUAREMATRIX="squarematrix",O.CYCLE="cycle",O.MULTILINE="multiline",O.MATRIX="matrix",O.VECTOR="vector",O.CASES="cases",O.TABLE="table",O.CAYLEY="cayley",O.PROOF="proof",O.LEFT="left",O.RIGHT="right",O.UP="up",O.DOWN="down",O.FINAL="final",O.SINGLE="single",O.HYP="hyp",O.AXIOM="axiom",O.LOGIC="logic",O.UNKNOWN="unknown",O.MGLYPH="mglyph",Object.assign({},n)),o=((g=ye=ye||{}).CALIGRAPHIC="caligraphic",g.CALIGRAPHICBOLD="caligraphic-bold",g.OLDSTYLE="oldstyle",g.OLDSTYLEBOLD="oldstyle-bold",g.UNKNOWN="unknown",Object.assign(Object.assign(Object.assign({},I),ye),e)),a=((K=W=W||{}).ALLLETTERS="allLetters",K.D="d",K.BAR="bar",K.TILDE="tilde",Object.assign(Object.assign({},t),W));const Te={functionApplication:String.fromCodePoint(8289),invisibleTimes:String.fromCodePoint(8290),invisibleComma:String.fromCodePoint(8291),invisiblePlus:String.fromCodePoint(8292)};class Ie extends Map{get(e){return super.get(e)||{role:f.UNKNOWN,type:m.UNKNOWN,font:o.UNKNOWN}}}class be extends Map{set(e,t,n=""){return super.set(this.secKey(t,e),n||t),this}has(e,t){return super.has(this.secKey(t,e))}get(e,t){return super.get(this.secKey(t,e))}secKey(e,t){return t?e+" "+t:""+e}}const N={Meaning:new Ie,Secondary:new be,FencesHoriz:new Map,FencesVert:new Map,LatexCommands:new Map};function Ae(e,t){for(const n of e)N.Meaning.set(n,{role:t.role||f.UNKNOWN,type:t.type||m.UNKNOWN,font:t.font||o.UNKNOWN}),t.secondary&&N.Secondary.set(n,t.secondary)}function Oe(e,n,t=1){const r={},o=function(){let e=[];for(const t of n)Array.isArray(t)?e=e.concat(pe(t,{}).map(e=>parseInt(e,16))):e.push(parseInt(t,16));return e}();for(const n of o)r[n]||(e.set(String.fromCodePoint(n),String.fromCodePoint(n+t)),r[n]=!0,r[n+t]=!0)}var p,n,c,g,T,I,b,ye,A,Re,O=["cos","cot","csc","sec","sin","tan","arccos","arccot","arccsc","arcsec","arcsin","arctan"].concat(["cosh","coth","csch","sech","sinh","tanh","arcosh","arcoth","arcsch","arsech","arsinh","artanh"],["deg","det","dim","hom","ker","Tr"],["log","ln","lg","exp","gcd","lcm","arg","im","re","Pr"]);function Le(e,n,r,t,o,i=[],s={},a={}){const c=Ne.get(ge(e,t));if(c){c.unicode.forEach(t=>{N.Meaning.set(t,{type:n,role:r,font:o}),i.forEach(e=>N.Secondary.set(t,e))});var l,u,h=c.unicode,d=s;for([l,u]of Object.entries(d)){const d=h[l];void 0!==d&&N.Meaning.set(d,u)}var f,p,E=c.unicode,m=a;for([f,p]of Object.entries(m)){const m=E[f];void 0!==m&&N.Secondary.set(m,p)}}}[{set:["23","26","40","5c","a1","a7","b6","bf","2017",["2022","2025"],"2027","203b","203c",["2041","2043"],["2047","2049"],["204b","204d"],"2050","2055","2056",["2058","205e"],"2234","2235","fe45","fe46","fe5f","fe60","fe68","fe6b","ff03","ff06","ff0f","ff20","ff3c"],type:m.PUNCTUATION,role:f.UNKNOWN},{set:["22","ab","bb","2dd",["2018","201f"],"2039","203a",["301d","301f"],"fe10","ff02","ff07"],type:m.PUNCTUATION,role:f.QUOTES},{set:["3b","204f","2a1f","2a3e","fe14","fe54","ff1b"],type:m.PUNCTUATION,role:f.SEMICOLON},{set:["3f","203d","fe16","fe56","ff1f"],type:m.PUNCTUATION,role:f.QUESTION},{set:["21","fe15","fe57","ff01"],type:m.PUNCTUATION,role:f.EXCLAMATION},{set:["5e","60","a8","aa","b4","ba","2c7",["2d8","2da"],"2040","207a","207d","207e","ff3e","ff40"],type:m.PUNCTUATION,role:f.OVERACCENT},{set:["b8","2db","2038","203f","2054","208a","208d","208e"],type:m.PUNCTUATION,role:f.UNDERACCENT},{set:["3a","2982","fe13","fe30","fe55","ff1a"],type:m.PUNCTUATION,role:f.COLON},{set:["2c","2063","fe50","ff0c"],type:m.PUNCTUATION,role:f.COMMA},{set:["2026",["22ee","22f1"],"fe19"],type:m.PUNCTUATION,role:f.ELLIPSIS},{set:["2e","fe52","ff0e"],type:m.PUNCTUATION,role:f.FULLSTOP},{set:["2d","207b","208b","2212","2796","fe63","ff0d"],type:m.OPERATOR,role:f.DASH,secondary:a.BAR},{set:["5f","af",["2010","2015"],"203e","208b",["fe49","fe4f"],"fe58","ff3f","ffe3"],type:m.PUNCTUATION,role:f.DASH,secondary:a.BAR},{set:["7e","2dc","2f7","303","330","334","2053","223c","223d","301c","ff5e"],type:m.OPERATOR,role:f.TILDE,secondary:a.TILDE},{set:["27","2b9","2ba",["2032","2037"],"2057"],type:m.PUNCTUATION,role:f.PRIME},{set:["b0"],type:m.PUNCTUATION,role:f.DEGREE},{set:["2b","b1","2064","2213","2214","2228","222a",["228c","228e"],"2294","2295","229d","229e","22bb","22bd","22c4","22ce","22d3","2304","271b","271c","2795","27cf","29fa","29fb","29fe",["2a22","2a28"],"2a2d","2a2e","2a39","2a42","2a45","2a46","2a48","2a4a","2a4c","2a4f","2a50","2a52","2a54","2a56","2a57","2a59","2a5b","2a5d",["2a61","2a63"],"2adc","2add","fe62","ff0b"],type:m.OPERATOR,role:f.ADDITION},{set:["2a","b7","d7","2020","2021","204e","2051","2062",["2217","2219"],"2227","2229","2240","2293","2297",["2299","229b"],"22a0","22a1","22b9","22bc",["22c5","22cc"],"22cf","22d2","22d4","2303","2305","2306","25cb","2715","2716","27ce","27d1",["29d1","29d7"],"29e2","2a1d",["2a2f","2a37"],["2a3b","2a3d"],"2a40","2a43","2a44","2a47","2a49","2a4b","2a4d","2a4e","2a51","2a53","2a55","2a58","2a5a","2a5c",["2a5e","2a60"],"2ada","2adb","fe61","ff0a"],type:m.OPERATOR,role:f.MULTIPLICATION},{set:["2d","af","2010","2011","2052","207b","208b","2212","2216","2238","2242","2296","229f","2796","29ff",["2a29","2a2c"],"2a3a","2a41","fe63","ff0d"],type:m.OPERATOR,role:f.SUBTRACTION},{set:["2f","f7","2044","2215","2298","2797","27cc","29bc",["29f5","29f9"],"2a38"],type:m.OPERATOR,role:f.DIVISION},{set:["25","2030","2031","ff05","fe6a"],type:m.OPERATOR,role:f.POSTFIXOP},{set:["ac","2200","2201","2203","2204","2206",["221a","221c"],"2310","ffe2"],type:m.OPERATOR,role:f.PREFIXOP},{set:["2320","2321","23aa","23ae","23af","23b2","23b3","23b6","23b7"],type:m.OPERATOR,role:f.PREFIXOP},{set:["1d7ca","1d7cb"],type:m.OPERATOR,role:f.PREFIXOP,font:o.BOLD},{set:["3d","7e","207c","208c","221d","2237",["223a","223f"],"2243","2245","2248",["224a","224e"],["2251","225f"],"2261","2263","229c","22cd","22d5","29e4","29e6","2a66","2a67",["2a6a","2a6c"],["2a6c","2a78"],"fe66","ff1d"],type:m.RELATION,role:f.EQUALITY},{set:["3c","3e","2241","2242","2244","2246","2247","2249","224f","2250","2260","2262",["2264","2281"],"22b0","22b1",["22d6","22e1"],["22e6","22e9"],["2976","2978"],"29c0","29c1","29e1","29e3","29e5",["2a79","2abc"],["2af7","2afa"],"fe64","fe65","ff1c","ff1e"],type:m.RELATION,role:f.INEQUALITY},{set:[["2282","228b"],["228f","2292"],["22b2","22b8"],"22d0","22d1",["22e2","22e5"],["22ea","22ed"],"27c3","27c4",["27c7","27c9"],["27d5","27d7"],"27dc",["2979","297b"],"29df",["2abd","2ad8"]],type:m.RELATION,role:f.SET},{set:["2236",["27e0","27e5"],"292b","292c",["29b5","29bb"],"29be","29bf",["29c2","29d0"]],type:m.RELATION,role:f.UNKNOWN},{set:["2205",["29b0","29b4"]],type:m.IDENTIFIER,role:f.SETEMPTY},{set:["1ab2","221e",["29dc","29de"]],type:m.IDENTIFIER,role:f.INFTY},{set:["22a2","22a3",["22a6","22af"],"27da","27db","27dd","27de","2ade",["2ae2","2ae6"],"2aec","2aed"],type:m.RELATION,role:f.LOGIC},{set:["22a4","22a5","22ba","27d8","27d9","27df","2adf","2ae0",["2ae7","2aeb"],"2af1"],type:m.IDENTIFIER,role:f.LOGIC},{set:[["2190","21ff"],"2301","2324","238b","2794",["2798","27af"],["27b1","27be"],["27f0","27ff"],["2900","292a"],["292d","2975"],["297c","297f"],["2b00","2b11"],["2b30","2b4c"],["ffe9","ffec"]],type:m.RELATION,role:f.ARROW},{set:["2208","220a",["22f2","22f9"],"22ff","27d2","2ad9"],type:m.OPERATOR,role:f.ELEMENT},{set:["2209"],type:m.OPERATOR,role:f.NONELEMENT},{set:["220b","220d",["22fa","22fe"]],type:m.OPERATOR,role:f.REELEMENT},{set:["220c"],type:m.OPERATOR,role:f.RENONELEMENT},{set:[["220f","2211"],["22c0","22c3"],["2a00","2a0b"],"2a3f","2afc","2aff"],type:m.LARGEOP,role:f.SUM},{set:["2140"],type:m.LARGEOP,role:f.SUM,font:o.DOUBLESTRUCK},{set:[["222b","2233"],["2a0c","2a17"],["2a17","2a1c"]],type:m.LARGEOP,role:f.INTEGRAL},{set:[["2500","257F"]],type:m.RELATION,role:f.BOX},{set:[["2580","259F"]],type:m.IDENTIFIER,role:f.BLOCK},{set:[["25A0","25FF"],["2B12","2B2F"],["2B50","2B59"]],type:m.RELATION,role:f.GEOMETRY},{set:["220e","2300","2302","2311","29bd","29e0",["29e8","29f3"],"2a1e","2afe","ffed","ffee"],type:m.OPERATOR,role:f.GEOMETRY},{set:[["221f","2222"],"22be","22bf",["2312","2314"],"237c","27c0",["299b","29af"]],type:m.OPERATOR,role:f.GEOMETRY},{set:["24",["a2","a5"],"b5","2123",["2125","2127"],"212a","212b","fe69","ff04","ffe0","ffe1","ffe5","ffe6"],type:m.IDENTIFIER,role:f.UNKNOWN},{set:["a9","ae","210f","2114","2116","2117",["211e","2122"],"212e","2132",["2139","213b"],["2141","2144"],"214d","214e",["1f12a","1f12c"],"1f18a"],type:m.IDENTIFIER,role:f.OTHERLETTER},{set:["2224","2226","2239","2307","27b0","27bf","27c1","27c2","27ca","27cb","27cd","27d0","27d3","27d4","2981","2999","299a","29e7","29f4","2a20","2a21","2a64","2a65","2a68","2a69","2ae1",["2aee","2af0"],"2af2","2af3","2af5","2af6","2afb","2afd"],type:m.OPERATOR,role:f.UNKNOWN},{set:["2605","2606","26aa","26ab",["2720","274d"]],type:m.OPERATOR,role:f.UNKNOWN},{set:[["2145","2149"]],type:m.IDENTIFIER,role:f.LATINLETTER,font:o.DOUBLESTRUCKITALIC,secondary:a.ALLLETTERS},{set:[["213c","213f"]],type:m.IDENTIFIER,role:f.GREEKLETTER,font:o.DOUBLESTRUCK,secondary:a.ALLLETTERS},{set:["3d0","3d7","3f6",["1d26","1d2a"],"1d5e","1d60",["1d66","1d6a"]],type:m.IDENTIFIER,role:f.GREEKLETTER,font:o.NORMAL,secondary:a.ALLLETTERS},{set:[["2135","2138"]],type:m.IDENTIFIER,role:f.OTHERLETTER,font:o.NORMAL,secondary:a.ALLLETTERS},{set:["131","237"],type:m.IDENTIFIER,role:f.LATINLETTER,font:o.NORMAL},{set:["1d6a4","1d6a5"],type:m.IDENTIFIER,role:f.LATINLETTER,font:o.ITALIC},{set:["2113","2118"],type:m.IDENTIFIER,role:f.LATINLETTER,font:o.SCRIPT},{set:[["c0","d6"],["d8","f6"],["f8","1bf"],["1c4","2af"],["1d00","1d25"],["1d6b","1d9a"],["1e00","1ef9"],["363","36f"],["1dd3","1de6"],["1d62","1d65"],"1dca","2071","207f",["2090","209c"],"2c7c"],type:m.IDENTIFIER,role:f.LATINLETTER,font:o.NORMAL},{set:[["00bc","00be"],["2150","215f"],"2189"],type:m.NUMBER,role:f.FLOAT},{set:["23E8",["3248","324f"]],type:m.NUMBER,role:f.INTEGER},{set:[["214A","214C"],"2705","2713","2714","2717","2718"],type:m.IDENTIFIER,role:f.UNKNOWN},{set:["20","a0","ad",["2000","200f"],["2028","202f"],["205f","2060"],"206a","206b","206e","206f","feff",["fff9","fffb"]],type:m.TEXT,role:f.SPACE},{set:["7c","a6","2223","23b8","23b9","23d0","2758",["fe31","fe34"],"ff5c","ffe4","ffe8"],type:m.FENCE,role:f.NEUTRAL},{set:["2016","2225","2980","2af4"],type:m.FENCE,role:f.METRIC}].forEach(e=>{var n=e["set"],e=function(e,t){var n={};for(o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,o=Object.getOwnPropertySymbols(e);r<o.length;r++)t.indexOf(o[r])<0&&Object.prototype.propertyIsEnumerable.call(e,o[r])&&(n[o[r]]=e[o[r]]);return n}(e,["set"]);return Ae(function(){let e=[];for(const t of n)Array.isArray(t)?e=e.concat(Ee(t)):e.push(String.fromCodePoint(parseInt(t,16)));return e}(),e)}),Oe(N.FencesVert,["23b4",["23dc","23e1"],["fe35","fe44"],"fe47"]),Oe(N.FencesHoriz,["28","2045","207D","208D",["2308","230f"],["231c","231f"],"2329","23b0",["2768","2775"],"27c5",["27e6","27ef"],["2983","2998"],["29d8","29db"],"29fc",["2e22","2e29"],["3008","3011"],["3014","301b"],"fd3e","fe17",["fe59","fe5e"],"ff08","ff5f","ff62"]),Oe(N.FencesHoriz,["5b","7b","ff3b","ff5b"],2),Oe(N.FencesHoriz,[["239b","23a6"]],3),Oe(N.FencesHoriz,[["23a7","23a9"]],4),Ae([...N.FencesHoriz.keys()],{type:m.FENCE,role:f.OPEN}),Ae([...N.FencesHoriz.values()],{type:m.FENCE,role:f.CLOSE}),Ae([...N.FencesVert.keys()],{type:m.FENCE,role:f.TOP}),Ae([...N.FencesVert.values()],{type:m.FENCE,role:f.BOTTOM});for([A,Re]of Object.entries(o)){A=e[A]?o.UNKNOWN:Re===o.FULLWIDTH?o.NORMAL:Re;Le(t.LATINCAP,m.IDENTIFIER,f.LATINLETTER,Re,A,[a.ALLLETTERS]),Le(t.LATINSMALL,m.IDENTIFIER,f.LATINLETTER,Re,A,[a.ALLLETTERS],{},{3:a.D}),Le(t.GREEKCAP,m.IDENTIFIER,f.GREEKLETTER,Re,A,[a.ALLLETTERS]),Le(t.GREEKSMALL,m.IDENTIFIER,f.GREEKLETTER,Re,A,[a.ALLLETTERS],{0:{type:m.OPERATOR,role:f.PREFIXOP,font:A},26:{type:m.OPERATOR,role:f.PREFIXOP,font:A}}),Le(t.DIGIT,m.NUMBER,f.INTEGER,Re,A)}Ae(["inf","lim","liminf","limsup","max","min","sup","injlim","projlim"],{type:m.FUNCTION,role:f.LIMFUNC}),Ae(O,{type:m.FUNCTION,role:f.PREFIXFUNC}),Ae(["mod","rem"],{type:m.OPERATOR,role:f.PREFIXFUNC});const Ce=[];function _e(n,r){for(let e,t=0;e=Ce[t];t++){var o=e.compare(n,r);if(0!==o)return o}return 0}function Se(e,t){return e.match(/^.+:.+$/)||!t?e:e+":"+t}new class{constructor(e,t=null){this.comparator=e,this.type=t,e=this,Ce.push(e)}compare(e,t){return this.type&&this.type===e.type&&this.type===t.type?this.comparator(e,t):0}}(function(e,t){return e.role===f.SIMPLEFUNC?1:t.role===f.SIMPLEFUNC?-1:0},m.IDENTIFIER);class De extends Map{set(e,t){return super.set(Se(e,t.font),t),this}setNode(e){this.set(e.textContent,e.meaning())}get(e,t=null){return super.get(Se(e,t))}getNode(e){return this.get(e.textContent,e.font)}}class ve extends Map{add(e,t){const n=this.get(e);n?n.push(t):super.set(e,[t])}get(e,t=null){return super.get(Se(e,t))}getNode(e){return this.get(e.textContent,e.font)}minimize(){for(var[e,t]of this)1===t.length&&this.delete(e)}isMultiValued(){for(const e of this.values())if(1<e.length)return!0;return!1}}class Me extends ve{add(e,t){super.add(Se(e,t.font),t)}addNode(e){this.add(e.textContent,e)}toString(){const e=[];for(var[t,n]of this){var r=Array(t.length+3).join(" "),n=n.map(e=>e.toString()).join("\n"+r);e.push(t+": "+n)}return e.join("\n")}collateMeaning(){const e=new we;for(var[t,n]of this)e.set(t,n.map(e=>e.meaning()));return e}}class we extends ve{add(e,t){const n=this.get(e,t.font);n&&n.find(function(e){return e.type===t.type&&e.role===t.role&&e.font===t.font})||super.add(Se(e,t.font),t)}addNode(e){this.add(e.textContent,e.meaning())}toString(){const e=[];for(var[t,n]of this){var r=Array(t.length+3).join(" "),n=n.map(e=>`{type: ${e.type}, role: ${e.role}, font: ${e.font}}`).join("\n"+r);e.push(t+": "+n)}return e.join("\n")}reduce(){for(var[e,t]of this)1!==t.length&&this.set(e,function(e){if(e.length<=1)return e;const t=e.slice(),n=(t.sort(_e),[]);for(var r;r=t.pop(),n.push(r),r&&t.length&&0===_e(t[t.length-1],r););return n}(t))}default(){const e=new De;for(var[t,n]of this)1===n.length&&e.set(t,n[0]);return e}newDefault(){var e=this.default(),t=(this.reduce(),this.default());return e.size!==t.size?t:null}}(n=p=p||{}).ANNOTATION="ANNOTATION",n.ANNOTATIONXML="ANNOTATION-XML",n.MACTION="MACTION",n.MALIGNGROUP="MALIGNGROUP",n.MALIGNMARK="MALIGNMARK",n.MATH="MATH",n.MENCLOSE="MENCLOSE",n.MERROR="MERROR",n.MFENCED="MFENCED",n.MFRAC="MFRAC",n.MGLYPH="MGLYPH",n.MI="MI",n.MLABELEDTR="MLABELEDTR",n.MMULTISCRIPTS="MMULTISCRIPTS",n.MN="MN",n.MO="MO",n.MOVER="MOVER",n.MPADDED="MPADDED",n.MPHANTOM="MPHANTOM",n.MPRESCRIPTS="MPRESCRIPTS",n.MROOT="MROOT",n.MROW="MROW",n.MS="MS",n.MSPACE="MSPACE",n.MSQRT="MSQRT",n.MSTYLE="MSTYLE",n.MSUB="MSUB",n.MSUBSUP="MSUBSUP",n.MSUP="MSUP",n.MTABLE="MTABLE",n.MTD="MTD",n.MTEXT="MTEXT",n.MTR="MTR",n.MUNDER="MUNDER",n.MUNDEROVER="MUNDEROVER",n.NONE="NONE",n.SEMANTICS="SEMANTICS";const Pe=Object.values(p),xe=[p.MO,p.MI,p.MN,p.MTEXT,p.MS,p.MSPACE],Ue=[p.MERROR,p.MPHANTOM,p.MALIGNGROUP,p.MALIGNMARK,p.MPRESCRIPTS,p.ANNOTATION,p.ANNOTATIONXML],Fe=[p.MATH,p.MROW,p.MPADDED,p.MACTION,p.NONE,p.MSTYLE,p.SEMANTICS],ke=[p.MROOT,p.MSQRT],Be=["aria-label","exact-speech","alt"];function qe(e){return e&&d(e)===p.MATH}function He(e){return e&&(Ue.includes(d(e))||!Pe.includes(d(e)))}function Ge(e){return e&&Fe.includes(d(e))}function Ve(n){const r=[];for(let e,t=0;e=n[t];t++)if(e.nodeType===j.ELEMENT_NODE){const n=d(e);Ue.includes(n)||Fe.includes(n)&&0===e.childNodes.length||r.push(e)}return r}function Ye(t,e){var n;if(null!=(n=e.attributes)&&n.length){const n=e.attributes;for(let e=n.length-1;0<=e;e--){const r=n[e].name;r.match(/^ext/)&&(t.attributes[r]=n[e].value,t.nobreaking=!0),Be.includes(r)&&(t.attributes["ext-speech"]=n[e].value,t.nobreaking=!0),r.match(/texclass$/)&&(t.attributes.texclass=n[e].value),"data-latex"===r.toLowerCase()&&(t.attributes.latex=n[e].value),"href"===r&&(t.attributes.href=n[e].value,t.nobreaking=!0)}}}function Xe(e){return e&&e.embellished&&0<e.childNodes.length?Xe(e.childNodes[0]):e}function je(n,r,o){o&&n.reverse();const i=[];for(let e,t=0;e=n[t];t++){if(r(e))return o?{head:n.slice(t+1).reverse(),div:e,tail:i.reverse()}:{head:i,div:e,tail:n.slice(t+1)};i.push(e)}return o?{head:[],div:null,tail:i.reverse()}:{head:i,div:null,tail:[]}}function y(e,t){let n=e;const r=[],o=[];for(var i;i=je(n,t),o.push(i.head),r.push(i.div),n=i.tail,i.div;);return r.pop(),{rel:r,comp:o}}(g=c=c||{}).EMBELLISHED="embellished",g.FENCEPOINTER="fencepointer",g.FONT="font",g.ID="id",g.ANNOTATION="annotation",g.ROLE="role",g.TYPE="type",g.CHILDREN="children",g.CONTENT="content",g.TEXT="$t";class R{static fromXml(e){const t=parseInt(e.getAttribute("id"),10),n=new R(t);return n.type=e.tagName,R.setAttribute(n,e,"role"),R.setAttribute(n,e,"font"),R.setAttribute(n,e,"embellished"),R.setAttribute(n,e,"fencepointer","fencePointer"),e.getAttribute("annotation")&&n.parseAnnotation(e.getAttribute("annotation")),Ye(n,e),R.processChildren(n,e),n}static setAttribute(e,t,n,r){r=r||n;t=t.getAttribute(n);t&&(e[r]=t)}static processChildren(t,e){for(const n of E(e.childNodes))if(n.nodeType===j.TEXT_NODE)t.textContent=n.textContent;else{const e=E(n.childNodes).map(R.fromXml);e.forEach(e=>e.parent=t),"CONTENT"===d(n)?t.contentNodes=e:t.childNodes=e}}constructor(e){this.id=e,this.mathml=[],this.parent=null,this.type=m.UNKNOWN,this.role=f.UNKNOWN,this.font=o.UNKNOWN,this.embellished=null,this.fencePointer="",this.childNodes=[],this.textContent="",this.mathmlTree=null,this.contentNodes=[],this.annotation={},this.attributes={},this.nobreaking=!1}querySelectorAll(n){let r=[];for(let e,t=0;e=this.childNodes[t];t++)r=r.concat(e.querySelectorAll(n));for(let e,t=0;e=this.contentNodes[t];t++)r=r.concat(e.querySelectorAll(n));return n(this)&&r.unshift(this),r}xml(o,i){function e(e,t){const n=t.map(function(e){return e.xml(o,i)}),r=o.createElementNS("",e);for(let e,t=0;e=n[t];t++)r.appendChild(e);return r}const t=o.createElementNS("",this.type);return i||this.xmlAttributes(t),t.textContent=this.textContent,0<this.contentNodes.length&&t.appendChild(e(c.CONTENT,this.contentNodes)),0<this.childNodes.length&&t.appendChild(e(c.CHILDREN,this.childNodes)),t}toString(e=!1){var t=oe("<snode/>");return ae(this.xml(t.ownerDocument,e))}allAttributes(){const e=[];return e.push([c.ROLE,this.role]),this.font!==o.UNKNOWN&&e.push([c.FONT,this.font]),Object.keys(this.annotation).length&&e.push([c.ANNOTATION,this.annotationXml()]),this.embellished&&e.push([c.EMBELLISHED,this.embellished]),this.fencePointer&&e.push([c.FENCEPOINTER,this.fencePointer]),e.push([c.ID,this.id.toString()]),e}annotationXml(){const t=[];for(const[n,e]of Object.entries(this.annotation))e.forEach(e=>t.push(n+":"+e));return t.join(";")}attributesXml(){const e=[];for(var[t,n]of Object.entries(this.attributes))e.push(t+":"+R.escapeValue(n));return e.join(";")}toJson(){const n={};n[c.TYPE]=this.type;var r=this.allAttributes();for(let e,t=0;e=r[t];t++)n[e[0]]=e[1].toString();return this.textContent&&(n[c.TEXT]=this.textContent),this.childNodes.length&&(n[c.CHILDREN]=this.childNodes.map(function(e){return e.toJson()})),this.contentNodes.length&&(n[c.CONTENT]=this.contentNodes.map(function(e){return e.toJson()})),n}updateContent(e,t){var t=t?e.replace(/^[ \f\n\r\t\v\u200b]*/,"").replace(/[ \f\n\r\t\v\u200b]*$/,""):e.trim();this.textContent!==(e=e&&!t?e:t)&&(t=N.Meaning.get(e.replace(/\s/g," ")),this.textContent=e,this.role=t.role,this.type=t.type,this.font=t.font)}addMathmlNodes(n){for(let e,t=0;e=n[t];t++)-1===this.mathml.indexOf(e)&&this.mathml.push(e)}appendChild(e){this.childNodes.push(e),this.addMathmlNodes(e.mathml),e.parent=this}replaceChild(t,n){var e,r=this.childNodes.indexOf(t);-1!==r&&(t.parent=null,(n.parent=this).childNodes[r]=n,r=t.mathml.filter(function(e){return-1===n.mathml.indexOf(e)}),e=n.mathml.filter(function(e){return-1===t.mathml.indexOf(e)}),this.removeMathmlNodes(r),this.addMathmlNodes(e))}appendContentNode(e){e&&(this.contentNodes.push(e),this.addMathmlNodes(e.mathml),e.parent=this)}removeContentNode(e){e&&-1!==(e=this.contentNodes.indexOf(e))&&this.contentNodes.slice(e,1)}equals(r){if(!r)return!1;if(this.type!==r.type||this.role!==r.role||this.textContent!==r.textContent||this.childNodes.length!==r.childNodes.length||this.contentNodes.length!==r.contentNodes.length)return!1;for(let e,t,n=0;e=this.childNodes[n],t=r.childNodes[n];n++)if(!e.equals(t))return!1;for(let e,t,n=0;e=this.contentNodes[n],t=r.contentNodes[n];n++)if(!e.equals(t))return!1;return!0}displayTree(){console.info(this.displayTree_(0))}addAnnotation(e,t){t&&this.addAnnotation_(e,t)}getAnnotation(e){return this.annotation[e]||[]}hasAnnotation(e,t){const n=this.annotation[e];return!!n&&-1!==n.indexOf(t)}parseAnnotation(e){const n=e.split(";");for(let e=0,t=n.length;e<t;e++){var r=n[e].split(":");this.addAnnotation(r[0],r[1])}}meaning(){return{type:this.type,role:this.role,font:this.font}}xmlAttributes(n){var r=this.allAttributes();for(let e,t=0;e=r[t];t++)n.setAttribute(e[0],e[1]);this.addExternalAttributes(n)}addExternalAttributes(e){for(var[t,n]of Object.entries(this.attributes))e.setAttribute(t,n)}static escapeValue(e){return e.replace(/;/g,"\\0003B")}parseAttributes(e){if(e){const n=e.split(";");for(let e=0,t=n.length;e<t;e++){const[r,...o]=n[e].split(":");r&&(this.attributes[r]=o.join("").replace(/\\0003B/g,";"))}}}removeMathmlNodes(n){const r=this.mathml;for(let e,t=0;e=n[t];t++){const n=r.indexOf(e);-1!==n&&r.splice(n,1)}this.mathml=r}displayTree_(t){t++;var n=Array(t).join("  ");let r="";r=(r=r+("\n"+n+this.toString())+"\n"+n+"MathmlTree:")+"\n"+n+this.mathmlTreeString()+"\n"+n+"MathML:";for(let e,t=0;e=this.mathml[t];t++)r+="\n"+n+e.toString();return r+="\n"+n+"Begin Content",this.contentNodes.forEach(function(e){r+=e.displayTree_(t)}),r=r+("\n"+n+"End Content")+("\n"+n+"Begin Children"),this.childNodes.forEach(function(e){r+=e.displayTree_(t)}),r+="\n"+n+"End Children"}mathmlTreeString(){return this.mathmlTree?this.mathmlTree.toString():"EMPTY"}addAnnotation_(e,t){const n=this.annotation[e];n&&!n.includes(t)?n.push(t):this.annotation[e]=[t]}}class We{constructor(){this.leafMap=new Me,this.defaultMap=new De,this.idCounter_=-1}makeNode(e){return this.createNode_(e)}makeUnprocessed(e){const t=this.createNode_();return t.mathml=[e],t.mathmlTree=e,t}makeEmptyNode(){const e=this.createNode_();return e.type=m.EMPTY,e}makeContentNode(e){const t=this.createNode_();return t.updateContent(e),t}makeMultipleContentNodes(t,n){const r=[];for(let e=0;e<t;e++)r.push(this.makeContentNode(n));return r}makeLeafNode(e,t){if(!e)return this.makeEmptyNode();const n=this.makeContentNode(e);n.font=t||n.font;e=this.defaultMap.getNode(n);return e&&(n.type=e.type,n.role=e.role,n.font=e.font),this.leafMap.addNode(n),n}makeBranchNode(e,t,n,r){const o=this.createNode_();return r&&o.updateContent(r),o.type=e,o.childNodes=t,o.contentNodes=n,t.concat(n).forEach(function(e){(e.parent=o).addMathmlNodes(e.mathml)}),o}createNode_(e){return void 0!==e?this.idCounter_=Math.max(this.idCounter_,e):e=++this.idCounter_,new R(e)}}function L(e,t){return e.type===t}function Ke(e,t){return e.embellished===t}function C(e,t){return e.role===t}function ze(e){return L(e,m.FENCE)||L(e,m.PUNCTUATION)||L(e,m.OPERATOR)||L(e,m.RELATION)}function Qe(e){return nt(e)&&!C(e,f.DIVISION)||L(e,m.APPL)||et(e)}function $e(e){return nt(e)||et(e)}function Je(e,t){return t&&L(t,m.IDENTIFIER)&&N.Secondary.has(e.textContent,a.D)}function Ze(e){var t;if(L(e,m.IDENTIFIER))return(t=e.textContent[0])&&e.textContent[1]&&N.Secondary.has(t,a.D)}function et(e){return rt(e)||ot(e)}function tt(e){return e.embellished||((t=e.type)===m.OPERATOR||t===m.RELATION||t===m.FENCE||t===m.PUNCTUATION?e.type:null);var t}function nt(e){return L(e,m.OPERATOR)||Ke(e,m.OPERATOR)}function rt(e){return L(e,m.RELATION)||Ke(e,m.RELATION)}function ot(e){return L(e,m.PUNCTUATION)||Ke(e,m.PUNCTUATION)}function it(e){return L(e,m.FENCE)||Ke(e,m.FENCE)}function st(e){return e&&it(e)&&(!e.embellished||function e(t){return!t.embellished||!function(e){return L(e,m.TENSOR)&&(!L(e.childNodes[1],m.EMPTY)||!L(e.childNodes[2],m.EMPTY))&&(!L(e.childNodes[3],m.EMPTY)||!L(e.childNodes[4],m.EMPTY))}(t)&&(!C(t,f.CLOSE)||!L(t,m.TENSOR))&&(!C(t,f.OPEN)||!L(t,m.SUBSCRIPT)&&!L(t,m.SUPERSCRIPT))&&e(t.childNodes[0])}(e))}function at(e){return!!e&&(L(e,m.TABLE)||L(e,m.MULTILINE))}function ct(e){return!!e&&lt(e)&&at(e.childNodes[0])}function lt(e){return!!e&&L(e,m.FENCED)&&(C(e,f.LEFTRIGHT)||_(e))&&1===e.childNodes.length}function ut(e){return e.childNodes.every(function(e){return e.childNodes.length<=1})}function ht(e,t,n){return 1===t.length&&(e[n].type===m.PUNCTUATION||e[n].embellished===m.PUNCTUATION)&&e[n]===t[0]}function dt(e){return L(e,m.IDENTIFIER)&&C(e,f.SIMPLEFUNC)}const ft=[m.PUNCTUATION,m.PUNCTUATED,m.RELSEQ,m.MULTIREL,m.TABLE,m.MULTILINE,m.CASES,m.INFERENCE],pt=[m.LIMUPPER,m.LIMLOWER,m.LIMBOTH,m.SUBSCRIPT,m.SUPERSCRIPT,m.UNDERSCORE,m.OVERSCORE,m.TENSOR];function Et(e){return(t=e).type===m.NUMBER&&(t.role===f.INTEGER||t.role===f.FLOAT)||e.role===f.VULGAR||e.role===f.MIXED;var t}function mt(e){var t=e.childNodes;return e.role===f.UNIT&&(!t.length||t[0].role===f.UNIT)}function Nt(e){var t=e.childNodes;return e.type===m.INFIXOP&&(e.role===f.MULTIPLICATION||e.role===f.IMPLICIT)&&t.length&&(mt(t[0])||Et(t[0]))&&e.childNodes.slice(1).every(mt)}function gt(e){return e.type===m.INFIXOP&&(e.role===f.IMPLICIT||e.role===f.UNIT&&!!e.contentNodes.length&&e.contentNodes[0].textContent===Te.invisibleTimes)}function Tt(e){return e.type===m.INFIXOP&&e.role===f.IMPLICIT}function _(e){return e.role===f.NEUTRAL||e.role===f.METRIC}function It(e,t){return _(e)&&_(t)&&Xe(e).textContent===Xe(t).textContent}function bt(e){return _(e)&&(!e.embellished||e.type!==m.SUPERSCRIPT&&e.type!==m.SUBSCRIPT&&(e.type!==m.TENSOR||e.childNodes[3].type===m.EMPTY&&e.childNodes[4].type===m.EMPTY))}function At(e){return _(e)&&(!e.embellished||e.type!==m.TENSOR||e.childNodes[1].type===m.EMPTY&&e.childNodes[2].type===m.EMPTY)}function Ot(e){return[f.ELEMENT,f.NONELEMENT,f.REELEMENT,f.RENONELEMENT].includes(e.role)}const S={factory:null,options:new r,updateFactory:function(e){S.factory=e},heuristics:new Map,flags:{combine_juxtaposition:!0,convert_juxtaposition:!0,multioperator:!0},blacklist:{},add:function(e){var t=e.name;S.heuristics.set(t,e),S.flags[t]||(S.flags[t]=!1)},run:function(e,t,n){const r=S.heuristics.get(e);return r&&!S.blacklist[e]&&(S.flags[e]||r.applicable(t))?r.apply(t):n?n(t):t}};class D{static getInstance(){return D.instance=D.instance||new D,D.instance}static tableToMultiline(n){if(!ut(n))return S.run("rewrite_subcases",n,D.classifyTable);n.type=m.MULTILINE;for(let e,t=0;e=n.childNodes[t];t++)D.rowToLine_(e,f.MULTILINE);var e;return 1!==n.childNodes.length||L(e=n.childNodes[0],m.LINE)&&e.contentNodes.length&&C(e.contentNodes[0],f.LABEL)||!lt(n.childNodes[0].childNodes[0])||D.tableToMatrixOrVector_(D.rewriteFencedLine_(n)),D.binomialForm_(n),D.classifyMultiline(n),n}static number(e){e.type!==m.UNKNOWN&&e.type!==m.IDENTIFIER||(e.type=m.NUMBER),D.meaningFromContent(e,D.numberRole_),D.exprFont_(e)}static classifyMultiline(e){let t=0;var n=e.childNodes.length;let r;for(;t<n&&(!(r=e.childNodes[t])||!r.childNodes.length);)t++;if(!(t>=n)){const o=r.childNodes[0].role;o!==f.UNKNOWN&&e.childNodes.every(function(e){e=e.childNodes[0];return!e||e.role===o&&(L(e,m.RELATION)||L(e,m.RELSEQ))})&&(e.role=o)}}static classifyTable(e){var t=D.computeColumns_(e);return D.classifyByColumns_(e,t,f.EQUALITY)||D.classifyByColumns_(e,t,f.INEQUALITY,[f.EQUALITY])||D.classifyByColumns_(e,t,f.ARROW)||D.detectCaleyTable(e),e}static detectCaleyTable(e){if(!e.mathmlTree)return!1;const t=e.mathmlTree,n=t.getAttribute("columnlines"),r=t.getAttribute("rowlines");return!(!n||!r||!D.cayleySpacing(n)||!D.cayleySpacing(r)||(e.role=f.CAYLEY,0))}static cayleySpacing(e){const t=e.split(" ");return("solid"===t[0]||"dashed"===t[0])&&t.slice(1).every(e=>"none"===e)}static proof(e,t,n){t=D.separateSemantics(t);return D.getInstance().proof(e,t,n)}static findSemantics(e,t,n){n=null==n?null:n,e=D.getSemantics(e);return!(!e||!e[t]||null!=n&&e[t]!==n)}static getSemantics(e){e=e.getAttribute("semantics");return e?D.separateSemantics(e):null}static removePrefix(e){const[,...t]=e.split("_");return t.join("_")}static separateSemantics(e){const n={};return e.split(";").forEach(function(e){var[e,t]=e.split(":");n[D.removePrefix(e)]=t}),n}static matchSpaces_(n,r){for(let e,t=0;e=r[t];t++){const r=n[t].mathmlTree,i=n[t+1].mathmlTree;var o;r&&i&&((o=r.nextSibling)&&o!==i&&(o=D.getSpacer_(o))&&(e.mathml.push(o),e.mathmlTree=o,e.role=f.SPACE))}}static getSpacer_(e){if(d(e)===p.MSPACE)return e;for(;Ge(e)&&1===e.childNodes.length;)if(d(e=e.childNodes[0])===p.MSPACE)return e;return null}static fenceToPunct_(e){var t=D.FENCE_TO_PUNCT_[e.role];if(t){for(;e.embellished;)e.embellished=m.PUNCTUATION,C(e,f.SUBSUP)||C(e,f.UNDEROVER)||(e.role=t),e=e.childNodes[0];e.type=m.PUNCTUATION,e.role=t}}static classifyFunction_(t,n){if(t.type===m.APPL||t.type===m.BIGOP||t.type===m.INTEGRAL)return"";if(n[0]&&n[0].textContent===Te.functionApplication){D.getInstance().funcAppls[t.id]=n.shift();let e=f.SIMPLEFUNC;return S.run("simple2prefix",t),t.role!==f.PREFIXFUNC&&t.role!==f.LIMFUNC||(e=t.role),D.propagateFunctionRole_(t,e),"prefix"}return D.CLASSIFY_FUNCTION_[t.role]||((n=t).type===m.IDENTIFIER||n.role===f.LATINLETTER||n.role===f.GREEKLETTER||n.role===f.OTHERLETTER?"simple":"")}static propagateFunctionRole_(e,t){e&&e.type!==m.INFIXOP&&(C(e,f.SUBSUP)||C(e,f.UNDEROVER)||(e.role=t),D.propagateFunctionRole_(e.childNodes[0],t))}static getFunctionOp_(n,r){if(r(n))return n;for(let e,t=0;e=n.childNodes[t];t++){const n=D.getFunctionOp_(e,r);if(n)return n}return null}static tableToMatrixOrVector_(e){const n=e.childNodes[0];L(n,m.MULTILINE)?D.tableToVector_(e):D.tableToMatrix_(e),e.contentNodes.forEach(n.appendContentNode.bind(n));for(let e,t=0;e=n.childNodes[t];t++)D.assignRoleToRow_(e,D.getComponentRoles_(n));return n.parent=null,n}static tableToVector_(e){const t=e.childNodes[0];t.type=m.VECTOR,1!==t.childNodes.length?D.binomialForm_(t):D.tableToSquare_(e)}static binomialForm_(e){C(e,f.UNKNOWN)&&2===e.childNodes.length&&(e.role=f.BINOMIAL,e.childNodes[0].role=f.BINOMIAL,e.childNodes[1].role=f.BINOMIAL)}static tableToMatrix_(e){const t=e.childNodes[0];t.type=m.MATRIX,t.childNodes&&0<t.childNodes.length&&t.childNodes[0].childNodes&&t.childNodes.length===t.childNodes[0].childNodes.length?D.tableToSquare_(e):t.childNodes&&1===t.childNodes.length&&(t.role=f.ROWVECTOR)}static tableToSquare_(e){const t=e.childNodes[0];C(t,f.UNKNOWN)&&(_(e)?t.role=f.DETERMINANT:t.role=f.SQUAREMATRIX)}static getComponentRoles_(e){var t=e.role;return t&&t!==f.UNKNOWN?t:e.type.toLowerCase()||f.UNKNOWN}static tableToCases_(n,e){for(let e,t=0;e=n.childNodes[t];t++)D.assignRoleToRow_(e,f.CASES);return n.type=m.CASES,n.appendContentNode(e),ut(n)&&D.binomialForm_(n),n}static rewriteFencedLine_(e){const t=e.childNodes[0],n=e.childNodes[0].childNodes[0],r=e.childNodes[0].childNodes[0].childNodes[0];return n.parent=e.parent,e.parent=n,r.parent=t,n.childNodes=[e],t.childNodes=[r],n}static rowToLine_(t,e){e=e||f.UNKNOWN;L(t,m.ROW)&&(t.type=m.LINE,t.role=e,1===t.childNodes.length&&L(t.childNodes[0],m.CELL)&&(t.childNodes=t.childNodes[0].childNodes,t.childNodes.forEach(function(e){e.parent=t})))}static assignRoleToRow_(e,t){L(e,m.LINE)?e.role=t:L(e,m.ROW)&&(e.role=t,e.childNodes.forEach(function(e){L(e,m.CELL)&&(e.role=t)}))}static nextSeparatorFunction_(e){let t;if(e){if(e.match(/^\s+$/))return null;t=e.replace(/\s/g,"").split("").filter(function(e){return e})}else t=[","];return function(){return 1<t.length?t.shift():t[0]}}static meaningFromContent(e,t){const n=[...e.textContent].filter(e=>e.match(/[^\s]/)),r=n.map(e=>N.Meaning.get(e));t(e,n,r)}static numberRole_(e,t,n){if(e.role===f.UNKNOWN)return n.every(function(e){return e.type===m.NUMBER&&e.role===f.INTEGER||e.type===m.PUNCTUATION&&e.role===f.COMMA})?(e.role=f.INTEGER,void("0"===t[0]&&e.addAnnotation("general","basenumber"))):void(n.every(function(e){return e.type===m.NUMBER&&e.role===f.INTEGER||e.type===m.PUNCTUATION})?e.role=f.FLOAT:e.role=f.OTHERNUMBER)}static exprFont_(e){e.font===o.UNKNOWN&&D.compSemantics(e,"font",o)}static compSemantics(e,n,r){var t=[...e.textContent].map(e=>N.Meaning.get(e)).reduce(function(e,t){return e&&t[n]&&t[n]!==r.UNKNOWN&&t[n]!==e?e===r.UNKNOWN?t[n]:null:e},r.UNKNOWN);t&&(e[n]=t)}static purgeFences_(t){const n=t.rel,r=t.comp,o=[],i=[];for(;0<n.length;){const t=n.shift();let e=r.shift();st(t)?(o.push(t),i.push(e)):(D.fenceToPunct_(t),e.push(t),e=e.concat(r.shift()),r.unshift(e))}return i.push(r.shift()),{rel:o,comp:i}}static rewriteFencedNode_(e){var t=e.contentNodes[0],n=e.contentNodes[1];let r=D.rewriteFence_(e,t);return e.contentNodes[0]=r.fence,r=D.rewriteFence_(r.node,n),e.contentNodes[1]=r.fence,(e.contentNodes[0].parent=e).contentNodes[1].parent=e,r.node.parent=null,r.node}static rewriteFence_(e,t){if(!t.embellished)return{node:e,fence:t};const n=t.childNodes[0],r=D.rewriteFence_(e,n);return L(t,m.SUPERSCRIPT)||L(t,m.SUBSCRIPT)||L(t,m.TENSOR)?(C(t,f.SUBSUP)||(t.role=e.role),n!==r.node&&(t.replaceChild(n,r.node),n.parent=e),D.propagateFencePointer_(t,n),{node:t,fence:r.fence}):(t.replaceChild(n,r.fence),t.mathmlTree&&-1===t.mathml.indexOf(t.mathmlTree)&&t.mathml.push(t.mathmlTree),{node:r.node,fence:t})}static propagateFencePointer_(e,t){e.fencePointer=t.fencePointer||t.id.toString(),e.embellished=null}static classifyByColumns_(e,t,n,r=[]){const o=[n].concat(r);return!!(3===t.length&&D.testColumns_(t,1,e=>D.isPureRelation_(e,o))||2===t.length&&(D.testColumns_(t,1,e=>D.isEndRelation_(e,o)||D.isPureRelation_(e,o))||D.testColumns_(t,0,e=>D.isEndRelation_(e,o,!0)||D.isPureRelation_(e,o))))&&(e.role=n,!0)}static isEndRelation_(t,e,n){n=n?t.childNodes.length-1:0;return L(t,m.RELSEQ)&&e.some(e=>C(t,e))&&L(t.childNodes[n],m.EMPTY)}static isPureRelation_(t,e){return L(t,m.RELATION)&&e.some(e=>C(t,e))}static computeColumns_(t){const r=[];for(let n,e=0;n=t.childNodes[e];e++)for(let e,t=0;e=n.childNodes[t];t++)r[t]?r[t].push(e):r[t]=[e];return r}static testColumns_(e,t,n){const r=e[t];return!!r&&r.some(function(e){return e.childNodes.length&&n(e.childNodes[0])})&&r.every(function(e){return!e.childNodes.length||n(e.childNodes[0])})}setNodeFactory(e){D.getInstance().factory_=e,S.updateFactory(D.getInstance().factory_)}getNodeFactory(){return D.getInstance().factory_}identifierNode(e,t,n){if("MathML-Unit"===n)e.type=m.IDENTIFIER,e.role=f.UNIT;else if(!t&&1===e.textContent.length&&(e.role===f.INTEGER||e.role===f.LATINLETTER||e.role===f.GREEKLETTER)&&e.font===o.NORMAL)return e.font=o.ITALIC,S.run("simpleNamedFunction",e);return e.type===m.UNKNOWN&&(e.type=m.IDENTIFIER),D.exprFont_(e),S.run("simpleNamedFunction",e)}implicitNode(e){if(e=D.getInstance().getMixedNumbers_(e),1===(e=D.getInstance().combineUnits_(e)).length)return e[0];e=D.getInstance().implicitNode_(e);return S.run("combine_juxtaposition",e)}text(e,t){return D.exprFont_(e),e.type=m.TEXT,t===p.ANNOTATIONXML?e.role=f.ANNOTATION:t===p.MS?e.role=f.STRING:t===p.MSPACE||e.textContent.match(/^\s*$/)?e.role=f.SPACE:/\s/.exec(e.textContent)?e.role=f.TEXT:e.role=f.UNKNOWN,e}row(e){return 0===(e=e.filter(function(e){return!L(e,m.EMPTY)})).length?D.getInstance().factory_.makeEmptyNode():(e=D.getInstance().getFencesInRow_(e),e=D.getInstance().tablesInRow(e),e=D.getInstance().getPunctuationInRow_(e),e=D.getInstance().getTextInRow_(e),e=D.getInstance().getFunctionsInRow_(e),D.getInstance().relationsInRow_(e))}limitNode(e,t){if(!t.length)return D.getInstance().factory_.makeEmptyNode();let n,r=t[0],o=m.UNKNOWN;if(!t[1])return r;if(S.run("op_with_limits",t),function e(t){return L(t,m.LARGEOP)||L(t,m.LIMBOTH)||L(t,m.LIMLOWER)||L(t,m.LIMUPPER)||L(t,m.FUNCTION)&&C(t,f.LIMFUNC)||(L(t,m.OVERSCORE)||L(t,m.UNDERSCORE))&&e(t.childNodes[0])}(r)){var i=(n=D.MML_TO_LIMIT_[e]).length;if(o=n.type,t=t.slice(0,n.length+1),1===i&&ze(t[1])||2===i&&ze(t[1])&&ze(t[2]))return n=D.MML_TO_BOUNDS_[e],D.getInstance().accentNode_(r,t,n.type,n.length,n.accent);if(2===i){if(ze(t[1]))return r=D.getInstance().accentNode_(r,[r,t[1]],{MSUBSUP:m.SUBSCRIPT,MUNDEROVER:m.UNDERSCORE}[e],1,!0),t[2]?D.getInstance().makeLimitNode_(r,[r,t[2]],null,m.LIMUPPER):r;if(t[2]&&ze(t[2]))return r=D.getInstance().accentNode_(r,[r,t[2]],{MSUBSUP:m.SUPERSCRIPT,MUNDEROVER:m.OVERSCORE}[e],1,!0),D.getInstance().makeLimitNode_(r,[r,t[1]],null,m.LIMLOWER);t[i]||(o=m.LIMLOWER)}return D.getInstance().makeLimitNode_(r,t,null,o)}return n=D.MML_TO_BOUNDS_[e],D.getInstance().accentNode_(r,t,n.type,n.length,n.accent)}tablesInRow(e){let n=y(e,ct),r=[];for(let e,t=0;e=n.rel[t];t++)(r=r.concat(n.comp.shift())).push(D.tableToMatrixOrVector_(e));r=r.concat(n.comp.shift()),n=y(r,at),r=[];for(let e,t=0;e=n.rel[t];t++){const i=n.comp.shift();0<(o=i).length&&C(o[o.length-1],f.OPENFENCE)&&D.tableToCases_(e,i.pop()),(r=r.concat(i)).push(e)}var o;return r.concat(n.comp.shift())}mfenced(t,n,e,r){if(e&&0<r.length){const t=D.nextSeparatorFunction_(e),n=[r.shift()];r.forEach(e=>{n.push(D.getInstance().factory_.makeContentNode(t())),n.push(e)}),r=n}return t&&n?D.getInstance().horizontalFencedNode_(D.getInstance().factory_.makeContentNode(t),D.getInstance().factory_.makeContentNode(n),r):(t&&r.unshift(D.getInstance().factory_.makeContentNode(t)),n&&r.push(D.getInstance().factory_.makeContentNode(n)),D.getInstance().row(r))}fractionLikeNode(e,t,n,r){let o;if(r||!function(e){if(e){if(["negativeveryverythinmathspace","negativeverythinmathspace","negativethinmathspace","negativemediummathspace","negativethickmathspace","negativeverythickmathspace","negativeveryverythickmathspace"].includes(e))return 1;e=e.match(/[0-9.]+/);return e&&0===parseFloat(e[0])}}(n))return o=D.getInstance().fractionNode_(e,t),r&&o.addAnnotation("general","bevelled"),o;{const n=D.getInstance().factory_.makeBranchNode(m.LINE,[e],[]),r=D.getInstance().factory_.makeBranchNode(m.LINE,[t],[]);return o=D.getInstance().factory_.makeBranchNode(m.MULTILINE,[n,r],[]),D.binomialForm_(o),D.classifyMultiline(o),o}}tensor(e,t,n,r,o){const i=D.getInstance().factory_.makeBranchNode(m.TENSOR,[e,D.getInstance().scriptNode_(t,f.LEFTSUB),D.getInstance().scriptNode_(n,f.LEFTSUPER),D.getInstance().scriptNode_(r,f.RIGHTSUB),D.getInstance().scriptNode_(o,f.RIGHTSUPER)],[]);return i.role=e.role,i.embellished=tt(e),i}pseudoTensor(e,t,n){var r=e=>!L(e,m.EMPTY),o=t.filter(r).length,r=n.filter(r).length;if(!o&&!r)return e;const i=o?r?p.MSUBSUP:p.MSUB:p.MSUP,s=[e];return o&&s.push(D.getInstance().scriptNode_(t,f.RIGHTSUB,!0)),r&&s.push(D.getInstance().scriptNode_(n,f.RIGHTSUPER,!0)),D.getInstance().limitNode(i,s)}font(e){return D.MATHJAX_FONTS[e]||e}proof(e,t,n){if(t.inference||t.axiom||console.log("Noise"),t.axiom){const t=D.getInstance().cleanInference(e.childNodes),r=t.length?D.getInstance().factory_.makeBranchNode(m.INFERENCE,n(t),[]):D.getInstance().factory_.makeEmptyNode();return r.role=f.AXIOM,r.mathmlTree=e,r}const r=D.getInstance().inference(e,t,n);return t.proof&&(r.role=f.PROOF,r.childNodes[0].role=f.FINAL),r}inference(e,t,n){if(t.inferenceRule){const t=D.getInstance().getFormulas(e,[],n);return D.getInstance().factory_.makeBranchNode(m.INFERENCE,[t.conclusion,t.premises],[])}const r=t.labelledRule,o=E(e.childNodes),i=[],s=("left"!==r&&"both"!==r||i.push(D.getInstance().getLabel(e,o,n,f.LEFT)),"right"!==r&&"both"!==r||i.push(D.getInstance().getLabel(e,o,n,f.RIGHT)),D.getInstance().getFormulas(e,o,n)),a=D.getInstance().factory_.makeBranchNode(m.INFERENCE,[s.conclusion,s.premises],i);return a.mathmlTree=e,a}getLabel(e,t,n,r){const o=D.getInstance().findNestedRow(t,"prooflabel",r),i=D.getInstance().factory_.makeBranchNode(m.RULELABEL,n(E(o.childNodes)),[]);return i.role=r,i.mathmlTree=o,i}getFormulas(e,t,n){const r=t.length?D.getInstance().findNestedRow(t,"inferenceRule"):e,o="up"===D.getSemantics(r).inferenceRule,i=o?r.childNodes[1]:r.childNodes[0],s=o?r.childNodes[0]:r.childNodes[1],a=i.childNodes[0].childNodes[0],c=E(a.childNodes[0].childNodes),l=[];let u=1;for(const e of c)u%2&&l.push(e.childNodes[0]),u++;const h=n(l),d=n(E(s.childNodes[0].childNodes))[0],f=D.getInstance().factory_.makeBranchNode(m.PREMISES,h,[]),p=(f.mathmlTree=a,D.getInstance().factory_.makeBranchNode(m.CONCLUSION,[d],[]));return p.mathmlTree=s.childNodes[0].childNodes[0],{conclusion:p,premises:f}}findNestedRow(e,t,n){return D.getInstance().findNestedRow_(e,t,0,n)}cleanInference(e){return E(e).filter(function(e){return"MSPACE"!==d(e)})}operatorNode(e){return e.type===m.UNKNOWN&&(e.type=m.OPERATOR),S.run("multioperator",e)}constructor(){this.funcAppls={},this.splitRoles=new Map([[f.SUBTRACTION,f.NEGATIVE],[f.ADDITION,f.POSITIVE]]),this.splitOps=["âˆ’","-","â€","â€‘","+"],this.factory_=new We,S.updateFactory(this.factory_)}implicitNode_(e){const t=D.getInstance().factory_.makeMultipleContentNodes(e.length-1,Te.invisibleTimes),n=(D.matchSpaces_(e,t),D.getInstance().infixNode_(e,t[0]));return n.role=f.IMPLICIT,t.forEach(function(e){e.parent=n}),n.contentNodes=t,n}infixNode_(e,t){let n=D.getInstance().factory_.makeBranchNode(m.INFIXOP,e,[t],Xe(t).textContent);return n.role=t.role,n=S.run("propagateInterval",n),S.run("propagateSimpleFunction",n)}explicitMixed_(n){var r=y(n,function(e){return e.textContent===Te.invisiblePlus});if(!r.rel.length)return n;let o=[];for(let e,t=0;e=r.rel[t];t++){const i=r.comp[t],s=r.comp[t+1],a=i.length-1;if(i[a]&&s[0]&&L(i[a],m.NUMBER)&&!C(i[a],f.MIXED)&&L(s[0],m.FRACTION)){const n=D.getInstance().factory_.makeBranchNode(m.NUMBER,[i[a],s[0]],[]);n.role=f.MIXED,(o=o.concat(i.slice(0,a))).push(n),s.shift()}else(o=o.concat(i)).push(e)}return o.concat(r.comp[r.comp.length-1])}concatNode_(e,t,n){if(0===t.length)return e;const r=t.map(function(e){return Xe(e).textContent}).join(" "),o=D.getInstance().factory_.makeBranchNode(n,[e],t,r);return 1<t.length&&(o.role=f.MULTIOP),o}prefixNode_(e,t){const n=this.splitSingles(t);let r=e;for(;0<n.length;){const e=n.pop();r=D.getInstance().concatNode_(r,e,m.PREFIXOP),1===e.length&&-1!==this.splitOps.indexOf(e[0].textContent)&&(r.role=this.splitRoles.get(e[0].role))}return r}splitSingles(e){let t=0;const n=[];let r=0;for(;r<e.length;){var o=e[r];!this.splitRoles.has(o.role)||e[r-1]&&e[r-1].role===o.role||e[r+1]&&e[r+1].role===o.role||-1===this.splitOps.indexOf(o.textContent)||(n.push(e.slice(t,r)),n.push(e.slice(r,r+1)),t=r+1),r++}return t<r&&n.push(e.slice(t,r)),n}postfixNode_(e,t){return t.length?D.getInstance().concatNode_(e,t,m.POSTFIXOP):e}combineUnits_(t){const n=y(t,function(e){return!C(e,f.UNIT)});if(t.length===n.rel.length)return n.rel;const r=[];var o,i;do{const t=n.comp.shift();o=n.rel.shift();let e=null;(i=r.pop())&&(t.length&&Et(i)?t.unshift(i):r.push(i)),1===t.length&&(e=t.pop()),1<t.length&&((e=D.getInstance().implicitNode_(t)).role=f.UNIT),e&&r.push(e),o&&r.push(o)}while(o);return r}getMixedNumbers_(e){const n=y(e,function(e){return L(e,m.FRACTION)&&C(e,f.VULGAR)});if(!n.rel.length)return e;let r=[];for(let e,t=0;e=n.rel[t];t++){const o=n.comp[t],i=o.length-1;if(o[i]&&L(o[i],m.NUMBER)&&(C(o[i],f.INTEGER)||C(o[i],f.FLOAT))){const n=D.getInstance().factory_.makeBranchNode(m.NUMBER,[o[i],e],[]);n.role=f.MIXED,(r=r.concat(o.slice(0,i))).push(n)}else(r=r.concat(o)).push(e)}return r.concat(n.comp[n.comp.length-1])}getTextInRow_(e){if(0===e.length)return e;if(1===e.length)return e[0].type===m.TEXT&&e[0].role===f.UNKNOWN&&(e[0].role=f.ANNOTATION),e;const{rel:n,comp:r}=y(e,e=>L(e,m.TEXT));if(0===n.length)return e;const o=[];let i=r.shift();for(;0<n.length;){let e=n.shift(),t=r.shift();const a=[];for(;!t.length&&n.length&&e.role!==f.SPACE&&n[0].role!==f.SPACE;)a.push(e),e=n.shift(),t=r.shift();if(a.length){i.length&&o.push(D.getInstance().row(i)),a.push(e);const n=D.getInstance().dummyNode_(a);o.push(n),i=t}else{var s;i=e.role!==f.UNKNOWN?(i.length&&o.push(D.getInstance().row(i)),o.push(e),t):(s=N.Meaning.get(e.textContent)).type!==m.PUNCTUATION?s.type===m.UNKNOWN?(D.meaningFromContent(e,(e,t,n)=>{if(e.role===f.UNKNOWN){if(D.numberRole_(e,t,n),e.role===f.OTHERNUMBER)return n.some(e=>e.type!==m.NUMBER&&e.type!==m.IDENTIFIER)?(e.type=m.TEXT,void(e.role=f.ANNOTATION)):void(e.role=f.UNKNOWN);e.type=m.NUMBER}}),e.type!==m.TEXT||e.role===f.UNKNOWN?(e.role===f.UNKNOWN&&(n.length||t.length?t.length&&t[0].type===m.FENCED?(e.type=m.FUNCTION,e.role=f.PREFIXFUNC):e.role=f.TEXT:(e.type=m.IDENTIFIER,e.role=f.UNIT)),i.push(e),i.concat(t)):(i.length&&o.push(D.getInstance().row(i)),o.push(e),t)):(e.type=s.type,e.role=s.role,e.font=s.font,e.addAnnotation("general","text"),i.push(e),i.concat(t)):(e.role=s.role,e.font=s.font,i.length&&o.push(D.getInstance().row(i)),o.push(e),t)}}return 0<i.length&&o.push(D.getInstance().row(i)),1<o.length?[D.getInstance().dummyNode_(o)]:o}relationsInRow_(e){const t=y(e,rt),n=t.rel[0];if(!n)return D.getInstance().operationsInRow_(e);if(1===e.length)return e[0];e=t.comp.map(D.getInstance().operationsInRow_);let r;return t.rel.some(function(e){return!e.equals(n)})?(r=D.getInstance().factory_.makeBranchNode(m.MULTIREL,e,t.rel),t.rel.every(function(e){return e.role===n.role})&&(r.role=n.role)):(r=D.getInstance().factory_.makeBranchNode(m.RELSEQ,e,t.rel,Xe(n).textContent)).role=n.role,r}operationsInRow_(e){if(0===e.length)return D.getInstance().factory_.makeEmptyNode();if(1===(e=D.getInstance().explicitMixed_(e)).length)return e[0];const t=[];for(;0<e.length&&nt(e[0]);)t.push(e.shift());if(0===e.length)return D.getInstance().prefixNode_(t.pop(),t);if(1===e.length)return D.getInstance().prefixNode_(e[0],t);var n=je(e=S.run("convert_juxtaposition",e),nt),r=D.getInstance().wrapFactor(t,n);return D.getInstance().addFactor(r,n)}wrapPostfix(e){var t;(null==(t=e.div)?void 0:t.role)===f.POSTFIXOP&&(e.tail.length&&e.tail[0].type!==m.OPERATOR?e.div.role=f.DIVISION:(e.head=[D.getInstance().postfixNode_(D.getInstance().implicitNode(e.head),[e.div])],e.div=e.tail.shift(),D.getInstance().wrapPostfix(e)))}wrapFactor(e,t){return D.getInstance().wrapPostfix(t),D.getInstance().prefixNode_(D.getInstance().implicitNode(t.head),e)}addFactor(e,t){return t.div?D.getInstance().operationsTree_(t.tail,e,t.div):(Nt(e)&&(e.role=f.UNIT),e)}operationsTree_(e,t,n,r=[]){if(0===e.length){if(r.unshift(n),t.type!==m.INFIXOP)return D.getInstance().postfixNode_(t,r);{const e=D.getInstance().postfixNode_(t.childNodes.pop(),r);return t.appendChild(e),t}}e=je(e,nt);if(0===e.head.length)return r.push(e.div),D.getInstance().operationsTree_(e.tail,t,n,r);r=D.getInstance().wrapFactor(r,e),t=D.getInstance().appendOperand_(t,n,r);return D.getInstance().addFactor(t,e)}appendOperand_(e,t,n){return e.type!==m.INFIXOP?D.getInstance().infixNode_([e,n],t):D.getInstance().appendDivisionOp_(e,t,n)||(D.getInstance().appendExistingOperator_(e,t,n)?e:t.role===f.MULTIPLICATION?D.getInstance().appendMultiplicativeOp_(e,t,n):D.getInstance().appendAdditiveOp_(e,t,n))}appendDivisionOp_(e,t,n){return t.role===f.DIVISION?gt(e)?D.getInstance().infixNode_([e,n],t):D.getInstance().appendLastOperand_(e,t,n):e.role===f.DIVISION?D.getInstance().infixNode_([e,n],t):null}appendLastOperand_(e,t,n){let r=e,o=e.childNodes[e.childNodes.length-1];for(;o&&o.type===m.INFIXOP&&!gt(o);)o=(r=o).childNodes[e.childNodes.length-1];n=D.getInstance().infixNode_([r.childNodes.pop(),n],t);return r.appendChild(n),e}appendMultiplicativeOp_(e,t,n){if(gt(e))return D.getInstance().infixNode_([e,n],t);let r=e,o=e.childNodes[e.childNodes.length-1];for(;o&&o.type===m.INFIXOP&&!gt(o);)o=(r=o).childNodes[e.childNodes.length-1];n=D.getInstance().infixNode_([r.childNodes.pop(),n],t);return r.appendChild(n),e}appendAdditiveOp_(e,t,n){return D.getInstance().infixNode_([e,n],t)}appendExistingOperator_(e,t,n){return!(!e||e.type!==m.INFIXOP||gt(e))&&(e.contentNodes[0].equals(t)?(e.appendContentNode(t),e.appendChild(n),!0):D.getInstance().appendExistingOperator_(e.childNodes[e.childNodes.length-1],t,n))}getFencesInRow_(e){let t=y(e,it);e=(t=D.purgeFences_(t)).comp.shift();return D.getInstance().fences_(t.rel,t.comp,[],[e])}fences_(e,t,n,r){if(0===e.length&&0===n.length)return r[0];const o=S.run("bracketed_interval",[e[0],e[1],...t[0]||[]],()=>null);if(o){e.shift(),e.shift(),t.shift();const i=r.pop()||[];return r.push([...i,o,...t.shift()]),D.getInstance().fences_(e,t,n,r)}const i=e=>C(e,f.OPEN);if(0===e.length){const e=r.shift();for(;0<n.length;){if(i(n[0])){const t=n.shift();D.fenceToPunct_(t),e.push(t)}else{const t=je(n,i),o=t.head.length-1,s=D.getInstance().neutralFences_(t.head,r.slice(0,o));r=r.slice(o),e.push(...s),t.div&&t.tail.unshift(t.div),n=t.tail}e.push(...r.shift())}return e}const s=n[n.length-1],a=e[0].role;if(a===f.OPEN||_(e[0])&&(!s||!It(e[0],s))){n.push(e.shift());const o=t.shift();return o&&r.push(o),D.getInstance().fences_(e,t,n,r)}if(s&&a===f.CLOSE&&s.role===f.OPEN){const o=D.getInstance().horizontalFencedNode_(n.pop(),e.shift(),r.pop());return r.push(r.pop().concat([o],t.shift())),D.getInstance().fences_(e,t,n,r)}if(s&&It(e[0],s)){if(!bt(s)||!At(e[0])){n.push(e.shift());const o=t.shift();return o&&r.push(o),D.getInstance().fences_(e,t,n,r)}const o=D.getInstance().horizontalFencedNode_(n.pop(),e.shift(),r.pop());return r.push(r.pop().concat([o],t.shift())),D.getInstance().fences_(e,t,n,r)}if(s&&a===f.CLOSE&&_(s)&&n.some(i)){const o=je(n,i,!0),s=r.pop(),a=r.length-o.tail.length+1,l=D.getInstance().neutralFences_(o.tail,r.slice(a));r=r.slice(0,a);var c=D.getInstance().horizontalFencedNode_(o.div,e.shift(),r.pop().concat(l,s));return r.push(r.pop().concat([c],t.shift())),D.getInstance().fences_(e,t,o.head,r)}const l=e.shift();return D.fenceToPunct_(l),r.push(r.pop().concat([l],t.shift())),D.getInstance().fences_(e,t,n,r)}neutralFences_(e,t){if(0===e.length)return e;if(1===e.length)return D.fenceToPunct_(e[0]),e;const n=e.shift();if(!bt(n)){D.fenceToPunct_(n);const r=t.shift();return r.unshift(n),r.concat(D.getInstance().neutralFences_(e,t))}const r=je(e,function(e){return It(e,n)});if(!r.div){D.fenceToPunct_(n);const r=t.shift();return r.unshift(n),r.concat(D.getInstance().neutralFences_(e,t))}if(!At(r.div))return D.fenceToPunct_(r.div),e.unshift(n),D.getInstance().neutralFences_(e,t);const o=D.getInstance().combineFencedContent_(n,r.div,r.head,t);if(0<r.tail.length){const e=o.shift(),t=D.getInstance().neutralFences_(r.tail,o);return e.concat(t)}return o[0]}combineFencedContent_(e,t,n,r){if(0===n.length){const n=D.getInstance().horizontalFencedNode_(e,t,r.shift());return 0<r.length?r[0].unshift(n):r=[[n]],r}const o=r.shift(),i=n.length-1,s=r.slice(0,i),a=(r=r.slice(i)).shift(),c=D.getInstance().neutralFences_(n,s);o.push(...c),o.push(...a);n=D.getInstance().horizontalFencedNode_(e,t,o);return 0<r.length?r[0].unshift(n):r=[[n]],r}horizontalFencedNode_(e,t,n){n=D.getInstance().row(n);let r=D.getInstance().factory_.makeBranchNode(m.FENCED,[n],[e,t]);return e.role===f.OPEN?(D.getInstance().classifyHorizontalFence_(r),r=S.run("propagateComposedFunction",r)):r.role=e.role,r=S.run("detect_cycle",r),D.rewriteFencedNode_(r)}classifyHorizontalFence_(e){if(S.run("interval_heuristic",e),e.role!==f.INTERVAL){e.role=f.LEFTRIGHT;var t=e.childNodes;if((r=(n=e).contentNodes[0])&&-1!==["{","ï¹›","ï½›"].indexOf(r.textContent)&&(r=n.contentNodes[1])&&-1!==["}","ï¹œ","ï½"].indexOf(r.textContent)&&!(1<t.length))if(0===t.length||t[0].type===m.EMPTY)e.role=f.SETEMPTY;else{var n=t[0].type;if(1===t.length&&function e(t){var n=t.type;return-1===ft.indexOf(n)&&(n!==m.INFIXOP||t.role===f.IMPLICIT)&&(n===m.FENCED?t.role!==f.LEFTRIGHT||e(t.childNodes[0]):-1===pt.indexOf(n)||e(t.childNodes[0]))}(t[0]))e.role=f.SETSINGLE;else{var r=t[0].role;if(n===m.PUNCTUATED&&r===f.SEQUENCE){if(t[0].contentNodes[0].role!==f.COMMA)return 1!==t[0].contentNodes.length||t[0].contentNodes[0].role!==f.VBAR&&t[0].contentNodes[0].role!==f.COLON?void 0:(e.role=f.SETEXT,void D.getInstance().setExtension_(e));e.role=f.SETCOLLECT}}}}}setExtension_(e){const t=e.childNodes[0].childNodes[0];t&&t.type===m.INFIXOP&&1===t.contentNodes.length&&Ot(t.contentNodes[0])&&(t.addAnnotation("set","intensional"),t.contentNodes[0].addAnnotation("set","intensional"))}getPunctuationInRow_(n){if(n.length<=1)return n;const r=e=>{e=e.type;return"punctuation"===e||"text"===e||"operator"===e||"relation"===e},t=y(n,function(e){if(!ot(e))return!1;if(ot(e)&&!C(e,f.ELLIPSIS))return!0;e=n.indexOf(e);if(0===e)return!n[1]||!r(n[1]);var t=n[e-1];if(e===n.length-1)return!r(t);e=n[e+1];return!r(t)||!r(e)});if(0===t.rel.length)return n;let o=[],i=t.comp.shift(),s=(0<i.length&&o.push(D.getInstance().row(i)),0);for(;0<t.comp.length;){let e=[];const r=s;for(;e.push(t.rel[s++]),i=t.comp.shift(),t.rel[s]&&i&&0===i.length;);e=S.run("ellipses",e),t.rel.splice(r,s-r,...e),s=r+e.length,o=o.concat(e),i&&0<i.length&&o.push(D.getInstance().row(i))}return 1===o.length&&1===t.rel.length?o:[D.getInstance().punctuatedNode_(o,t.rel)]}punctuatedNode_(t,e){const n=D.getInstance().factory_.makeBranchNode(m.PUNCTUATED,t,e);if(e.length===t.length){const t=e[0].role;if(t!==f.UNKNOWN&&e.every(function(e){return e.role===t}))return n.role=t,n}var r=e[0];return ht(t,e,0)?n.role=r.childNodes.length&&!r.embellished?r.role:f.STARTPUNCT:ht(t,e,t.length-1)?n.role=r.childNodes.length&&!r.embellished?r.role:f.ENDPUNCT:e.every(e=>C(e,f.DUMMY))?n.role=f.TEXT:e.every(e=>C(e,f.SPACE))?n.role=f.SPACE:n.role=f.SEQUENCE,n}dummyNode_(e){const t=D.getInstance().factory_.makeMultipleContentNodes(e.length-1,Te.invisibleComma);return t.forEach(function(e){e.role=f.DUMMY}),D.getInstance().punctuatedNode_(e,t)}accentRole_(e,t){if(!ze(e))return!1;var n=e.textContent,n=N.Secondary.get(n,a.BAR)||N.Secondary.get(n,a.TILDE)||e.role;return e.role=t===m.UNDERSCORE?f.UNDERACCENT:f.OVERACCENT,e.addAnnotation("accent",n),!0}accentNode_(e,t,n,r,o){var i=(t=t.slice(0,r+1))[1],s=t[2];let a;if(!o&&s&&((a=D.getInstance().factory_.makeBranchNode(m.SUBSCRIPT,[e,i],[])).role=f.SUBSUP,t=[a,s],n=m.SUPERSCRIPT),o){const r=D.getInstance().accentRole_(i,n);s&&(n=D.getInstance().accentRole_(s,m.OVERSCORE)&&!r?(t=[a=D.getInstance().factory_.makeBranchNode(m.OVERSCORE,[e,s],[]),i],m.UNDERSCORE):(t=[a=D.getInstance().factory_.makeBranchNode(m.UNDERSCORE,[e,i],[]),s],m.OVERSCORE),a.role=f.UNDEROVER)}return D.getInstance().makeLimitNode_(e,t,a,n)}makeLimitNode_(e,t,n,r){if(r===m.LIMUPPER&&e.type===m.LIMLOWER)return e.childNodes.push(t[1]),(t[1].parent=e).type=m.LIMBOTH,e;if(r===m.LIMLOWER&&e.type===m.LIMUPPER)return e.childNodes.splice(1,-1,t[1]),(t[1].parent=e).type=m.LIMBOTH,e;const o=D.getInstance().factory_.makeBranchNode(r,t,[]),i=tt(e);return n&&(n.embellished=i),o.embellished=i,o.role=e.role,o}getFunctionsInRow_(e,t){const n=t||[];if(0===e.length)return n;var t=e.shift(),r=D.classifyFunction_(t,e);if(!r)return n.push(t),D.getInstance().getFunctionsInRow_(e,n);e=D.getInstance().getFunctionsInRow_(e,[]),t=D.getInstance().getFunctionArgs_(t,e,r);return n.concat(t)}getFunctionArgs_(e,t,n){let r,o,i;switch(n){case"integral":{const n=D.getInstance().getIntegralArgs_(t);if(!n.intvar&&!n.integrand.length)return n.rest.unshift(e),n.rest;const r=D.getInstance().row(n.integrand);return i=D.getInstance().integralNode_(e,r,n.intvar),S.run("intvar_from_fraction",i),n.rest.unshift(i),n.rest}case"prefix":if(t[0]&&t[0].type===m.FENCED){const n=t.shift();return _(n)||(n.role=f.LEFTRIGHT),i=D.getInstance().functionNode_(e,n),t.unshift(i),t}if((r=je(t,Qe)).head.length)o=D.getInstance().row(r.head),r.div&&r.tail.unshift(r.div);else{if(!r.div||!L(r.div,m.APPL))return t.unshift(e),t;o=r.div}return i=D.getInstance().functionNode_(e,o),r.tail.unshift(i),r.tail;case"bigop":return(r=je(t,$e)).head.length?(o=D.getInstance().row(r.head),i=D.getInstance().bigOpNode_(e,o),r.div&&r.tail.unshift(r.div),r.tail.unshift(i),r.tail):(t.unshift(e),t);default:{if(0===t.length)return[e];const n=t[0];return n.type===m.FENCED&&!_(n)&&function(){var e=n.childNodes;if(0===e.length)return 1;if(!(1<e.length)){const t=e[0];if(t.type===m.INFIXOP){if(t.role!==f.IMPLICIT)return;if(t.childNodes.some(e=>L(e,m.INFIXOP)))return}return 1}}()?(n.role=f.LEFTRIGHT,D.propagateFunctionRole_(e,f.SIMPLEFUNC),i=D.getInstance().functionNode_(e,t.shift()),t.unshift(i)):t.unshift(e),t}}}getIntegralArgs_(e,t=[]){if(0===e.length){const e=je(t,$e);return e.div&&e.tail.unshift(e.div),{integrand:e.head,intvar:null,rest:e.tail}}S.run("intvar_from_implicit",e);const n=e[0];if(et(n)){const{integrand:n,rest:r}=D.getInstance().getIntegralArgs_(t);return{integrand:n,intvar:null,rest:r.concat(e)}}if(Ze(n))return n.role=f.INTEGRAL,{integrand:t,intvar:n,rest:e.slice(1)};if(e[1]&&Je(n,e[1])){const o=D.getInstance().prefixNode_(e[1],[n]);return o.role=f.INTEGRAL,{integrand:t,intvar:o,rest:e.slice(2)}}return t.push(e.shift()),D.getInstance().getIntegralArgs_(e,t)}functionNode_(e,t){const n=D.getInstance().factory_.makeContentNode(Te.functionApplication),r=D.getInstance().funcAppls[e.id];r&&(n.mathmlTree=r.mathmlTree,n.mathml=r.mathml,n.annotation=r.annotation,n.attributes=r.attributes,delete D.getInstance().funcAppls[e.id]),n.type=m.PUNCTUATION,n.role=f.APPLICATION;var o=D.getFunctionOp_(e,function(e){return L(e,m.FUNCTION)||L(e,m.IDENTIFIER)&&C(e,f.SIMPLEFUNC)});return D.getInstance().functionalNode_(m.APPL,[e,t],o,[n])}bigOpNode_(e,t){var n=D.getFunctionOp_(e,e=>L(e,m.LARGEOP));return D.getInstance().functionalNode_(m.BIGOP,[e,t],n,[])}integralNode_(e,t,n){t=t||D.getInstance().factory_.makeEmptyNode(),n=n||D.getInstance().factory_.makeEmptyNode();var r=D.getFunctionOp_(e,e=>L(e,m.LARGEOP));return D.getInstance().functionalNode_(m.INTEGRAL,[e,t,n],r,[])}functionalNode_(e,t,n,r){var o=t[0];let i;n&&(i=n.parent,r.push(n));const s=D.getInstance().factory_.makeBranchNode(e,t,r);return s.role=o.role,i&&(n.parent=i),s}fractionNode_(e,t){const n=D.getInstance().factory_.makeBranchNode(m.FRACTION,[e,t],[]);return n.role=n.childNodes.every(function(e){return L(e,m.NUMBER)&&C(e,f.INTEGER)})?f.VULGAR:n.childNodes.every(mt)?f.UNIT:f.DIVISION,S.run("propagateSimpleFunction",n)}scriptNode_(e,t,n){let r;switch(e.length){case 0:r=D.getInstance().factory_.makeEmptyNode();break;case 1:if(r=e[0],n)return r;break;default:r=D.getInstance().dummyNode_(e)}return r.role=t,r}findNestedRow_(n,r,o,i){if(3<o)return null;for(let e,t=0;e=n[t];t++){const n=d(e);if(n!==p.MSPACE){if(n===p.MROW)return D.getInstance().findNestedRow_(E(e.childNodes),r,o+1,i);if(D.findSemantics(e,r,i))return e}}return null}}D.FENCE_TO_PUNCT_={[f.METRIC]:f.METRIC,[f.NEUTRAL]:f.VBAR,[f.OPEN]:f.OPENFENCE,[f.CLOSE]:f.CLOSEFENCE},D.MML_TO_LIMIT_={[p.MSUB]:{type:m.LIMLOWER,length:1},[p.MUNDER]:{type:m.LIMLOWER,length:1},[p.MSUP]:{type:m.LIMUPPER,length:1},[p.MOVER]:{type:m.LIMUPPER,length:1},[p.MSUBSUP]:{type:m.LIMBOTH,length:2},[p.MUNDEROVER]:{type:m.LIMBOTH,length:2}},D.MML_TO_BOUNDS_={[p.MSUB]:{type:m.SUBSCRIPT,length:1,accent:!1},[p.MSUP]:{type:m.SUPERSCRIPT,length:1,accent:!1},[p.MSUBSUP]:{type:m.SUBSCRIPT,length:2,accent:!1},[p.MUNDER]:{type:m.UNDERSCORE,length:1,accent:!0},[p.MOVER]:{type:m.OVERSCORE,length:1,accent:!0},[p.MUNDEROVER]:{type:m.UNDERSCORE,length:2,accent:!0}},D.CLASSIFY_FUNCTION_={[f.INTEGRAL]:"integral",[f.SUM]:"bigop",[f.PREFIXFUNC]:"prefix",[f.LIMFUNC]:"prefix",[f.SIMPLEFUNC]:"prefix",[f.COMPFUNC]:"prefix"},D.MATHJAX_FONTS={"-tex-caligraphic":o.CALIGRAPHIC,"-tex-caligraphic-bold":o.CALIGRAPHICBOLD,"-tex-calligraphic":o.CALIGRAPHIC,"-tex-calligraphic-bold":o.CALIGRAPHICBOLD,"-tex-oldstyle":o.OLDSTYLE,"-tex-oldstyle-bold":o.OLDSTYLEBOLD,"-tex-mathit":o.ITALIC};class yt extends class{constructor(e){this.type=e,this.factory_=new We}getFactory(){return this.factory_}setFactory(e){this.factory_=e}getType(){return this.type}parseList(n){const r=[];for(let e,t=0;e=n[t];t++)r.push(this.parse(e));return r}}{static getAttribute_(e,t,n){if(!e.hasAttribute(t))return n;const r=e.getAttribute(t);return r.match(/^\s*$/)?null:r}constructor(e){super("MathML"),this.options=e,S.options=e,this.parseMap_=new Map([[p.SEMANTICS,this.semantics_.bind(this)],[p.MATH,this.rows_.bind(this)],[p.MROW,this.rows_.bind(this)],[p.MPADDED,this.rows_.bind(this)],[p.MSTYLE,this.rows_.bind(this)],[p.MFRAC,this.fraction_.bind(this)],[p.MSUB,this.limits_.bind(this)],[p.MSUP,this.limits_.bind(this)],[p.MSUBSUP,this.limits_.bind(this)],[p.MOVER,this.limits_.bind(this)],[p.MUNDER,this.limits_.bind(this)],[p.MUNDEROVER,this.limits_.bind(this)],[p.MROOT,this.root_.bind(this)],[p.MSQRT,this.sqrt_.bind(this)],[p.MTABLE,this.table_.bind(this)],[p.MLABELEDTR,this.tableLabeledRow_.bind(this)],[p.MTR,this.tableRow_.bind(this)],[p.MTD,this.tableCell_.bind(this)],[p.MS,this.text_.bind(this)],[p.MTEXT,this.text_.bind(this)],[p.MSPACE,this.space_.bind(this)],[p.ANNOTATIONXML,this.text_.bind(this)],[p.MI,this.identifier_.bind(this)],[p.MN,this.number_.bind(this)],[p.MO,this.operator_.bind(this)],[p.MFENCED,this.fenced_.bind(this)],[p.MENCLOSE,this.enclosed_.bind(this)],[p.MMULTISCRIPTS,this.multiscripts_.bind(this)],[p.ANNOTATION,this.empty_.bind(this)],[p.NONE,this.empty_.bind(this)],[p.MACTION,this.action_.bind(this)]]);const t={type:m.IDENTIFIER,role:f.NUMBERSET,font:o.DOUBLESTRUCK};["C","H","N","P","Q","R","Z","â„‚","â„","â„•","â„™","â„š","â„","â„¤"].forEach((e=>this.getFactory().defaultMap.set(e,t)).bind(this))}parse(e){D.getInstance().setNodeFactory(this.getFactory());const t=E(e.childNodes),n=d(e),r=this.parseMap_.get(n),o=(r||this.dummy_.bind(this))(e,t);return Ye(o,e),-1===[p.MATH,p.MROW,p.MPADDED,p.MSTYLE,p.SEMANTICS,p.MACTION].indexOf(n)&&(o.mathml.unshift(e),o.mathmlTree=e),o}semantics_(e,t){return t.length?this.parse(t[0]):this.getFactory().makeEmptyNode()}rows_(e,t){const n=e.getAttribute("semantics");if(n&&n.match("bspr_"))return D.proof(e,n,this.parseList.bind(this));let r;if(1===(t=Ve(t)).length)(r=this.parse(t[0])).type!==m.EMPTY||r.mathmlTree||(r.mathmlTree=e);else{const n=S.run("function_from_identifiers",e);r=n&&n!==e?n:D.getInstance().row(this.parseList(t))}return r.mathml.unshift(e),r}fraction_(e,t){if(!t.length)return this.getFactory().makeEmptyNode();var n=this.parse(t[0]),t=t[1]?this.parse(t[1]):this.getFactory().makeEmptyNode();return D.getInstance().fractionLikeNode(n,t,e.getAttribute("linethickness"),"true"===e.getAttribute("bevelled"))}limits_(e,t){return D.getInstance().limitNode(d(e),this.parseList(t))}root_(e,t){return t[1]?this.getFactory().makeBranchNode(m.ROOT,[this.parse(t[1]),this.parse(t[0])],[]):this.sqrt_(e,t)}sqrt_(e,t){t=this.parseList(Ve(t));return this.getFactory().makeBranchNode(m.SQRT,[D.getInstance().row(t)],[])}table_(e,t){const n=e.getAttribute("semantics");if(n&&n.match("bspr_"))return D.proof(e,n,this.parseList.bind(this));const r=this.getFactory().makeBranchNode(m.TABLE,this.parseList(t),[]);return r.mathmlTree=e,D.tableToMultiline(r)}tableRow_(e,t){const n=this.getFactory().makeBranchNode(m.ROW,this.parseList(t),[]);return n.role=f.TABLE,n}tableLabeledRow_(e,t){if(!t.length)return this.tableRow_(e,t);const n=this.parse(t[0]),r=(n.role=f.LABEL,(null==(e=n.childNodes[0])?void 0:e.type)===m.TEXT&&(n.childNodes[0].role=f.LABEL),this.getFactory().makeBranchNode(m.ROW,this.parseList(t.slice(1)),[n]));return r.role=f.TABLE,r}tableCell_(e,t){t=this.parseList(Ve(t)),t=t.length?1===t.length&&L(t[0],m.EMPTY)?t:[D.getInstance().row(t)]:[];const n=this.getFactory().makeBranchNode(m.CELL,t,[]);return n.role=f.TABLE,n}space_(e,t){const n=e.getAttribute("width"),r=n&&n.match(/[a-z]*$/);if(!r)return this.empty_(e,t);var o=r[0],i=parseFloat(n.slice(0,r.index)),o={cm:.4,pc:.5,em:.5,ex:1,in:.15,pt:5,mm:5}[o];if(!o||isNaN(i)||i<o)return this.empty_(e,t);i=this.getFactory().makeUnprocessed(e);return D.getInstance().text(i,d(e))}text_(e,t){const n=this.leaf_(e,t);return e.textContent?(n.updateContent(e.textContent,!0),D.getInstance().text(n,d(e))):n}identifier_(e,t){t=this.leaf_(e,t);return D.getInstance().identifierNode(t,D.getInstance().font(e.getAttribute("mathvariant")),e.getAttribute("class"))}number_(e,t){e=this.leaf_(e,t);return D.number(e),e}operator_(e,t){e=this.leaf_(e,t);return D.getInstance().operatorNode(e),e}fenced_(e,t){var t=this.parseList(Ve(t)),n=yt.getAttribute_(e,"separators",","),r=yt.getAttribute_(e,"open","("),e=yt.getAttribute_(e,"close",")"),r=D.getInstance().mfenced(r,e,n,t);return D.getInstance().tablesInRow([r])[0]}enclosed_(e,t){const n=this.parseList(Ve(t)),r=this.getFactory().makeBranchNode(m.ENCLOSE,[D.getInstance().row(n)],[]);return r.role=e.getAttribute("notation")||f.UNKNOWN,r}multiscripts_(e,n){if(!n.length)return this.getFactory().makeEmptyNode();var t=this.parse(n.shift());if(!n.length)return t;const r=[],o=[],i=[],s=[];let a=!1,c=0;for(let e,t=0;e=n[t];t++)d(e)!==p.MPRESCRIPTS?((a?1&c?r:o:1&c?i:s).push(e),c++):(a=!0,c=0);return Ve(r).length||Ve(o).length?D.getInstance().tensor(t,this.parseList(o),this.parseList(r),this.parseList(s),this.parseList(i)):D.getInstance().pseudoTensor(t,this.parseList(s),this.parseList(i))}empty_(e,t){return this.getFactory().makeEmptyNode()}action_(e,t){const n=t[e.hasAttribute("selection")?parseInt(e.getAttribute("selection"),10)-1:0],r=this.parse(n);return r.mathmlTree=n,r}dummy_(e,t){const n=this.getFactory().makeUnprocessed(e);return n.role=e.tagName,n.textContent=e.textContent,n}leaf_(e,t){if(1===t.length&&t[0].nodeType!==j.TEXT_NODE){const n=this.getFactory().makeUnprocessed(e);return n.role=t[0].tagName,Ye(n,t[0]),n}const n=this.getFactory().makeLeafNode(e.textContent,D.getInstance().font(e.getAttribute("mathvariant")));return e.hasAttribute("data-latex")&&N.LatexCommands.set(e.getAttribute("data-latex"),e.textContent),n}}class Rt{constructor(e,t,n=e=>!1){this.name=e,this.apply=t,this.applicable=n}}class v extends Rt{}class Lt extends Rt{}function Ct(e,t){const n=[];for(;e.length||t.length;)e.length&&n.push(e.shift()),t.length&&n.push(t.shift());return n}const _t="data-semantic-",St=((I=T=T||{}).ADDED="data-semantic-added",I.ALTERNATIVE="data-semantic-alternative",I.CHILDREN="data-semantic-children",I.COLLAPSED="data-semantic-collapsed",I.CONTENT="data-semantic-content",I.EMBELLISHED="data-semantic-embellished",I.FENCEPOINTER="data-semantic-fencepointer",I.FONT="data-semantic-font",I.ID="data-semantic-id",I.ANNOTATION="data-semantic-annotation",I.ATTRIBUTES="data-semantic-attributes",I.OPERATOR="data-semantic-operator",I.OWNS="data-semantic-owns",I.PARENT="data-semantic-parent",I.POSTFIX="data-semantic-postfix",I.PREFIX="data-semantic-prefix",I.ROLE="data-semantic-role",I.SPEECH="data-semantic-speech",I.STRUCTURE="data-semantic-structure",I.SUMMARY="data-semantic-summary",I.TYPE="data-semantic-type",[T.ADDED,T.ALTERNATIVE,T.CHILDREN,T.COLLAPSED,T.CONTENT,T.EMBELLISHED,T.FENCEPOINTER,T.FONT,T.ID,T.ANNOTATION,T.ATTRIBUTES,T.OPERATOR,T.OWNS,T.PARENT,T.POSTFIX,T.PREFIX,T.ROLE,T.SPEECH,T.STRUCTURE,T.SUMMARY,T.TYPE]);function Dt(e){return e.map(function(e){return e.id}).join(",")}function M(n,e){n.setAttribute(T.TYPE,e.type);var r=e.allAttributes();for(let e,t=0;e=r[t];t++)n.setAttribute(_t+e[0].toLowerCase(),e[1]);e.childNodes.length&&n.setAttribute(T.CHILDREN,Dt(e.childNodes)),e.contentNodes.length&&n.setAttribute(T.CONTENT,Dt(e.contentNodes)),e.parent&&n.setAttribute(T.PARENT,e.parent.id.toString());var t=e.attributesXml();t&&n.setAttribute(T.ATTRIBUTES,t);{t=n;const o=[];return e.role===f.MGLYPH&&o.push("image"),e.attributes.href&&o.push("link"),void(o.length&&t.setAttribute(T.POSTFIX,o.join(" ")))}}function vt(){const e=ie("mrow");return e.setAttribute(T.ADDED,"true"),e}class w{static fromTree(e){return w.fromNode(e.root)}static fromNode(e){return new w(w.fromNode_(e))}static fromString(e){return new w(w.fromString_(e))}static simpleCollapseStructure(e){return"number"==typeof e}static contentCollapseStructure(e){return!!e&&!w.simpleCollapseStructure(e)&&"c"===e[0]}static interleaveIds(e,t){return Ct(w.collapsedLeafs(e),w.collapsedLeafs(t))}static collapsedLeafs(...e){return e.reduce((e,t)=>{return e.concat((e=t,w.simpleCollapseStructure(e)?[e]:w.contentCollapseStructure(e[1])?e.slice(2):e.slice(1)))},[])}static fromStructure(e,t,n){return new w(w.tree_(e,t.root,n))}static combineContentChildren(e,t,n,r){switch(e){case m.RELSEQ:case m.INFIXOP:case m.MULTIREL:return Ct(r,n);case m.PREFIXOP:return n.concat(r);case m.POSTFIXOP:return r.concat(n);case m.MATRIX:case m.VECTOR:case m.FENCED:return r.unshift(n[0]),r.push(n[1]),r;case m.CASES:return r.unshift(n[0]),r;case m.APPL:return[r[0],n[0],r[1]];case m.ROOT:return[r[0],r[1]];case m.ROW:case m.LINE:return n.length&&r.unshift(n[0]),r;default:return r}}static makeSexp_(e){return w.simpleCollapseStructure(e)?e.toString():w.contentCollapseStructure(e)?"(c "+e.slice(1).map(w.makeSexp_).join(" ")+")":"("+e.map(w.makeSexp_).join(" ")+")"}static fromString_(e){let t=e.replace(/\(/g,"[");return t=(t=(t=t.replace(/\)/g,"]")).replace(/ /g,",")).replace(/c/g,'"c"'),JSON.parse(t)}static fromNode_(e){if(!e)return[];const t=e.contentNodes;let n;t.length&&(n=t.map(w.fromNode_)).unshift("c");const r=e.childNodes;if(!r.length)return t.length?[e.id,n]:e.id;const o=r.map(w.fromNode_);return t.length&&o.unshift(n),o.unshift(e.id),o}static tree_(r,e,o,i=0,t=1,n=1){if(!e)return[];const s=e.id,a=[s];var c=r;if(u.getInstance().mode===U.HTTP){let e=c;for(;e&&!e.evaluate;)e=e.parentNode;e&&e.evaluate?ee.currentDocument=e:c.ownerDocument&&(ee.currentDocument=c.ownerDocument)}c=function(e,t){let n;try{n=(r=e,o=t,i=ee.result.ORDERED_NODE_ITERATOR_TYPE,ee.evaluate(r,o,new re,i,null))}catch(e){return[]}var r,o,i;const s=[];for(let e=n.iterateNext();e;e=n.iterateNext())s.push(e);return s}(`.//self::*[@${T.ID}=${s}]`,r)[0];if(!e.childNodes.length)return w.addAria(c,i,t,n,o),e.id;var l=w.combineContentChildren(e.type,e.role,e.contentNodes.map(function(e){return e}),e.childNodes.map(function(e){return e}));c&&w.addOwns_(c,l);for(let e,t=0,n=l.length;e=l[t];t++)a.push(w.tree_(r,e,o,i+1,t+1,n));return w.addAria(c,i,t,n,o),a}static addAria(e,t,n,r,o){var i=!o.tree||t?"treeitem":"tree";o.aria&&e&&(e.setAttribute("aria-level",t.toString()),e.setAttribute("aria-posinset",n.toString()),e.setAttribute("aria-setsize",r.toString()),e.setAttribute("role",i),e.hasAttribute(T.OWNS)&&e.setAttribute("aria-owns",e.getAttribute(T.OWNS)))}static addOwns_(e,t){const n=e.getAttribute(T.COLLAPSED),r=n?w.realLeafs_(w.fromString(n).array):t.map(e=>e.id);e.setAttribute(T.OWNS,r.join(" "))}static realLeafs_(t){if(w.simpleCollapseStructure(t))return[t];if(w.contentCollapseStructure(t))return[];let n=[];for(let e=1;e<t.length;e++)n=n.concat(w.realLeafs_(t[e]));return n}constructor(e){this.parents=null,this.levelsMap=null,this.array=e=0===e?e:e||[]}populate(){this.parents&&this.levelsMap||(this.parents={},this.levelsMap={},this.populate_(this.array,this.array,[]))}toString(){return w.makeSexp_(this.array)}populate_(n,e,r){if(w.simpleCollapseStructure(n))return this.levelsMap[n]=e,void(this.parents[n]=n===r[0]?r.slice(1):r);const o=w.contentCollapseStructure(n)?n.slice(1):n,i=[o[0]].concat(r);for(let e=0,t=o.length;e<t;e++){const r=o[e];this.populate_(r,n,i)}}isRoot(e){return e===this.levelsMap[e][0]}directChildren(e){return this.isRoot(e)?this.levelsMap[e].slice(1).map(e=>w.simpleCollapseStructure(e)?e:w.contentCollapseStructure(e)?e[1]:e[0]):[]}subtreeNodes(e){if(!this.isRoot(e))return[];const n=(e,t)=>{w.simpleCollapseStructure(e)?t.push(e):(e=w.contentCollapseStructure(e)?e.slice(1):e).forEach(e=>n(e,t))},t=this.levelsMap[e],r=[];return n(t.slice(1),r),r}}function Mt(e,t,n){let r=null;if(!e.length)return r;const o=n[n.length-1],i=o&&o.length,s=t&&t.length,a=D.getInstance();if(i&&s){if(t[0].type===m.INFIXOP&&t[0].role===f.IMPLICIT)return r=e.pop(),o.push(a.postfixNode_(o.pop(),e)),r;r=e.shift();const n=a.prefixNode_(t.shift(),e);return t.unshift(n),r}return i?o.push(a.postfixNode_(o.pop(),e)):s&&t.unshift(a.prefixNode_(t.shift(),e)),r}function wt(e){return e.childNodes[0]&&e.childNodes[0].childNodes[0]&&d(e.childNodes[0])===p.MPADDED&&d(e.childNodes[0].childNodes[0])===p.MPADDED&&d(e.childNodes[0].childNodes[e.childNodes[0].childNodes.length-1])===p.MPHANTOM}S.add(new v("combine_juxtaposition",function(n){for(let e,t=n.childNodes.length-1;e=n.childNodes[t];t--)Tt(e)&&!e.nobreaking&&(n.childNodes.splice(t,1,...e.childNodes),n.contentNodes.splice(t,0,...e.contentNodes),e.childNodes.concat(e.contentNodes).forEach(function(e){e.parent=n}),n.addMathmlNodes(e.mathml));return n})),S.add(new v("propagateSimpleFunction",e=>(e.type!==m.INFIXOP&&e.type!==m.FRACTION||!e.childNodes.every(dt)||(e.role=f.COMPFUNC),e),e=>"clearspeak"===S.options.domain)),S.add(new v("simpleNamedFunction",e=>(e.role!==f.UNIT&&-1!==["f","g","h","F","G","H"].indexOf(e.textContent)&&(e.role=f.SIMPLEFUNC),e),e=>"clearspeak"===S.options.domain)),S.add(new v("propagateComposedFunction",e=>(e.type===m.FENCED&&e.childNodes[0].role===f.COMPFUNC&&(e.role=f.COMPFUNC),e),e=>"clearspeak"===S.options.domain)),S.add(new v("multioperator",e=>{e.role!==f.UNKNOWN||e.textContent.length<=1||(D.compSemantics(e,"role",f),D.compSemantics(e,"type",m))})),S.add(new Lt("convert_juxtaposition",r=>{let o=y(r,function(e){return e.textContent===Te.invisibleTimes&&e.type===m.OPERATOR});r=(o=o.rel.length?function(e){const t=[],n=[];let r=e.comp.shift(),o=null,i=[];for(;e.comp.length;)if(i=[],r.length)o&&t.push(o),n.push(r),o=e.rel.shift(),r=e.comp.shift();else{for(o&&i.push(o);!r.length&&e.comp.length;)r=e.comp.shift(),i.push(e.rel.shift());o=Mt(i,r,n)}return i.length||r.length?(t.push(o),n.push(r)):(i.push(o),Mt(i,r,n)),{rel:t,comp:n}}(o):o).comp[0];for(let e,t,n=1;e=o.comp[n],t=o.rel[n-1];n++)r.push(t),r=r.concat(e);return(o=y(r,function(e){return e.textContent===Te.invisibleTimes&&(e.type===m.OPERATOR||e.type===m.INFIXOP)})).rel.length?function e(t,n,r){if(!n.length)return t;const o=t.pop(),i=n.shift(),s=r.shift();if(i.type===m.INFIXOP&&(i.role===f.IMPLICIT||i.role===f.UNIT)){l.getInstance().output("Juxta Heuristic Case 2");const a=(o?[o,i]:[i]).concat(s);return e(t.concat(a),n,r)}if(!o)return l.getInstance().output("Juxta Heuristic Case 3"),e([i].concat(s),n,r);const a=s.shift();if(!a){l.getInstance().output("Juxta Heuristic Case 9");const s=S.factory.makeBranchNode(m.INFIXOP,[o,n.shift()],[i],i.textContent);return s.role=f.IMPLICIT,S.run("combine_juxtaposition",s),n.unshift(s),e(t,n,r)}if(nt(o)||nt(a))return l.getInstance().output("Juxta Heuristic Case 4"),e(t.concat([o,i,a]).concat(s),n,r);let c=null;return Tt(o)&&Tt(a)?(l.getInstance().output("Juxta Heuristic Case 5"),o.contentNodes.push(i),o.contentNodes=o.contentNodes.concat(a.contentNodes),o.childNodes.push(a),o.childNodes=o.childNodes.concat(a.childNodes),a.childNodes.forEach(e=>e.parent=o),(i.parent=o).addMathmlNodes(i.mathml),o.addMathmlNodes(a.mathml),c=o):Tt(o)?(l.getInstance().output("Juxta Heuristic Case 6"),o.contentNodes.push(i),o.childNodes.push(a),a.parent=o,(i.parent=o).addMathmlNodes(i.mathml),o.addMathmlNodes(a.mathml),c=o):Tt(a)?(l.getInstance().output("Juxta Heuristic Case 7"),a.contentNodes.unshift(i),a.childNodes.unshift(o),o.parent=a,(i.parent=a).addMathmlNodes(i.mathml),a.addMathmlNodes(o.mathml),c=a):(l.getInstance().output("Juxta Heuristic Case 8"),(c=S.factory.makeBranchNode(m.INFIXOP,[o,a],[i],i.textContent)).role=f.IMPLICIT),t.push(c),e(t.concat(s),n,r)}(o.comp.shift(),o.rel,o.comp):r})),S.add(new v("simple2prefix",e=>(1<e.textContent.length&&!e.textContent[0].match(/[A-Z]/)&&(e.role=f.PREFIXFUNC),e),e=>"braille"===S.options.modality&&e.type===m.IDENTIFIER)),S.add(new v("detect_cycle",e=>{e.type=m.MATRIX,e.role=f.CYCLE;const t=e.childNodes[0];return t.type=m.ROW,t.role=f.CYCLE,t.textContent="",t.contentNodes=[],e},e=>e.type===m.FENCED&&e.childNodes[0].type===m.INFIXOP&&e.childNodes[0].role===f.IMPLICIT&&e.childNodes[0].childNodes.every(function(e){return e.type===m.NUMBER})&&e.childNodes[0].contentNodes.every(function(e){return e.role===f.SPACE}))),S.add(new Lt("intvar_from_implicit",function(e){var t=e[0].childNodes;e.splice(0,1,...t)},e=>e[0]&&gt(e[0]))),S.add(new v("intvar_from_fraction",function(e){const t=e.childNodes[1],n=t.childNodes[0];if(Ze(n))n.role=f.INTEGRAL;else if(gt(n)){const r=n.childNodes.length,o=n.childNodes[r-2],i=n.childNodes[r-1];if(Ze(i))i.role=f.INTEGRAL;else if(Je(o,i)){const e=D.getInstance().prefixNode_(i,[o]);e.role=f.INTEGRAL,2===r?t.childNodes[0]=e:(n.childNodes.pop(),n.contentNodes.pop(),(n.childNodes[r-2]=e).parent=n)}}},e=>{if(e.type!==m.INTEGRAL)return!1;var[,e,t]=e.childNodes;return t.type===m.EMPTY&&e.type===m.FRACTION})),S.add(new v("rewrite_subcases",function(n){n.addAnnotation("Emph","top");let e=[];if(n.hasAnnotation("Emph","left")){const t=xt(n.childNodes[0].childNodes[0].childNodes[0],!0);t.forEach(e=>e.addAnnotation("Emph","left")),e=e.concat(t);for(let e,t=0;e=n.childNodes[t];t++)e.childNodes.shift()}if(e.push(n),n.hasAnnotation("Emph","right")){const t=xt(n.childNodes[0].childNodes[n.childNodes[0].childNodes.length-1].childNodes[0]);t.forEach(e=>e.addAnnotation("Emph","left")),e=e.concat(t),n.childNodes[0].childNodes.pop()}D.tableToMultiline(n);const t=D.getInstance().row(e),r=n.annotation.Emph;return n.annotation.Emph=["table"],r.forEach(e=>t.addAnnotation("Emph",e)),t},n=>{let r=!0,o=!0;if(wt(n.childNodes[0].childNodes[0].mathmlTree)){for(let e,t=1;e=n.childNodes[t];t++)if(e.childNodes[0].childNodes.length){r=!1;break}}else r=!1;if(r&&n.addAnnotation("Emph","left"),wt(n.childNodes[0].childNodes[n.childNodes[0].childNodes.length-1].mathmlTree)){const r=n.childNodes[0].childNodes.length;for(let e,t=1;e=n.childNodes[t];t++)if(e.childNodes.length>=r){o=!1;break}}else o=!1;return o&&n.addAnnotation("Emph","right"),r||o}));const Pt=[m.PUNCTUATED,m.RELSEQ,m.MULTIREL,m.INFIXOP,m.PREFIXOP,m.POSTFIXOP];function xt(e,t){if(!e.childNodes.length)return Ft(e),[e];let n=null;if(e.type!==m.PUNCTUATED||(t?e.role!==f.ENDPUNCT:e.role!==f.STARTPUNCT)||Ft((r=e.childNodes)[t?r.length-1:0])&&(e=r[t?0:r.length-1],n=r[t?r.length-1:0]),-1===Pt.indexOf(e.type))return n?t?[e,n]:[n,e]:[e];{var r=e.childNodes;Ft(r[t?r.length-1:0]);const o=w.combineContentChildren(e.type,e.role,e.contentNodes,e.childNodes);return n&&(t?o.push(n):o.unshift(n)),o}}const Ut={[f.METRIC]:f.METRIC,[f.VBAR]:f.NEUTRAL,[f.OPENFENCE]:f.OPEN,[f.CLOSEFENCE]:f.CLOSE};function Ft(e){var t;if(e.type===m.PUNCTUATION)return t=Ut[e.role],t&&(e.role=t,e.type=m.FENCE,e.addAnnotation("Emph","fence"),1)}function kt(e,t,n,r=n){const o=[];for(;e&&e.role===n;)o.push(e),e=t.shift();return o.length?(e&&t.unshift(e),[1===o.length?o[0]:function(e,t){const n=S.factory.makeBranchNode(m.PUNCTUATION,e,[]);return n.role=t,n}(o,r),t]):[e,t]}function Bt(e){return["[","ï¼»"].includes(e)}function qt(e){return["]","ï¼½"].includes(e)}function Ht(e){return["(","â½","â‚"].includes(e)}function Gt(e){return[")","â¾","â‚"].includes(e)}function Vt(e){return e.role===f.INFTY||e.type===m.PREFIXOP&&e.childNodes[0].role===f.INFTY}function Yt(e){var t=e.childNodes[0];if(e.type!==m.FENCED||(null==t?void 0:t.type)!==m.PUNCTUATED||3!==(null==t?void 0:t.childNodes.length)||1!==(null==t?void 0:t.contentNodes.length)||(null==t?void 0:t.childNodes[1].role)!==f.COMMA)return!1;var t=e.childNodes[0].childNodes[0],n=e.childNodes[0].childNodes[2],r=e.contentNodes[0].textContent,e=e.contentNodes[1].textContent;return!!(Bt(r)&&Gt(e)||Ht(r)&&qt(e))||!(!Ht(r)||!Gt(e)||!Vt(t)&&!Vt(n))}function Xt(e){return e.hasAnnotation("clearspeak","simple")}function jt(e){return e.type===m.IDENTIFIER&&(e.role===f.LATINLETTER||e.role===f.GREEKLETTER||e.role===f.OTHERLETTER||e.role===f.SIMPLEFUNC)}function Wt(e){return e.type===m.NUMBER&&(e.role===f.INTEGER||e.role===f.FLOAT)}function Kt(e){return Wt(e)||function(e){if(zt("Fraction_Over")||zt("Fraction_FracOver"))return!1;if(e.type!==m.FRACTION||e.role!==f.VULGAR)return!1;if(zt("Fraction_Ordinal"))return!0;var t=parseInt(e.childNodes[0].textContent,10),e=parseInt(e.childNodes[1].textContent,10);return 0<t&&t<20&&0<e&&e<11}(e)}function zt(e){return u.getInstance().options.style===e}S.add(new Lt("ellipses",e=>{const t=[];let n=e.shift();for(;n;)[n,e]=kt(n,e,f.FULLSTOP,f.ELLIPSIS),[n,e]=kt(n,e,f.DASH),t.push(n),n=e.shift();return t},e=>1<e.length)),S.add(new Lt("op_with_limits",e=>{const t=e[0];return t.type=m.LARGEOP,t.role=f.SUM,e},e=>e[0].type===m.OPERATOR&&e.slice(1).some(e=>e.type===m.RELSEQ||e.type===m.MULTIREL||e.type===m.INFIXOP&&e.role===f.ELEMENT||e.type===m.PUNCTUATED&&e.role===f.SEQUENCE))),S.add(new class extends Rt{}("function_from_identifiers",e=>{var t=E(e.childNodes).map(e=>e.textContent.trim()).join("");if(N.Meaning.get(t).type===m.UNKNOWN)return e;const n=S.factory.makeLeafNode(t,D.getInstance().font(e.getAttribute("mathvariant")));return n.mathmlTree=e,n},e=>{const t=E(e.childNodes);return!(t.length<2)&&t.every(e=>d(e)===p.MI&&N.Meaning.get(e.textContent.trim()).role===f.LATINLETTER)})),S.add(new Lt("bracketed_interval",e=>{const t=e[0],n=e[1],r=e.slice(2),o=D.getInstance().row(r),i=S.factory.makeBranchNode(m.FENCED,[o],[t,n]);return i.role=f.INTERVAL,i},e=>{var t=e[0],n=e[1],e=e.slice(2);if(!(t&&n&&(qt(t.textContent)&&(Bt(n.textContent)||qt(n.textContent))||Bt(n.textContent)&&(Bt(t.textContent)||qt(t.textContent)))))return!1;if(1===e.length&&e[0].type===m.PUNCTUATED&&1===e[0].contentNodes.length)return!0;n=y(e,ot);return!(1!==n.rel.length||!n.comp[0].length||!n.comp[1].length)})),S.add(new v("interval_heuristic",e=>(e.role=f.INTERVAL,e),e=>Yt(e))),S.add(new v("propagateInterval",e=>(e.childNodes.forEach(e=>{Yt(e)&&(e.role=f.INTERVAL)}),e),e=>Ot(e))),de(new ce("clearspeak","simple",function(e){return Kt(e=e)||(jt(t=e)||t.type===m.INFIXOP&&t.role===f.IMPLICIT&&(2===t.childNodes.length&&(jt(t.childNodes[0])||Kt(t.childNodes[0]))&&jt(t.childNodes[1])||3===t.childNodes.length&&Kt(t.childNodes[0])&&jt(t.childNodes[1])&&jt(t.childNodes[2])))||(t=e).type===m.PUNCTUATED&&t.role===f.ENDPUNCT&&2===t.childNodes.length&&t.childNodes[1].role===f.DEGREE&&(jt(t.childNodes[0])||Wt(t.childNodes[0])||t.childNodes[0].type===m.PREFIXOP&&t.childNodes[0].role===f.NEGATIVE&&(jt(t.childNodes[0].childNodes[0])||Wt(t.childNodes[0].childNodes[0])))||(t=e).type===m.PREFIXOP&&t.role===f.NEGATIVE&&Xt(t.childNodes[0])&&t.childNodes[0].type!==m.PREFIXOP&&t.childNodes[0].type!==m.APPL&&t.childNodes[0].type!==m.PUNCTUATED||(t=e).type===m.APPL&&(t.childNodes[0].role===f.PREFIXFUNC||t.childNodes[0].role===f.SIMPLEFUNC)&&(Xt(t.childNodes[1])||t.childNodes[1].type===m.FENCED&&Xt(t.childNodes[1].childNodes[0]))?"simple":"";var t})),fe("clearspeak","simple"),de(new ce("clearspeak","unit",function(e){return(e=e).type===m.TEXT&&e.role!==f.LABEL||e.type===m.PUNCTUATED&&e.role===f.TEXT&&Wt(e.childNodes[0])&&function(t){for(let e=0;e<t.length-1;e++)if(t[e].type!==m.TEXT||""!==t[e].textContent)return;return t[t.length-1].type===m.TEXT}(e.childNodes.slice(1))||e.type===m.IDENTIFIER&&e.role===f.UNIT||e.type===m.INFIXOP&&(e.role===f.IMPLICIT||e.role===f.UNIT)?"unit":""})),fe("clearspeak","unit");const Qt=[m.MULTIREL,m.RELSEQ,m.APPL,m.ROW,m.LINE],$t=[m.SUBSCRIPT,m.SUPERSCRIPT,m.OVERSCORE,m.UNDERSCORE];function Jt(e,t){var n,e=e.parent;if(e)return n=e.type,-1!==Qt.indexOf(n)||n===m.PREFIXOP&&e.role===f.NEGATIVE&&!t.script&&!t.enclosed||n===m.PREFIXOP&&e.role===f.GEOMETRY||!(n!==m.PUNCTUATED||t.enclosed&&e.role!==f.TEXT)}de(new le("nemeth","number",function(e,t){return e.childNodes.length?(-1!==$t.indexOf(e.type)&&(t.script=!0),e.type===m.FENCED?(t.number=!1,t.enclosed=!0):e.type===m.PREFIXOP&&e.role!==f.GEOMETRY&&e.role!==f.NEGATIVE?t.number=!1:Jt(e,t)&&(t.number=!0,t.enclosed=!1),["",t]):(Jt(e,t)&&(t.number=!0,t.script=!1,t.enclosed=!1),[t.number?"number":"",{number:!1,enclosed:t.enclosed,script:t.script}])},{number:!0})),fe("nemeth","number"),de(new le("depth","depth",function(e){return e.parent?[parseInt(e.parent.annotation.depth[0])+1]:[1]})),fe("depth","depth");class Zt{static empty(){const e=oe("<math/>"),t=new Zt(e,new r);return t.mathml=e,t}static fromNode(e,t){const n=Zt.empty();return n.root=e,t&&(n.mathml=t),n}static fromRoot(e,t){let n=e;for(;n.parent;)n=n.parent;const r=Zt.fromNode(n);return t&&(r.mathml=t),r}static fromXml(e){const t=Zt.empty();return e.childNodes[0]&&(t.root=R.fromXml(e.childNodes[0])),t}constructor(e,t){this.mathml=e,this.options=t,this.parser=new yt(t),this.root=this.parser.parse(e),this.collator=this.parser.getFactory().leafMap.collateMeaning();var n=this.collator.newDefault(),r=(n&&(this.parser=new yt(t),this.parser.getFactory().defaultMap=n,this.root=this.parser.parse(e)),en.visit(this.root,{}),this.root);for(const o of ue.values())o.active&&o.annotate(r);for(const i of he.values())i.active&&i.visit(r,Object.assign({},i.def))}xml(e){const t=oe("<stree></stree>"),n=this.root.xml(t.ownerDocument,e);return t.appendChild(n),t}toString(e){return ae(this.xml(e))}formatXml(e){return se(this.toString(e))}displayTree(){this.root.displayTree()}replaceNode(e,t){const n=e.parent;n?n.replaceChild(e,t):this.root=t}toJson(){const e={};return e.stree=this.root.toJson(),e}}const en=new le("general","unit",(e,t)=>(Nt(e)&&(e.role=f.UNIT),!1));const tn=[],nn=!0,rn=new Map;function P(e){l.getInstance().generate(()=>["WALKING START: ",e.toString()]);const t=function(n){for(let e,t=0;e=tn[t];t++)if(e.test(n))return e.constr(n);return null}(e);let n;if(t)return n=t.getMathml(),l.getInstance().generate(()=>["WALKING END: ",e.toString()]),ln(n);if(1===e.mathml.length){if(l.getInstance().output("Walktree Case 0"),!e.childNodes.length)return l.getInstance().output("Walktree Case 0.1"),M(n=e.mathml[0],e),l.getInstance().generate(()=>["WALKING END: ",e.toString()]),ln(n);const t=e.childNodes[0];if(1===e.childNodes.length&&t.type===m.EMPTY)return l.getInstance().output("Walktree Case 0.2"),M(n=e.mathml[0],e),n.appendChild(P(t)),l.getInstance().generate(()=>["WALKING END: ",e.toString()]),ln(n);e.childNodes.forEach(e=>{e.mathml.length||(e.mathml=[pn(e)])})}var r=e.contentNodes.map(dn),o=(En(e,r),e.childNodes.map(P)),r=w.combineContentChildren(e.type,e.role,r,o);if(null===(n=e.mathmlTree))l.getInstance().output("Walktree Case 1"),n=on(r,e);else{const e=an(r);l.getInstance().output("Walktree Case 2"),n=e?(l.getInstance().output("Walktree Case 2.1"),x(e)):(l.getInstance().output("Walktree Case 2.2"),mn(n))}return function(n,t,r){if(t.length&&(1!==t.length||n!==t[0])){const c=r.role===f.IMPLICIT&&S.flags.combine_juxtaposition?function(e,t,n){const r=[];let o=E(e.childNodes),i=!1;for(;o.length;){const e=o.shift();if(e.hasAttribute(T.TYPE))r.push(e);else{const n=function(e,t){const n=[];let r=E(e.childNodes);for(;r.length;){const e=r.shift();e.nodeType===j.ELEMENT_NODE&&(e.hasAttribute(T.TYPE)||-1!==t.indexOf(e)?n.push(e):r=E(e.childNodes).concat(r))}return n}(e,t);0!==n.length&&(1!==n.length?(i?e.setAttribute("AuxiliaryImplicit",!0):i=!0,o=n.concat(o)):r.push(e))}}const s=[],a=n.childNodes.map(function(e){return e.mathmlTree});for(;a.length;){const e=a.pop();if(e){if(-1!==r.indexOf(e))break;-1!==t.indexOf(e)&&s.unshift(e)}}return r.concat(s)}(n,t,r):E(n.childNodes);if(!c.length)return t.forEach(function(e){n.appendChild(e)});let e=0;for(;t.length;){const r=t[0];if(c[e]===r||function(n,r){var e=Te.functionApplication;if(n&&r&&n.textContent&&r.textContent&&n.textContent===e&&r.textContent===e&&"true"===r.getAttribute(T.ADDED)){for(let e,t=0;e=n.attributes[t];t++)r.hasAttribute(e.nodeName)||r.setAttribute(e.nodeName,e.nodeValue);return h(n,r),1}return}(c[e],r))t.shift(),e++;else if(c[e]&&-1===t.indexOf(c[e]))e++;else if(function(e,t){if(!e)return;do{if((e=x(e))===t)return 1}while(e);return}(r,n))t.shift();else{var o=c[e];if(o){{i=void 0;s=void 0;a=void 0;var i=n;var s=o;var a=r;let e=s,t=x(e);for(;t&&t.firstChild===e&&!e.hasAttribute("AuxiliaryImplicit")&&t!==i;)t=x(e=t);t&&(t.insertBefore(a,e),e.removeAttribute("AuxiliaryImplicit"))}t.shift()}else if(r.parentNode)n=x(r),t.shift();else{const c=t[1];c&&c.parentNode?((n=x(c)).insertBefore(r,c),t.shift()):n.insertBefore(r,null),t.shift()}}}}}(n=fn(n),r,e),rn.has(e.id)||(rn.set(e.id,!0),M(n,e)),l.getInstance().generate(()=>["WALKING END: ",e.toString()]),ln(n)}function on(e,t){const n=function(e){var t=an(e);if(!t)return{type:b.INVALID,node:null};var n=an(e.slice().reverse());if(t===n)return{type:b.VALID,node:t};const r=cn(t),o=function(e,t){let n=0;for(;e[n]&&-1===t.indexOf(e[n]);)n++;return e.slice(0,n+1)}(r,e),i=cn(n,function(e){return-1!==o.indexOf(e)}),s=i[0],a=o.indexOf(s);return-1===a?{type:b.INVALID,node:null}:{type:o.length!==r.length?b.PRUNED:(t=o[a+1],e=i[1],t&&e&&!t.previousSibling&&!e.nextSibling?b.VALID:b.INVALID),node:s}}(e);let r=n.node;var o=n.type;if(o!==b.VALID||!Ge(r)||!r.parentNode&&t.parent)if(l.getInstance().output("Walktree Case 1.1"),r=vt(),o===b.PRUNED)l.getInstance().output("Walktree Case 1.1.0"),r=function(t,e,n){let r=function e(t){const n=E(t.childNodes);if(!n)return t;const r=n.filter(function(e){return e.nodeType===j.ELEMENT_NODE&&!He(e)});return 1===r.length&&Ge(r[0])&&!r[0].hasAttribute(T.TYPE)?e(r[0]):t}(e);if(qe(r)){l.getInstance().output("Walktree Case 1.1.0.0"),sn(r,t),E(r.childNodes).forEach(function(e){t.appendChild(e)});const e=t;t=r,r=e}e=n.indexOf(e);return h(n[e]=r,t),t.appendChild(r),n.forEach(function(e){t.appendChild(e)}),t}(r,n.node,e);else if(e[0]){l.getInstance().output("Walktree Case 1.1.1");const t=an(e);if(t){const n=function(e,t){const n=E(e.childNodes);let r=1/0,o=-1/0;return t.forEach(function(e){e=n.indexOf(e);-1!==e&&(r=Math.min(r,e),o=Math.max(o,e))}),n.slice(r,o+1)}(x(t),e);h(t,r),n.forEach(function(e){r.appendChild(e)})}else sn(r,e[0]),r=e[0]}return t.mathmlTree||(t.mathmlTree=r),r}function sn(e,t){for(const n of St)e.hasAttribute(n)&&(t.setAttribute(n,e.getAttribute(n)),e.removeAttribute(n))}function an(e){let t=0,n=null;for(;!n&&t<e.length;)e[t].parentNode&&(n=e[t]),t++;return n}function cn(e,t){const n=t||(e=>!1),r=[e];for(;!n(e)&&!qe(e)&&e.parentNode;)e=x(e),r.unshift(e);return r}function ln(e){for(;!qe(e)&&function(t){var e=x(t);return e&&Ge(e)&&E(e.childNodes).every(function(e){return e===t||un(e)})}(e);)e=x(e);return e}function un(e){if(e.nodeType!==j.ELEMENT_NODE)return!0;if(!e||He(e))return!0;var t=E(e.childNodes);return!(!Ge(e)&&t.length||(t=e)&&ke.includes(d(t))||e.hasAttribute(T.TYPE)||(t=e)&&d(t)===p.MGLYPH&&(!(t=t.parentNode)||!xe.includes(d(t))))&&E(e.childNodes).every(un)}function x(e){return e.parentNode}function hn(e,t){const n=new w(t);e.setAttribute(T.COLLAPSED,n.toString())}function dn(e){if(e.mathml.length)return P(e);var t=nn?pn(e):vt();return e.mathml=[t],t}function fn(n){if(d(n)!==p.MFENCED)return n;const r=vt();for(let e,t=0;e=n.attributes[t];t++)-1===["open","close","separators"].indexOf(e.name)&&r.setAttribute(e.name,e.value);return E(n.childNodes).forEach(function(e){r.appendChild(e)}),h(n,r),r}function pn(e){const t=ie("mo"),n=(r=e.textContent,X.f.document.createTextNode(r));var r;return t.appendChild(n),M(t,e),t.setAttribute(T.ADDED,"true"),t}function En(e,t){const n=e.type+(e.textContent?","+e.textContent:"");t.forEach(function(e){mn(e).setAttribute(T.OPERATOR,n)})}function mn(e){const n=E(e.childNodes);if(!n)return e;const r=n.filter(function(e){return!un(e)}),o=[];for(let e,t=0;e=r[t];t++)if(Ge(e)&&e.getAttribute(T.TYPE)!==m.PUNCTUATION){const n=mn(e);n&&n!==e&&o.push(n)}else o.push(e);return 1===o.length?o[0]:e}function Nn(e){return se(e.toString()).toString().replace(new RegExp(_t,"g"),"")}function gn(n,e){const r=!!e,o=e||[],i=n.parent,s=n.contentNodes.map(function(e){return e.id}),a=(s.unshift("c"),[n.id,s]);for(let e,t=0;e=n.childNodes[t];t++){const n=P(e),s=(o.push(n),mn(n));i&&!r&&s.setAttribute(T.PARENT,i.id.toString()),a.push(e.id)}return a}(ye=b=b||{}).VALID="valid",ye.INVALID="invalid",ye.PRUNED="pruned";class Tn{constructor(e){this.semantic=e}}class In extends Tn{static test(e){return!e.mathmlTree&&e.type===m.LINE&&e.role===f.BINOMIAL}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){if(!this.semantic.childNodes.length)return this.mml;const e=this.semantic.childNodes[0];if(this.mml=P(e),this.mml.hasAttribute(T.TYPE)){const e=vt();h(this.mml,e),e.appendChild(this.mml),this.mml=e}return M(this.mml,this.semantic),this.mml}}class bn extends Tn{static test(e){if(!e.mathmlTree||!e.childNodes.length)return!1;var t=d(e.mathmlTree),e=e.childNodes[0].role;return t===p.MSUBSUP&&e===f.SUBSUP||t===p.MUNDEROVER&&e===f.UNDEROVER}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){const e=this.semantic.childNodes[0],t=e.childNodes[0],n=this.semantic.childNodes[1],r=e.childNodes[1],o=P(n),i=P(t),s=P(r);return M(this.mml,this.semantic),this.mml.setAttribute(T.CHILDREN,Dt([t,r,n])),[i,s,o].forEach(e=>mn(e).setAttribute(T.PARENT,this.mml.getAttribute(T.ID))),this.mml.setAttribute(T.TYPE,e.role),hn(this.mml,[this.semantic.id,[e.id,t.id,r.id],n.id]),this.mml}}class An extends Tn{static multiscriptIndex(e){return e.type===m.PUNCTUATED&&e.contentNodes[0].role===f.DUMMY?gn(e):(P(e),e.id)}static createNone_(e){const t=ie("none");return e&&M(t,e),t.setAttribute(T.ADDED,"true"),t}constructor(e){super(e),this.mml=e.mathmlTree}completeMultiscript(e,t){const n=E(this.mml.childNodes).slice(1);let r=0;var o=e=>{for(const t of e){const e=n[r];if(e&&t===parseInt(e.getAttribute(T.ID)))e.setAttribute(T.PARENT,this.semantic.id.toString()),r++;else if(e&&t===parseInt(mn(e).getAttribute(T.ID)))mn(e).setAttribute(T.PARENT,this.semantic.id.toString()),r++;else{const n=this.semantic.querySelectorAll(e=>e.id===t);this.mml.insertBefore(An.createNone_(n[0]),e||null)}}};o(e),n[r]&&d(n[r])!==p.MPRESCRIPTS?this.mml.insertBefore(n[r],ie("mprescripts")):r++,o(t)}}class On extends An{static test(e){return!!e.mathmlTree&&(d(e.mathmlTree)===p.MMULTISCRIPTS&&(e.type===m.SUPERSCRIPT||e.type===m.SUBSCRIPT))}constructor(e){super(e)}getMathml(){let e,t,n;if(M(this.mml,this.semantic),this.semantic.childNodes[0]&&this.semantic.childNodes[0].role===f.SUBSUP){const o=this.semantic.childNodes[0];e=o.childNodes[0],t=An.multiscriptIndex(this.semantic.childNodes[1]),n=An.multiscriptIndex(o.childNodes[1]);var r=[this.semantic.id,[o.id,e.id,n],t];hn(this.mml,r),this.mml.setAttribute(T.TYPE,o.role),this.completeMultiscript(w.interleaveIds(n,t),[])}else{e=this.semantic.childNodes[0],t=An.multiscriptIndex(this.semantic.childNodes[1]);const n=[this.semantic.id,e.id,t];hn(this.mml,n)}const o=w.collapsedLeafs(n||[],t);return mn(P(e)).setAttribute(T.PARENT,this.semantic.id.toString()),o.unshift(e.id),this.mml.setAttribute(T.CHILDREN,o.join(",")),this.mml}}class yn extends An{static test(e){return!!e.mathmlTree&&e.type===m.TENSOR}constructor(e){super(e)}getMathml(){P(this.semantic.childNodes[0]);var e=An.multiscriptIndex(this.semantic.childNodes[1]),t=An.multiscriptIndex(this.semantic.childNodes[2]),n=An.multiscriptIndex(this.semantic.childNodes[3]),r=An.multiscriptIndex(this.semantic.childNodes[4]),o=(M(this.mml,this.semantic),[this.semantic.id,this.semantic.childNodes[0].id,e,t,n,r]);hn(this.mml,o);const i=w.collapsedLeafs(e,t,n,r);return i.unshift(this.semantic.childNodes[0].id),this.mml.setAttribute(T.CHILDREN,i.join(",")),this.completeMultiscript(w.interleaveIds(n,r),w.interleaveIds(e,t)),this.mml}}class Rn extends Tn{static test(e){return!(!e.mathmlTree||!e.fencePointer||e.mathmlTree.getAttribute("data-semantic-type"))}static makeEmptyNode_(e){const t=vt(),n=new R(e);return n.type=m.EMPTY,n.mathmlTree=t,n}static fencedMap_(e,t){t[e.id]=e.mathmlTree,e.embellished&&Rn.fencedMap_(e.childNodes[0],t)}constructor(e){super(e),this.fenced=null,this.fencedMml=null,this.fencedMmlNodes=[],this.ofence=null,this.ofenceMml=null,this.ofenceMap={},this.cfence=null,this.cfenceMml=null,this.cfenceMap={},this.parentCleanup=[]}getMathml(){return this.getFenced_(),this.fencedMml=P(this.fenced),this.getFencesMml_(),this.fenced.type!==m.EMPTY||this.fencedMml.parentNode||(this.fencedMml.setAttribute(T.ADDED,"true"),this.cfenceMml.parentNode.insertBefore(this.fencedMml,this.cfenceMml)),this.getFencedMml_(),this.rewrite_()}fencedElement(e){return e.type===m.FENCED||e.type===m.MATRIX||e.type===m.VECTOR}getFenced_(){let e=this.semantic;for(;!this.fencedElement(e);)e=e.childNodes[0];this.fenced=e.childNodes[0],this.ofence=e.contentNodes[0],this.cfence=e.contentNodes[1],Rn.fencedMap_(this.ofence,this.ofenceMap),Rn.fencedMap_(this.cfence,this.cfenceMap)}getFencedMml_(){let e=this.ofenceMml.nextSibling;for(e=e===this.fencedMml?e:this.fencedMml;e&&e!==this.cfenceMml;)this.fencedMmlNodes.push(e),e=e.nextSibling}getFencesMml_(){let e=this.semantic;const t=Object.keys(this.ofenceMap),n=Object.keys(this.cfenceMap);for(;!(this.ofenceMml&&this.cfenceMml||e===this.fenced);)-1===t.indexOf(e.fencePointer)||this.ofenceMml||(this.ofenceMml=e.mathmlTree),-1===n.indexOf(e.fencePointer)||this.cfenceMml||(this.cfenceMml=e.mathmlTree),e=e.childNodes[0];this.ofenceMml||(this.ofenceMml=this.ofence.mathmlTree),this.cfenceMml||(this.cfenceMml=this.cfence.mathmlTree),this.ofenceMml&&(this.ofenceMml=ln(this.ofenceMml)),this.cfenceMml&&(this.cfenceMml=ln(this.cfenceMml))}rewrite_(){let n=this.semantic,r=null;var e=this.introduceNewLayer_();for(M(e,this.fenced.parent);!this.fencedElement(n);){var t=n.mathmlTree,o=this.specialCase_(n,t);if(o)n=o;else{M(t,n);const r=[];for(let e,t=1;e=n.childNodes[t];t++)r.push(P(e));n=n.childNodes[0]}var o=ie("dummy"),i=t.childNodes[0];h(t,o),h(e,t),h(t.childNodes[0],e),h(o,i),r=r||t}return P(this.ofence),P(this.cfence),this.cleanupParents_(),r||e}specialCase_(e,t){var n=d(t);let r,o=null;if(n===p.MSUBSUP?(o=e.childNodes[0],r=bn):n===p.MMULTISCRIPTS&&(e.type===m.SUPERSCRIPT||e.type===m.SUBSCRIPT?r=On:e.type===m.TENSOR&&(r=yn),o=r&&e.childNodes[0]&&e.childNodes[0].role===f.SUBSUP?e.childNodes[0]:e),!o)return null;var n=o.childNodes[0],i=Rn.makeEmptyNode_(n.id);return o.childNodes[0]=i,t=new r(e).getMathml(),o.childNodes[0]=n,this.parentCleanup.push(t),o.childNodes[0]}introduceNewLayer_(){const e=this.fullFence(this.ofenceMml),t=this.fullFence(this.cfenceMml);let n=vt();if(h(this.fencedMml,n),this.fencedMmlNodes.forEach(e=>n.appendChild(e)),n.insertBefore(e,this.fencedMml),n.appendChild(t),!n.parentNode){const e=vt();for(;0<n.childNodes.length;)e.appendChild(n.childNodes[0]);n.appendChild(e),n=e}return n}fullFence(e){var t=this.fencedMml.parentNode;let n=e;for(;n.parentNode&&n.parentNode!==t;)n=n.parentNode;return n}cleanupParents_(){this.parentCleanup.forEach(function(e){var t=e.childNodes[1].getAttribute(T.PARENT);e.childNodes[0].setAttribute(T.PARENT,t)})}}class Ln extends Tn{static test(e){return!!e.mathmlTree&&e.hasAnnotation("Emph","top")}constructor(e){super(e),this.mrows=[],this.mml=e.mathmlTree}getMathml(){if(this.recurseToTable(this.semantic),this.mrows.length){const e=vt();this.mml.parentNode.insertBefore(e,this.mml);for(const t of this.mrows)e.appendChild(t);e.appendChild(this.mml)}return this.mml}recurseToTable(e){var t;if(e.hasAnnotation("Emph","top")||e.hasAnnotation("Emph","fence")||!e.hasAnnotation("Emph","left")&&!e.hasAnnotation("Emph","right")){if(!e.mathmlTree||d(e.mathmlTree)===p.MTABLE&&null!=(t=e.annotation.Emph)&&t.length&&"table"!==e.annotation.Emph[0]){const t=vt();M(t,e),this.mrows.unshift(t)}else{if(d(e.mathmlTree)===p.MTABLE&&null!=(t=e.annotation.Emph)&&t.length&&"table"===e.annotation.Emph[0])return void this.finalizeTable(e);M(e.mathmlTree,e)}if(e.childNodes.forEach(this.recurseToTable.bind(this)),e.textContent||"punctuated"===e.type){const t=e.contentNodes.map(e=>{const t=dn(e);return t.hasAttribute("data-semantic-added")?this.mrows.unshift(t):this.recurseToTable(e),t});En(e,t)}else e.contentNodes.forEach(this.recurseToTable.bind(this))}else P(e)}finalizeTable(e){M(e.mathmlTree,e),e.contentNodes.forEach(e=>{P(e)}),e.childNodes.forEach(e=>{P(e)})}}class Cn extends Tn{static test(e){if(!e.mathmlTree||!e.childNodes.length)return!1;var t=d(e.mathmlTree),e=e.type;return(e===m.LIMUPPER||e===m.LIMLOWER)&&(t===p.MSUBSUP||t===p.MUNDEROVER)||e===m.LIMBOTH&&(t===p.MSUB||t===p.MUNDER||t===p.MSUP||t===p.MOVER)}static walkTree_(e){e&&P(e)}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){const e=this.semantic.childNodes;return this.semantic.type!==m.LIMBOTH&&3<=this.mml.childNodes.length&&(this.mml=on([this.mml],this.semantic)),M(this.mml,this.semantic),e[0].mathmlTree||(e[0].mathmlTree=this.semantic.mathmlTree),e.forEach(Cn.walkTree_),this.mml}}class _n extends Tn{static test(e){return!!e.mathmlTree&&e.type===m.LINE}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){return this.semantic.contentNodes.length&&P(this.semantic.contentNodes[0]),this.semantic.childNodes.length&&P(this.semantic.childNodes[0]),M(this.mml,this.semantic),this.mml}}class Sn extends Tn{static test(e){return!!e.mathmlTree&&(e.type===m.INFERENCE||e.type===m.PREMISES)}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){return this.semantic.childNodes.length&&(this.semantic.contentNodes.forEach(function(e){P(e),M(e.mathmlTree,e)}),this.semantic.childNodes.forEach(function(e){P(e)}),M(this.mml,this.semantic),this.mml.getAttribute("data-semantic-id")===this.mml.getAttribute("data-semantic-parent")&&this.mml.removeAttribute("data-semantic-parent")),this.mml}}class Dn extends Tn{static test(e){return e.type===m.MATRIX||e.type===m.VECTOR||e.type===m.CASES}constructor(e){super(e),this.inner=[],this.mml=e.mathmlTree}getMathml(){const e=dn(this.semantic.contentNodes[0]),t=this.semantic.contentNodes[1]?dn(this.semantic.contentNodes[1]):null;if(this.inner=this.semantic.childNodes.map(P),this.mml)if(d(this.mml)===p.MFENCED){var n=this.mml.childNodes;this.mml.insertBefore(e,n[0]||null),t&&this.mml.appendChild(t),this.mml=fn(this.mml)}else{const r=[e,this.mml];t&&r.push(t),this.mml=on(r,this.semantic)}else this.mml=on([e].concat(this.inner,[t]),this.semantic);return M(this.mml,this.semantic),this.mml}}class vn extends Tn{static test(e){return e.type===m.PUNCTUATED&&(e.role===f.TEXT||e.contentNodes.every(e=>e.role===f.DUMMY))}constructor(e){super(e),this.mml=e.mathmlTree}getMathml(){var e=[],t=gn(this.semantic,e);return this.mml=on(e,this.semantic),M(this.mml,this.semantic),this.mml.removeAttribute(T.CONTENT),hn(this.mml,t),this.mml}}function Mn(e,t){var n,r,o,e=e.cloneNode(!0);return e=n=e,o=t,r=new Zt(e,o),e=t,l.getInstance().generate(()=>["Original MathML",Nn(n)]),rn.clear(),P(r.root),e.structure&&n.setAttribute(T.STRUCTURE,w.fromStructure(n,r,e).toString()),l.getInstance().generate(()=>["Semantic Tree\n",Nn(r),"Semantically enriched MathML\n",Nn(n)]),n}tn.push({test:Cn.test,constr:e=>new Cn(e)},{test:Rn.test,constr:e=>new Rn(e)},{test:bn.test,constr:e=>new bn(e)},{test:yn.test,constr:e=>new yn(e)},{test:On.test,constr:e=>new On(e)},{test:_n.test,constr:e=>new _n(e)},{test:In.test,constr:e=>new In(e)},{test:Sn.test,constr:e=>new Sn(e)},{test:Ln.test,constr:e=>new Ln(e)},{test:Dn.test,constr:e=>new Dn(e)},{test:vn.test,constr:e=>new vn(e)});const wn=new G({AbsoluteValue:["Auto","AbsEnd","Cardinality","Determinant"],Bar:["Auto","Conjugate"],Caps:["Auto","SayCaps"],CombinationPermutation:["Auto","ChoosePermute"],Currency:["Auto","Position","Prefix"],Ellipses:["Auto","AndSoOn"],Enclosed:["Auto","EndEnclose"],Exponent:["Auto","AfterPower","Ordinal","OrdinalPower","Exponent"],Fraction:["Auto","EndFrac","FracOver","General","GeneralEndFrac","Ordinal","Over","OverEndFrac","Per"],Functions:["Auto","None","Reciprocal"],Inference:["Auto","Long"],ImpliedTimes:["Auto","MoreImpliedTimes","None"],Log:["Auto","LnAsNaturalLog"],Matrix:["Auto","Combinatoric","EndMatrix","EndVector","SilentColNum","SpeakColNum","Vector"],MultiLineLabel:["Auto","Case","Constraint","Equation","Line","None","Row","Step"],MultiLineOverview:["Auto","None"],MultiLinePausesBetweenColumns:["Auto","Long","Short"],MultsymbolDot:["Auto","Dot"],MultsymbolX:["Auto","By","Cross"],Paren:["Auto","CoordPoint","Interval","Silent","Speak","SpeakNestingLevel"],Prime:["Auto","Angle","Length"],Roots:["Auto","PosNegSqRoot","PosNegSqRootEnd","RootEnd"],SetMemberSymbol:["Auto","Belongs","Element","Member","In"],Sets:["Auto","SilentBracket","woAll"],TriangleSymbol:["Auto","Delta"],Trig:["Auto","ArcTrig","TrigInverse","Reciprocal"],VerticalLine:["Auto","Divides","Given","SuchThat"]}),Pn="Auto";function xn(e){const n=e.split(":"),r={},o=wn.getProperties(),i=Object.keys(o);for(let e,t=0;e=n[t];t++){const n=e.split("_");var s;-1!==i.indexOf(n[0])&&((s=n[1])&&s!==Pn&&-1!==o[n[0]].indexOf(s)&&(r[n[0]]=n[1]))}return r}function Un(t){const n=Object.keys(t),r=[];for(let e=0;e<n.length;e++)r.push(n[e]+"_"+t[n[e]]);return r.length?r.join(":"):s.DEFAULT_VALUE}const Fn=z.u.LOCALES,kn=e=>u.getInstance().setup(e),Bn=()=>u.getInstance().json(),qn=e=>{var t=e,e=u.getInstance().options,n=oe(t);try{return Mn(n,e)}catch(t){return console.error(t),n}},Hn=oe,Gn=function(e,t,n){if("default"===e)return t+"_"+n;const r=xn(e);return r[t]=n,Un(r)},Vn=xn,Yn=Un;MathJax.loader&&MathJax.loader.checkVersion("a11y/sre","4.0.0","a11y"),H({_:{a11y:{sre_ts:B}}})})()})();