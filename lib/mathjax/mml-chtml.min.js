(()=>{var __webpack_modules__={74:(__unused_webpack___webpack_module__,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{f:()=>SystemExternal});var _variables_js__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(714),_lib_external_js__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(268);const windowSupported=!("undefined"==typeof window),documentSupported=windowSupported&&!(void 0===window.document),webworker=!("undefined"==typeof DedicatedWorkerGlobalScope),nodeRequire=()=>{try{return eval("require")}catch(t){return t=>null}},SystemExternal={extRequire:t=>"undefined"!=typeof process&&"undefined"!=typeof require?nodeRequire()(t):null,windowSupported:windowSupported,documentSupported:documentSupported,webworker:webworker,xmldom:_lib_external_js__WEBPACK_IMPORTED_MODULE_1__.Gb,document:_lib_external_js__WEBPACK_IMPORTED_MODULE_1__.Al,fs:documentSupported||webworker?null:nodeRequire()("fs"),url:_variables_js__WEBPACK_IMPORTED_MODULE_0__.u.url,jsonPath:function(){if(documentSupported||webworker)return _variables_js__WEBPACK_IMPORTED_MODULE_0__.u.url;if(process.env.SRE_JSON_PATH||global.SRE_JSON_PATH)return process.env.SRE_JSON_PATH||global.SRE_JSON_PATH;try{return nodeRequire().resolve("speech-rule-engine").replace(/sre\.js$/,"")+"mathmaps"}catch(t){}try{return nodeRequire().resolve(".").replace(/sre\.js$/,"")+"mathmaps"}catch(t){}return"undefined"!=typeof __dirname?__dirname+(__dirname.match(/lib?$/)?"/mathmaps":"/lib/mathmaps"):process.cwd()+"/lib/mathmaps"}(),xpath:_lib_external_js__WEBPACK_IMPORTED_MODULE_1__.Oe}},159:(t,e,s)=>{"use strict";s=s(870).freeze;e.XML_ENTITIES=s({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'}),e.HTML_ENTITIES=s({Aacute:"Ã",aacute:"Ã¡",Abreve:"Ä‚",abreve:"Äƒ",ac:"âˆ¾",acd:"âˆ¿",acE:"âˆ¾Ì³",Acirc:"Ã‚",acirc:"Ã¢",acute:"Â´",Acy:"Ğ",acy:"Ğ°",AElig:"Ã†",aelig:"Ã¦",af:"â¡",Afr:"ğ”„",afr:"ğ”",Agrave:"Ã€",agrave:"Ã ",alefsym:"â„µ",aleph:"â„µ",Alpha:"Î‘",alpha:"Î±",Amacr:"Ä€",amacr:"Ä",amalg:"â¨¿",AMP:"&",amp:"&",And:"â©“",and:"âˆ§",andand:"â©•",andd:"â©œ",andslope:"â©˜",andv:"â©š",ang:"âˆ ",ange:"â¦¤",angle:"âˆ ",angmsd:"âˆ¡",angmsdaa:"â¦¨",angmsdab:"â¦©",angmsdac:"â¦ª",angmsdad:"â¦«",angmsdae:"â¦¬",angmsdaf:"â¦­",angmsdag:"â¦®",angmsdah:"â¦¯",angrt:"âˆŸ",angrtvb:"âŠ¾",angrtvbd:"â¦",angsph:"âˆ¢",angst:"Ã…",angzarr:"â¼",Aogon:"Ä„",aogon:"Ä…",Aopf:"ğ”¸",aopf:"ğ•’",ap:"â‰ˆ",apacir:"â©¯",apE:"â©°",ape:"â‰Š",apid:"â‰‹",apos:"'",ApplyFunction:"â¡",approx:"â‰ˆ",approxeq:"â‰Š",Aring:"Ã…",aring:"Ã¥",Ascr:"ğ’œ",ascr:"ğ’¶",Assign:"â‰”",ast:"*",asymp:"â‰ˆ",asympeq:"â‰",Atilde:"Ãƒ",atilde:"Ã£",Auml:"Ã„",auml:"Ã¤",awconint:"âˆ³",awint:"â¨‘",backcong:"â‰Œ",backepsilon:"Ï¶",backprime:"â€µ",backsim:"âˆ½",backsimeq:"â‹",Backslash:"âˆ–",Barv:"â«§",barvee:"âŠ½",Barwed:"âŒ†",barwed:"âŒ…",barwedge:"âŒ…",bbrk:"âµ",bbrktbrk:"â¶",bcong:"â‰Œ",Bcy:"Ğ‘",bcy:"Ğ±",bdquo:"â€",becaus:"âˆµ",Because:"âˆµ",because:"âˆµ",bemptyv:"â¦°",bepsi:"Ï¶",bernou:"â„¬",Bernoullis:"â„¬",Beta:"Î’",beta:"Î²",beth:"â„¶",between:"â‰¬",Bfr:"ğ”…",bfr:"ğ”Ÿ",bigcap:"â‹‚",bigcirc:"â—¯",bigcup:"â‹ƒ",bigodot:"â¨€",bigoplus:"â¨",bigotimes:"â¨‚",bigsqcup:"â¨†",bigstar:"â˜…",bigtriangledown:"â–½",bigtriangleup:"â–³",biguplus:"â¨„",bigvee:"â‹",bigwedge:"â‹€",bkarow:"â¤",blacklozenge:"â§«",blacksquare:"â–ª",blacktriangle:"â–´",blacktriangledown:"â–¾",blacktriangleleft:"â—‚",blacktriangleright:"â–¸",blank:"â£",blk12:"â–’",blk14:"â–‘",blk34:"â–“",block:"â–ˆ",bne:"=âƒ¥",bnequiv:"â‰¡âƒ¥",bNot:"â«­",bnot:"âŒ",Bopf:"ğ”¹",bopf:"ğ•“",bot:"âŠ¥",bottom:"âŠ¥",bowtie:"â‹ˆ",boxbox:"â§‰",boxDL:"â•—",boxDl:"â•–",boxdL:"â••",boxdl:"â”",boxDR:"â•”",boxDr:"â•“",boxdR:"â•’",boxdr:"â”Œ",boxH:"â•",boxh:"â”€",boxHD:"â•¦",boxHd:"â•¤",boxhD:"â•¥",boxhd:"â”¬",boxHU:"â•©",boxHu:"â•§",boxhU:"â•¨",boxhu:"â”´",boxminus:"âŠŸ",boxplus:"âŠ",boxtimes:"âŠ ",boxUL:"â•",boxUl:"â•œ",boxuL:"â•›",boxul:"â”˜",boxUR:"â•š",boxUr:"â•™",boxuR:"â•˜",boxur:"â””",boxV:"â•‘",boxv:"â”‚",boxVH:"â•¬",boxVh:"â•«",boxvH:"â•ª",boxvh:"â”¼",boxVL:"â•£",boxVl:"â•¢",boxvL:"â•¡",boxvl:"â”¤",boxVR:"â• ",boxVr:"â•Ÿ",boxvR:"â•",boxvr:"â”œ",bprime:"â€µ",Breve:"Ë˜",breve:"Ë˜",brvbar:"Â¦",Bscr:"â„¬",bscr:"ğ’·",bsemi:"â",bsim:"âˆ½",bsime:"â‹",bsol:"\\",bsolb:"â§…",bsolhsub:"âŸˆ",bull:"â€¢",bullet:"â€¢",bump:"â‰",bumpE:"âª®",bumpe:"â‰",Bumpeq:"â‰",bumpeq:"â‰",Cacute:"Ä†",cacute:"Ä‡",Cap:"â‹’",cap:"âˆ©",capand:"â©„",capbrcup:"â©‰",capcap:"â©‹",capcup:"â©‡",capdot:"â©€",CapitalDifferentialD:"â……",caps:"âˆ©ï¸€",caret:"â",caron:"Ë‡",Cayleys:"â„­",ccaps:"â©",Ccaron:"ÄŒ",ccaron:"Ä",Ccedil:"Ã‡",ccedil:"Ã§",Ccirc:"Äˆ",ccirc:"Ä‰",Cconint:"âˆ°",ccups:"â©Œ",ccupssm:"â©",Cdot:"ÄŠ",cdot:"Ä‹",cedil:"Â¸",Cedilla:"Â¸",cemptyv:"â¦²",cent:"Â¢",CenterDot:"Â·",centerdot:"Â·",Cfr:"â„­",cfr:"ğ” ",CHcy:"Ğ§",chcy:"Ñ‡",check:"âœ“",checkmark:"âœ“",Chi:"Î§",chi:"Ï‡",cir:"â—‹",circ:"Ë†",circeq:"â‰—",circlearrowleft:"â†º",circlearrowright:"â†»",circledast:"âŠ›",circledcirc:"âŠš",circleddash:"âŠ",CircleDot:"âŠ™",circledR:"Â®",circledS:"â“ˆ",CircleMinus:"âŠ–",CirclePlus:"âŠ•",CircleTimes:"âŠ—",cirE:"â§ƒ",cire:"â‰—",cirfnint:"â¨",cirmid:"â«¯",cirscir:"â§‚",ClockwiseContourIntegral:"âˆ²",CloseCurlyDoubleQuote:"â€",CloseCurlyQuote:"â€™",clubs:"â™£",clubsuit:"â™£",Colon:"âˆ·",colon:":",Colone:"â©´",colone:"â‰”",coloneq:"â‰”",comma:",",commat:"@",comp:"âˆ",compfn:"âˆ˜",complement:"âˆ",complexes:"â„‚",cong:"â‰…",congdot:"â©­",Congruent:"â‰¡",Conint:"âˆ¯",conint:"âˆ®",ContourIntegral:"âˆ®",Copf:"â„‚",copf:"ğ•”",coprod:"âˆ",Coproduct:"âˆ",COPY:"Â©",copy:"Â©",copysr:"â„—",CounterClockwiseContourIntegral:"âˆ³",crarr:"â†µ",Cross:"â¨¯",cross:"âœ—",Cscr:"ğ’",cscr:"ğ’¸",csub:"â«",csube:"â«‘",csup:"â«",csupe:"â«’",ctdot:"â‹¯",cudarrl:"â¤¸",cudarrr:"â¤µ",cuepr:"â‹",cuesc:"â‹Ÿ",cularr:"â†¶",cularrp:"â¤½",Cup:"â‹“",cup:"âˆª",cupbrcap:"â©ˆ",CupCap:"â‰",cupcap:"â©†",cupcup:"â©Š",cupdot:"âŠ",cupor:"â©…",cups:"âˆªï¸€",curarr:"â†·",curarrm:"â¤¼",curlyeqprec:"â‹",curlyeqsucc:"â‹Ÿ",curlyvee:"â‹",curlywedge:"â‹",curren:"Â¤",curvearrowleft:"â†¶",curvearrowright:"â†·",cuvee:"â‹",cuwed:"â‹",cwconint:"âˆ²",cwint:"âˆ±",cylcty:"âŒ­",Dagger:"â€¡",dagger:"â€ ",daleth:"â„¸",Darr:"â†¡",dArr:"â‡“",darr:"â†“",dash:"â€",Dashv:"â«¤",dashv:"âŠ£",dbkarow:"â¤",dblac:"Ë",Dcaron:"Ä",dcaron:"Ä",Dcy:"Ğ”",dcy:"Ğ´",DD:"â……",dd:"â…†",ddagger:"â€¡",ddarr:"â‡Š",DDotrahd:"â¤‘",ddotseq:"â©·",deg:"Â°",Del:"âˆ‡",Delta:"Î”",delta:"Î´",demptyv:"â¦±",dfisht:"â¥¿",Dfr:"ğ”‡",dfr:"ğ”¡",dHar:"â¥¥",dharl:"â‡ƒ",dharr:"â‡‚",DiacriticalAcute:"Â´",DiacriticalDot:"Ë™",DiacriticalDoubleAcute:"Ë",DiacriticalGrave:"`",DiacriticalTilde:"Ëœ",diam:"â‹„",Diamond:"â‹„",diamond:"â‹„",diamondsuit:"â™¦",diams:"â™¦",die:"Â¨",DifferentialD:"â…†",digamma:"Ï",disin:"â‹²",div:"Ã·",divide:"Ã·",divideontimes:"â‹‡",divonx:"â‹‡",DJcy:"Ğ‚",djcy:"Ñ’",dlcorn:"âŒ",dlcrop:"âŒ",dollar:"$",Dopf:"ğ”»",dopf:"ğ••",Dot:"Â¨",dot:"Ë™",DotDot:"âƒœ",doteq:"â‰",doteqdot:"â‰‘",DotEqual:"â‰",dotminus:"âˆ¸",dotplus:"âˆ”",dotsquare:"âŠ¡",doublebarwedge:"âŒ†",DoubleContourIntegral:"âˆ¯",DoubleDot:"Â¨",DoubleDownArrow:"â‡“",DoubleLeftArrow:"â‡",DoubleLeftRightArrow:"â‡”",DoubleLeftTee:"â«¤",DoubleLongLeftArrow:"âŸ¸",DoubleLongLeftRightArrow:"âŸº",DoubleLongRightArrow:"âŸ¹",DoubleRightArrow:"â‡’",DoubleRightTee:"âŠ¨",DoubleUpArrow:"â‡‘",DoubleUpDownArrow:"â‡•",DoubleVerticalBar:"âˆ¥",DownArrow:"â†“",Downarrow:"â‡“",downarrow:"â†“",DownArrowBar:"â¤“",DownArrowUpArrow:"â‡µ",DownBreve:"Ì‘",downdownarrows:"â‡Š",downharpoonleft:"â‡ƒ",downharpoonright:"â‡‚",DownLeftRightVector:"â¥",DownLeftTeeVector:"â¥",DownLeftVector:"â†½",DownLeftVectorBar:"â¥–",DownRightTeeVector:"â¥Ÿ",DownRightVector:"â‡",DownRightVectorBar:"â¥—",DownTee:"âŠ¤",DownTeeArrow:"â†§",drbkarow:"â¤",drcorn:"âŒŸ",drcrop:"âŒŒ",Dscr:"ğ’Ÿ",dscr:"ğ’¹",DScy:"Ğ…",dscy:"Ñ•",dsol:"â§¶",Dstrok:"Ä",dstrok:"Ä‘",dtdot:"â‹±",dtri:"â–¿",dtrif:"â–¾",duarr:"â‡µ",duhar:"â¥¯",dwangle:"â¦¦",DZcy:"Ğ",dzcy:"ÑŸ",dzigrarr:"âŸ¿",Eacute:"Ã‰",eacute:"Ã©",easter:"â©®",Ecaron:"Äš",ecaron:"Ä›",ecir:"â‰–",Ecirc:"ÃŠ",ecirc:"Ãª",ecolon:"â‰•",Ecy:"Ğ­",ecy:"Ñ",eDDot:"â©·",Edot:"Ä–",eDot:"â‰‘",edot:"Ä—",ee:"â…‡",efDot:"â‰’",Efr:"ğ”ˆ",efr:"ğ”¢",eg:"âªš",Egrave:"Ãˆ",egrave:"Ã¨",egs:"âª–",egsdot:"âª˜",el:"âª™",Element:"âˆˆ",elinters:"â§",ell:"â„“",els:"âª•",elsdot:"âª—",Emacr:"Ä’",emacr:"Ä“",empty:"âˆ…",emptyset:"âˆ…",EmptySmallSquare:"â—»",emptyv:"âˆ…",EmptyVerySmallSquare:"â–«",emsp:"â€ƒ",emsp13:"â€„",emsp14:"â€…",ENG:"ÅŠ",eng:"Å‹",ensp:"â€‚",Eogon:"Ä˜",eogon:"Ä™",Eopf:"ğ”¼",eopf:"ğ•–",epar:"â‹•",eparsl:"â§£",eplus:"â©±",epsi:"Îµ",Epsilon:"Î•",epsilon:"Îµ",epsiv:"Ïµ",eqcirc:"â‰–",eqcolon:"â‰•",eqsim:"â‰‚",eqslantgtr:"âª–",eqslantless:"âª•",Equal:"â©µ",equals:"=",EqualTilde:"â‰‚",equest:"â‰Ÿ",Equilibrium:"â‡Œ",equiv:"â‰¡",equivDD:"â©¸",eqvparsl:"â§¥",erarr:"â¥±",erDot:"â‰“",Escr:"â„°",escr:"â„¯",esdot:"â‰",Esim:"â©³",esim:"â‰‚",Eta:"Î—",eta:"Î·",ETH:"Ã",eth:"Ã°",Euml:"Ã‹",euml:"Ã«",euro:"â‚¬",excl:"!",exist:"âˆƒ",Exists:"âˆƒ",expectation:"â„°",ExponentialE:"â…‡",exponentiale:"â…‡",fallingdotseq:"â‰’",Fcy:"Ğ¤",fcy:"Ñ„",female:"â™€",ffilig:"ï¬ƒ",fflig:"ï¬€",ffllig:"ï¬„",Ffr:"ğ”‰",ffr:"ğ”£",filig:"ï¬",FilledSmallSquare:"â—¼",FilledVerySmallSquare:"â–ª",fjlig:"fj",flat:"â™­",fllig:"ï¬‚",fltns:"â–±",fnof:"Æ’",Fopf:"ğ”½",fopf:"ğ•—",ForAll:"âˆ€",forall:"âˆ€",fork:"â‹”",forkv:"â«™",Fouriertrf:"â„±",fpartint:"â¨",frac12:"Â½",frac13:"â…“",frac14:"Â¼",frac15:"â…•",frac16:"â…™",frac18:"â…›",frac23:"â…”",frac25:"â…–",frac34:"Â¾",frac35:"â…—",frac38:"â…œ",frac45:"â…˜",frac56:"â…š",frac58:"â…",frac78:"â…",frasl:"â„",frown:"âŒ¢",Fscr:"â„±",fscr:"ğ’»",gacute:"Çµ",Gamma:"Î“",gamma:"Î³",Gammad:"Ïœ",gammad:"Ï",gap:"âª†",Gbreve:"Ä",gbreve:"ÄŸ",Gcedil:"Ä¢",Gcirc:"Äœ",gcirc:"Ä",Gcy:"Ğ“",gcy:"Ğ³",Gdot:"Ä ",gdot:"Ä¡",gE:"â‰§",ge:"â‰¥",gEl:"âªŒ",gel:"â‹›",geq:"â‰¥",geqq:"â‰§",geqslant:"â©¾",ges:"â©¾",gescc:"âª©",gesdot:"âª€",gesdoto:"âª‚",gesdotol:"âª„",gesl:"â‹›ï¸€",gesles:"âª”",Gfr:"ğ”Š",gfr:"ğ”¤",Gg:"â‹™",gg:"â‰«",ggg:"â‹™",gimel:"â„·",GJcy:"Ğƒ",gjcy:"Ñ“",gl:"â‰·",gla:"âª¥",glE:"âª’",glj:"âª¤",gnap:"âªŠ",gnapprox:"âªŠ",gnE:"â‰©",gne:"âªˆ",gneq:"âªˆ",gneqq:"â‰©",gnsim:"â‹§",Gopf:"ğ”¾",gopf:"ğ•˜",grave:"`",GreaterEqual:"â‰¥",GreaterEqualLess:"â‹›",GreaterFullEqual:"â‰§",GreaterGreater:"âª¢",GreaterLess:"â‰·",GreaterSlantEqual:"â©¾",GreaterTilde:"â‰³",Gscr:"ğ’¢",gscr:"â„Š",gsim:"â‰³",gsime:"âª",gsiml:"âª",Gt:"â‰«",GT:">",gt:">",gtcc:"âª§",gtcir:"â©º",gtdot:"â‹—",gtlPar:"â¦•",gtquest:"â©¼",gtrapprox:"âª†",gtrarr:"â¥¸",gtrdot:"â‹—",gtreqless:"â‹›",gtreqqless:"âªŒ",gtrless:"â‰·",gtrsim:"â‰³",gvertneqq:"â‰©ï¸€",gvnE:"â‰©ï¸€",Hacek:"Ë‡",hairsp:"â€Š",half:"Â½",hamilt:"â„‹",HARDcy:"Ğª",hardcy:"ÑŠ",hArr:"â‡”",harr:"â†”",harrcir:"â¥ˆ",harrw:"â†­",Hat:"^",hbar:"â„",Hcirc:"Ä¤",hcirc:"Ä¥",hearts:"â™¥",heartsuit:"â™¥",hellip:"â€¦",hercon:"âŠ¹",Hfr:"â„Œ",hfr:"ğ”¥",HilbertSpace:"â„‹",hksearow:"â¤¥",hkswarow:"â¤¦",hoarr:"â‡¿",homtht:"âˆ»",hookleftarrow:"â†©",hookrightarrow:"â†ª",Hopf:"â„",hopf:"ğ•™",horbar:"â€•",HorizontalLine:"â”€",Hscr:"â„‹",hscr:"ğ’½",hslash:"â„",Hstrok:"Ä¦",hstrok:"Ä§",HumpDownHump:"â‰",HumpEqual:"â‰",hybull:"âƒ",hyphen:"â€",Iacute:"Ã",iacute:"Ã­",ic:"â£",Icirc:"Ã",icirc:"Ã®",Icy:"Ğ˜",icy:"Ğ¸",Idot:"Ä°",IEcy:"Ğ•",iecy:"Ğµ",iexcl:"Â¡",iff:"â‡”",Ifr:"â„‘",ifr:"ğ”¦",Igrave:"ÃŒ",igrave:"Ã¬",ii:"â…ˆ",iiiint:"â¨Œ",iiint:"âˆ­",iinfin:"â§œ",iiota:"â„©",IJlig:"Ä²",ijlig:"Ä³",Im:"â„‘",Imacr:"Äª",imacr:"Ä«",image:"â„‘",ImaginaryI:"â…ˆ",imagline:"â„",imagpart:"â„‘",imath:"Ä±",imof:"âŠ·",imped:"Æµ",Implies:"â‡’",in:"âˆˆ",incare:"â„…",infin:"âˆ",infintie:"â§",inodot:"Ä±",Int:"âˆ¬",int:"âˆ«",intcal:"âŠº",integers:"â„¤",Integral:"âˆ«",intercal:"âŠº",Intersection:"â‹‚",intlarhk:"â¨—",intprod:"â¨¼",InvisibleComma:"â£",InvisibleTimes:"â¢",IOcy:"Ğ",iocy:"Ñ‘",Iogon:"Ä®",iogon:"Ä¯",Iopf:"ğ•€",iopf:"ğ•š",Iota:"Î™",iota:"Î¹",iprod:"â¨¼",iquest:"Â¿",Iscr:"â„",iscr:"ğ’¾",isin:"âˆˆ",isindot:"â‹µ",isinE:"â‹¹",isins:"â‹´",isinsv:"â‹³",isinv:"âˆˆ",it:"â¢",Itilde:"Ä¨",itilde:"Ä©",Iukcy:"Ğ†",iukcy:"Ñ–",Iuml:"Ã",iuml:"Ã¯",Jcirc:"Ä´",jcirc:"Äµ",Jcy:"Ğ™",jcy:"Ğ¹",Jfr:"ğ”",jfr:"ğ”§",jmath:"È·",Jopf:"ğ•",jopf:"ğ•›",Jscr:"ğ’¥",jscr:"ğ’¿",Jsercy:"Ğˆ",jsercy:"Ñ˜",Jukcy:"Ğ„",jukcy:"Ñ”",Kappa:"Îš",kappa:"Îº",kappav:"Ï°",Kcedil:"Ä¶",kcedil:"Ä·",Kcy:"Ğš",kcy:"Ğº",Kfr:"ğ”",kfr:"ğ”¨",kgreen:"Ä¸",KHcy:"Ğ¥",khcy:"Ñ…",KJcy:"ĞŒ",kjcy:"Ñœ",Kopf:"ğ•‚",kopf:"ğ•œ",Kscr:"ğ’¦",kscr:"ğ“€",lAarr:"â‡š",Lacute:"Ä¹",lacute:"Äº",laemptyv:"â¦´",lagran:"â„’",Lambda:"Î›",lambda:"Î»",Lang:"âŸª",lang:"âŸ¨",langd:"â¦‘",langle:"âŸ¨",lap:"âª…",Laplacetrf:"â„’",laquo:"Â«",Larr:"â†",lArr:"â‡",larr:"â†",larrb:"â‡¤",larrbfs:"â¤Ÿ",larrfs:"â¤",larrhk:"â†©",larrlp:"â†«",larrpl:"â¤¹",larrsim:"â¥³",larrtl:"â†¢",lat:"âª«",lAtail:"â¤›",latail:"â¤™",late:"âª­",lates:"âª­ï¸€",lBarr:"â¤",lbarr:"â¤Œ",lbbrk:"â²",lbrace:"{",lbrack:"[",lbrke:"â¦‹",lbrksld:"â¦",lbrkslu:"â¦",Lcaron:"Ä½",lcaron:"Ä¾",Lcedil:"Ä»",lcedil:"Ä¼",lceil:"âŒˆ",lcub:"{",Lcy:"Ğ›",lcy:"Ğ»",ldca:"â¤¶",ldquo:"â€œ",ldquor:"â€",ldrdhar:"â¥§",ldrushar:"â¥‹",ldsh:"â†²",lE:"â‰¦",le:"â‰¤",LeftAngleBracket:"âŸ¨",LeftArrow:"â†",Leftarrow:"â‡",leftarrow:"â†",LeftArrowBar:"â‡¤",LeftArrowRightArrow:"â‡†",leftarrowtail:"â†¢",LeftCeiling:"âŒˆ",LeftDoubleBracket:"âŸ¦",LeftDownTeeVector:"â¥¡",LeftDownVector:"â‡ƒ",LeftDownVectorBar:"â¥™",LeftFloor:"âŒŠ",leftharpoondown:"â†½",leftharpoonup:"â†¼",leftleftarrows:"â‡‡",LeftRightArrow:"â†”",Leftrightarrow:"â‡”",leftrightarrow:"â†”",leftrightarrows:"â‡†",leftrightharpoons:"â‡‹",leftrightsquigarrow:"â†­",LeftRightVector:"â¥",LeftTee:"âŠ£",LeftTeeArrow:"â†¤",LeftTeeVector:"â¥š",leftthreetimes:"â‹‹",LeftTriangle:"âŠ²",LeftTriangleBar:"â§",LeftTriangleEqual:"âŠ´",LeftUpDownVector:"â¥‘",LeftUpTeeVector:"â¥ ",LeftUpVector:"â†¿",LeftUpVectorBar:"â¥˜",LeftVector:"â†¼",LeftVectorBar:"â¥’",lEg:"âª‹",leg:"â‹š",leq:"â‰¤",leqq:"â‰¦",leqslant:"â©½",les:"â©½",lescc:"âª¨",lesdot:"â©¿",lesdoto:"âª",lesdotor:"âªƒ",lesg:"â‹šï¸€",lesges:"âª“",lessapprox:"âª…",lessdot:"â‹–",lesseqgtr:"â‹š",lesseqqgtr:"âª‹",LessEqualGreater:"â‹š",LessFullEqual:"â‰¦",LessGreater:"â‰¶",lessgtr:"â‰¶",LessLess:"âª¡",lesssim:"â‰²",LessSlantEqual:"â©½",LessTilde:"â‰²",lfisht:"â¥¼",lfloor:"âŒŠ",Lfr:"ğ”",lfr:"ğ”©",lg:"â‰¶",lgE:"âª‘",lHar:"â¥¢",lhard:"â†½",lharu:"â†¼",lharul:"â¥ª",lhblk:"â–„",LJcy:"Ğ‰",ljcy:"Ñ™",Ll:"â‹˜",ll:"â‰ª",llarr:"â‡‡",llcorner:"âŒ",Lleftarrow:"â‡š",llhard:"â¥«",lltri:"â—º",Lmidot:"Ä¿",lmidot:"Å€",lmoust:"â°",lmoustache:"â°",lnap:"âª‰",lnapprox:"âª‰",lnE:"â‰¨",lne:"âª‡",lneq:"âª‡",lneqq:"â‰¨",lnsim:"â‹¦",loang:"âŸ¬",loarr:"â‡½",lobrk:"âŸ¦",LongLeftArrow:"âŸµ",Longleftarrow:"âŸ¸",longleftarrow:"âŸµ",LongLeftRightArrow:"âŸ·",Longleftrightarrow:"âŸº",longleftrightarrow:"âŸ·",longmapsto:"âŸ¼",LongRightArrow:"âŸ¶",Longrightarrow:"âŸ¹",longrightarrow:"âŸ¶",looparrowleft:"â†«",looparrowright:"â†¬",lopar:"â¦…",Lopf:"ğ•ƒ",lopf:"ğ•",loplus:"â¨­",lotimes:"â¨´",lowast:"âˆ—",lowbar:"_",LowerLeftArrow:"â†™",LowerRightArrow:"â†˜",loz:"â—Š",lozenge:"â—Š",lozf:"â§«",lpar:"(",lparlt:"â¦“",lrarr:"â‡†",lrcorner:"âŒŸ",lrhar:"â‡‹",lrhard:"â¥­",lrm:"â€",lrtri:"âŠ¿",lsaquo:"â€¹",Lscr:"â„’",lscr:"ğ“",Lsh:"â†°",lsh:"â†°",lsim:"â‰²",lsime:"âª",lsimg:"âª",lsqb:"[",lsquo:"â€˜",lsquor:"â€š",Lstrok:"Å",lstrok:"Å‚",Lt:"â‰ª",LT:"<",lt:"<",ltcc:"âª¦",ltcir:"â©¹",ltdot:"â‹–",lthree:"â‹‹",ltimes:"â‹‰",ltlarr:"â¥¶",ltquest:"â©»",ltri:"â—ƒ",ltrie:"âŠ´",ltrif:"â—‚",ltrPar:"â¦–",lurdshar:"â¥Š",luruhar:"â¥¦",lvertneqq:"â‰¨ï¸€",lvnE:"â‰¨ï¸€",macr:"Â¯",male:"â™‚",malt:"âœ ",maltese:"âœ ",Map:"â¤…",map:"â†¦",mapsto:"â†¦",mapstodown:"â†§",mapstoleft:"â†¤",mapstoup:"â†¥",marker:"â–®",mcomma:"â¨©",Mcy:"Ğœ",mcy:"Ğ¼",mdash:"â€”",mDDot:"âˆº",measuredangle:"âˆ¡",MediumSpace:"âŸ",Mellintrf:"â„³",Mfr:"ğ”",mfr:"ğ”ª",mho:"â„§",micro:"Âµ",mid:"âˆ£",midast:"*",midcir:"â«°",middot:"Â·",minus:"âˆ’",minusb:"âŠŸ",minusd:"âˆ¸",minusdu:"â¨ª",MinusPlus:"âˆ“",mlcp:"â«›",mldr:"â€¦",mnplus:"âˆ“",models:"âŠ§",Mopf:"ğ•„",mopf:"ğ•",mp:"âˆ“",Mscr:"â„³",mscr:"ğ“‚",mstpos:"âˆ¾",Mu:"Îœ",mu:"Î¼",multimap:"âŠ¸",mumap:"âŠ¸",nabla:"âˆ‡",Nacute:"Åƒ",nacute:"Å„",nang:"âˆ âƒ’",nap:"â‰‰",napE:"â©°Ì¸",napid:"â‰‹Ì¸",napos:"Å‰",napprox:"â‰‰",natur:"â™®",natural:"â™®",naturals:"â„•",nbsp:"Â ",nbump:"â‰Ì¸",nbumpe:"â‰Ì¸",ncap:"â©ƒ",Ncaron:"Å‡",ncaron:"Åˆ",Ncedil:"Å…",ncedil:"Å†",ncong:"â‰‡",ncongdot:"â©­Ì¸",ncup:"â©‚",Ncy:"Ğ",ncy:"Ğ½",ndash:"â€“",ne:"â‰ ",nearhk:"â¤¤",neArr:"â‡—",nearr:"â†—",nearrow:"â†—",nedot:"â‰Ì¸",NegativeMediumSpace:"â€‹",NegativeThickSpace:"â€‹",NegativeThinSpace:"â€‹",NegativeVeryThinSpace:"â€‹",nequiv:"â‰¢",nesear:"â¤¨",nesim:"â‰‚Ì¸",NestedGreaterGreater:"â‰«",NestedLessLess:"â‰ª",NewLine:"\n",nexist:"âˆ„",nexists:"âˆ„",Nfr:"ğ”‘",nfr:"ğ”«",ngE:"â‰§Ì¸",nge:"â‰±",ngeq:"â‰±",ngeqq:"â‰§Ì¸",ngeqslant:"â©¾Ì¸",nges:"â©¾Ì¸",nGg:"â‹™Ì¸",ngsim:"â‰µ",nGt:"â‰«âƒ’",ngt:"â‰¯",ngtr:"â‰¯",nGtv:"â‰«Ì¸",nhArr:"â‡",nharr:"â†®",nhpar:"â«²",ni:"âˆ‹",nis:"â‹¼",nisd:"â‹º",niv:"âˆ‹",NJcy:"ĞŠ",njcy:"Ñš",nlArr:"â‡",nlarr:"â†š",nldr:"â€¥",nlE:"â‰¦Ì¸",nle:"â‰°",nLeftarrow:"â‡",nleftarrow:"â†š",nLeftrightarrow:"â‡",nleftrightarrow:"â†®",nleq:"â‰°",nleqq:"â‰¦Ì¸",nleqslant:"â©½Ì¸",nles:"â©½Ì¸",nless:"â‰®",nLl:"â‹˜Ì¸",nlsim:"â‰´",nLt:"â‰ªâƒ’",nlt:"â‰®",nltri:"â‹ª",nltrie:"â‹¬",nLtv:"â‰ªÌ¸",nmid:"âˆ¤",NoBreak:"â ",NonBreakingSpace:"Â ",Nopf:"â„•",nopf:"ğ•Ÿ",Not:"â«¬",not:"Â¬",NotCongruent:"â‰¢",NotCupCap:"â‰­",NotDoubleVerticalBar:"âˆ¦",NotElement:"âˆ‰",NotEqual:"â‰ ",NotEqualTilde:"â‰‚Ì¸",NotExists:"âˆ„",NotGreater:"â‰¯",NotGreaterEqual:"â‰±",NotGreaterFullEqual:"â‰§Ì¸",NotGreaterGreater:"â‰«Ì¸",NotGreaterLess:"â‰¹",NotGreaterSlantEqual:"â©¾Ì¸",NotGreaterTilde:"â‰µ",NotHumpDownHump:"â‰Ì¸",NotHumpEqual:"â‰Ì¸",notin:"âˆ‰",notindot:"â‹µÌ¸",notinE:"â‹¹Ì¸",notinva:"âˆ‰",notinvb:"â‹·",notinvc:"â‹¶",NotLeftTriangle:"â‹ª",NotLeftTriangleBar:"â§Ì¸",NotLeftTriangleEqual:"â‹¬",NotLess:"â‰®",NotLessEqual:"â‰°",NotLessGreater:"â‰¸",NotLessLess:"â‰ªÌ¸",NotLessSlantEqual:"â©½Ì¸",NotLessTilde:"â‰´",NotNestedGreaterGreater:"âª¢Ì¸",NotNestedLessLess:"âª¡Ì¸",notni:"âˆŒ",notniva:"âˆŒ",notnivb:"â‹¾",notnivc:"â‹½",NotPrecedes:"âŠ€",NotPrecedesEqual:"âª¯Ì¸",NotPrecedesSlantEqual:"â‹ ",NotReverseElement:"âˆŒ",NotRightTriangle:"â‹«",NotRightTriangleBar:"â§Ì¸",NotRightTriangleEqual:"â‹­",NotSquareSubset:"âŠÌ¸",NotSquareSubsetEqual:"â‹¢",NotSquareSuperset:"âŠÌ¸",NotSquareSupersetEqual:"â‹£",NotSubset:"âŠ‚âƒ’",NotSubsetEqual:"âŠˆ",NotSucceeds:"âŠ",NotSucceedsEqual:"âª°Ì¸",NotSucceedsSlantEqual:"â‹¡",NotSucceedsTilde:"â‰¿Ì¸",NotSuperset:"âŠƒâƒ’",NotSupersetEqual:"âŠ‰",NotTilde:"â‰",NotTildeEqual:"â‰„",NotTildeFullEqual:"â‰‡",NotTildeTilde:"â‰‰",NotVerticalBar:"âˆ¤",npar:"âˆ¦",nparallel:"âˆ¦",nparsl:"â«½âƒ¥",npart:"âˆ‚Ì¸",npolint:"â¨”",npr:"âŠ€",nprcue:"â‹ ",npre:"âª¯Ì¸",nprec:"âŠ€",npreceq:"âª¯Ì¸",nrArr:"â‡",nrarr:"â†›",nrarrc:"â¤³Ì¸",nrarrw:"â†Ì¸",nRightarrow:"â‡",nrightarrow:"â†›",nrtri:"â‹«",nrtrie:"â‹­",nsc:"âŠ",nsccue:"â‹¡",nsce:"âª°Ì¸",Nscr:"ğ’©",nscr:"ğ“ƒ",nshortmid:"âˆ¤",nshortparallel:"âˆ¦",nsim:"â‰",nsime:"â‰„",nsimeq:"â‰„",nsmid:"âˆ¤",nspar:"âˆ¦",nsqsube:"â‹¢",nsqsupe:"â‹£",nsub:"âŠ„",nsubE:"â«…Ì¸",nsube:"âŠˆ",nsubset:"âŠ‚âƒ’",nsubseteq:"âŠˆ",nsubseteqq:"â«…Ì¸",nsucc:"âŠ",nsucceq:"âª°Ì¸",nsup:"âŠ…",nsupE:"â«†Ì¸",nsupe:"âŠ‰",nsupset:"âŠƒâƒ’",nsupseteq:"âŠ‰",nsupseteqq:"â«†Ì¸",ntgl:"â‰¹",Ntilde:"Ã‘",ntilde:"Ã±",ntlg:"â‰¸",ntriangleleft:"â‹ª",ntrianglelefteq:"â‹¬",ntriangleright:"â‹«",ntrianglerighteq:"â‹­",Nu:"Î",nu:"Î½",num:"#",numero:"â„–",numsp:"â€‡",nvap:"â‰âƒ’",nVDash:"âŠ¯",nVdash:"âŠ®",nvDash:"âŠ­",nvdash:"âŠ¬",nvge:"â‰¥âƒ’",nvgt:">âƒ’",nvHarr:"â¤„",nvinfin:"â§",nvlArr:"â¤‚",nvle:"â‰¤âƒ’",nvlt:"<âƒ’",nvltrie:"âŠ´âƒ’",nvrArr:"â¤ƒ",nvrtrie:"âŠµâƒ’",nvsim:"âˆ¼âƒ’",nwarhk:"â¤£",nwArr:"â‡–",nwarr:"â†–",nwarrow:"â†–",nwnear:"â¤§",Oacute:"Ã“",oacute:"Ã³",oast:"âŠ›",ocir:"âŠš",Ocirc:"Ã”",ocirc:"Ã´",Ocy:"Ğ",ocy:"Ğ¾",odash:"âŠ",Odblac:"Å",odblac:"Å‘",odiv:"â¨¸",odot:"âŠ™",odsold:"â¦¼",OElig:"Å’",oelig:"Å“",ofcir:"â¦¿",Ofr:"ğ”’",ofr:"ğ”¬",ogon:"Ë›",Ograve:"Ã’",ograve:"Ã²",ogt:"â§",ohbar:"â¦µ",ohm:"Î©",oint:"âˆ®",olarr:"â†º",olcir:"â¦¾",olcross:"â¦»",oline:"â€¾",olt:"â§€",Omacr:"ÅŒ",omacr:"Å",Omega:"Î©",omega:"Ï‰",Omicron:"ÎŸ",omicron:"Î¿",omid:"â¦¶",ominus:"âŠ–",Oopf:"ğ•†",oopf:"ğ• ",opar:"â¦·",OpenCurlyDoubleQuote:"â€œ",OpenCurlyQuote:"â€˜",operp:"â¦¹",oplus:"âŠ•",Or:"â©”",or:"âˆ¨",orarr:"â†»",ord:"â©",order:"â„´",orderof:"â„´",ordf:"Âª",ordm:"Âº",origof:"âŠ¶",oror:"â©–",orslope:"â©—",orv:"â©›",oS:"â“ˆ",Oscr:"ğ’ª",oscr:"â„´",Oslash:"Ã˜",oslash:"Ã¸",osol:"âŠ˜",Otilde:"Ã•",otilde:"Ãµ",Otimes:"â¨·",otimes:"âŠ—",otimesas:"â¨¶",Ouml:"Ã–",ouml:"Ã¶",ovbar:"âŒ½",OverBar:"â€¾",OverBrace:"â",OverBracket:"â´",OverParenthesis:"âœ",par:"âˆ¥",para:"Â¶",parallel:"âˆ¥",parsim:"â«³",parsl:"â«½",part:"âˆ‚",PartialD:"âˆ‚",Pcy:"ĞŸ",pcy:"Ğ¿",percnt:"%",period:".",permil:"â€°",perp:"âŠ¥",pertenk:"â€±",Pfr:"ğ”“",pfr:"ğ”­",Phi:"Î¦",phi:"Ï†",phiv:"Ï•",phmmat:"â„³",phone:"â˜",Pi:"Î ",pi:"Ï€",pitchfork:"â‹”",piv:"Ï–",planck:"â„",planckh:"â„",plankv:"â„",plus:"+",plusacir:"â¨£",plusb:"âŠ",pluscir:"â¨¢",plusdo:"âˆ”",plusdu:"â¨¥",pluse:"â©²",PlusMinus:"Â±",plusmn:"Â±",plussim:"â¨¦",plustwo:"â¨§",pm:"Â±",Poincareplane:"â„Œ",pointint:"â¨•",Popf:"â„™",popf:"ğ•¡",pound:"Â£",Pr:"âª»",pr:"â‰º",prap:"âª·",prcue:"â‰¼",prE:"âª³",pre:"âª¯",prec:"â‰º",precapprox:"âª·",preccurlyeq:"â‰¼",Precedes:"â‰º",PrecedesEqual:"âª¯",PrecedesSlantEqual:"â‰¼",PrecedesTilde:"â‰¾",preceq:"âª¯",precnapprox:"âª¹",precneqq:"âªµ",precnsim:"â‹¨",precsim:"â‰¾",Prime:"â€³",prime:"â€²",primes:"â„™",prnap:"âª¹",prnE:"âªµ",prnsim:"â‹¨",prod:"âˆ",Product:"âˆ",profalar:"âŒ®",profline:"âŒ’",profsurf:"âŒ“",prop:"âˆ",Proportion:"âˆ·",Proportional:"âˆ",propto:"âˆ",prsim:"â‰¾",prurel:"âŠ°",Pscr:"ğ’«",pscr:"ğ“…",Psi:"Î¨",psi:"Ïˆ",puncsp:"â€ˆ",Qfr:"ğ””",qfr:"ğ”®",qint:"â¨Œ",Qopf:"â„š",qopf:"ğ•¢",qprime:"â—",Qscr:"ğ’¬",qscr:"ğ“†",quaternions:"â„",quatint:"â¨–",quest:"?",questeq:"â‰Ÿ",QUOT:'"',quot:'"',rAarr:"â‡›",race:"âˆ½Ì±",Racute:"Å”",racute:"Å•",radic:"âˆš",raemptyv:"â¦³",Rang:"âŸ«",rang:"âŸ©",rangd:"â¦’",range:"â¦¥",rangle:"âŸ©",raquo:"Â»",Rarr:"â† ",rArr:"â‡’",rarr:"â†’",rarrap:"â¥µ",rarrb:"â‡¥",rarrbfs:"â¤ ",rarrc:"â¤³",rarrfs:"â¤",rarrhk:"â†ª",rarrlp:"â†¬",rarrpl:"â¥…",rarrsim:"â¥´",Rarrtl:"â¤–",rarrtl:"â†£",rarrw:"â†",rAtail:"â¤œ",ratail:"â¤š",ratio:"âˆ¶",rationals:"â„š",RBarr:"â¤",rBarr:"â¤",rbarr:"â¤",rbbrk:"â³",rbrace:"}",rbrack:"]",rbrke:"â¦Œ",rbrksld:"â¦",rbrkslu:"â¦",Rcaron:"Å˜",rcaron:"Å™",Rcedil:"Å–",rcedil:"Å—",rceil:"âŒ‰",rcub:"}",Rcy:"Ğ ",rcy:"Ñ€",rdca:"â¤·",rdldhar:"â¥©",rdquo:"â€",rdquor:"â€",rdsh:"â†³",Re:"â„œ",real:"â„œ",realine:"â„›",realpart:"â„œ",reals:"â„",rect:"â–­",REG:"Â®",reg:"Â®",ReverseElement:"âˆ‹",ReverseEquilibrium:"â‡‹",ReverseUpEquilibrium:"â¥¯",rfisht:"â¥½",rfloor:"âŒ‹",Rfr:"â„œ",rfr:"ğ”¯",rHar:"â¥¤",rhard:"â‡",rharu:"â‡€",rharul:"â¥¬",Rho:"Î¡",rho:"Ï",rhov:"Ï±",RightAngleBracket:"âŸ©",RightArrow:"â†’",Rightarrow:"â‡’",rightarrow:"â†’",RightArrowBar:"â‡¥",RightArrowLeftArrow:"â‡„",rightarrowtail:"â†£",RightCeiling:"âŒ‰",RightDoubleBracket:"âŸ§",RightDownTeeVector:"â¥",RightDownVector:"â‡‚",RightDownVectorBar:"â¥•",RightFloor:"âŒ‹",rightharpoondown:"â‡",rightharpoonup:"â‡€",rightleftarrows:"â‡„",rightleftharpoons:"â‡Œ",rightrightarrows:"â‡‰",rightsquigarrow:"â†",RightTee:"âŠ¢",RightTeeArrow:"â†¦",RightTeeVector:"â¥›",rightthreetimes:"â‹Œ",RightTriangle:"âŠ³",RightTriangleBar:"â§",RightTriangleEqual:"âŠµ",RightUpDownVector:"â¥",RightUpTeeVector:"â¥œ",RightUpVector:"â†¾",RightUpVectorBar:"â¥”",RightVector:"â‡€",RightVectorBar:"â¥“",ring:"Ëš",risingdotseq:"â‰“",rlarr:"â‡„",rlhar:"â‡Œ",rlm:"â€",rmoust:"â±",rmoustache:"â±",rnmid:"â«®",roang:"âŸ­",roarr:"â‡¾",robrk:"âŸ§",ropar:"â¦†",Ropf:"â„",ropf:"ğ•£",roplus:"â¨®",rotimes:"â¨µ",RoundImplies:"â¥°",rpar:")",rpargt:"â¦”",rppolint:"â¨’",rrarr:"â‡‰",Rrightarrow:"â‡›",rsaquo:"â€º",Rscr:"â„›",rscr:"ğ“‡",Rsh:"â†±",rsh:"â†±",rsqb:"]",rsquo:"â€™",rsquor:"â€™",rthree:"â‹Œ",rtimes:"â‹Š",rtri:"â–¹",rtrie:"âŠµ",rtrif:"â–¸",rtriltri:"â§",RuleDelayed:"â§´",ruluhar:"â¥¨",rx:"â„",Sacute:"Åš",sacute:"Å›",sbquo:"â€š",Sc:"âª¼",sc:"â‰»",scap:"âª¸",Scaron:"Å ",scaron:"Å¡",sccue:"â‰½",scE:"âª´",sce:"âª°",Scedil:"Å",scedil:"ÅŸ",Scirc:"Åœ",scirc:"Å",scnap:"âªº",scnE:"âª¶",scnsim:"â‹©",scpolint:"â¨“",scsim:"â‰¿",Scy:"Ğ¡",scy:"Ñ",sdot:"â‹…",sdotb:"âŠ¡",sdote:"â©¦",searhk:"â¤¥",seArr:"â‡˜",searr:"â†˜",searrow:"â†˜",sect:"Â§",semi:";",seswar:"â¤©",setminus:"âˆ–",setmn:"âˆ–",sext:"âœ¶",Sfr:"ğ”–",sfr:"ğ”°",sfrown:"âŒ¢",sharp:"â™¯",SHCHcy:"Ğ©",shchcy:"Ñ‰",SHcy:"Ğ¨",shcy:"Ñˆ",ShortDownArrow:"â†“",ShortLeftArrow:"â†",shortmid:"âˆ£",shortparallel:"âˆ¥",ShortRightArrow:"â†’",ShortUpArrow:"â†‘",shy:"Â­",Sigma:"Î£",sigma:"Ïƒ",sigmaf:"Ï‚",sigmav:"Ï‚",sim:"âˆ¼",simdot:"â©ª",sime:"â‰ƒ",simeq:"â‰ƒ",simg:"âª",simgE:"âª ",siml:"âª",simlE:"âªŸ",simne:"â‰†",simplus:"â¨¤",simrarr:"â¥²",slarr:"â†",SmallCircle:"âˆ˜",smallsetminus:"âˆ–",smashp:"â¨³",smeparsl:"â§¤",smid:"âˆ£",smile:"âŒ£",smt:"âªª",smte:"âª¬",smtes:"âª¬ï¸€",SOFTcy:"Ğ¬",softcy:"ÑŒ",sol:"/",solb:"â§„",solbar:"âŒ¿",Sopf:"ğ•Š",sopf:"ğ•¤",spades:"â™ ",spadesuit:"â™ ",spar:"âˆ¥",sqcap:"âŠ“",sqcaps:"âŠ“ï¸€",sqcup:"âŠ”",sqcups:"âŠ”ï¸€",Sqrt:"âˆš",sqsub:"âŠ",sqsube:"âŠ‘",sqsubset:"âŠ",sqsubseteq:"âŠ‘",sqsup:"âŠ",sqsupe:"âŠ’",sqsupset:"âŠ",sqsupseteq:"âŠ’",squ:"â–¡",Square:"â–¡",square:"â–¡",SquareIntersection:"âŠ“",SquareSubset:"âŠ",SquareSubsetEqual:"âŠ‘",SquareSuperset:"âŠ",SquareSupersetEqual:"âŠ’",SquareUnion:"âŠ”",squarf:"â–ª",squf:"â–ª",srarr:"â†’",Sscr:"ğ’®",sscr:"ğ“ˆ",ssetmn:"âˆ–",ssmile:"âŒ£",sstarf:"â‹†",Star:"â‹†",star:"â˜†",starf:"â˜…",straightepsilon:"Ïµ",straightphi:"Ï•",strns:"Â¯",Sub:"â‹",sub:"âŠ‚",subdot:"âª½",subE:"â«…",sube:"âŠ†",subedot:"â«ƒ",submult:"â«",subnE:"â«‹",subne:"âŠŠ",subplus:"âª¿",subrarr:"â¥¹",Subset:"â‹",subset:"âŠ‚",subseteq:"âŠ†",subseteqq:"â«…",SubsetEqual:"âŠ†",subsetneq:"âŠŠ",subsetneqq:"â«‹",subsim:"â«‡",subsub:"â«•",subsup:"â«“",succ:"â‰»",succapprox:"âª¸",succcurlyeq:"â‰½",Succeeds:"â‰»",SucceedsEqual:"âª°",SucceedsSlantEqual:"â‰½",SucceedsTilde:"â‰¿",succeq:"âª°",succnapprox:"âªº",succneqq:"âª¶",succnsim:"â‹©",succsim:"â‰¿",SuchThat:"âˆ‹",Sum:"âˆ‘",sum:"âˆ‘",sung:"â™ª",Sup:"â‹‘",sup:"âŠƒ",sup1:"Â¹",sup2:"Â²",sup3:"Â³",supdot:"âª¾",supdsub:"â«˜",supE:"â«†",supe:"âŠ‡",supedot:"â«„",Superset:"âŠƒ",SupersetEqual:"âŠ‡",suphsol:"âŸ‰",suphsub:"â«—",suplarr:"â¥»",supmult:"â«‚",supnE:"â«Œ",supne:"âŠ‹",supplus:"â«€",Supset:"â‹‘",supset:"âŠƒ",supseteq:"âŠ‡",supseteqq:"â«†",supsetneq:"âŠ‹",supsetneqq:"â«Œ",supsim:"â«ˆ",supsub:"â«”",supsup:"â«–",swarhk:"â¤¦",swArr:"â‡™",swarr:"â†™",swarrow:"â†™",swnwar:"â¤ª",szlig:"ÃŸ",Tab:"\t",target:"âŒ–",Tau:"Î¤",tau:"Ï„",tbrk:"â´",Tcaron:"Å¤",tcaron:"Å¥",Tcedil:"Å¢",tcedil:"Å£",Tcy:"Ğ¢",tcy:"Ñ‚",tdot:"âƒ›",telrec:"âŒ•",Tfr:"ğ”—",tfr:"ğ”±",there4:"âˆ´",Therefore:"âˆ´",therefore:"âˆ´",Theta:"Î˜",theta:"Î¸",thetasym:"Ï‘",thetav:"Ï‘",thickapprox:"â‰ˆ",thicksim:"âˆ¼",ThickSpace:"âŸâ€Š",thinsp:"â€‰",ThinSpace:"â€‰",thkap:"â‰ˆ",thksim:"âˆ¼",THORN:"Ã",thorn:"Ã¾",Tilde:"âˆ¼",tilde:"Ëœ",TildeEqual:"â‰ƒ",TildeFullEqual:"â‰…",TildeTilde:"â‰ˆ",times:"Ã—",timesb:"âŠ ",timesbar:"â¨±",timesd:"â¨°",tint:"âˆ­",toea:"â¤¨",top:"âŠ¤",topbot:"âŒ¶",topcir:"â«±",Topf:"ğ•‹",topf:"ğ•¥",topfork:"â«š",tosa:"â¤©",tprime:"â€´",TRADE:"â„¢",trade:"â„¢",triangle:"â–µ",triangledown:"â–¿",triangleleft:"â—ƒ",trianglelefteq:"âŠ´",triangleq:"â‰œ",triangleright:"â–¹",trianglerighteq:"âŠµ",tridot:"â—¬",trie:"â‰œ",triminus:"â¨º",TripleDot:"âƒ›",triplus:"â¨¹",trisb:"â§",tritime:"â¨»",trpezium:"â¢",Tscr:"ğ’¯",tscr:"ğ“‰",TScy:"Ğ¦",tscy:"Ñ†",TSHcy:"Ğ‹",tshcy:"Ñ›",Tstrok:"Å¦",tstrok:"Å§",twixt:"â‰¬",twoheadleftarrow:"â†",twoheadrightarrow:"â† ",Uacute:"Ãš",uacute:"Ãº",Uarr:"â†Ÿ",uArr:"â‡‘",uarr:"â†‘",Uarrocir:"â¥‰",Ubrcy:"Ğ",ubrcy:"Ñ",Ubreve:"Å¬",ubreve:"Å­",Ucirc:"Ã›",ucirc:"Ã»",Ucy:"Ğ£",ucy:"Ñƒ",udarr:"â‡…",Udblac:"Å°",udblac:"Å±",udhar:"â¥®",ufisht:"â¥¾",Ufr:"ğ”˜",ufr:"ğ”²",Ugrave:"Ã™",ugrave:"Ã¹",uHar:"â¥£",uharl:"â†¿",uharr:"â†¾",uhblk:"â–€",ulcorn:"âŒœ",ulcorner:"âŒœ",ulcrop:"âŒ",ultri:"â—¸",Umacr:"Åª",umacr:"Å«",uml:"Â¨",UnderBar:"_",UnderBrace:"âŸ",UnderBracket:"âµ",UnderParenthesis:"â",Union:"â‹ƒ",UnionPlus:"âŠ",Uogon:"Å²",uogon:"Å³",Uopf:"ğ•Œ",uopf:"ğ•¦",UpArrow:"â†‘",Uparrow:"â‡‘",uparrow:"â†‘",UpArrowBar:"â¤’",UpArrowDownArrow:"â‡…",UpDownArrow:"â†•",Updownarrow:"â‡•",updownarrow:"â†•",UpEquilibrium:"â¥®",upharpoonleft:"â†¿",upharpoonright:"â†¾",uplus:"âŠ",UpperLeftArrow:"â†–",UpperRightArrow:"â†—",Upsi:"Ï’",upsi:"Ï…",upsih:"Ï’",Upsilon:"Î¥",upsilon:"Ï…",UpTee:"âŠ¥",UpTeeArrow:"â†¥",upuparrows:"â‡ˆ",urcorn:"âŒ",urcorner:"âŒ",urcrop:"âŒ",Uring:"Å®",uring:"Å¯",urtri:"â—¹",Uscr:"ğ’°",uscr:"ğ“Š",utdot:"â‹°",Utilde:"Å¨",utilde:"Å©",utri:"â–µ",utrif:"â–´",uuarr:"â‡ˆ",Uuml:"Ãœ",uuml:"Ã¼",uwangle:"â¦§",vangrt:"â¦œ",varepsilon:"Ïµ",varkappa:"Ï°",varnothing:"âˆ…",varphi:"Ï•",varpi:"Ï–",varpropto:"âˆ",vArr:"â‡•",varr:"â†•",varrho:"Ï±",varsigma:"Ï‚",varsubsetneq:"âŠŠï¸€",varsubsetneqq:"â«‹ï¸€",varsupsetneq:"âŠ‹ï¸€",varsupsetneqq:"â«Œï¸€",vartheta:"Ï‘",vartriangleleft:"âŠ²",vartriangleright:"âŠ³",Vbar:"â««",vBar:"â«¨",vBarv:"â«©",Vcy:"Ğ’",vcy:"Ğ²",VDash:"âŠ«",Vdash:"âŠ©",vDash:"âŠ¨",vdash:"âŠ¢",Vdashl:"â«¦",Vee:"â‹",vee:"âˆ¨",veebar:"âŠ»",veeeq:"â‰š",vellip:"â‹®",Verbar:"â€–",verbar:"|",Vert:"â€–",vert:"|",VerticalBar:"âˆ£",VerticalLine:"|",VerticalSeparator:"â˜",VerticalTilde:"â‰€",VeryThinSpace:"â€Š",Vfr:"ğ”™",vfr:"ğ”³",vltri:"âŠ²",vnsub:"âŠ‚âƒ’",vnsup:"âŠƒâƒ’",Vopf:"ğ•",vopf:"ğ•§",vprop:"âˆ",vrtri:"âŠ³",Vscr:"ğ’±",vscr:"ğ“‹",vsubnE:"â«‹ï¸€",vsubne:"âŠŠï¸€",vsupnE:"â«Œï¸€",vsupne:"âŠ‹ï¸€",Vvdash:"âŠª",vzigzag:"â¦š",Wcirc:"Å´",wcirc:"Åµ",wedbar:"â©Ÿ",Wedge:"â‹€",wedge:"âˆ§",wedgeq:"â‰™",weierp:"â„˜",Wfr:"ğ”š",wfr:"ğ”´",Wopf:"ğ•",wopf:"ğ•¨",wp:"â„˜",wr:"â‰€",wreath:"â‰€",Wscr:"ğ’²",wscr:"ğ“Œ",xcap:"â‹‚",xcirc:"â—¯",xcup:"â‹ƒ",xdtri:"â–½",Xfr:"ğ”›",xfr:"ğ”µ",xhArr:"âŸº",xharr:"âŸ·",Xi:"Î",xi:"Î¾",xlArr:"âŸ¸",xlarr:"âŸµ",xmap:"âŸ¼",xnis:"â‹»",xodot:"â¨€",Xopf:"ğ•",xopf:"ğ•©",xoplus:"â¨",xotime:"â¨‚",xrArr:"âŸ¹",xrarr:"âŸ¶",Xscr:"ğ’³",xscr:"ğ“",xsqcup:"â¨†",xuplus:"â¨„",xutri:"â–³",xvee:"â‹",xwedge:"â‹€",Yacute:"Ã",yacute:"Ã½",YAcy:"Ğ¯",yacy:"Ñ",Ycirc:"Å¶",ycirc:"Å·",Ycy:"Ğ«",ycy:"Ñ‹",yen:"Â¥",Yfr:"ğ”œ",yfr:"ğ”¶",YIcy:"Ğ‡",yicy:"Ñ—",Yopf:"ğ•",yopf:"ğ•ª",Yscr:"ğ’´",yscr:"ğ“",YUcy:"Ğ®",yucy:"Ñ",Yuml:"Å¸",yuml:"Ã¿",Zacute:"Å¹",zacute:"Åº",Zcaron:"Å½",zcaron:"Å¾",Zcy:"Ğ—",zcy:"Ğ·",Zdot:"Å»",zdot:"Å¼",zeetrf:"â„¨",ZeroWidthSpace:"â€‹",Zeta:"Î–",zeta:"Î¶",Zfr:"â„¨",zfr:"ğ”·",ZHcy:"Ğ–",zhcy:"Ğ¶",zigrarr:"â‡",Zopf:"â„¤",zopf:"ğ•«",Zscr:"ğ’µ",zscr:"ğ“",zwj:"â€",zwnj:"â€Œ"}),e.entityMap=e.HTML_ENTITIES},268:(t,e,s)=>{"use strict";s.d(e,{Al:()=>o,Gb:()=>n,Oe:()=>h});var i,e=s(546),r=s(999);const n=s.t(e,2),o=(new n.DOMImplementation).createDocument("",""),a=(null===(i=i||s.t(r,2))||void 0===(i=i||s.t(r,2))?void 0:r.install)||window.wgxpath.install,l=function(){const t={document:{},XPathResult:{}};return a(t),t.document.XPathResult=t.XPathResult,t.document}(),h={currentDocument:o,evaluate:l.evaluate,result:l.XPathResult,createNSResolver:l.createNSResolver}},546:(t,e,s)=>{"use strict";var i=s(870),i=(e.assign=i.assign,e.hasDefaultHTMLNamespace=i.hasDefaultHTMLNamespace,e.isHTMLMimeType=i.isHTMLMimeType,e.isValidMimeType=i.isValidMimeType,e.MIME_TYPE=i.MIME_TYPE,e.NAMESPACE=i.NAMESPACE,s(767)),i=(e.DOMException=i.DOMException,e.DOMExceptionName=i.DOMExceptionName,e.ExceptionCode=i.ExceptionCode,e.ParseError=i.ParseError,s(786)),i=(e.Attr=i.Attr,e.CDATASection=i.CDATASection,e.CharacterData=i.CharacterData,e.Comment=i.Comment,e.Document=i.Document,e.DocumentFragment=i.DocumentFragment,e.DocumentType=i.DocumentType,e.DOMImplementation=i.DOMImplementation,e.Element=i.Element,e.Entity=i.Entity,e.EntityReference=i.EntityReference,e.LiveNodeList=i.LiveNodeList,e.NamedNodeMap=i.NamedNodeMap,e.Node=i.Node,e.NodeList=i.NodeList,e.Notation=i.Notation,e.ProcessingInstruction=i.ProcessingInstruction,e.Text=i.Text,e.XMLSerializer=i.XMLSerializer,s(576));e.DOMParser=i.DOMParser,e.normalizeLineEndings=i.normalizeLineEndings,e.onErrorStopParsing=i.onErrorStopParsing,e.onWarningStopParsing=i.onWarningStopParsing},576:(t,e,s)=>{"use strict";var o=s(870),i=s(786),r=s(767),a=s(159),s=s(802),n=i.DOMImplementation,l=o.hasDefaultHTMLNamespace,h=o.isHTMLMimeType,c=o.isValidMimeType,d=o.MIME_TYPE,u=o.NAMESPACE,p=r.ParseError,m=s.XMLReader;function f(t){return t.replace(/\r[\n\u0085]/g,"\n").replace(/[\r\u0085\u2028\u2029]/g,"\n")}function g(t){if(void 0===(t=t||{}).locator&&(t.locator=!0),this.assign=t.assign||o.assign,this.domHandler=t.domHandler||b,this.onError=t.onError||t.errorHandler,t.errorHandler&&"function"!=typeof t.errorHandler)throw new TypeError("errorHandler object is no longer supported, switch to onError!");t.errorHandler&&t.errorHandler("warning","The `errorHandler` option has been deprecated, use `onError` instead!",this),this.normalizeLineEndings=t.normalizeLineEndings||f,this.locator=!!t.locator,this.xmlns=this.assign(Object.create(null),t.xmlns)}function b(t){t=t||{};this.mimeType=t.mimeType||d.XML_APPLICATION,this.defaultNamespace=t.defaultNamespace||null,this.cdata=!1,this.currentElement=void 0,this.doc=void 0,this.locator=void 0,this.onError=t.onError}function E(t,e){e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber}function N(t,e,s){return"string"==typeof t?t.substr(e,s):t.length>=e+s||e?new java.lang.String(t,e,s)+"":t}function x(t,e){(t.currentElement||t.doc).appendChild(e)}g.prototype.parseFromString=function(t,e){if(!c(e))throw new TypeError('DOMParser.parseFromString: the provided mimeType "'+e+'" is not valid.');var s=this.assign(Object.create(null),this.xmlns),i=a.XML_ENTITIES,r=s[""]||null,r=(l(e)?(i=a.HTML_ENTITIES,r=u.HTML):e===d.XML_SVG_IMAGE&&(r=u.SVG),s[""]=r,s.xml=s.xml||u.XML,new this.domHandler({mimeType:e,defaultNamespace:r,onError:this.onError})),n=this.locator?{}:void 0,n=(this.locator&&r.setDocumentLocator(n),new m);return n.errorHandler=r,n.domBuilder=r,o.isHTMLMimeType(e)||"string"==typeof t||n.errorHandler.fatalError("source is not a string"),n.parse(this.normalizeLineEndings(String(t)),s,i),r.doc.documentElement||n.errorHandler.fatalError("missing root element"),r.doc},b.prototype={startDocument:function(){var t=new n;this.doc=h(this.mimeType)?t.createHTMLDocument(!1):t.createDocument(this.defaultNamespace,"")},startElement:function(t,e,s,i){var r=this.doc,n=r.createElementNS(t,s||e),o=i.length;x(this,n),this.currentElement=n,this.locator&&E(this.locator,n);for(var a=0;a<o;a++){t=i.getURI(a);var l=i.getValue(a),h=(s=i.getQName(a),r.createAttributeNS(t,s));this.locator&&E(i.getLocator(a),h),h.value=h.nodeValue=l,n.setAttributeNode(h)}},endElement:function(t,e,s){this.currentElement=this.currentElement.parentNode},startPrefixMapping:function(t,e){},endPrefixMapping:function(t){},processingInstruction:function(t,e){t=this.doc.createProcessingInstruction(t,e);this.locator&&E(this.locator,t),x(this,t)},ignorableWhitespace:function(t,e,s){},characters:function(t,e,s){var i;(t=N.apply(this,arguments))&&(i=this.cdata?this.doc.createCDATASection(t):this.doc.createTextNode(t),this.currentElement?this.currentElement.appendChild(i):/^\s*$/.test(t)&&this.doc.appendChild(i),this.locator&&E(this.locator,i))},skippedEntity:function(t){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(t){t&&(t.lineNumber=0),this.locator=t},comment:function(t,e,s){t=N.apply(this,arguments);t=this.doc.createComment(t);this.locator&&E(this.locator,t),x(this,t)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(t,e,s,i){var r=this.doc.implementation;r&&r.createDocumentType&&(r=r.createDocumentType(t,e,s,i),this.locator&&E(this.locator,r),x(this,r),this.doc.doctype=r)},reportError:function(e,s){if("function"==typeof this.onError)try{this.onError(e,s,this)}catch(t){throw new p("Reporting "+e+' "'+s+'" caused '+t,this.locator)}else console.error("[xmldom "+e+"]\t"+s,function(t){if(t)return"\n@#[line:"+t.lineNumber+",col:"+t.columnNumber+"]"}(this.locator))},warning:function(t){this.reportError("warning",t)},error:function(t){this.reportError("error",t)},fatalError:function(t){throw this.reportError("fatalError",t),new p(t,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(t){b.prototype[t]=function(){return null}}),e.__DOMHandler=b,e.DOMParser=g,e.normalizeLineEndings=f,e.onErrorStopParsing=function(t){if("error"===t)throw"onErrorStopParsing"},e.onWarningStopParsing=function(){throw"onWarningStopParsing"}},714:(t,e,s)=>{"use strict";s.d(e,{u:()=>i});class i{static ensureLocale(t,e){return i.LOCALES.get(t)?t:(console.error(`Locale ${t} does not exist! Using ${i.LOCALES.get(e)} instead.`),e)}}i.VERSION="5.0.0-beta.1",i.LOCALES=new Map([["af","Africaans"],["ca","Catalan"],["da","Danish"],["de","German"],["en","English"],["es","Spanish"],["euro","Euro"],["fr","French"],["hi","Hindi"],["it","Italian"],["ko","Korean"],["nb","BokmÃ¥l"],["nn","Nynorsk"],["sv","Swedish"],["nemeth","Nemeth"]]),i.mathjaxVersion="4.0.0",i.url="https://cdn.jsdelivr.net/npm/speech-rule-engine@"+i.VERSION+"/lib/mathmaps"},731:(t,e)=>{"use strict";function s(t){try{var e=new(t="function"!=typeof t?RegExp:t)("ğŒ†","u").exec("ğŒ†");return!!e&&2===e[0].length}catch(t){}return!1}var i=s();function r(t){if("["!==t.source[0])throw new Error(t+" can not be used with chars");return t.source.slice(1,t.source.lastIndexOf("]"))}function n(t,e){if("["!==t.source[0])throw new Error("/"+t.source+"/ can not be used with chars_without");if(!e||"string"!=typeof e)throw new Error(JSON.stringify(e)+" is not a valid search");if(-1===t.source.indexOf(e))throw new Error('"'+e+'" is not is /'+t.source+"/");if("-"===e&&1!==t.source.indexOf(e))throw new Error('"'+e+'" is not at the first postion of /'+t.source+"/");return new RegExp(t.source.replace(e,""),i?"u":"")}function o(t){var s=this;return new RegExp(Array.prototype.slice.call(arguments).map(function(t){var e="string"==typeof t;if(e&&void 0===s&&"|"===t)throw new Error("use regg instead of reg to wrap expressions with `|`!");return e?t:t.source}).join(""),i?"mu":"m")}function a(t){if(0===arguments.length)throw new Error("no parameters provided");return o.apply(a,["(?:"].concat(Array.prototype.slice.call(arguments),[")"]))}var l=/[-\x09\x0A\x0D\x20-\x2C\x2E-\uD7FF\uE000-\uFFFD]/,h=(i&&(l=o("[",r(l),"\\u{10000}-\\u{10FFFF}","]")),/[\x20\x09\x0D\x0A]/),c=r(h),d=o(h,"+"),h=o(h,"*"),u=/[:_a-zA-Z\xC0-\xD6\xD8-\xF6\xF8-\u02FF\u0370-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,p=(i&&(u=o("[",r(u),"\\u{10000}-\\u{10FFFF}","]")),o("[",r(u),r(/[-.0-9\xB7]/),r(/[\u0300-\u036F\u203F-\u2040]/),"]")),m=o(u,p,"*"),f=o(p,"+"),g=o("&",m,";"),b=a(/&#[0-9]+;|&#x[0-9a-fA-F]+;/),g=a(g,"|",b),b=o("%",m,";"),E=a(o('"',a(/[^%&"]/,"|",b,"|",g),"*",'"'),"|",o("'",a(/[^%&']/,"|",b,"|",g),"*","'")),N=a('"',a(/[^<&"]/,"|",g),"*",'"',"|","'",a(/[^<&']/,"|",g),"*","'"),u=o(n(u,":"),n(p,":"),"*"),p=o(u,a(":",u),"?"),u=o("^",p,"$"),x=o("(",p,")"),y=a(/"[^"]*"|'[^']*'/),v=o(/^<\?/,"(",m,")",a(d,"(",l,"*?)"),"?",/\?>/),C=/[\x20\x0D\x0Aa-zA-Z0-9-'()+,./:=?;!*#@$_%]/,C=a('"',C,'*"',"|","'",n(C,"'"),"*'"),_=o("\x3c!--",a(n(l,"-"),"|",o("-",n(l,"-"))),"*","--\x3e"),T="#PCDATA",T=a(o(/\(/,h,T,a(h,/\|/,h,p),"*",h,/\)\*/),"|",o(/\(/,h,T,h,/\)/)),T=a("EMPTY","|","ANY","|",T,"|",o(/\([^>]+\)/,/[?*+]?/)),T=o("<!ELEMENT",d,a(p,"|",b),d,a(T,"|",b),h,">"),L=o("NOTATION",d,/\(/,h,m,a(h,/\|/,h,m),"*",h,/\)/),f=o(/\(/,h,f,a(h,/\|/,h,f),"*",h,/\)/),L=a(L,"|",f),f=a(/CDATA|ID|IDREF|IDREFS|ENTITY|ENTITIES|NMTOKEN|NMTOKENS/,"|",L),L=a(/#REQUIRED|#IMPLIED/,"|",a(a("#FIXED",d),"?",N)),N=o("<!ATTLIST",d,m,a(d,m,d,f,d,L),"*",h,">"),f="about:legacy-compat",L=a('"'+f+'"',"|","'"+f+"'"),w="SYSTEM",I="PUBLIC",S=a(a(w,d,y),"|",a(I,d,C,d,y)),R=o("^",a(a(w,d,"(?<SystemLiteralOnly>",y,")"),"|",a(I,d,"(?<PubidLiteral>",C,")",d,"(?<SystemLiteral>",y,")"))),k=a(d,"NDATA",d,m),M="<!ENTITY",k=o(M,d,m,d,a(E,"|",a(S,k,"?")),h,">"),A=a(E,"|",S),k=a(k,"|",o(M,d,"%",d,m,d,A,h,">")),M=o(I,d,C),A=o("<!NOTATION",d,m,d,a(S,"|",M),h,">"),M=o(h,"=",h),O=/1[.]\d+/,O=o(d,"version",M,a("'",O,"'","|",'"',O,'"')),D=/[A-Za-z][-A-Za-z0-9._]*/,O=o(/^<\?xml/,O,a(d,"encoding",M,a('"',D,'"',"|","'",D,"'")),"?",a(d,"standalone",M,a("'",a("yes","|","no"),"'","|",'"',a("yes","|","no"),'"')),"?",h,/\?>/),D=o(l,"*?",/\]\]>/),M=o(/<!\[CDATA\[/,D);e.chars=r,e.chars_without=n,e.detectUnicodeSupport=s,e.reg=o,e.regg=a,e.ABOUT_LEGACY_COMPAT=f,e.ABOUT_LEGACY_COMPAT_SystemLiteral=L,e.AttlistDecl=N,e.CDATA_START="<![CDATA[",e.CDATA_END="]]>",e.CDSect=M,e.Char=l,e.Comment=_,e.COMMENT_START="\x3c!--",e.COMMENT_END="--\x3e",e.DOCTYPE_DECL_START="<!DOCTYPE",e.elementdecl=T,e.EntityDecl=k,e.EntityValue=E,e.ExternalID=S,e.ExternalID_match=R,e.Name=m,e.NotationDecl=A,e.Reference=g,e.PEReference=b,e.PI=v,e.PUBLIC=I,e.PubidLiteral=C,e.QName=p,e.QName_exact=u,e.QName_group=x,e.S=d,e.SChar_s=c,e.S_OPT=h,e.SYSTEM=w,e.SystemLiteral=y,e.UNICODE_REPLACEMENT_CHARACTER="ï¿½",e.UNICODE_SUPPORT=i,e.XMLDecl=O},767:(t,e,s)=>{"use strict";function i(t,e){t.prototype=Object.create(Error.prototype,{constructor:{value:t},name:{value:t.name,enumerable:!0,writable:e}})}var r=s(870).freeze({Error:"Error",IndexSizeError:"IndexSizeError",DomstringSizeError:"DomstringSizeError",HierarchyRequestError:"HierarchyRequestError",WrongDocumentError:"WrongDocumentError",InvalidCharacterError:"InvalidCharacterError",NoDataAllowedError:"NoDataAllowedError",NoModificationAllowedError:"NoModificationAllowedError",NotFoundError:"NotFoundError",NotSupportedError:"NotSupportedError",InUseAttributeError:"InUseAttributeError",InvalidStateError:"InvalidStateError",SyntaxError:"SyntaxError",InvalidModificationError:"InvalidModificationError",NamespaceError:"NamespaceError",InvalidAccessError:"InvalidAccessError",ValidationError:"ValidationError",TypeMismatchError:"TypeMismatchError",SecurityError:"SecurityError",NetworkError:"NetworkError",AbortError:"AbortError",URLMismatchError:"URLMismatchError",QuotaExceededError:"QuotaExceededError",TimeoutError:"TimeoutError",InvalidNodeTypeError:"InvalidNodeTypeError",DataCloneError:"DataCloneError",EncodingError:"EncodingError",NotReadableError:"NotReadableError",UnknownError:"UnknownError",ConstraintError:"ConstraintError",DataError:"DataError",TransactionInactiveError:"TransactionInactiveError",ReadOnlyError:"ReadOnlyError",VersionError:"VersionError",OperationError:"OperationError",NotAllowedError:"NotAllowedError",OptOutError:"OptOutError"}),n=Object.keys(r);function o(t){return"number"==typeof t&&1<=t&&t<=25}function a(t,e){o(t)?(this.name=n[t],this.message=e||""):(this.message=t,this.name="string"==typeof e&&e.substring(e.length-r.Error.length)===r.Error?e:r.Error),Error.captureStackTrace&&Error.captureStackTrace(this,a)}i(a,!0),Object.defineProperties(a.prototype,{code:{enumerable:!0,get:function(){var t=n.indexOf(this.name);return o(t)?t:0}}});for(var s={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25},l=Object.entries(s),h=0;h<l.length;h++)a[l[h][0]]=l[h][1];function c(t,e){this.message=t,this.locator=e,Error.captureStackTrace&&Error.captureStackTrace(this,c)}i(c),e.DOMException=a,e.DOMExceptionName=r,e.ExceptionCode=s,e.ParseError=c},786:(P,t,e)=>{"use strict";var n=e(870),o=n.find,B=n.hasDefaultHTMLNamespace,u=n.hasOwn,j=n.isHTMLMimeType,U=n.isHTMLRawTextElement,F=n.isHTMLVoidElement,a=n.MIME_TYPE,x=n.NAMESPACE,p=Symbol(),s=e(767),h=s.DOMException,H=s.DOMExceptionName,y=e(731);function i(t){if(t!==p)throw new TypeError("Illegal constructor")}function q(t){return""!==t}function W(t,e){return u(t,e)||(t[e]=!0),t}function z(t){if(!t)return[];t=t?t.split(/[\t\n\f\r ]+/).filter(q):[];return Object.keys(t.reduce(W,{}))}function V(t){if(!y.QName_exact.test(t))throw new h(h.INVALID_CHARACTER_ERR,'invalid character in qualified name "'+t+'"')}function X(t,e){V(e),t=t||null;var s,i=null,r=e;if(0<=e.indexOf(":")&&(i=(s=e.split(":"))[0],r=s[1]),null!==i&&null===t)throw new h(h.NAMESPACE_ERR,"prefix is non-null and namespace is null");if("xml"===i&&t!==n.NAMESPACE.XML)throw new h(h.NAMESPACE_ERR,'prefix is "xml" and namespace is not the XML namespace');if(("xmlns"===i||"xmlns"===e)&&t!==n.NAMESPACE.XMLNS)throw new h(h.NAMESPACE_ERR,'either qualifiedName or prefix is "xmlns" and namespace is not the XMLNS namespace');if(t===n.NAMESPACE.XMLNS&&"xmlns"!==i&&"xmlns"!==e)throw new h(h.NAMESPACE_ERR,'namespace is the XMLNS namespace and neither qualifiedName nor prefix is "xmlns"');return[t,i,r]}function r(t,e){for(var s in t)u(t,s)&&(e[s]=t[s])}function l(t,e){var s=t.prototype;function i(){}s instanceof e||(i.prototype=e.prototype,r(s,i=new i),t.prototype=s=i),s.constructor!=t&&("function"!=typeof t&&console.error("unknown Class:"+t),s.constructor=t)}var s={},m=(s.ELEMENT_NODE=1,s.ATTRIBUTE_NODE=2,s.TEXT_NODE=3,s.CDATA_SECTION_NODE=4,s.ENTITY_REFERENCE_NODE=5,s.ENTITY_NODE=6,s.PROCESSING_INSTRUCTION_NODE=7,s.COMMENT_NODE=8,s.DOCUMENT_NODE=9,s.DOCUMENT_TYPE_NODE=10,s.DOCUMENT_FRAGMENT_NODE=11,s.NOTATION_NODE=12,n.freeze({DOCUMENT_POSITION_DISCONNECTED:1,DOCUMENT_POSITION_PRECEDING:2,DOCUMENT_POSITION_FOLLOWING:4,DOCUMENT_POSITION_CONTAINS:8,DOCUMENT_POSITION_CONTAINED_BY:16,DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC:32}));function J(t){return t.guid||(t.guid=Math.random()),t.guid}function f(){}function c(t,e){this._node=t,this._refresh=e,d(this)}function d(t){var e=t._node._inc||t._node.ownerDocument._inc;if(t._inc!==e){var s=t._refresh(t._node);if(ut(t,"length",s.length),!t.$$length||s.length<t.$$length)for(var i=s.length;i in t;i++)u(t,i)&&delete t[i];r(s,t),t._inc=e}}function g(){}function G(t,e){for(var s=0;s<t.length;){if(t[s]===e)return s;s++}}function K(t,e,s){var i=G(e,s);if(0<=i){for(var r,n=e.length-1;i<=n;)e[i]=e[++i];e.length=n,t&&((r=t.ownerDocument)&&Q(r,t,s),s.ownerElement=null)}}function Y(){}function b(t){i(t)}function $(t){return("<"==t?"&lt;":">"==t&&"&gt;")||"&"==t&&"&amp;"||'"'==t&&"&quot;"||"&#"+t.charCodeAt()+";"}function E(t,e){if(e(t))return 1;if(t=t.firstChild)do{if(E(t,e))return 1}while(t=t.nextSibling)}function N(t,e){i(t);t=e||{};(this.ownerDocument=this).contentType=t.contentType||a.XML_APPLICATION,this.type=j(this.contentType)?"html":"xml"}function Q(t,e,s){t&&t._inc++,s.namespaceURI===x.XMLNS&&delete e._nsMap[s.prefix?s.localName:""]}function Z(t,e,s){if(t&&t._inc){t._inc++;var i=e.childNodes;if(s&&!s.nextSibling)i[i.length++]=s;else{for(var r=e.firstChild,n=0;r;)r=(i[n++]=r).nextSibling;i.length=n,delete i[i.length]}}}function tt(t,e){if(t!==e.parentNode)throw new h(h.NOT_FOUND_ERR,"child's parent is not parent");var s=e.previousSibling,i=e.nextSibling;return s?s.nextSibling=i:t.firstChild=i,i?i.previousSibling=s:t.lastChild=s,Z(t.ownerDocument,t),e.parentNode=null,e.previousSibling=null,e.nextSibling=null,e}function v(t){return t&&t.nodeType===b.DOCUMENT_TYPE_NODE}function C(t){return t&&t.nodeType===b.ELEMENT_NODE}function et(t){return t&&t.nodeType===b.TEXT_NODE}function st(t,e){var s,t=t.childNodes||[];if(!o(t,C)&&!v(e))return s=o(t,v),!(e&&s&&t.indexOf(s)>t.indexOf(e))}function it(t,e){var s,t=t.childNodes||[];if(!o(t,function(t){return C(t)&&t!==e}))return s=o(t,v),!(e&&s&&t.indexOf(s)>t.indexOf(e))}function rt(t,e,s){var i=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===b.DOCUMENT_FRAGMENT_NODE){var n=r.filter(C);if(1<n.length||o(r,et))throw new h(h.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(1===n.length&&!st(t,s))throw new h(h.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(C(e)&&!st(t,s))throw new h(h.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(v(e)){if(o(i,v))throw new h(h.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");r=o(i,C);if(s&&i.indexOf(r)<i.indexOf(s))throw new h(h.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element");if(!s&&r)throw new h(h.HIERARCHY_REQUEST_ERR,"Doctype can not be appended since element is present")}}function nt(t,e,s){var i=t.childNodes||[],r=e.childNodes||[];if(e.nodeType===b.DOCUMENT_FRAGMENT_NODE){var n=r.filter(C);if(1<n.length||o(r,et))throw new h(h.HIERARCHY_REQUEST_ERR,"More than one element or text in fragment");if(1===n.length&&!it(t,s))throw new h(h.HIERARCHY_REQUEST_ERR,"Element in fragment can not be inserted before doctype")}if(C(e)&&!it(t,s))throw new h(h.HIERARCHY_REQUEST_ERR,"Only one element can be added and only after doctype");if(v(e)){if(o(i,function(t){return v(t)&&t!==s}))throw new h(h.HIERARCHY_REQUEST_ERR,"Only one doctype is allowed");r=o(i,C);if(s&&i.indexOf(r)<i.indexOf(s))throw new h(h.HIERARCHY_REQUEST_ERR,"Doctype can only be inserted before an element")}}function _(t,e,s,i){var r=t,n=e,o=s;if(!r||r.nodeType!==b.DOCUMENT_NODE&&r.nodeType!==b.DOCUMENT_FRAGMENT_NODE&&r.nodeType!==b.ELEMENT_NODE)throw new h(h.HIERARCHY_REQUEST_ERR,"Unexpected parent node type "+r.nodeType);if(o&&o.parentNode!==r)throw new h(h.NOT_FOUND_ERR,"child not in parent");if(!n||n.nodeType!==b.CDATA_SECTION_NODE&&n.nodeType!==b.COMMENT_NODE&&n.nodeType!==b.DOCUMENT_FRAGMENT_NODE&&n.nodeType!==b.DOCUMENT_TYPE_NODE&&n.nodeType!==b.ELEMENT_NODE&&n.nodeType!==b.PROCESSING_INSTRUCTION_NODE&&n.nodeType!==b.TEXT_NODE||v(n)&&r.nodeType!==b.DOCUMENT_NODE)throw new h(h.HIERARCHY_REQUEST_ERR,"Unexpected node type "+n.nodeType+" for parent node type "+r.nodeType);t.nodeType===b.DOCUMENT_NODE&&(i||rt)(t,e,s);o=e.parentNode;if(o&&o.removeChild(e),11===e.nodeType){var a=e.firstChild;if(null==a)return e;var l=e.lastChild}else a=l=e;n=s?s.previousSibling:t.lastChild;for(a.previousSibling=n,l.nextSibling=s,n?n.nextSibling=a:t.firstChild=a,null==s?t.lastChild=l:s.previousSibling=l;a.parentNode=t,a!==l&&(a=a.nextSibling););return Z(t.ownerDocument||t,t,e),11==e.nodeType&&(e.firstChild=e.lastChild=null),e}function T(t){i(t),this._nsMap=Object.create(null)}function L(t){i(t),this.namespaceURI=null,this.prefix=null,this.ownerElement=null}function w(t){i(t)}function I(t){i(t)}function S(t){i(t)}function R(t){i(t)}function k(t){i(t)}function ot(t){i(t)}function at(t){i(t)}function M(t){i(t)}function A(t){i(t)}function O(t){i(t)}function lt(){}function ht(t){var e,s=[],i=9===this.nodeType&&this.documentElement||this,r=i.prefix,n=i.namespaceURI;return D(this,s,t,e=n&&null==r&&null==(r=i.lookupPrefix(n))?[{namespace:n,prefix:null}]:e),s.join("")}function ct(t,e,s){var i=t.prefix||"",r=t.namespaceURI;if(r&&("xml"!==i||r!==x.XML)&&r!==x.XMLNS){for(var n=s.length;n--;){var o=s[n];if(o.prefix===i)return o.namespace!==r}return 1}}function dt(t,e,s){t.push(" ",e,'="',s.replace(/[<>&"\t\n\r]/g,$),'"')}function D(t,e,s,i){i=i||[];var r="html"===(9===t.nodeType?t:t.ownerDocument).type;if(s){if(!(t=s(t)))return;if("string"==typeof t)return e.push(t)}switch(t.nodeType){case 1:var n=t.attributes,o=n.length,a=t.firstChild,l=t.tagName,h=l;if(!r&&!t.prefix&&t.namespaceURI){for(var c,d,u=0;u<n.length;u++)if("xmlns"===n.item(u).name){c=n.item(u).value;break}if(!c)for(var p=i.length-1;0<=p;p--)if(""===(d=i[p]).prefix&&d.namespace===t.namespaceURI){c=d.namespace;break}if(c!==t.namespaceURI)for(p=i.length-1;0<=p;p--)if((d=i[p]).namespace===t.namespaceURI){d.prefix&&(h=d.prefix+":"+l);break}}e.push("<",h);for(var m,f,g,b=0;b<o;b++)"xmlns"==(m=n.item(b)).prefix?i.push({prefix:m.localName,namespace:m.value}):"xmlns"==m.nodeName&&i.push({prefix:"",namespace:m.value});for(b=0;b<o;b++)ct(m=n.item(b),0,i)&&(dt(e,(f=m.prefix||"")?"xmlns:"+f:"xmlns",g=m.namespaceURI),i.push({prefix:f,namespace:g})),D(m,e,s,i);l===h&&ct(t,0,i)&&(dt(e,(f=t.prefix||"")?"xmlns:"+f:"xmlns",g=t.namespaceURI),i.push({prefix:f,namespace:g}));var E=!a;if(E=E&&(r||t.namespaceURI===x.HTML)?F(l):E)e.push("/>");else{if(e.push(">"),r&&U(l))for(;a;)a.data?e.push(a.data):D(a,e,s,i.slice()),a=a.nextSibling;else for(;a;)D(a,e,s,i.slice()),a=a.nextSibling;e.push("</",h,">")}return;case 9:case 11:for(a=t.firstChild;a;)D(a,e,s,i.slice()),a=a.nextSibling;return;case 2:return dt(e,t.name,t.value);case 3:return e.push(t.data.replace(/[<&>]/g,$));case 4:return e.push(y.CDATA_START,t.data,y.CDATA_END);case 8:return e.push(y.COMMENT_START,t.data,y.COMMENT_END);case 10:var E=t.publicId,N=t.systemId;return e.push(y.DOCTYPE_DECL_START," ",t.name),E?(e.push(" ",y.PUBLIC," ",E),N&&"."!==N&&e.push(" ",N)):N&&"."!==N&&e.push(" ",y.SYSTEM," ",N),t.internalSubset&&e.push(" [",t.internalSubset,"]"),e.push(">");case 7:return e.push("<?",t.target," ",t.data,"?>");case 5:return e.push("&",t.nodeName,";");default:e.push("??",t.nodeName)}}function ut(t,e,s){t[e]=s}(f.prototype={length:0,item:function(t){return 0<=t&&t<this.length?this[t]:null},toString:function(t){for(var e=[],s=0;s<this.length;s++)D(this[s],e,t);return e.join("")},filter:function(t){return Array.prototype.filter.call(this,t)},indexOf:function(t){return Array.prototype.indexOf.call(this,t)}})[Symbol.iterator]=function(){var t=this,e=0;return{next:function(){return e<t.length?{value:t[e++],done:!1}:{done:!0}},return:function(){return{done:!0}}}},c.prototype.item=function(t){return d(this),this[t]||null},l(c,f),(g.prototype={length:0,item:f.prototype.item,getNamedItem:function(t){this._ownerElement&&this._ownerElement._isInHTMLDocumentAndNamespace()&&(t=t.toLowerCase());for(var e=0;e<this.length;){var s=this[e];if(s.nodeName===t)return s;e++}return null},setNamedItem:function(t){var e=t.ownerElement;if(e&&e!==this._ownerElement)throw new h(h.INUSE_ATTRIBUTE_ERR);var s,i,r,e=this.getNamedItemNS(t.namespaceURI,t.localName);return e===t?t:(s=this._ownerElement,i=this,t=t,(r=e)?i[G(i,r)]=t:(i[i.length]=t,i.length++),s&&(i=(t.ownerElement=s).ownerDocument)&&(r&&Q(i,s,r),r=s,s=t,i&&i._inc++,s.namespaceURI===x.XMLNS&&(r._nsMap[s.prefix?s.localName:""]=s.value)),e)},setNamedItemNS:function(t){return this.setNamedItem(t)},removeNamedItem:function(t){var e=this.getNamedItem(t);if(e)return K(this._ownerElement,this,e),e;throw new h(h.NOT_FOUND_ERR,t)},removeNamedItemNS:function(t,e){var s=this.getNamedItemNS(t,e);if(s)return K(this._ownerElement,this,s),s;throw new h(h.NOT_FOUND_ERR,t?t+" : "+e:e)},getNamedItemNS:function(t,e){t=t||null;for(var s=0;s<this.length;){var i=this[s];if(i.localName===e&&i.namespaceURI===t)return i;s++}return null}})[Symbol.iterator]=function(){var t=this,e=0;return{next:function(){return e<t.length?{value:t[e++],done:!1}:{done:!0}},return:function(){return{done:!0}}}},Y.prototype={hasFeature:function(t,e){return!0},createDocument:function(t,e,s){var i=a.XML_APPLICATION,i=(t===x.HTML?i=a.XML_XHTML_APPLICATION:t===x.SVG&&(i=a.XML_SVG_IMAGE),new N(p,{contentType:i}));return i.implementation=this,i.childNodes=new f,i.doctype=s||null,s&&i.appendChild(s),e&&(s=i.createElementNS(t,e),i.appendChild(s)),i},createDocumentType:function(t,e,s,i){V(t);var r=new k(p);return r.name=t,r.nodeName=t,r.publicId=e||"",r.systemId=s||"",r.internalSubset=i||"",r.childNodes=new f,r},createHTMLDocument:function(t){var e,s,i,r=new N(p,{contentType:a.HTML});return r.implementation=this,r.childNodes=new f,!1!==t&&(r.doctype=this.createDocumentType("html"),(r.doctype.ownerDocument=r).appendChild(r.doctype),e=r.createElement("html"),r.appendChild(e),s=r.createElement("head"),e.appendChild(s),"string"==typeof t&&((i=r.createElement("title")).appendChild(r.createTextNode(t)),s.appendChild(i)),e.appendChild(r.createElement("body"))),r}},b.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,parentNode:null,get parentElement(){return this.parentNode&&this.parentNode.nodeType===this.ELEMENT_NODE?this.parentNode:null},childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,baseURI:"about:blank",get isConnected(){var t=this.getRootNode();return t&&t.nodeType===t.DOCUMENT_NODE},contains:function(t){if(!t)return!1;var e=t;do{if(this===e)return!0}while(e=t.parentNode);return!1},getRootNode:function(t){var e=this;do{if(!e.parentNode)return e}while(e=e.parentNode)},isEqualNode:function(t){if(!t)return!1;if(this.nodeType!==t.nodeType)return!1;switch(this.nodeType){case this.DOCUMENT_TYPE_NODE:if(this.name!==t.name)return!1;if(this.publicId!==t.publicId)return!1;if(this.systemId!==t.systemId)return!1;break;case this.ELEMENT_NODE:if(this.namespaceURI!==t.namespaceURI)return!1;if(this.prefix!==t.prefix)return!1;if(this.localName!==t.localName)return!1;if(this.attributes.length!==t.attributes.length)return!1;for(var e=0;e<this.attributes.length;e++){var s=this.attributes.item(e);if(!s.isEqualNode(t.getAttributeNodeNS(s.namespaceURI,s.localName)))return!1}break;case this.ATTRIBUTE_NODE:if(this.namespaceURI!==t.namespaceURI)return!1;if(this.localName!==t.localName)return!1;if(this.value!==t.value)return!1;break;case this.PROCESSING_INSTRUCTION_NODE:if(this.target!==t.target||this.data!==t.data)return!1;break;case this.TEXT_NODE:case this.COMMENT_NODE:if(this.data!==t.data)return!1}if(this.childNodes.length!==t.childNodes.length)return!1;for(e=0;e<this.childNodes.length;e++)if(!this.childNodes[e].isEqualNode(t.childNodes[e]))return!1;return!0},isSameNode:function(t){return this===t},insertBefore:function(t,e){return _(this,t,e)},replaceChild:function(t,e){_(this,t,e,nt),e&&this.removeChild(e)},removeChild:function(t){return tt(this,t)},appendChild:function(t){return this.insertBefore(t,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(t){return function t(e,s,i){var r,n,o=new s.constructor(p);for(r in s)u(s,r)&&"object"!=typeof(n=s[r])&&n!=o[r]&&(o[r]=n);switch(s.childNodes&&(o.childNodes=new f),o.ownerDocument=e,o.nodeType){case 1:var a=s.attributes,l=o.attributes=new g,h=a.length;l._ownerElement=o;for(var c=0;c<h;c++)o.setAttributeNode(t(e,a.item(c),!0));break;case 2:i=!0}if(i)for(var d=s.firstChild;d;)o.appendChild(t(e,d,i)),d=d.nextSibling;return o}(this.ownerDocument||this,this,t)},normalize:function(){for(var t=this.firstChild;t;){var e=t.nextSibling;e&&3==e.nodeType&&3==t.nodeType?(this.removeChild(e),t.appendData(e.data)):(t.normalize(),t=e)}},isSupported:function(t,e){return this.ownerDocument.implementation.hasFeature(t,e)},lookupPrefix:function(t){for(var e=this;e;){var s=e._nsMap;if(s)for(var i in s)if(u(s,i)&&s[i]===t)return i;e=2==e.nodeType?e.ownerDocument:e.parentNode}return null},lookupNamespaceURI:function(t){for(var e=this;e;){var s=e._nsMap;if(s&&u(s,t))return s[t];e=2==e.nodeType?e.ownerDocument:e.parentNode}return null},isDefaultNamespace:function(t){return null==this.lookupPrefix(t)},compareDocumentPosition:function(t){if(this===t)return 0;var e=t,s=this,i=null,r=null;if(e instanceof L&&(e=(i=e).ownerElement),s instanceof L&&(s=(r=s).ownerElement,i&&e&&s===e))for(var n,o=0;n=s.attributes[o];o++){if(n===i)return m.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+m.DOCUMENT_POSITION_PRECEDING;if(n===r)return m.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+m.DOCUMENT_POSITION_FOLLOWING}if(!e||!s||s.ownerDocument!==e.ownerDocument)return m.DOCUMENT_POSITION_DISCONNECTED+m.DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC+(J(s.ownerDocument)>J(e.ownerDocument)?m.DOCUMENT_POSITION_FOLLOWING:m.DOCUMENT_POSITION_PRECEDING);if(r&&e===s)return m.DOCUMENT_POSITION_CONTAINS+m.DOCUMENT_POSITION_PRECEDING;if(i&&e===s)return m.DOCUMENT_POSITION_CONTAINED_BY+m.DOCUMENT_POSITION_FOLLOWING;for(var a=[],l=e.parentNode;l;){if(!r&&l===s)return m.DOCUMENT_POSITION_CONTAINED_BY+m.DOCUMENT_POSITION_FOLLOWING;a.push(l),l=l.parentNode}a.reverse();for(var h=[],c=s.parentNode;c;){if(!i&&c===e)return m.DOCUMENT_POSITION_CONTAINS+m.DOCUMENT_POSITION_PRECEDING;h.push(c),c=c.parentNode}h.reverse();var d,u=function t(e,s){if(s.length<e.length)return t(s,e);var i,r=null;for(i in e){if(e[i]!==s[i])return r;r=e[i]}return r}(a,h);for(d in u.childNodes){var p=u.childNodes[d];if(p===s)return m.DOCUMENT_POSITION_FOLLOWING;if(p===e)return m.DOCUMENT_POSITION_PRECEDING;if(0<=h.indexOf(p))return m.DOCUMENT_POSITION_FOLLOWING;if(0<=a.indexOf(p))return m.DOCUMENT_POSITION_PRECEDING}return 0}},r(s,b),r(s,b.prototype),r(m,b),r(m,b.prototype),N.prototype={implementation:null,nodeName:"#document",nodeType:9,doctype:null,documentElement:null,_inc:1,insertBefore:function(t,e){if(11!==t.nodeType)return _(this,t,e),null===(t.ownerDocument=this).documentElement&&1===t.nodeType&&(this.documentElement=t),t;for(var s=t.firstChild;s;){var i=s.nextSibling;this.insertBefore(s,e),s=i}return t},removeChild:function(t){t=tt(this,t);return t===this.documentElement&&(this.documentElement=null),t},replaceChild:function(t,e){_(this,t,e,nt),t.ownerDocument=this,e&&this.removeChild(e),C(t)&&(this.documentElement=t)},importNode:function(t,e){return function t(e,s,i){var r;switch(s.nodeType){case 1:(r=s.cloneNode(!1)).ownerDocument=e;case 11:break;case 2:i=!0}if((r=r||s.cloneNode(!1)).ownerDocument=e,r.parentNode=null,i)for(var n=s.firstChild;n;)r.appendChild(t(e,n,i)),n=n.nextSibling;return r}(this,t,e)},getElementById:function(e){var s=null;return E(this.documentElement,function(t){if(1==t.nodeType&&t.getAttribute("id")==e)return s=t,!0}),s},createElement:function(t){var e=new T(p);return"html"===(e.ownerDocument=this).type&&(t=t.toLowerCase()),B(this.contentType)&&(e.namespaceURI=x.HTML),e.nodeName=t,e.tagName=t,e.localName=t,e.childNodes=new f,(e.attributes=new g)._ownerElement=e},createDocumentFragment:function(){var t=new A(p);return t.ownerDocument=this,t.childNodes=new f,t},createTextNode:function(t){var e=new I(p);return e.ownerDocument=this,e.childNodes=new f,e.appendData(t),e},createComment:function(t){var e=new S(p);return e.ownerDocument=this,e.childNodes=new f,e.appendData(t),e},createCDATASection:function(t){var e=new R(p);return e.ownerDocument=this,e.childNodes=new f,e.appendData(t),e},createProcessingInstruction:function(t,e){var s=new O(p);return s.ownerDocument=this,s.childNodes=new f,s.nodeName=s.target=t,s.nodeValue=s.data=e,s},createAttribute:function(t){if(y.QName_exact.test(t))return"html"===this.type&&(t=t.toLowerCase()),this._createAttribute(t);throw new h(h.INVALID_CHARACTER_ERR,'invalid character in name "'+t+'"')},_createAttribute:function(t){var e=new L(p);return e.ownerDocument=this,e.childNodes=new f,e.name=t,e.nodeName=t,e.localName=t,e.specified=!0,e},createEntityReference:function(t){if(!y.Name.test(t))throw new h(h.INVALID_CHARACTER_ERR,'not a valid xml name "'+t+'"');if("html"===this.type)throw new h("document is an html document",H.NotSupportedError);var e=new M(p);return e.ownerDocument=this,e.childNodes=new f,e.nodeName=t,e},createElementNS:function(t,e){var t=X(t,e),s=new T(p),i=s.attributes=new g;return s.childNodes=new f,s.ownerDocument=this,s.nodeName=e,s.tagName=e,s.namespaceURI=t[0],s.prefix=t[1],s.localName=t[2],i._ownerElement=s},createAttributeNS:function(t,e){var t=X(t,e),s=new L(p);return s.ownerDocument=this,s.childNodes=new f,s.nodeName=e,s.name=e,s.specified=!0,s.namespaceURI=t[0],s.prefix=t[1],s.localName=t[2],s}},l(N,b),N.prototype.getElementsByClassName=(T.prototype={nodeType:1,attributes:null,getQualifiedName:function(){return this.prefix?this.prefix+":"+this.localName:this.localName},_isInHTMLDocumentAndNamespace:function(){return"html"===this.ownerDocument.type&&this.namespaceURI===x.HTML},hasAttributes:function(){return!(!this.attributes||!this.attributes.length)},hasAttribute:function(t){return!!this.getAttributeNode(t)},getAttribute:function(t){t=this.getAttributeNode(t);return t?t.value:null},getAttributeNode:function(t){return this._isInHTMLDocumentAndNamespace()&&(t=t.toLowerCase()),this.attributes.getNamedItem(t)},setAttribute:function(t,e){this._isInHTMLDocumentAndNamespace()&&(t=t.toLowerCase());var s=this.getAttributeNode(t);s?s.value=s.nodeValue=""+e:((s=this.ownerDocument._createAttribute(t)).value=s.nodeValue=""+e,this.setAttributeNode(s))},removeAttribute:function(t){t=this.getAttributeNode(t);t&&this.removeAttributeNode(t)},setAttributeNode:function(t){return this.attributes.setNamedItem(t)},setAttributeNodeNS:function(t){return this.attributes.setNamedItemNS(t)},removeAttributeNode:function(t){return this.attributes.removeNamedItem(t.nodeName)},removeAttributeNS:function(t,e){t=this.getAttributeNodeNS(t,e);t&&this.removeAttributeNode(t)},hasAttributeNS:function(t,e){return null!=this.getAttributeNodeNS(t,e)},getAttributeNS:function(t,e){t=this.getAttributeNodeNS(t,e);return t?t.value:null},setAttributeNS:function(t,e,s){var i=X(t,e)[2],i=this.getAttributeNodeNS(t,i);i?i.value=i.nodeValue=""+s:((i=this.ownerDocument.createAttributeNS(t,e)).value=i.nodeValue=""+s,this.setAttributeNode(i))},getAttributeNodeNS:function(t,e){return this.attributes.getNamedItemNS(t,e)},getElementsByClassName:function(o){var a=z(o);return new c(this,function(r){var n=[];return 0<a.length&&E(r,function(t){var e,s,i;t!==r&&1===t.nodeType&&(e=t.getAttribute("class"))&&((s=o===e)||(e=z(e),s=a.every((i=e,function(t){return i&&-1!==i.indexOf(t)}))),s&&n.push(t))}),n})},getElementsByTagName:function(i){var r="html"===(9===this.nodeType?this:this.ownerDocument).type,n=i.toLowerCase();return new c(this,function(e){var s=[];return E(e,function(t){t===e||1!==t.nodeType||"*"!==i&&t.getQualifiedName()!==(r&&t.namespaceURI===x.HTML?n:i)||s.push(t)}),s})},getElementsByTagNameNS:function(i,r){return new c(this,function(e){var s=[];return E(e,function(t){t===e||1!==t.nodeType||"*"!==i&&t.namespaceURI!==i||"*"!==r&&t.localName!=r||s.push(t)}),s})}}).getElementsByClassName,N.prototype.getElementsByTagName=T.prototype.getElementsByTagName,N.prototype.getElementsByTagNameNS=T.prototype.getElementsByTagNameNS,l(T,b),L.prototype.nodeType=2,l(L,b),w.prototype={data:"",substringData:function(t,e){return this.data.substring(t,t+e)},appendData:function(t){t=this.data+t,this.nodeValue=this.data=t,this.length=t.length},insertData:function(t,e){this.replaceData(t,0,e)},deleteData:function(t,e){this.replaceData(t,e,"")},replaceData:function(t,e,s){s=this.data.substring(0,t)+s+this.data.substring(t+e),this.nodeValue=this.data=s,this.length=s.length}},l(w,b),I.prototype={nodeName:"#text",nodeType:3,splitText:function(t){var e=(s=this.data).substring(t),s=s.substring(0,t),t=(this.data=this.nodeValue=s,this.length=s.length,this.ownerDocument.createTextNode(e));return this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling),t}},l(I,w),S.prototype={nodeName:"#comment",nodeType:8},l(S,w),R.prototype={nodeName:"#cdata-section",nodeType:4},l(R,I),k.prototype.nodeType=10,l(k,b),ot.prototype.nodeType=12,l(ot,b),at.prototype.nodeType=6,l(at,b),M.prototype.nodeType=5,l(M,b),A.prototype.nodeName="#document-fragment",A.prototype.nodeType=11,l(A,b),O.prototype.nodeType=7,l(O,w),lt.prototype.serializeToString=function(t,e){return ht.call(t,e)},b.prototype.toString=ht;try{Object.defineProperty&&(Object.defineProperty(c.prototype,"length",{get:function(){return d(this),this.$$length}}),Object.defineProperty(b.prototype,"textContent",{get:function(){return function t(e){switch(e.nodeType){case 1:case 11:var s=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&s.push(t(e)),e=e.nextSibling;return s.join("");default:return e.nodeValue}}(this)},set:function(t){switch(this.nodeType){case 1:case 11:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),ut=function(t,e,s){t["$$"+e]=s})}catch(t){}t._updateLiveList=d,t.Attr=L,t.CDATASection=R,t.CharacterData=w,t.Comment=S,t.Document=N,t.DocumentFragment=A,t.DocumentType=k,t.DOMImplementation=Y,t.Element=T,t.Entity=at,t.EntityReference=M,t.LiveNodeList=c,t.NamedNodeMap=g,t.Node=b,t.NodeList=f,t.Notation=ot,t.Text=I,t.ProcessingInstruction=O,t.XMLSerializer=lt},802:(t,e,s)=>{"use strict";var O=s(870),D=s(731),s=s(767),P=O.isHTMLEscapableRawTextElement,B=O.isHTMLMimeType,j=O.isHTMLRawTextElement,U=O.hasOwn,p=O.NAMESPACE,F=s.ParseError,H=s.DOMException;function i(){}i.prototype={parse:function(t,e,s){var i=this.domBuilder;i.startDocument(),m(e,e=Object.create(null)),function(s,t,i,r,n){var o=B(r.mimeType);function a(t){var e=";"===t[t.length-1]?t:t+";";if(!o&&e!==t)return n.error("EntityRef: expecting ;"),t;var s=D.Reference.exec(e);if(!s||s[0].length!==e.length)return n.error("entity not matching Reference production: "+t),t;var s=e.slice(1,-1);return U(i,s)?i[s]:"#"===s.charAt(0)?65535<(e=parseInt(s.substring(1).replace("x","0x")))?(s=55296+((e-=65536)>>10),String.fromCharCode(s,56320+(1023&e))):String.fromCharCode(e):(n.error("entity not found:"+t),t)}function e(t){var e;f<t&&(e=s.substring(f,t).replace(q,a),d&&u(f),r.characters(e,0,t-f),f=t)}0<=s.indexOf(D.UNICODE_REPLACEMENT_CHARACTER)&&n.warning("Unicode replacement character detected, source encoding issues?");var l=0,h=0,c=/\r\n?|\n|$/g,d=r.locator;function u(t,e){for(;h<=t&&(e=c.exec(s));)l=h,h=e.index+e[0].length,d.lineNumber++;d.columnNumber=t-l+1}for(var p=[{currentNSMap:t}],m=[],f=0;;){try{var g,b=s.indexOf("<",f);if(b<0){if(!o&&0<m.length)return n.fatalError("unclosed xml tag(s): "+m.join(", "));if(!s.substring(f).match(/^\s*$/)){var E=r.doc,N=E.createTextNode(s.substring(f));if(E.documentElement)return n.error("Extra content at the end of the document");E.appendChild(N),r.currentElement=N}return}switch(f<b&&(g=s.substring(f,b),o||0!==m.length||(g=g.replace(new RegExp(D.S_OPT.source,"g"),""))&&n.error("Unexpected content outside root element: '"+g+"'"),e(b)),s.charAt(b+1)){case"/":var x=s.indexOf(">",b+2),y=s.substring(b+2,0<x?x:void 0);if(!y)return n.fatalError("end tag name missing");var v=0<x&&D.reg("^",D.QName_group,D.S_OPT,"$").exec(y);if(!v)return n.fatalError('end tag name contains invalid characters: "'+y+'"');if(!r.currentElement&&!r.doc.documentElement)return;var C=m[m.length-1]||r.currentElement.tagName||r.doc.documentElement.tagName||"";if(C!==v[1]){var _=v[1].toLowerCase();if(!o||C.toLowerCase()!==_)return n.fatalError('Opening and ending tag mismatch: "'+C+'" != "'+y+'"')}var T=p.pop(),L=(m.pop(),T.localNSMap);if(r.endElement(T.uri,T.localName,C),L)for(var w in L)U(L,w)&&r.endPrefixMapping(w);x++;break;case"?":d&&u(b),x=function(t,e,s,i){var r=t.substring(e).match(D.PI);if(!r)return i.fatalError("Invalid processing instruction starting at position "+e);if("xml"===r[1].toLowerCase()){if(0<e)return i.fatalError("processing instruction at position "+e+" is an xml declaration which is only at the start of the document");if(!D.XMLDecl.test(t.substring(e)))return i.fatalError("xml declaration is not well-formed")}return s.processingInstruction(r[1],r[2]),e+r[0].length}(s,b,r,n);break;case"!":d&&u(b),x=V(s,b,r,n,o);break;default:d&&u(b);var I=new X,S=p[p.length-1].currentNSMap,R=(x=function(t,e,i,r,n,o){function s(t,e,s){U(i.attributeNames,t)?n.fatalError("Attribute "+t+" redefined"):!o&&0<=e.indexOf("<")?n.fatalError("Unescaped '<' not allowed in attributes values"):i.addValue(t,e.replace(/[\t\n\r]/g," ").replace(q,r),s)}for(var a,l=++e,h=0;;){var c=t.charAt(l);switch(c){case"=":if(1===h)a=t.slice(e,l),h=3;else{if(2!==h)throw new Error("attribute equal must after attrName");h=3}break;case"'":case'"':if(3===h||1===h){if(1===h&&(n.warning('attribute value must after "="'),a=t.slice(e,l)),e=l+1,!(0<(l=t.indexOf(c,e))))throw new Error("attribute value no end '"+c+"' match");s(a,d=t.slice(e,l),e-1),h=5}else{if(4!=h)throw new Error('attribute value must after "="');s(a,d=t.slice(e,l),e),n.warning('attribute "'+a+'" missed start quot('+c+")!!"),e=l+1,h=5}break;case"/":switch(h){case 0:i.setTagName(t.slice(e,l));case 5:case 6:case 7:h=7,i.closed=!0;case 4:case 1:break;case 2:i.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return n.error("unexpected end of input"),0==h&&i.setTagName(t.slice(e,l)),l;case">":switch(h){case 0:i.setTagName(t.slice(e,l));case 5:case 6:case 7:break;case 4:case 1:"/"===(d=t.slice(e,l)).slice(-1)&&(i.closed=!0,d=d.slice(0,-1));case 2:2===h&&(d=a),4==h?(n.warning('attribute "'+d+'" missed quot(")!'),s(a,d,e)):(o||n.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),s(d,d,e));break;case 3:if(!o)return n.fatalError("AttValue: ' or \" expected")}return l;case"Â€":c=" ";default:if(c<=" ")switch(h){case 0:i.setTagName(t.slice(e,l)),h=6;break;case 1:a=t.slice(e,l),h=2;break;case 4:var d=t.slice(e,l);n.warning('attribute "'+d+'" missed quot(")!!'),s(a,d,e);case 5:h=6}else switch(h){case 2:o||n.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),s(a,a,e),e=l,h=1;break;case 5:n.warning('attribute space is required"'+a+'"!!');case 6:h=1,e=l;break;case 3:h=4,e=l;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}l++}}(s,b,I,a,n,o),I.length);if(I.closed||(o&&O.isHTMLVoidElement(I.tagName)?I.closed=!0:m.push(I.tagName)),d&&R){for(var k=W(d,{}),M=0;M<R;M++){var A=I[M];u(A.offset),A.locator=W(d,{})}r.locator=k,z(I,r,S)&&p.push(I),r.locator=d}else z(I,r,S)&&p.push(I);o&&!I.closed?x=function(t,e,s,i,r){var n=P(s);if(n||j(s))return s=t.indexOf("</"+s+">",e),t=t.substring(e+1,s),n&&(t=t.replace(q,i)),r.characters(t,0,t.length),s;return e+1}(s,x,I.tagName,a,r):x++}}catch(s){if(s instanceof F)throw s;if(s instanceof H)throw new F(s.name+": "+s.message,r.locator,s);n.error("element parse error: "+s),x=-1}f<x?f=x:e(Math.max(b,f)+1)}}(t,e,s,i,this.errorHandler),i.endDocument()}};var q=/&#?\w+;?/g;function W(t,e){return e.lineNumber=t.lineNumber,e.columnNumber=t.columnNumber,e}function z(t,e,s){for(var i,r=t.tagName,n=null,o=t.length;o--;){var a,l=t[o],h=l.qName,c=l.value,h=0<(i=h.indexOf(":"))?(a=l.prefix=h.slice(0,i),d=h.slice(i+1),"xmlns"===a&&d):(a=null,"xmlns"===(d=h)&&"");l.localName=d,!1!==h&&(null==n&&(n=Object.create(null),m(s,s=Object.create(null))),s[h]=n[h]=c,l.uri=p.XMLNS,e.startPrefixMapping(h,c))}for(o=t.length;o--;)(l=t[o]).prefix&&("xml"===l.prefix&&(l.uri=p.XML),"xmlns"!==l.prefix&&(l.uri=s[l.prefix]));var d=0<(i=r.indexOf(":"))?(a=t.prefix=r.slice(0,i),t.localName=r.slice(i+1)):(a=null,t.localName=r),u=t.uri=s[a||""];if(e.startElement(u,d,r,t),!t.closed)return t.currentNSMap=s,t.localNSMap=n,1;if(e.endElement(u,d,r),n)for(a in n)U(n,a)&&e.endPrefixMapping(a)}function m(t,e){for(var s in t)U(t,s)&&(e[s]=t[s])}function l(s,t){var i=t;function r(t){return s.charAt(i+(t=t||0))}function n(t){i+=t||1}function e(){return s.substring(i)}return{char:r,getIndex:function(){return i},getMatch:function(t){t=D.reg("^",t).exec(e());return t?(n(t[0].length),t[0]):null},getSource:function(){return s},skip:n,skipBlanks:function(){for(var t=0;i<s.length;){var e=r();if(" "!==e&&"\n"!==e&&"\t"!==e&&"\r"!==e)return t;t++,n()}return-1},substringFromIndex:e,substringStartsWith:function(t){return s.substring(i,i+t.length)===t},substringStartsWithCaseInsensitive:function(t){return s.substring(i,i+t.length).toUpperCase()===t.toUpperCase()}}}function V(t,e,s,i,r){var n=l(t,e);switch(r?n.char(2).toUpperCase():n.char(2)){case"-":var o=n.getMatch(D.Comment);return o?(s.comment(o,D.COMMENT_START.length,o.length-D.COMMENT_START.length-D.COMMENT_END.length),n.getIndex()):i.fatalError("comment is not well-formed at position "+n.getIndex());case"[":o=n.getMatch(D.CDSect);return o?r||s.currentElement?(s.startCDATA(),s.characters(o,D.CDATA_START.length,o.length-D.CDATA_START.length-D.CDATA_END.length),s.endCDATA(),n.getIndex()):i.fatalError("CDATA outside of element"):i.fatalError("Invalid CDATA starting at position "+e);case"D":if(s.doc&&s.doc.documentElement)return i.fatalError("Doctype not allowed inside or after documentElement at position "+n.getIndex());if(r?!n.substringStartsWithCaseInsensitive(D.DOCTYPE_DECL_START):!n.substringStartsWith(D.DOCTYPE_DECL_START))return i.fatalError("Expected "+D.DOCTYPE_DECL_START+" at position "+n.getIndex());if(n.skip(D.DOCTYPE_DECL_START.length),n.skipBlanks()<1)return i.fatalError("Expected whitespace after "+D.DOCTYPE_DECL_START+" at position "+n.getIndex());o={name:void 0,publicId:void 0,systemId:void 0,internalSubset:void 0};if(o.name=n.getMatch(D.Name),!o.name)return i.fatalError("doctype name missing or contains unexpected characters at position "+n.getIndex());if(r&&"html"!==o.name.toLowerCase()&&i.warning("Unexpected DOCTYPE in HTML document at position "+n.getIndex()),n.skipBlanks(),n.substringStartsWith(D.PUBLIC)||n.substringStartsWith(D.SYSTEM)){var a=D.ExternalID_match.exec(n.substringFromIndex());if(!a)return i.fatalError("doctype external id is not well-formed at position "+n.getIndex());void 0!==a.groups.SystemLiteralOnly?o.systemId=a.groups.SystemLiteralOnly:(o.systemId=a.groups.SystemLiteral,o.publicId=a.groups.PubidLiteral),n.skip(a[0].length)}else if(r&&n.substringStartsWithCaseInsensitive(D.SYSTEM)){if(n.skip(D.SYSTEM.length),n.skipBlanks()<1)return i.fatalError("Expected whitespace after "+D.SYSTEM+" at position "+n.getIndex());if(o.systemId=n.getMatch(D.ABOUT_LEGACY_COMPAT_SystemLiteral),!o.systemId)return i.fatalError("Expected "+D.ABOUT_LEGACY_COMPAT+" in single or double quotes after "+D.SYSTEM+" at position "+n.getIndex())}return r&&o.systemId&&!D.ABOUT_LEGACY_COMPAT_SystemLiteral.test(o.systemId)&&i.warning("Unexpected doctype.systemId in HTML document at position "+n.getIndex()),r||(n.skipBlanks(),o.internalSubset=function(t,e){var s,i,r=t.getSource();if("["===t.char()){t.skip(1);for(var n,o=t.getIndex();t.getIndex()<r.length;){if(t.skipBlanks(),"]"===t.char())return n=r.substring(o,t.getIndex()),t.skip(1),n;var a=null;if("<"===t.char()&&"!"===t.char(1))switch(t.char(2)){case"E":"L"===t.char(3)?a=t.getMatch(D.elementdecl):"N"===t.char(3)&&(a=t.getMatch(D.EntityDecl));break;case"A":a=t.getMatch(D.AttlistDecl);break;case"N":a=t.getMatch(D.NotationDecl);break;case"-":a=t.getMatch(D.Comment)}else if("<"===t.char()&&"?"===t.char(1))n=t,s=e,i=void 0,a=(i=D.PI.exec(n.substringFromIndex()))?"xml"===i[1].toLowerCase()?s.fatalError("xml declaration is only allowed at the start of the document, but found at position "+n.getIndex()):(n.skip(i[0].length),i[0]):s.fatalError("processing instruction is not well-formed at position "+n.getIndex());else{if("%"!==t.char())return e.fatalError("Error detected in Markup declaration");a=t.getMatch(D.PEReference)}if(!a)return e.fatalError("Error in internal subset at position "+t.getIndex())}return e.fatalError("doctype internal subset is not well-formed, missing ]")}}(n,i)),n.skipBlanks(),">"!==n.char()?i.fatalError("doctype not terminated with > at position "+n.getIndex()):(n.skip(1),s.startDTD(o.name,o.publicId,o.systemId,o.internalSubset),s.endDTD(),n.getIndex());default:return i.fatalError('Not well-formed XML starting with "<!" at position '+e)}}function X(){this.attributeNames=Object.create(null)}X.prototype={setTagName:function(t){if(!D.QName_exact.test(t))throw new Error("invalid tagName:"+t);this.tagName=t},addValue:function(t,e,s){if(!D.QName_exact.test(t))throw new Error("invalid attribute:"+t);this.attributeNames[t]=this.length,this[this.length++]={qName:t,value:e,offset:s}},length:0,getLocalName:function(t){return this[t].localName},getLocator:function(t){return this[t].locator},getQName:function(t){return this[t].qName},getURI:function(t){return this[t].uri},getValue:function(t){return this[t].value}},e.XMLReader=i,e.parseUtils=l,e.parseDoctypeCommentOrCData=V},870:(t,e)=>{"use strict";function s(t,e){return(e=void 0===e?Object:e)&&"function"==typeof e.getOwnPropertyDescriptors&&(t=e.create(null,e.getOwnPropertyDescriptors(t))),e&&"function"==typeof e.freeze?e.freeze(t):t}function n(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var i=s({allowfullscreen:!0,async:!0,autofocus:!0,autoplay:!0,checked:!0,controls:!0,default:!0,defer:!0,disabled:!0,formnovalidate:!0,hidden:!0,ismap:!0,itemscope:!0,loop:!0,multiple:!0,muted:!0,nomodule:!0,novalidate:!0,open:!0,playsinline:!0,readonly:!0,required:!0,reversed:!0,selected:!0}),r=s({area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),o=s({script:!1,style:!1,textarea:!0,title:!0});function a(t){return t===l.HTML}var l=s({HTML:"text/html",XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),h=Object.keys(l).map(function(t){return l[t]}),c=s({HTML:"http://www.w3.org/1999/xhtml",SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});e.assign=function(t,e){if(null===t||"object"!=typeof t)throw new TypeError("target is not an object");for(var s in e)n(e,s)&&(t[s]=e[s]);return t},e.find=function(t,e,s){if(void 0===s&&(s=Array.prototype),t&&"function"==typeof s.find)return s.find.call(t,e);for(var i=0;i<t.length;i++)if(n(t,i)){var r=t[i];if(e.call(void 0,r,i,t))return r}},e.freeze=s,e.HTML_BOOLEAN_ATTRIBUTES=i,e.HTML_RAW_TEXT_ELEMENTS=o,e.HTML_VOID_ELEMENTS=r,e.hasDefaultHTMLNamespace=function(t){return a(t)||t===l.XML_XHTML_APPLICATION},e.hasOwn=n,e.isHTMLBooleanAttribute=function(t){return n(i,t.toLowerCase())},e.isHTMLRawTextElement=function(t){t=t.toLowerCase();return n(o,t)&&!o[t]},e.isHTMLEscapableRawTextElement=function(t){t=t.toLowerCase();return n(o,t)&&o[t]},e.isHTMLMimeType=a,e.isHTMLVoidElement=function(t){return n(r,t.toLowerCase())},e.isValidMimeType=function(t){return-1<h.indexOf(t)},e.MIME_TYPE=l,e.NAMESPACE=c},999:(ue,t,e)=>{!function(){"use strict";var o=this;function h(t){return"string"==typeof t}function P(t,e,s){return t.call.apply(t.bind,arguments)}function B(e,s,t){if(e)return 2<arguments.length?(i=Array.prototype.slice.call(arguments,2),function(){var t=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(t,i),e.apply(s,t)}):function(){return e.apply(s,arguments)};var i;throw Error()}function j(t,e,s){return(j=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?P:B).apply(null,arguments)}function t(t){var n=E;function e(){}e.prototype=n.prototype,t.G=n.prototype,t.prototype=new e,(t.prototype.constructor=t).F=function(t,e,s){for(var i=Array(arguments.length-2),r=2;r<arguments.length;r++)i[r-2]=arguments[r];return n.prototype[e].apply(t,i)}}var U=String.prototype.trim?function(t){return t.trim()}:function(t){return t.replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")};function i(t,e){return-1!=t.indexOf(e)}function F(t,e){return t<e?-1:e<t?1:0}var e,H=Array.prototype.indexOf?function(t,e,s){return Array.prototype.indexOf.call(t,e,s)}:function(t,e,s){if(s=null==s?0:s<0?Math.max(0,t.length+s):s,h(t))return h(e)&&1==e.length?t.indexOf(e,s):-1;for(;s<t.length;s++)if(s in t&&t[s]===e)return s;return-1},l=Array.prototype.forEach?function(t,e,s){Array.prototype.forEach.call(t,e,s)}:function(t,e,s){for(var i=t.length,r=h(t)?t.split(""):t,n=0;n<i;n++)n in r&&e.call(s,r[n],n,t)},q=Array.prototype.filter?function(t,e,s){return Array.prototype.filter.call(t,e,s)}:function(t,e,s){for(var i,r=t.length,n=[],o=0,a=h(t)?t.split(""):t,l=0;l<r;l++)l in a&&(i=a[l],e.call(s,i,l,t)&&(n[o++]=i));return n},r=Array.prototype.reduce?function(t,e,s,i){return i&&(e=j(e,i)),Array.prototype.reduce.call(t,e,s)}:function(s,i,t,r){var n=t;return l(s,function(t,e){n=i.call(r,n,t,e,s)}),n},W=Array.prototype.some?function(t,e,s){return Array.prototype.some.call(t,e,s)}:function(t,e,s){for(var i=t.length,r=h(t)?t.split(""):t,n=0;n<i;n++)if(n in r&&e.call(s,r[n],n,t))return!0;return!1};t:{var s=o.navigator;if(s){s=s.userAgent;if(s){e=s;break t}}e=""}var z,V=i(e,"Opera")||i(e,"OPR"),a=i(e,"Trident")||i(e,"MSIE"),X=i(e,"Edge"),J=i(e,"Gecko")&&!(i(e.toLowerCase(),"webkit")&&!i(e,"Edge"))&&!(i(e,"Trident")||i(e,"MSIE"))&&!i(e,"Edge"),G=i(e.toLowerCase(),"webkit")&&!i(e,"Edge");function K(){var t=o.document;return t?t.documentMode:void 0}t:{var Y="",n=(n=e,J?/rv\:([^\);]+)(\)|;)/.exec(n):X?/Edge\/([\d\.]+)/.exec(n):a?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):G?/WebKit\/(\S+)/.exec(n):V?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(n&&(Y=n?n[1]:""),a){n=K();if(null!=n&&n>parseFloat(Y)){z=String(n);break t}}z=Y}var $={};function Q(t){if(!$[t]){for(var e=0,s=U(String(z)).split("."),i=U(String(t)).split("."),r=Math.max(s.length,i.length),n=0;0==e&&n<r;n++){var o=s[n]||"",a=i[n]||"",l=/(\d*)(\D*)/g,h=/(\d*)(\D*)/g;do{var c=l.exec(o)||["","",""],d=h.exec(a)||["","",""]}while((0!=c[0].length||0!=d[0].length)&&0==(e=F(0==c[1].length?0:parseInt(c[1],10),0==d[1].length?0:parseInt(d[1],10))||F(0==c[2].length,0==d[2].length)||F(c[2],d[2])))}$[t]=0<=e}}var Z=o.document,tt=Z&&a?K()||("CSS1Compat"==Z.compatMode?parseInt(z,10):5):void 0,c=a&&!(9<=Number(tt)),et=a&&!(8<=Number(tt));function d(t,e,s,i){this.a=t,this.nodeName=s,this.nodeValue=i,this.nodeType=2,this.parentNode=this.ownerElement=e}function st(t,e){var s=et&&"href"==e.nodeName?t.getAttribute(e.nodeName,2):e.nodeValue;return new d(e,t,e.nodeName,s)}function u(t){var e=null;if("string"!=typeof(e=1==(s=t.nodeType)?null==(e=null==(e=t.textContent)||null==e?t.innerText:e)||null==e?"":e:e))if(c&&"title"==t.nodeName.toLowerCase()&&1==s)e=t.text;else if(9==s||1==s){t=9==s?t.documentElement:t.firstChild;for(var s=0,i=[],e="";t;){for(;1!=t.nodeType&&(e+=t.nodeValue),c&&"title"==t.nodeName.toLowerCase()&&(e+=t.text),t=(i[s++]=t).firstChild;);for(;s&&!(t=i[--s].nextSibling););}}else e=t.nodeValue;return""+e}function p(t,e,s){if(null===e)return!0;try{if(!t.getAttribute)return!1}catch(t){return!1}return et&&"class"==e&&(e="className"),null==s?!!t.getAttribute(e):t.getAttribute(e,2)==s}function it(t,e,s,i,r){return(c?function(t,e,s,i,r){if(t instanceof R||8==t.b||s&&null===t.b){var n=e.all;if(!n)return r;if("*"!=(t=ot(t))&&!(n=e.getElementsByTagName(t)))return r;if(s){for(var o=[],a=0;e=n[a++];)p(e,s,i)&&o.push(e);n=o}for(a=0;e=n[a++];)"*"==t&&"!"==e.tagName||f(r,e);return r}return nt(t,e,s,i,r),r}:function(e,t,s,i,r){return t.getElementsByName&&i&&"name"==s&&!a?(t=t.getElementsByName(i),l(t,function(t){e.a(t)&&f(r,t)})):t.getElementsByClassName&&i&&"class"==s?(t=t.getElementsByClassName(i),l(t,function(t){t.className==i&&e.a(t)&&f(r,t)})):e instanceof w?nt(e,t,s,i,r):t.getElementsByTagName&&(t=t.getElementsByTagName(e.f()),l(t,function(t){p(t,s,i)&&f(r,t)})),r}).call(null,t,e,h(s)?s:null,h(i)?i:null,r||new m)}function rt(t,e,s,i,r){for(e=e.firstChild;e;e=e.nextSibling)p(e,s,i)&&t.a(e)&&f(r,e);return r}function nt(t,e,s,i,r){for(e=e.firstChild;e;e=e.nextSibling)p(e,s,i)&&t.a(e)&&f(r,e),nt(t,e,s,i,r)}function ot(t){if(t instanceof w){if(8==t.b)return"!";if(null===t.b)return"*"}return t.f()}function at(t,e){if(t&&e){if(t.contains&&1==e.nodeType)return t==e||t.contains(e);if(void 0!==t.compareDocumentPosition)return t==e||16&t.compareDocumentPosition(e);for(;e&&t!=e;)e=e.parentNode;return e==t}}function lt(t,e){if(t==e)return 0;if(t.compareDocumentPosition)return 2&t.compareDocumentPosition(e)?1:-1;if(a&&!(9<=Number(tt))){if(9==t.nodeType)return-1;if(9==e.nodeType)return 1}if("sourceIndex"in t||t.parentNode&&"sourceIndex"in t.parentNode){var s=1==t.nodeType,i=1==e.nodeType;if(s&&i)return t.sourceIndex-e.sourceIndex;var r=t.parentNode,n=e.parentNode;return r==n?ct(t,e):!s&&at(r,e)?-1*ht(t,e):!i&&at(n,t)?ht(e,t):(s?t:r).sourceIndex-(i?e:n).sourceIndex}return(s=(i=9==t.nodeType?t:t.ownerDocument||t.document).createRange()).selectNode(t),s.collapse(!0),(i=i.createRange()).selectNode(e),i.collapse(!0),s.compareBoundaryPoints(o.Range.START_TO_END,i)}function ht(t,e){var s=t.parentNode;if(s==e)return-1;for(var i=e;i.parentNode!=s;)i=i.parentNode;return ct(i,t)}function ct(t,e){for(var s=e;s=s.previousSibling;)if(s==t)return-1;return 1}function m(){this.b=this.a=null,this.l=0}function dt(t){this.node=t,this.a=this.b=null}function ut(t,e){if(!t.a)return e;if(!e.a)return t;for(var s=t.a,i=e.a,r=null,n=null,o=0;s&&i;){var n=s.node,a=i.node;n==a||n instanceof d&&a instanceof d&&n.a==a.a?(s=(n=s).a,i=i.a):0<lt(s.node,i.node)?i=(n=i).a:s=(n=s).a,(n.b=r)?r.a=n:t.a=n,r=n,o++}for(n=s||i;n;)n.b=r,o++,n=(r=r.a=n).a;return t.b=r,t.l=o,t}function pt(t,e){e=new dt(e);e.a=t.a,t.b?t.a.b=e:t.a=t.b=e,t.a=e,t.l++}function f(t,e){e=new dt(e);e.b=t.b,t.a?t.b.a=e:t.a=t.b=e,t.b=e,t.l++}function mt(t){return(t=t.a)?t.node:null}function ft(t){return(t=mt(t))?u(t):""}function g(t,e){return new gt(t,!!e)}function gt(t,e){this.f=t,this.b=(this.c=e)?t.b:t.a,this.a=null}function b(t){var e=t.b;if(null==e)return null;var s=t.a=e;return t.b=t.c?e.b:e.a,s.node}function E(t){this.i=t,this.b=this.g=!1,this.f=null}function N(t){return"\n  "+t.toString().split("\n").join("\n  ")}function bt(t,e){t.g=e}function Et(t,e){t.b=e}function x(t,e){t=t.a(e);return t instanceof m?+ft(t):+t}function y(t,e){t=t.a(e);return t instanceof m?ft(t):""+t}function v(t,e){t=t.a(e);return t instanceof m?!!t.l:!!t}function Nt(t,e,s){E.call(this,t.i),this.c=t,this.h=e,this.o=s,this.g=e.g||s.g,this.b=e.b||s.b,this.c==vt&&(s.b||s.g||4==s.i||0==s.i||!e.f?e.b||e.g||4==e.i||0==e.i||!s.f||(this.f={name:s.f.name,s:e}):this.f={name:e.f.name,s:s})}function C(t,e,s,i,r){var n;if(e=e.a(i),s=s.a(i),e instanceof m&&s instanceof m){for(i=b(e=g(e));i;i=b(e))for(n=b(r=g(s));n;n=b(r))if(t(u(i),u(n)))return!0;return!1}if(e instanceof m||s instanceof m){for(var o=typeof(i=e instanceof m?(r=e,s):(r=s,e)),a=b(n=g(r));a;a=b(n)){switch(o){case"number":a=+u(a);break;case"boolean":a=!!u(a);break;case"string":a=u(a);break;default:throw Error("Illegal primitive type for comparison.")}if(r==e&&t(a,i)||r==s&&t(i,a))return!0}return!1}return r?"boolean"==typeof e||"boolean"==typeof s?t(!!e,!!s):"number"==typeof e||"number"==typeof s?t(+e,+s):t(e,s):t(+e,+s)}function xt(t,e,s,i){this.a=t,this.w=e,this.i=s,this.m=i}!J&&!a||a&&9<=Number(tt)||J&&Q("1.9.1"),a&&Q("9"),t(Nt),Nt.prototype.a=function(t){return this.c.m(this.h,this.o,t)},Nt.prototype.toString=function(){return"Binary Expression: "+this.c+N(this.h)+N(this.o)},xt.prototype.toString=function(){return this.a};var yt={};function _(t,e,s,i){if(yt.hasOwnProperty(t))throw Error("Binary operator already created: "+t);return t=new xt(t,e,s,i),yt[t.toString()]=t}_("div",6,1,function(t,e,s){return x(t,s)/x(e,s)}),_("mod",6,1,function(t,e,s){return x(t,s)%x(e,s)}),_("*",6,1,function(t,e,s){return x(t,s)*x(e,s)}),_("+",5,1,function(t,e,s){return x(t,s)+x(e,s)}),_("-",5,1,function(t,e,s){return x(t,s)-x(e,s)}),_("<",4,2,function(t,e,s){return C(function(t,e){return t<e},t,e,s)}),_(">",4,2,function(t,e,s){return C(function(t,e){return e<t},t,e,s)}),_("<=",4,2,function(t,e,s){return C(function(t,e){return t<=e},t,e,s)}),_(">=",4,2,function(t,e,s){return C(function(t,e){return e<=t},t,e,s)});var vt=_("=",3,2,function(t,e,s){return C(function(t,e){return t==e},t,e,s,!0)});function T(t,e,s){this.a=t,this.b=e||1,this.f=s||1}function Ct(t,e){if(e.a.length&&4!=t.i)throw Error("Primary expression must evaluate to nodeset if filter has predicate(s).");E.call(this,t.i),this.c=t,this.h=e,this.g=t.g,this.b=t.b}function _t(s,t){if(t.length<s.A)throw Error("Function "+s.j+" expects at least"+s.A+" arguments, "+t.length+" given");if(null!==s.v&&t.length>s.v)throw Error("Function "+s.j+" expects at most "+s.v+" arguments, "+t.length+" given");s.B&&l(t,function(t,e){if(4!=t.i)throw Error("Argument "+e+" to function "+s.j+" is not of type Nodeset: "+t)}),E.call(this,s.i),this.h=s,this.c=t,bt(this,s.g||W(t,function(t){return t.g})),Et(this,s.D&&!t.length||s.C&&!!t.length||W(t,function(t){return t.b}))}function Tt(t,e,s,i,r,n,o,a,l){this.j=t,this.i=e,this.g=s,this.D=i,this.C=r,this.m=n,this.A=o,this.v=void 0!==a?a:o,this.B=!!l}_("!=",3,2,function(t,e,s){return C(function(t,e){return t!=e},t,e,s,!0)}),_("and",2,2,function(t,e,s){return v(t,s)&&v(e,s)}),_("or",1,2,function(t,e,s){return v(t,s)||v(e,s)}),t(Ct),Ct.prototype.a=function(t){return t=this.c.a(t),Ut(this.h,t)},Ct.prototype.toString=function(){return"Filter:"+N(this.c)+N(this.h)},t(_t),_t.prototype.a=function(t){return this.h.m.apply(null,function(){return Array.prototype.concat.apply(Array.prototype,arguments)}(t,this.c))},_t.prototype.toString=function(){var t,e="Function: "+this.h;return this.c.length&&(t=r(this.c,function(t,e){return t+N(e)},"Arguments:"),e+=N(t)),e};var Lt={};function L(t,e,s,i,r,n,o,a){if(Lt.hasOwnProperty(t))throw Error("Function already created: "+t+".");Lt[t]=new Tt(t,e,s,i,!1,r,n,o,a)}function w(t,e){switch(this.h=t,this.c=void 0!==e?e:null,this.b=null,t){case"comment":this.b=8;break;case"text":this.b=3;break;case"processing-instruction":this.b=7;break;case"node":break;default:throw Error("Unexpected argument")}}function wt(t){return"comment"==t||"text"==t||"processing-instruction"==t||"node"==t}function It(t){this.b=t,this.a=0}L("boolean",2,!(Tt.prototype.toString=function(){return this.j}),!1,function(t,e){return v(e,t)},1),L("ceiling",1,!1,!1,function(t,e){return Math.ceil(x(e,t))},1),L("concat",3,!1,!1,function(s,t){return r(function(t){return arguments.length<=2?Array.prototype.slice.call(t,1):Array.prototype.slice.call(t,1,void 0)}(arguments,1),function(t,e){return t+y(e,s)},"")},2,null),L("contains",2,!1,!1,function(t,e,s){return i(y(e,t),y(s,t))},2),L("count",1,!1,!1,function(t,e){return e.a(t).l},1,1,!0),L("false",2,!1,!1,function(){return!1},0),L("floor",1,!1,!1,function(t,e){return Math.floor(x(e,t))},1),L("id",4,!1,!1,function(t,e){var a=9==(s=t.a).nodeType?s:s.ownerDocument,s=y(e,t).split(/\s+/),i=[],r=(l(s,function(t){!(t=function(e){if(c){var t=a.all[e];if(t){if(t.nodeType&&e==t.id)return t;if(t.length){var s=t;var i=function(t){return e==t.id};t:{for(var r=s.length,n=h(s)?s.split(""):s,o=0;o<r;o++)if(o in n&&i.call(void 0,n[o],o,s)){r=o;break t}r=-1}return r<0?null:h(s)?s.charAt(r):s[r];return}}return null}return a.getElementById(e)}(t))||0<=H(i,t)||i.push(t)}),i.sort(lt),new m);return l(i,function(t){f(r,t)}),r},1),L("lang",2,!1,!1,function(){return!1},1),L("last",1,!0,!1,function(t){if(1!=arguments.length)throw Error("Function last expects ()");return t.f},0),L("local-name",3,!1,!0,function(t,e){e=e?mt(e.a(t)):t.a;return e?e.localName||e.nodeName.toLowerCase():""},0,1,!0),L("name",3,!1,!0,function(t,e){e=e?mt(e.a(t)):t.a;return e?e.nodeName.toLowerCase():""},0,1,!0),L("namespace-uri",3,!0,!1,function(){return""},0,1,!0),L("normalize-space",3,!1,!0,function(t,e){return(e?y(e,t):u(t.a)).replace(/[\s\xa0]+/g," ").replace(/^\s+|\s+$/g,"")},0,1),L("not",2,!1,!1,function(t,e){return!v(e,t)},1),L("number",1,!1,!0,function(t,e){return e?x(e,t):+u(t.a)},0,1),L("position",1,!0,!1,function(t){return t.b},0),L("round",1,!1,!1,function(t,e){return Math.round(x(e,t))},1),L("starts-with",2,!1,!1,function(t,e,s){return e=y(e,t),t=y(s,t),0==e.lastIndexOf(t,0)},2),L("string",3,!1,!0,function(t,e){return e?y(e,t):u(t.a)},0,1),L("string-length",1,!1,!0,function(t,e){return(e?y(e,t):u(t.a)).length},0,1),L("substring",3,!1,!1,function(t,e,s,i){if(s=x(s,t),isNaN(s)||1/0==s||-1/0==s)return"";if(i=i?x(i,t):1/0,isNaN(i)||-1/0===i)return"";s=Math.round(s)-1;var r=Math.max(s,0);return t=y(e,t),1/0==i?t.substring(r):t.substring(r,s+Math.round(i))},2,3),L("substring-after",3,!1,!1,function(t,e,s){return e=y(e,t),t=y(s,t),-1==(s=e.indexOf(t))?"":e.substring(s+t.length)},2),L("substring-before",3,!1,!1,function(t,e,s){return e=y(e,t),t=y(s,t),-1==(t=e.indexOf(t))?"":e.substring(0,t)},2),L("sum",1,!1,!1,function(t,e){for(var s=g(e.a(t)),i=0,r=b(s);r;r=b(s))i+=+u(r);return i},1,1,!0),L("translate",3,!1,!1,function(t,e,s,i){e=y(e,t),s=y(s,t);var r=y(i,t);for(t={},i=0;i<s.length;i++){var n=s.charAt(i);n in t||(t[n]=r.charAt(i))}for(s="",i=0;i<e.length;i++)s+=(n=e.charAt(i))in t?t[n]:n;return s},3),L("true",2,!1,!1,function(){return!0},0),w.prototype.a=function(t){return null===this.b||this.b==t.nodeType},w.prototype.f=function(){return this.h},w.prototype.toString=function(){var t="Kind Test: "+this.h;return null!==this.c&&(t+=N(this.c)),t};var St=/\$?(?:(?![0-9-\.])(?:\*|[\w-\.]+):)?(?![0-9-\.])(?:\*|[\w-\.]+)|\/\/|\.\.|::|\d+(?:\.\d*)?|\.\d+|"[^"]*"|'[^']*'|[!<>]=|\s+|./g,Rt=/^\s/;function I(t,e){return t.b[t.a+(e||0)]}function S(t){return t.b[t.a++]}function kt(t){return t.b.length<=t.a}function Mt(t){E.call(this,3),this.c=t.substring(1,t.length-1)}function R(t,e){this.j=t.toLowerCase(),t="*"==this.j?"*":"http://www.w3.org/1999/xhtml",this.c=e?e.toLowerCase():t}function At(t,e){E.call(this,t.i),this.h=t,this.c=e,this.g=t.g,this.b=t.b,1!=this.c.length||(e=this.c[0]).u||e.c!=qt||"*"!=(e=e.o).f()&&(this.f={name:e.f(),s:null})}function Ot(){E.call(this,4)}function Dt(){E.call(this,4)}function Pt(t){return"/"==t||"//"==t}function Bt(t){E.call(this,4),this.c=t,bt(this,W(this.c,function(t){return t.g})),Et(this,W(this.c,function(t){return t.b}))}function jt(t,e){this.a=t,this.b=!!e}function Ut(t,e,s){for(s=s||0;s<t.a.length;s++)for(var i,r=t.a[s],n=g(e),o=e.l,a=0;i=b(n);a++){var l=t.b?o-a:a+1;if("number"==typeof(i=r.a(new T(i,l,o))))l=l==i;else if("string"==typeof i||"boolean"==typeof i)l=!!i;else{if(!(i instanceof m))throw Error("Predicate.evaluate returned an unexpected type.");l=0<i.l}if(!l){if(i=(l=n).f,!(c=l.a))throw Error("Next must be called at least once before remove.");var h=c.b,c=c.a;h?h.a=c:i.a=c,c?c.b=h:i.b=h,i.l--,l.a=null}}return e}function k(t,e,s,i){E.call(this,4),this.c=t,this.o=e,this.h=s||new jt([]),this.u=!!i,e=0<(e=this.h).a.length?e.a[0].f:null,t.b&&e&&(t=e.name,t=c?t.toLowerCase():t,this.f={name:t,s:e.s});t:{for(t=this.h,e=0;e<t.a.length;e++)if((s=t.a[e]).g||1==s.i||0==s.i){t=!0;break t}t=!1}this.g=t}function Ft(t,e,s,i){this.j=t,this.f=e,this.a=s,this.b=i}t(Mt),Mt.prototype.a=function(){return this.c},Mt.prototype.toString=function(){return"Literal: "+this.c},R.prototype.a=function(t){var e=t.nodeType;return!(1!=e&&2!=e||(e=void 0!==t.localName?t.localName:t.nodeName,"*"!=this.j&&this.j!=e.toLowerCase()||"*"!=this.c&&this.c!=(t.namespaceURI?t.namespaceURI.toLowerCase():"http://www.w3.org/1999/xhtml")))},R.prototype.f=function(){return this.j},R.prototype.toString=function(){return"Name Test: "+("http://www.w3.org/1999/xhtml"==this.c?"":this.c+":")+this.j},t(At),t(Ot),Ot.prototype.a=function(t){var e=new m;return 9==(t=t.a).nodeType?f(e,t):f(e,t.ownerDocument),e},Ot.prototype.toString=function(){return"Root Helper Expression"},t(Dt),Dt.prototype.a=function(t){var e=new m;return f(e,t.a),e},Dt.prototype.toString=function(){return"Context Helper Expression"},At.prototype.a=function(t){var e=this.h.a(t);if(!(e instanceof m))throw Error("Filter expression must evaluate to nodeset.");for(var s=0,i=(t=this.c).length;s<i&&e.l;s++){var r,n=t[s],o=g(e,n.c.a);if(n.g||n.c!=Vt)if(n.g||n.c!=Jt)for(r=b(o),e=n.a(new T(r));null!=(r=b(o));)e=ut(e,r=n.a(new T(r)));else r=b(o),e=n.a(new T(r));else{for(r=b(o);(e=b(o))&&(!r.contains||r.contains(e))&&8&e.compareDocumentPosition(r);r=e);e=n.a(new T(r))}}return e},At.prototype.toString=function(){var t,e="Path Expression:"+N(this.h);return this.c.length&&(t=r(this.c,function(t,e){return t+N(e)},"Steps:"),e+=N(t)),e},t(Bt),Bt.prototype.a=function(e){var s=new m;return l(this.c,function(t){if(!((t=t.a(e))instanceof m))throw Error("Path expression must evaluate to NodeSet.");s=ut(s,t)}),s},Bt.prototype.toString=function(){return r(this.c,function(t,e){return t+N(e)},"Union Expression:")},jt.prototype.toString=function(){return r(this.a,function(t,e){return t+N(e)},"Predicates:")},t(k),k.prototype.a=function(t){var e=t.a,s=null,i=null,r=null,n=0;if((s=this.f)&&(i=s.name,r=s.s?y(s.s,t):null,n=1),this.u)if(this.g||this.c!=Wt)if(e=b(t=g(new k(zt,new w("node")).a(t))))for(s=this.m(e,i,r,n);null!=(e=b(t));)s=ut(s,this.m(e,i,r,n));else s=new m;else s=it(this.o,e,i,r),s=Ut(this.h,s,n);else s=this.m(t.a,i,r,n);return s},k.prototype.m=function(t,e,s,i){return t=this.c.f(this.o,t,e,s),Ut(this.h,t,i)},k.prototype.toString=function(){var t,e="Step:"+N("Operator: "+(this.u?"//":"/"));return this.c.j&&(e+=N("Axis: "+this.c)),e+=N(this.o),this.h.a.length&&(t=r(this.h.a,function(t,e){return t+N(e)},"Predicates:"),e+=N(t)),e},Ft.prototype.toString=function(){return this.j};var Ht={};function M(t,e,s,i){if(Ht.hasOwnProperty(t))throw Error("Axis already created: "+t);return e=new Ft(t,e,s,!!i),Ht[t]=e}M("ancestor",function(t,e){for(var s=new m,i=e;i=i.parentNode;)t.a(i)&&pt(s,i);return s},!0),M("ancestor-or-self",function(t,e){for(var s=new m,i=e;t.a(i)&&pt(s,i),i=i.parentNode;);return s},!0);var qt=M("attribute",function(t,e){var s=new m;if("style"==(n=t.f())&&c&&e.style)return f(s,new d(e.style,e,"style",e.style.cssText)),s;var i=e.attributes;if(i)if(t instanceof w&&null===t.b||"*"==n)for(var r,n=0;r=i[n];n++)c?r.nodeValue&&f(s,st(e,r)):f(s,r);else(r=i.getNamedItem(n))&&(c?r.nodeValue&&f(s,st(e,r)):f(s,r));return s},!1),Wt=M("child",function(t,e,s,i,r){return(c?function(t,e,s,i,r){var n,o;return(t instanceof R||8==t.b||s&&null===t.b)&&(n=e.childNodes)?("*"!=(o=ot(t))&&!(n=q(n,function(t){return t.tagName&&t.tagName.toLowerCase()==o}))||(s&&(n=q(n,function(t){return p(t,s,i)})),l(n,function(t){"*"==o&&("!"==t.tagName||"*"==o&&1!=t.nodeType)||f(r,t)})),r):rt(t,e,s,i,r)}:rt).call(null,t,e,h(s)?s:null,h(i)?i:null,r||new m)},!1,!0),zt=(M("descendant",it,!1,!0),M("descendant-or-self",function(t,e,s,i){var r=new m;return p(e,s,i)&&t.a(e)&&f(r,e),it(t,e,s,i,r)},!1,!0)),Vt=M("following",function(t,e,s,i){var r=new m;do{for(var n=e;n=n.nextSibling;)p(n,s,i)&&t.a(n)&&f(r,n),r=it(t,n,s,i,r)}while(e=e.parentNode);return r},!1,!0),Xt=(M("following-sibling",function(t,e){for(var s=new m,i=e;i=i.nextSibling;)t.a(i)&&f(s,i);return s},!1),M("namespace",function(){return new m},!1),M("parent",function(t,e){var s=new m;if(9==e.nodeType)return s;if(2==e.nodeType)return f(s,e.ownerElement),s;e=e.parentNode;return t.a(e)&&f(s,e),s},!1)),Jt=M("preceding",function(t,e,s,i){for(var r=new m,n=[];n.unshift(e),e=e.parentNode;);for(var o=1,a=n.length;o<a;o++){var l=[];for(e=n[o];e=e.previousSibling;)l.unshift(e);for(var h=0,c=l.length;h<c;h++)p(e=l[h],s,i)&&t.a(e)&&f(r,e),r=it(t,e,s,i,r)}return r},!0,!0),Gt=(M("preceding-sibling",function(t,e){for(var s=new m,i=e;i=i.previousSibling;)t.a(i)&&pt(s,i);return s},!0),M("self",function(t,e){var s=new m;return t.a(e)&&f(s,e),s},!1));function Kt(t){E.call(this,1),this.c=t,this.g=t.g,this.b=t.b}function Yt(t){E.call(this,1),this.c=t}function $t(t,e){this.a=t,this.b=e}function Qt(t){for(var e=[];;){A(t,"Missing right hand side of binary expression.");var s=function t(e){if("-"==I(e.a))return S(e.a),new Kt(t(e));var s=se(e);if("|"!=I(e.a))e=s;else{for(s=[s];"|"==S(e.a);)A(e,"Missing next union location path."),s.push(se(e));e.a.a--,e=new Bt(s)}return e}(t),i=S(t.a);if(!i)break;var r=(i=yt[i]||null)&&i.w;if(!r){t.a.a--;break}for(;e.length&&r<=e[e.length-1].w;)s=new Nt(e.pop(),e.pop(),s);e.push(s,i)}for(;e.length;)s=new Nt(e.pop(),e.pop(),s);return s}function A(t,e){if(kt(t.a))throw Error(e)}function Zt(t,e){t=S(t.a);if(t!=e)throw Error("Bad token, expected: "+e+" got: "+t)}function te(t){if(")"!=(t=S(t.a)))throw Error("Bad token: "+t)}function ee(t){if((t=S(t.a)).length<2)throw Error("Unclosed literal string");return new Mt(t)}function se(t){var e,s,i=[];if(Pt(I(t.a))){if(e=S(t.a),s=I(t.a),"/"==e&&(kt(t.a)||"."!=s&&".."!=s&&"@"!=s&&"*"!=s&&!/(?![0-9])[\w]/.test(s)))return new Ot;s=new Ot,A(t,"Missing next location step."),e=ie(t,e),i.push(e)}else{t:{switch(s=(e=I(t.a)).charAt(0)){case"$":throw Error("Variable reference not allowed in HTML XPath");case"(":S(t.a),e=Qt(t),A(t,'unclosed "("'),Zt(t,")");break;case'"':case"'":e=ee(t);break;default:if(isNaN(+e)){if(wt(e)||!/(?![0-9])[\w]/.test(s)||"("!=I(t.a,1)){e=null;break t}for(e=S(t.a),e=Lt[e]||null,S(t.a),s=[];")"!=I(t.a)&&(A(t,"Missing function argument list."),s.push(Qt(t)),","==I(t.a));)S(t.a);A(t,"Unclosed function argument list."),te(t),e=new _t(e,s)}else e=new Yt(+S(t.a))}"["==I(t.a)&&(e=new Ct(e,s=new jt(re(t))))}if(e){if(!Pt(I(t.a)))return e;s=e}else e=ie(t,"/"),s=new Dt,i.push(e)}for(;Pt(I(t.a));)e=S(t.a),A(t,"Missing next location step."),e=ie(t,e),i.push(e);return new At(s,i)}function ie(t,e){var s,i,r,n,o;if("/"!=e&&"//"!=e)throw Error('Step op should be "/" or "//"');if("."==I(t.a))return i=new k(Gt,new w("node")),S(t.a),i;if(".."==I(t.a))return i=new k(Xt,new w("node")),S(t.a),i;if("@"==I(t.a))n=qt,S(t.a),A(t,"Missing attribute name");else if("::"==I(t.a,1)){if(!/(?![0-9])[\w]/.test(I(t.a).charAt(0)))throw Error("Bad token: "+S(t.a));if(s=S(t.a),!(n=Ht[s]||null))throw Error("No axis with name: "+s);S(t.a),A(t,"Missing node name")}else n=Wt;if(s=I(t.a),!/(?![0-9])[\w\*]/.test(s.charAt(0)))throw Error("Bad token: "+S(t.a));if("("==I(t.a,1)){if(!wt(s))throw Error("Invalid node type: "+s);if(!wt(s=S(t.a)))throw Error("Invalid type name: "+s);Zt(t,"("),A(t,"Bad nodetype");var a=null;'"'!=(r=I(t.a).charAt(0))&&"'"!=r||(a=ee(t)),A(t,"Bad nodetype"),te(t),s=new w(s,a)}else if(-1==(r=(s=S(t.a)).indexOf(":")))s=new R(s);else{if("*"==(a=s.substring(0,r)))o="*";else if(!(o=t.b(a)))throw Error("Namespace prefix not declared: "+a);s=new R(s=s.substr(r+1),o)}return r=new jt(re(t),n.a),i||new k(n,s,r,"//"==e)}function re(t){for(var e=[];"["==I(t.a);){S(t.a),A(t,"Missing predicate expression.");var s=Qt(t);e.push(s),A(t,"Unclosed predicate expression."),Zt(t,"]")}return e}function ne(){return null}function oe(t,e){if(t.prefix==e)return t.namespaceURI||"http://www.w3.org/1999/xhtml";var s=t.getAttributeNode("xmlns:"+e);return s&&s.specified?s.value||null:t.parentNode&&9!=t.parentNode.nodeType?oe(t.parentNode,e):null}function ae(t,e){if(!t.length)throw Error("Empty XPath expression.");t=function(t){t=t.match(St);for(var e=0;e<t.length;e++)Rt.test(t[e])&&t.splice(e,1);return new It(t)}(t);if(kt(t))throw Error("Invalid XPath expression.");e?"function"!=function(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var s=Object.prototype.toString.call(t);if("[object Window]"==s)return"object";if("[object Array]"==s||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==s||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}(e)&&(e=j(e.lookupNamespaceURI,e)):e=function(){return null};var s=Qt(new $t(t,e));if(!kt(t))throw Error("Bad token: "+S(t));this.evaluate=function(t,e){return new O(s.a(new T(t)),e)}}function O(t,e){if(0==e)if(t instanceof m)e=4;else if("string"==typeof t)e=2;else if("number"==typeof t)e=1;else{if("boolean"!=typeof t)throw Error("Unexpected evaluation result.");e=3}if(2!=e&&1!=e&&3!=e&&!(t instanceof m))throw Error("value could not be converted to the specified type");switch(this.resultType=e){case 2:this.stringValue=t instanceof m?ft(t):""+t;break;case 1:this.numberValue=t instanceof m?+ft(t):+t;break;case 3:this.booleanValue=t instanceof m?0<t.l:!!t;break;case 4:case 5:case 6:case 7:for(var s=g(t),i=[],r=b(s);r;r=b(s))i.push(r instanceof d?r.a:r);this.snapshotLength=t.l,this.invalidIteratorState=!1;break;case 8:case 9:s=mt(t),this.singleNodeValue=s instanceof d?s.a:s;break;default:throw Error("Unknown XPathResult type.")}var n=0;this.iterateNext=function(){if(4!=e&&5!=e)throw Error("iterateNext called with wrong result type");return n>=i.length?null:i[n++]},this.snapshotItem=function(t){if(6!=e&&7!=e)throw Error("snapshotItem called with wrong result type");return t>=i.length||t<0?null:i[t]}}function le(t){this.lookupNamespaceURI=function t(e){switch(e.nodeType){case 1:return function(e){var s=Array.prototype.slice.call(arguments,1);return function(){var t=s.slice();return t.push.apply(t,arguments),e.apply(this,t)}}(oe,e);case 9:return t(e.documentElement);case 11:case 10:case 6:case 12:return ne;default:return e.parentNode?t(e.parentNode):ne}}(t)}function he(t,e){var t=t||o,s=t.Document&&t.Document.prototype||t.document;s.evaluate&&!e||(t.XPathResult=O,s.evaluate=function(t,e,s,i){return new ae(t,s).evaluate(e,i)},s.createExpression=function(t,e){return new ae(t,e)},s.createNSResolver=function(t){return new le(t)})}t(Kt),Kt.prototype.a=function(t){return-x(this.c,t)},Kt.prototype.toString=function(){return"Unary Expression: -"+N(this.c)},t(Yt),Yt.prototype.a=function(){return this.c},Yt.prototype.toString=function(){return"Number: "+this.c},O.ANY_TYPE=0,O.NUMBER_TYPE=1,O.STRING_TYPE=2,O.BOOLEAN_TYPE=3,O.UNORDERED_NODE_ITERATOR_TYPE=4,O.ORDERED_NODE_ITERATOR_TYPE=5,O.UNORDERED_NODE_SNAPSHOT_TYPE=6,O.ORDERED_NODE_SNAPSHOT_TYPE=7,O.ANY_UNORDERED_NODE_TYPE=8,O.FIRST_ORDERED_NODE_TYPE=9;var ce,de=["wgxpath","install"],D=o;de[0]in D||!D.execScript||D.execScript("var "+de[0]);for(;de.length&&(ce=de.shift());)de.length?D=D[ce]||(D[ce]={}):D[ce]=he;ue.exports.install=he,ue.exports.XPathResultType={ANY_TYPE:0,NUMBER_TYPE:1,STRING_TYPE:2,BOOLEAN_TYPE:3,UNORDERED_NODE_ITERATOR_TYPE:4,ORDERED_NODE_ITERATOR_TYPE:5,UNORDERED_NODE_SNAPSHOT_TYPE:6,ORDERED_NODE_SNAPSHOT_TYPE:7,ANY_UNORDERED_NODE_TYPE:8,FIRST_ORDERED_NODE_TYPE:9}}.call(e.g)}},__webpack_module_cache__={},leafPrototypes,getProto;function __webpack_require__(t){var e=__webpack_module_cache__[t];if(void 0!==e)return e.exports;e=__webpack_module_cache__[t]={exports:{}};return __webpack_modules__[t](e,e.exports,__webpack_require__),e.exports}getProto=Object.getPrototypeOf?t=>Object.getPrototypeOf(t):t=>t.__proto__,__webpack_require__.t=function(e,t){if(1&t&&(e=this(e)),8&t)return e;if("object"==typeof e&&e){if(4&t&&e.__esModule)return e;if(16&t&&"function"==typeof e.then)return e}var s=Object.create(null),i=(__webpack_require__.r(s),{});leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var r=2&t&&e;"object"==typeof r&&!~leafPrototypes.indexOf(r);r=getProto(r))Object.getOwnPropertyNames(r).forEach(t=>i[t]=()=>e[t]);return i.default=()=>e,__webpack_require__.d(s,i),s},__webpack_require__.d=(t,e)=>{for(var s in e)__webpack_require__.o(e,s)&&!__webpack_require__.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),__webpack_require__.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),__webpack_require__.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var P={},B=(__webpack_require__.r(P),__webpack_require__.d(P,{GLOBAL:()=>$s,MathJax:()=>si,combineConfig:()=>Zs,combineDefaults:()=>ti,combineWithMathJax:()=>ei,isObject:()=>Qs}),{}),j=(__webpack_require__.r(B),__webpack_require__.d(B,{context:()=>ri,hasWindow:()=>ii}),{}),U=(__webpack_require__.r(j),__webpack_require__.d(j,{Package:()=>oi,PackageError:()=>ni}),{}),F=(__webpack_require__.r(U),__webpack_require__.d(U,{PrioritizedList:()=>ai}),{}),H=(__webpack_require__.r(F),__webpack_require__.d(F,{FunctionList:()=>li}),{}),q=(__webpack_require__.r(H),__webpack_require__.d(H,{CONFIG:()=>mi,Loader:()=>ui,MathJax:()=>pi,PathFilters:()=>ci}),{}),W=(__webpack_require__.r(q),__webpack_require__.d(q,{APPEND:()=>bi,Expandable:()=>xi,OPTIONS:()=>Ni,REMOVE:()=>Ei,copy:()=>_i,defaultOptions:()=>Li,expandable:()=>yi,insert:()=>Ti,isObject:()=>gi,keys:()=>Ci,lookup:()=>Ri,makeArray:()=>vi,selectOptions:()=>Ii,selectOptionsFromKeys:()=>function(t,e){return Ii(t,...Object.keys(e))},separateOptions:()=>Si,userOptions:()=>wi}),{}),z=(__webpack_require__.r(W),__webpack_require__.d(W,{CONFIG:()=>Mi,MathJax:()=>n,Startup:()=>r}),{}),V=(__webpack_require__.r(z),__webpack_require__.d(z,{AbstractDOMAdaptor:()=>Oi}),{}),X=(__webpack_require__.r(V),__webpack_require__.d(V,{HTMLAdaptor:()=>Di}),{}),J=(__webpack_require__.r(X),__webpack_require__.d(X,{browserAdaptor:()=>Bi}),{}),G=(__webpack_require__.r(J),__webpack_require__.d(J,{AbstractFindMath:()=>ji}),{}),K=(__webpack_require__.r(G),__webpack_require__.d(G,{AbstractInputJax:()=>Ui}),{}),Y=(__webpack_require__.r(K),__webpack_require__.d(K,{AbstractOutputJax:()=>Fi}),{}),$=(__webpack_require__.r(Y),__webpack_require__.d(Y,{END:()=>Hi,LinkedList:()=>Wi,ListItem:()=>qi}),{}),Q=(__webpack_require__.r($),__webpack_require__.d($,{AbstractMathList:()=>zi}),{}),t=(__webpack_require__.r(Q),__webpack_require__.d(Q,{AbstractMathItem:()=>Vi,STATE:()=>u,newState:()=>Xi,protoItem:()=>function(t,e,s,i,r,n,o=null){return{open:t,math:e,close:s,n:i,start:{n:r},end:{n:n},display:o}}}),{}),Z=(__webpack_require__.r(t),__webpack_require__.d(t,{AbstractFactory:()=>Ji}),{}),tt=(__webpack_require__.r(Z),__webpack_require__.d(Z,{AbstractNodeFactory:()=>Gi}),{}),et=(__webpack_require__.r(tt),__webpack_require__.d(tt,{Attributes:()=>Yi,INHERIT:()=>Ki}),{}),st=(__webpack_require__.r(et),__webpack_require__.d(et,{AbstractEmptyNode:()=>Qi,AbstractNode:()=>$i}),{}),it=(__webpack_require__.r(st),__webpack_require__.d(st,{AbstractMmlBaseNode:()=>or,AbstractMmlEmptyNode:()=>ar,AbstractMmlLayoutNode:()=>nr,AbstractMmlNode:()=>a,AbstractMmlTokenNode:()=>rr,MATHVARIANTS:()=>sr,TEXCLASS:()=>c,TEXCLASSNAMES:()=>Zi,TextNode:()=>lr,XMLNode:()=>hr,indentAttributes:()=>ir}),{}),rt=(__webpack_require__.r(it),__webpack_require__.d(it,{MmlMath:()=>cr}),{}),nt=(__webpack_require__.r(rt),__webpack_require__.d(rt,{MmlMi:()=>dr}),{}),ot=(__webpack_require__.r(nt),__webpack_require__.d(nt,{MmlMn:()=>ur}),{}),at=(__webpack_require__.r(ot),__webpack_require__.d(ot,{MMLSPACING:()=>fr,MO:()=>i,OPDEF:()=>o,OPTABLE:()=>gr,RANGES:()=>pr,getRange:()=>mr}),{}),lt=(__webpack_require__.r(at),__webpack_require__.d(at,{isPercent:()=>Nr,quotePattern:()=>function(t){return t.replace(/([\^$(){}.+*?\-|[\]:\\])/g,"\\$1")},replaceUnicode:()=>function(t){return t.replace(/\\U(?:([0-9A-Fa-f]{4})|\{\s*([0-9A-Fa-f]{1,6})\s*\})|\\./g,(t,e,s)=>"\\\\"===t?"\\":String.fromCodePoint(parseInt(e||s,16)))},sortLength:()=>function(t,e){return t.length!==e.length?e.length-t.length:t===e?0:t<e?-1:1},split:()=>xr,toEntity:()=>yr,unicodeChars:()=>br,unicodeString:()=>Er}),{}),ht=(__webpack_require__.r(lt),__webpack_require__.d(lt,{MmlMo:()=>vr}),{}),ct=(__webpack_require__.r(ht),__webpack_require__.d(ht,{MmlMtext:()=>Cr}),{}),dt=(__webpack_require__.r(ct),__webpack_require__.d(ct,{MmlMspace:()=>_r}),{}),ut=(__webpack_require__.r(dt),__webpack_require__.d(dt,{MmlMs:()=>Tr}),{}),pt=(__webpack_require__.r(ut),__webpack_require__.d(ut,{MmlInferredMrow:()=>wr,MmlMrow:()=>Lr}),{}),mt=(__webpack_require__.r(pt),__webpack_require__.d(pt,{MmlMfrac:()=>Ir}),{}),ft=(__webpack_require__.r(mt),__webpack_require__.d(mt,{MmlMsqrt:()=>Sr}),{}),gt=(__webpack_require__.r(ft),__webpack_require__.d(ft,{MmlMroot:()=>Rr}),{}),bt=(__webpack_require__.r(gt),__webpack_require__.d(gt,{MmlMstyle:()=>kr}),{}),Et=(__webpack_require__.r(bt),__webpack_require__.d(bt,{MmlMerror:()=>Mr}),{}),Nt=(__webpack_require__.r(Et),__webpack_require__.d(Et,{MmlMpadded:()=>Ar}),{}),xt=(__webpack_require__.r(Nt),__webpack_require__.d(Nt,{MmlMphantom:()=>Or}),{}),yt=(__webpack_require__.r(xt),__webpack_require__.d(xt,{MmlMfenced:()=>Dr}),{}),vt=(__webpack_require__.r(yt),__webpack_require__.d(yt,{MmlMenclose:()=>Pr}),{}),Ct=(__webpack_require__.r(vt),__webpack_require__.d(vt,{MmlMaction:()=>Br}),{}),_t=(__webpack_require__.r(Ct),__webpack_require__.d(Ct,{MmlMsub:()=>Ur,MmlMsubsup:()=>jr,MmlMsup:()=>Fr}),{}),Tt=(__webpack_require__.r(_t),__webpack_require__.d(_t,{MmlMover:()=>Wr,MmlMunder:()=>qr,MmlMunderover:()=>Hr}),{}),Lt=(__webpack_require__.r(Tt),__webpack_require__.d(Tt,{MmlMmultiscripts:()=>zr,MmlMprescripts:()=>Vr,MmlNone:()=>Xr}),{}),wt=(__webpack_require__.r(Lt),__webpack_require__.d(Lt,{MmlMtable:()=>Jr}),{}),It=(__webpack_require__.r(wt),__webpack_require__.d(wt,{MmlMlabeledtr:()=>Kr,MmlMtr:()=>Gr}),{}),St=(__webpack_require__.r(It),__webpack_require__.d(It,{MmlMtd:()=>Yr}),{}),Rt=(__webpack_require__.r(St),__webpack_require__.d(St,{MmlMaligngroup:()=>$r}),{}),kt=(__webpack_require__.r(Rt),__webpack_require__.d(Rt,{MmlMalignmark:()=>Qr}),{}),e=(__webpack_require__.r(kt),__webpack_require__.d(kt,{MmlMglyph:()=>Zr}),{}),Mt=(__webpack_require__.r(e),__webpack_require__.d(e,{MmlAnnotation:()=>sn,MmlAnnotationXML:()=>en,MmlSemantics:()=>tn}),{}),At=(__webpack_require__.r(Mt),__webpack_require__.d(Mt,{TeXAtom:()=>rn}),{}),Ot=(__webpack_require__.r(At),__webpack_require__.d(At,{MathChoice:()=>nn}),{}),Dt=(__webpack_require__.r(Ot),__webpack_require__.d(Ot,{HtmlNode:()=>on}),{}),Pt=(__webpack_require__.r(Dt),__webpack_require__.d(Dt,{MML:()=>an}),{}),Bt=(__webpack_require__.r(Pt),__webpack_require__.d(Pt,{MmlFactory:()=>ln}),{}),jt=(__webpack_require__.r(Bt),__webpack_require__.d(Bt,{BitField:()=>hn,BitFieldClass:()=>cn}),{}),Ut=(__webpack_require__.r(jt),__webpack_require__.d(jt,{handleRetriesFor:()=>dn,retryAfter:()=>un}),{}),Ft=(__webpack_require__.r(Ut),__webpack_require__.d(Ut,{AbstractMathDocument:()=>xn,RenderList:()=>mn,resetAllOptions:()=>gn,resetOptions:()=>fn}),{}),Ht=(__webpack_require__.r(Ft),__webpack_require__.d(Ft,{AbstractHandler:()=>vn}),{}),qt=(__webpack_require__.r(Ht),__webpack_require__.d(Ht,{HandlerList:()=>Cn}),{}),s=(__webpack_require__.r(qt),__webpack_require__.d(qt,{AbstractVisitor:()=>_n}),{}),Wt=(__webpack_require__.r(s),__webpack_require__.d(s,{DATAMJX:()=>Tn,MmlVisitor:()=>Ln}),{}),zt=(__webpack_require__.r(Wt),__webpack_require__.d(Wt,{MathMLVisitor:()=>wn}),{}),Vt=(__webpack_require__.r(zt),__webpack_require__.d(zt,{SerializedMmlVisitor:()=>In}),{}),Xt=(__webpack_require__.r(Vt),__webpack_require__.d(Vt,{AbstractWrapper:()=>Sn}),{}),Jt=(__webpack_require__.r(Xt),__webpack_require__.d(Xt,{AbstractWrapperFactory:()=>Rn}),{}),Gt=(__webpack_require__.r(Jt),__webpack_require__.d(Jt,{mathjax:()=>kn}),{}),Kt=(__webpack_require__.r(Gt),__webpack_require__.d(Gt,{HTMLMathItem:()=>Mn}),{}),Yt=(__webpack_require__.r(Kt),__webpack_require__.d(Kt,{HTMLMathList:()=>An}),{}),$t=(__webpack_require__.r(Yt),__webpack_require__.d(Yt,{HTMLDomStrings:()=>On}),{}),Qt=(__webpack_require__.r($t),__webpack_require__.d($t,{HTMLDocument:()=>Dn}),{}),Zt=(__webpack_require__.r(Qt),__webpack_require__.d(Qt,{HTMLHandler:()=>Pn}),{}),te=(__webpack_require__.r(Zt),__webpack_require__.d(Zt,{RegisterHTMLHandler:()=>function(t){t=new Pn(t);return kn.handlers.register(t),t}}),{}),ee=(__webpack_require__.r(te),__webpack_require__.d(te,{asyncLoad:()=>Bn}),{}),se=(__webpack_require__.r(ee),__webpack_require__.d(ee,{BIGDIMEN:()=>jn,MATHSPACE:()=>Hn,RELUNITS:()=>Fn,UNITS:()=>Un,em:()=>l,length2em:()=>qn,percent:()=>Wn,px:()=>zn}),{}),ie=(__webpack_require__.r(se),__webpack_require__.d(se,{BBox:()=>d}),{}),re=(__webpack_require__.r(ie),__webpack_require__.d(ie,{add:()=>function(t,e){Object.assign(Xn,t),Jn[e]=!0},entities:()=>Xn,numeric:()=>Yn,options:()=>Vn,remove:()=>function(t){delete Xn[t]},translate:()=>Gn}),{}),ne=(__webpack_require__.r(re),__webpack_require__.d(re,{StyleJsonSheet:()=>$n}),{}),oe=(__webpack_require__.r(ne),__webpack_require__.d(ne,{Styles:()=>ao,TRBL:()=>Qn,WSC:()=>Zn}),{}),ae=(__webpack_require__.r(oe),__webpack_require__.d(oe,{max:()=>ho,sum:()=>lo}),{}),le=(__webpack_require__.r(ae),__webpack_require__.d(ae,{FindMathML:()=>uo}),{}),he=(__webpack_require__.r(le),__webpack_require__.d(le,{MathMLCompile:()=>po}),{}),ce=(__webpack_require__.r(he),__webpack_require__.d(he,{MathML:()=>mo}),{}),de=(__webpack_require__.r(ce),__webpack_require__.d(ce,{DIRECTION:()=>m,H:()=>p,V:()=>h}),{}),ue=(__webpack_require__.r(de),__webpack_require__.d(de,{DIRECTION:()=>m,FontData:()=>f,NOSTRETCH:()=>fo,mergeOptions:()=>go}),{}),pe=(__webpack_require__.r(ue),__webpack_require__.d(ue,{LineBBox:()=>bo}),{}),me=(__webpack_require__.r(pe),__webpack_require__.d(pe,{LinebreakVisitor:()=>xo,Linebreaks:()=>No,NOBREAK:()=>Eo}),{}),fe=(__webpack_require__.r(me),__webpack_require__.d(me,{CommonOutputJax:()=>vo,FONTPATH:()=>yo}),{}),ge=(__webpack_require__.r(fe),__webpack_require__.d(fe,{CommonWrapperFactory:()=>Co}),{}),be=(__webpack_require__.r(ge),__webpack_require__.d(ge,{CommonWrapper:()=>Lo,SPACE:()=>To}),{}),Ee=(__webpack_require__.r(be),__webpack_require__.d(be,{ChtmlWrapper:()=>g,FONTSIZE:()=>wo}),{}),Ne=(__webpack_require__.r(Ee),__webpack_require__.d(Ee,{CommonMathMixin:()=>Io}),{}),xe=(__webpack_require__.r(Ne),__webpack_require__.d(Ne,{ChtmlMath:()=>So}),{}),ye=(__webpack_require__.r(xe),__webpack_require__.d(xe,{CommonMiMixin:()=>Ro}),{}),ve=(__webpack_require__.r(ye),__webpack_require__.d(ye,{ChtmlMi:()=>ko}),{}),Ce=(__webpack_require__.r(ve),__webpack_require__.d(ve,{CommonMoMixin:()=>Mo}),{}),_e=(__webpack_require__.r(Ce),__webpack_require__.d(Ce,{Usage:()=>Ao}),{}),Te=(__webpack_require__.r(_e),__webpack_require__.d(_e,{AddCSS:()=>function(t,e){for(const s of Object.keys(e)){const i=parseInt(s),r=e[i];r.c&&(r.c=r.c.replace(/\\[0-9A-F]+/gi,t=>String.fromCodePoint(parseInt(t.substring(1),16)))),Object.assign(f.charOptions(t,i),r)}return t},ChtmlFontData:()=>Oo,DIRECTION:()=>m,FontData:()=>f,NOSTRETCH:()=>fo,mergeOptions:()=>go}),{}),Le=(__webpack_require__.r(Te),__webpack_require__.d(Te,{ChtmlMo:()=>Do}),{}),we=(__webpack_require__.r(Le),__webpack_require__.d(Le,{CommonMnMixin:()=>Po}),{}),Ie=(__webpack_require__.r(we),__webpack_require__.d(we,{ChtmlMn:()=>Bo}),{}),Se=(__webpack_require__.r(Ie),__webpack_require__.d(Ie,{CommonMsMixin:()=>jo}),{}),Re=(__webpack_require__.r(Se),__webpack_require__.d(Se,{ChtmlMs:()=>Uo}),{}),ke=(__webpack_require__.r(Re),__webpack_require__.d(Re,{CommonMtextMixin:()=>Fo}),{}),Me=(__webpack_require__.r(ke),__webpack_require__.d(ke,{ChtmlMtext:()=>Ho}),{}),Ae=(__webpack_require__.r(Me),__webpack_require__.d(Me,{CommonMspaceMixin:()=>qo}),{}),Oe=(__webpack_require__.r(Ae),__webpack_require__.d(Ae,{ChtmlMspace:()=>Wo}),{}),De=(__webpack_require__.r(Oe),__webpack_require__.d(Oe,{CommonMpaddedMixin:()=>zo}),{}),Pe=(__webpack_require__.r(De),__webpack_require__.d(De,{ChtmlMpadded:()=>Vo}),{}),Be=(__webpack_require__.r(Pe),__webpack_require__.d(Pe,{ARROWDX:()=>Jo,ARROWX:()=>Xo,ARROWY:()=>Go,CommonArrow:()=>pa,CommonBorder:()=>ha,CommonBorder2:()=>ca,CommonDiagonalArrow:()=>ua,CommonDiagonalStrike:()=>da,PADDING:()=>Yo,SOLID:()=>$o,THICKNESS:()=>Ko,arrowBBox:()=>la,arrowBBoxHD:()=>ra,arrowBBoxW:()=>na,arrowDef:()=>oa,arrowHead:()=>ia,diagonalArrowDef:()=>aa,fullBBox:()=>ta,fullBorder:()=>sa,fullPadding:()=>ea,sideIndex:()=>Qo,sideNames:()=>Zo}),{}),je=(__webpack_require__.r(Be),__webpack_require__.d(Be,{CommonMencloseMixin:()=>ma}),{}),Ue=(__webpack_require__.r(je),__webpack_require__.d(je,{ARROWDX:()=>Jo,ARROWX:()=>Xo,ARROWY:()=>Go,Arrow:()=>xa,Border:()=>ga,Border2:()=>ba,CommonArrow:()=>pa,CommonBorder:()=>ha,CommonBorder2:()=>ca,CommonDiagonalArrow:()=>ua,CommonDiagonalStrike:()=>da,DiagonalArrow:()=>Na,DiagonalStrike:()=>Ea,PADDING:()=>Yo,RenderElement:()=>fa,SOLID:()=>$o,THICKNESS:()=>Ko,arrowBBox:()=>la,arrowBBoxHD:()=>ra,arrowBBoxW:()=>na,arrowDef:()=>oa,arrowHead:()=>ia,diagonalArrowDef:()=>aa,fullBBox:()=>ta,fullBorder:()=>sa,fullPadding:()=>ea,sideIndex:()=>Qo,sideNames:()=>Zo}),{}),Fe=(__webpack_require__.r(Ue),__webpack_require__.d(Ue,{ChtmlMenclose:()=>Ca}),{}),He=(__webpack_require__.r(Fe),__webpack_require__.d(Fe,{CommonInferredMrowMixin:()=>Ta,CommonMrowMixin:()=>_a}),{}),qe=(__webpack_require__.r(He),__webpack_require__.d(He,{ChtmlInferredMrow:()=>wa,ChtmlMrow:()=>La}),{}),We=(__webpack_require__.r(qe),__webpack_require__.d(qe,{CommonMfencedMixin:()=>Ia}),{}),ze=(__webpack_require__.r(We),__webpack_require__.d(We,{ChtmlMfenced:()=>Sa}),{}),Ve=(__webpack_require__.r(ze),__webpack_require__.d(ze,{CommonMfracMixin:()=>Ra}),{}),Xe=(__webpack_require__.r(Ve),__webpack_require__.d(Ve,{ChtmlMfrac:()=>ka}),{}),Je=(__webpack_require__.r(Xe),__webpack_require__.d(Xe,{CommonMsqrtMixin:()=>Ma}),{}),Ge=(__webpack_require__.r(Je),__webpack_require__.d(Je,{ChtmlMsqrt:()=>Aa}),{}),Ke=(__webpack_require__.r(Ge),__webpack_require__.d(Ge,{CommonMrootMixin:()=>Oa}),{}),Ye=(__webpack_require__.r(Ke),__webpack_require__.d(Ke,{ChtmlMroot:()=>Da}),{}),$e=(__webpack_require__.r(Ye),__webpack_require__.d(Ye,{CommonMsubMixin:()=>Pa,CommonMsubsupMixin:()=>ja,CommonMsupMixin:()=>Ba}),{}),Qe=(__webpack_require__.r($e),__webpack_require__.d($e,{CommonScriptbaseMixin:()=>Ua}),{}),Ze=(__webpack_require__.r(Qe),__webpack_require__.d(Qe,{ChtmlScriptbase:()=>Fa}),{}),ts=(__webpack_require__.r(Ze),__webpack_require__.d(Ze,{ChtmlMsub:()=>Ha,ChtmlMsubsup:()=>Wa,ChtmlMsup:()=>qa}),{}),es=(__webpack_require__.r(ts),__webpack_require__.d(ts,{CommonMoverMixin:()=>Va,CommonMunderMixin:()=>za,CommonMunderoverMixin:()=>Xa}),{}),ss=(__webpack_require__.r(es),__webpack_require__.d(es,{ChtmlMover:()=>Ga,ChtmlMunder:()=>Ja,ChtmlMunderover:()=>Ka}),{}),is=(__webpack_require__.r(ss),__webpack_require__.d(ss,{CommonMmultiscriptsMixin:()=>Qa,NextScript:()=>Ya,ScriptNames:()=>$a}),{}),rs=(__webpack_require__.r(is),__webpack_require__.d(is,{ChtmlMmultiscripts:()=>Za}),{}),ns=(__webpack_require__.r(rs),__webpack_require__.d(rs,{BREAK_BELOW:()=>tl,CommonMtableMixin:()=>el}),{}),os=(__webpack_require__.r(ns),__webpack_require__.d(ns,{ChtmlMtable:()=>sl}),{}),as=(__webpack_require__.r(os),__webpack_require__.d(os,{CommonMlabeledtrMixin:()=>rl,CommonMtrMixin:()=>il}),{}),ls=(__webpack_require__.r(as),__webpack_require__.d(as,{ChtmlMlabeledtr:()=>ol,ChtmlMtr:()=>nl}),{}),hs=(__webpack_require__.r(ls),__webpack_require__.d(ls,{CommonMtdMixin:()=>al}),{}),cs=(__webpack_require__.r(hs),__webpack_require__.d(hs,{ChtmlMtd:()=>ll}),{}),ds=(__webpack_require__.r(cs),__webpack_require__.d(cs,{CommonMactionMixin:()=>cl,TooltipData:()=>hl}),{}),us=(__webpack_require__.r(ds),__webpack_require__.d(ds,{ChtmlMaction:()=>dl}),{}),ps=(__webpack_require__.r(us),__webpack_require__.d(us,{CommonMglyphMixin:()=>ul}),{}),ms=(__webpack_require__.r(ps),__webpack_require__.d(ps,{ChtmlMglyph:()=>pl}),{}),fs=(__webpack_require__.r(ms),__webpack_require__.d(ms,{CommonSemanticsMixin:()=>ml}),{}),gs=(__webpack_require__.r(fs),__webpack_require__.d(fs,{CommonXmlNodeMixin:()=>fl}),{}),bs=(__webpack_require__.r(gs),__webpack_require__.d(gs,{ChtmlAnnotation:()=>bl,ChtmlAnnotationXML:()=>El,ChtmlSemantics:()=>gl,ChtmlXmlNode:()=>Nl}),{}),Es=(__webpack_require__.r(bs),__webpack_require__.d(bs,{CommonTeXAtomMixin:()=>xl}),{}),Ns=(__webpack_require__.r(Es),__webpack_require__.d(Es,{ChtmlTeXAtom:()=>yl}),{}),xs=(__webpack_require__.r(Ns),__webpack_require__.d(Ns,{CommonTextNodeMixin:()=>vl}),{}),ys=(__webpack_require__.r(xs),__webpack_require__.d(xs,{ChtmlTextNode:()=>Cl}),{}),vs=(__webpack_require__.r(ys),__webpack_require__.d(ys,{ChtmlHtmlNode:()=>_l}),{}),Cs=(__webpack_require__.r(vs),__webpack_require__.d(vs,{ChtmlWrappers:()=>Tl}),{}),_s=(__webpack_require__.r(Cs),__webpack_require__.d(Cs,{ChtmlWrapperFactory:()=>Ll}),{}),Ts=(__webpack_require__.r(_s),__webpack_require__.d(_s,{DefaultFont:()=>kl,fontName:()=>Rl}),{}),Ls=(__webpack_require__.r(Ts),__webpack_require__.d(Ts,{CHTML:()=>Ml}),{}),ws=(__webpack_require__.r(Ls),__webpack_require__.d(Ls,{AddFontIds:()=>function(t,e){const s={};for(const n of Object.keys(t)){var i=t[n];for(const t of Object.keys(i)){s[t]||(s[t]={});var r=i[t];if(n)for(const t of Object.keys(r)){const s=r[parseInt(t)];s[3]||(s[3]={}),e?s[3].ff=e+"-"+n:s[3].f=n}Object.assign(s[t],r)}}return s}}),{}),Is=(__webpack_require__.r(ws),__webpack_require__.d(ws,{MJContextMenu:()=>Ch}),{}),Ss=(__webpack_require__.r(Is),__webpack_require__.d(Is,{addPreference:()=>qu,engineSetup:()=>Uu,fromPreference:()=>Wu,locales:()=>Bu,parseDOM:()=>Hu,setupEngine:()=>ju,toEnriched:()=>Fu,toPreference:()=>zu}),{}),Rs=(__webpack_require__.r(Ss),__webpack_require__.d(Ss,{clearspeakMenu:()=>Qu,localeMenu:()=>t1}),{}),ks=(__webpack_require__.r(Rs),__webpack_require__.d(Rs,{copyToClipboard:()=>s1,isMac:()=>e1}),{}),Ms=(__webpack_require__.r(ks),__webpack_require__.d(ks,{annotation:()=>n1,copyAnnotations:()=>r1,showAnnotations:()=>i1}),{}),As=(__webpack_require__.r(Ms),__webpack_require__.d(Ms,{RadioCompare:()=>a1}),{}),Os=(__webpack_require__.r(As),__webpack_require__.d(As,{MmlVisitor:()=>l1}),{}),Ds=(__webpack_require__.r(Os),__webpack_require__.d(Os,{SelectableInfo:()=>h1}),{}),Ps=(__webpack_require__.r(Ds),__webpack_require__.d(Ds,{Menu:()=>D}),{}),Bs=(__webpack_require__.r(Ps),__webpack_require__.d(Ps,{MenuHandler:()=>g1,MenuMathDocumentMixin:()=>f1,MenuMathItemMixin:()=>m1}),{}),js=(__webpack_require__.r(Bs),__webpack_require__.d(Bs,{EnrichHandler:()=>x1,EnrichedMathDocumentMixin:()=>N1,EnrichedMathItemMixin:()=>E1,enrichVisitor:()=>b1}),{}),Us=(__webpack_require__.r(js),__webpack_require__.d(js,{InPlace:()=>d1,SemAttr:()=>u1,buildLabel:()=>L1,buildSpeech:()=>w1,honk:()=>I1,ssmlParsing:()=>v1}),{}),Fs=(__webpack_require__.r(Us),__webpack_require__.d(Us,{GeneratorPool:()=>S1}),{}),Hs=(__webpack_require__.r(Fs),__webpack_require__.d(Fs,{WorkerHandler:()=>M1}),{}),qs=(__webpack_require__.r(Hs),__webpack_require__.d(Hs,{SpeechHandler:()=>j1,SpeechMathDocumentMixin:()=>B1,SpeechMathItemMixin:()=>P1}),{}),Ws=(__webpack_require__.r(qs),__webpack_require__.d(qs,{getHighlighter:()=>X1}),{}),zs=(__webpack_require__.r(Ws),__webpack_require__.d(Ws,{AbstractRegion:()=>G1,DummyRegion:()=>K1,HoverRegion:()=>t0,LiveRegion:()=>Q1,SpeechRegion:()=>Z1,StringRegion:()=>Y1,ToolTip:()=>$1}),{}),Vs=(__webpack_require__.r(zs),__webpack_require__.d(zs,{AbstractExplorer:()=>e0}),{}),Xs=(__webpack_require__.r(Vs),__webpack_require__.d(Vs,{SpeechExplorer:()=>o0,hasModifiers:()=>r0,isContainer:()=>function(t){return t.matches("mjx-container")}}),{}),Js=(__webpack_require__.r(Xs),__webpack_require__.d(Xs,{AbstractMouseExplorer:()=>a0,ContentHoverer:()=>c0,FlameHoverer:()=>d0,Hoverer:()=>l0,ValueHoverer:()=>h0}),{}),Gs=(__webpack_require__.r(Js),__webpack_require__.d(Js,{AbstractTreeExplorer:()=>u0,ContrastPicker:()=>f0,FlameColorer:()=>p0,TreeColorer:()=>m0}),{}),Ks=(__webpack_require__.r(Gs),__webpack_require__.d(Gs,{ExplorerPool:()=>E0,RegionPool:()=>g0}),{});__webpack_require__.r(Ks),__webpack_require__.d(Ks,{ExplorerHandler:()=>v0,ExplorerMathDocumentMixin:()=>y0,ExplorerMathItemMixin:()=>x0,setA11yOption:()=>C0,setA11yOptions:()=>function(t,e){var s;var i=Uu();for(const s in e)void 0!==t.options.a11y[s]?C0(t,s,e[s]):void 0!==i[s]&&(t.options.sre[s]=e[s]);e.roleDescription&&(t.options.MathItem.roleDescription=e.roleDescription);for(const e of t.math)null!=(s=null==e?void 0:e.explorers)&&s.attach()}});const Ys="4.0.0",$s="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof globalThis?globalThis:{};function Qs(t){return"object"==typeof t&&null!==t}function Zs(t,e,s=!1){var i;for(const r of Object.keys(e))"__esModule"!==r&&t[r]!==e[r]&&null!==e[r]&&void 0!==e[r]&&(Qs(t[r])&&Qs(e[r])?Zs(t[r],e[r],s||"_"===r):s&&null!=(i=Object.getOwnPropertyDescriptor(t,r))&&i.get||(t[r]=e[r]));return t}function ti(t,e,s){t[e]||(t[e]={}),t=t[e];for(const e of Object.keys(s))Qs(t[e])&&Qs(s[e])?ti(t,e,s[e]):null==t[e]&&null!=s[e]&&(t[e]=s[e]);return t}function ei(t){return Zs(si,t)}void 0!==$s.MathJax&&$s.MathJax.constructor==={}.constructor||($s.MathJax={}),$s.MathJax.version||($s.MathJax={version:Ys,_:{},config:$s.MathJax});const si=$s.MathJax,ii="undefined"!=typeof window,ri={window:ii?window:null,document:ii?window.document:null,os:(()=>{if(ii&&window.navigator){const s=window.navigator.appVersion,i=[["Win","Windows"],["Mac","MacOS"],["X11","Unix"],["Linux","Unix"]];for(var[t,e]of i)if(s.includes(t))return e;if(window.navigator.userAgent.includes("Android"))return"Unix"}return"unknown"})()};class ni extends Error{constructor(t,e){super(t),this.package=e}}class oi{get canLoad(){return 0===this.dependencyCount&&!this.noLoad&&!this.isLoading&&!this.hasFailed}static loadPromise(t){const e=mi[t]||{},s=e.extraLoads?ui.load(...e.extraLoads):Promise.resolve(),i=e.checkReady||(()=>Promise.resolve());return s.then(()=>i())}static resolvePath(t,e=!0){t={name:t,original:t,addExtension:e};return ui.pathFilters.execute(t),t.name}static loadAll(){for(const t of this.packages.values())t.canLoad&&t.load()}constructor(t,e=!1){this.isLoaded=!1,this.result={},this.isLoading=!1,this.hasFailed=!1,this.dependents=[],this.dependencies=[],this.dependencyCount=0,this.provided=[],this.name=t,this.noLoad=e,oi.packages.set(t,this),this.promise=this.makePromise(this.makeDependencies())}makeDependencies(){const t=[],e=oi.packages,s=this.noLoad,i=this.name,r=[];Object.hasOwn(mi.dependencies,i)?r.push(...mi.dependencies[i]):"core"!==i&&r.push("core");for(const i of r){const r=e.get(i)||new oi(i,s);this.dependencies.includes(r)||(r.addDependent(this,s),this.dependencies.push(r),r.isLoaded||(this.dependencyCount++,t.push(r.promise)))}return t}makePromise(t){let e=new Promise((t,e)=>{this.resolve=t,this.reject=e});const s=mi[this.name]||{};return s.ready&&(e=e.then(t=>s.ready(this.name))),t.length&&(t.push(e),e=Promise.all(t).then(t=>t.join(", "))),s.failed&&e.catch(t=>s.failed(new ni(t,this.name))),e}load(){var t;this.isLoaded||this.isLoading||this.noLoad||(this.isLoading=!0,t=oi.resolvePath(this.name),mi.require?this.loadCustom(t):this.loadScript(t))}loadCustom(e){try{const t=mi.require(e);t instanceof Promise?t.then(t=>this.result=t).then(()=>this.checkLoad()).catch(t=>this.failed("Can't load \""+e+'"\n'+t.message.trim())):(this.result=t,this.checkLoad())}catch(e){this.failed(e.message)}}loadScript(e){const t=ri.document.createElement("script");t.src=e,t.charset="UTF-8",t.onload=t=>this.checkLoad(),t.onerror=t=>this.failed("Can't load \""+e+'"'),ri.document.head.appendChild(t)}loaded(){this.isLoaded=!0,this.isLoading=!1;for(const t of this.dependents)t.requirementSatisfied();for(const e of this.provided)e.loaded();this.resolve(this.name)}failed(t){this.hasFailed=!0,this.isLoading=!1,this.reject(new ni(t,this.name))}checkLoad(){oi.loadPromise(this.name).then(()=>this.loaded()).catch(t=>this.failed(t))}requirementSatisfied(){this.dependencyCount&&(this.dependencyCount--,this.canLoad&&this.load())}provides(t=[]){for(const e of t){let t=oi.packages.get(e);t||(mi.dependencies[e]||(mi.dependencies[e]=[]),mi.dependencies[e].push(e),(t=new oi(e,!0)).isLoading=!0),this.provided.push(t)}}addDependent(t,e){this.dependents.push(t),e||this.checkNoLoad()}checkNoLoad(){if(this.noLoad){this.noLoad=!1;for(const t of this.dependencies)t.checkNoLoad()}}}oi.packages=new Map;class ai{constructor(){this.items=[],this.items=[]}[Symbol.iterator](){let t=0;const e=this.items;return{next:()=>({value:e[t++],done:t>e.length})}}add(t,e=ai.DEFAULTPRIORITY){let s=this.items.length;for(;0<=--s&&e<this.items[s].priority;);return this.items.splice(s+1,0,{item:t,priority:e}),t}remove(t){let e=this.items.length;for(;0<=--e&&this.items[e].item!==t;);return 0<=e&&this.items.splice(e,1),this}}ai.DEFAULTPRIORITY=5;class li extends ai{constructor(t=null){super(),t&&this.addList(t)}addList(t){for(const e of t)Array.isArray(e)?this.add(e[0],e[1]):this.add(e)}execute(...t){for(const e of this)if(!1===e.item(...t))return!1;return!0}asyncExecute(...r){let n=-1;const o=this.items;return new Promise((s,i)=>{!function t(){for(;++n<o.length;){const e=o[n].item(...r);if(e instanceof Promise)return void e.then(t).catch(t=>i(t));if(!1===e)return void s(!1)}s(!0)}()})}}const hi=si.config||{};const ci={source:t=>(Object.hasOwn(mi.source,t.name)&&(t.name=mi.source[t.name]),!0),normalize:t=>{const e=t.name;return e.match(/^(?:[a-z]+:\/)?\/|[a-z]:\\|\[/i)||(t.name="[mathjax]/"+e.replace(/^\.\//,"")),!0},prefix:t=>{for(var e;(e=t.name.match(/^\[([^\]]*)\]/))&&Object.hasOwn(mi.paths,e[1]);)t.name=mi.paths[e[1]]+t.name.substring(e[0].length);return!0},addExtension:t=>(t.addExtension&&!t.name.match(/\.[^/]+$/)&&(t.name+=".js"),!0)},di=si.version,ui={versions:new Map,nestedLoads:[],ready(...t){const e=[];for(const s of t=0===t.length?Array.from(oi.packages.keys()):t){const t=oi.packages.get(s)||new oi(s,!0);e.push(t.promise)}return Promise.all(e)},load(...s){if(0===s.length)return Promise.resolve([]);let i=[];this.nestedLoads.unshift(i);const e=Promise.resolve().then(()=>{var t=this,o=void 0,a=void 0,l=function*(){const e=[];for(const i of s){let t=oi.packages.get(i);t||(t=new oi(i)).provides(mi.provides[i]),t.checkNoLoad(),e.push(t.promise.then(()=>(mi.versionWarnings&&t.isLoaded&&!ui.versions.has(oi.resolvePath(i))&&console.warn("No version information available for component "+i),t.result)))}oi.loadAll();for(var t=yield Promise.all(e);i.length;){const s=Promise.all(i);i=this.nestedLoads[this.nestedLoads.indexOf(i)]=[],yield s}return this.nestedLoads.splice(this.nestedLoads.indexOf(i),1),t};return new(a=a||Promise)(function(s,e){function i(t){try{n(l.next(t))}catch(t){e(t)}}function r(t){try{n(l.throw(t))}catch(t){e(t)}}function n(t){var e;t.done?s(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(i,r)}n((l=l.apply(t,o||[])).next())})});return this.nestedLoads.slice(1).forEach(t=>t.push(e)),e},preLoaded(...t){for(const e of t){let t=oi.packages.get(e);t||(t=new oi(e,!0)).provides(mi.provides[e]),t.loaded()}},addPackageData(t,e){let s=mi[t];s=s||(mi[t]={});for(const[t,i]of Object.entries(e))if(Array.isArray(i)){s[t]||(s[t]=[]);const e=new Set([...s[t],...i]);s[t]=[...e]}else s[t]=i},defaultReady(){void 0!==pi.startup&&pi.config.startup.ready()},getRoot(){if(ri.document){const t=ri.document.currentScript||ri.document.getElementById("MathJax-script");if(t&&t instanceof HTMLScriptElement)return t.src.replace(/\/[^/]*$/,"")}return hi?.loader?.paths?.mathjax||hi?.__dirname||"/"},checkVersion(t,e,s){return this.saveVersion(t),!(!mi.versionWarnings||e===di||(console.warn(`Component ${t} uses ${e} of MathJax; version in use is `+di),0))},saveVersion(t){ui.versions.set(oi.resolvePath(t),di)},pathFilters:new li},pi=(ui.pathFilters.add(ci.source,0),ui.pathFilters.add(ci.normalize,10),ui.pathFilters.add(ci.prefix,20),ui.pathFilters.add(ci.addExtension,30),si);if(void 0===pi.loader){ti(pi.config,"loader",{paths:{mathjax:ui.getRoot()},source:{},dependencies:{},provides:{},load:[],ready:ui.defaultReady.bind(ui),failed:t=>console.log(`MathJax(${t.package||"?"}): `+t.message),require:null,pathFilters:[],versionWarnings:!0}),ei({loader:ui});for(const P of pi.config.loader.pathFilters)Array.isArray(P)?ui.pathFilters.add(P[0],P[1]):ui.pathFilters.add(P)}const mi=pi.config.loader,fi={}.constructor;function gi(t){return"object"==typeof t&&null!==t&&(t.constructor===fi||t.constructor===xi)}const bi="[+]",Ei="[-]",Ni={invalidOption:"warn",optionError:(t,e)=>{if("fatal"===Ni.invalidOption)throw new Error(t);console.warn("MathJax: "+t)}};class xi{}function yi(t){return Object.assign(Object.create(xi.prototype),t)}function vi(t){return Array.isArray(t)?t:[t]}function Ci(t){return t?Object.keys(t).concat(Object.getOwnPropertySymbols(t)):[]}function _i(t){const e={};for(const s of Ci(t)){const i=Object.getOwnPropertyDescriptor(t,s),r=i.value;Array.isArray(r)?i.value=Ti([],r,!1):gi(r)&&(i.value=_i(r)),i.enumerable&&(e[s]=i)}return Object.defineProperties(t.constructor===xi?yi({}):{},e)}function Ti(e,s,i=!0){for(var r of Ci(s))if(i&&void 0===e[r]&&e.constructor!==xi)"symbol"==typeof r&&(r=r.toString()),Ni.optionError(`Invalid option "${r}" (no default value).`,r);else{const n=s[r];let t=e[r];if(!gi(n)||null===t||"object"!=typeof t&&"function"!=typeof t)Array.isArray(n)?(e[r]=[],Ti(e[r],n,!1)):gi(n)?e[r]=_i(n):e[r]=n;else{const s=Ci(n);Array.isArray(t)&&(1===s.length&&(s[0]===bi||s[0]===Ei)&&Array.isArray(n[s[0]])||2===s.length&&s.sort().join(",")===bi+","+Ei&&Array.isArray(n[bi])&&Array.isArray(n[Ei]))?(n[Ei]&&(t=e[r]=t.filter(t=>n[Ei].indexOf(t)<0)),n[bi]&&(e[r]=[...t,...n[bi]])):Ti(t,n,i)}}return e}function Li(e,...t){return t.forEach(t=>Ti(e,t,!1)),e}function wi(e,...t){return t.forEach(t=>Ti(e,t,!0)),e}function Ii(t,...e){const s={};for(const i of e)Object.hasOwn(t,i)&&(s[i]=t[i]);return s}function Si(t,...e){const s=[];for(const i of e){const e={},r={};for(const s of Object.keys(t||{}))(void 0===i[s]?r:e)[s]=t[s];s.push(e),t=r}return s.unshift(t),s}function Ri(t,e,s=null){return Object.hasOwn(e,t)?e[t]:s}function ki(t,o,a,l){return new(a=a||Promise)(function(s,e){function i(t){try{n(l.next(t))}catch(t){e(t)}}function r(t){try{n(l.throw(t))}catch(t){e(t)}}function n(t){var e;t.done?s(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(i,r)}n((l=l.apply(t,o||[])).next())})}class r{static toMML(t){return r.visitor.visitTree(t,this.document)}static registerConstructor(t,e){r.constructors[t]=e}static useHandler(t,e=!1){Mi.handler&&!e||(Mi.handler=t)}static useAdaptor(t,e=!1){Mi.adaptor&&!e||(Mi.adaptor=t)}static useInput(t,e=!1){Ai&&!e||Mi.input.push(t)}static useOutput(t,e=!1){Mi.output&&!e||(Mi.output=t)}static extendHandler(t,e=10){r.extensions.add(t,e)}static defaultReady(){r.getComponents(),r.makeMethods(),r.pagePromise.then(()=>Mi.pageReady()).then(()=>r.promiseResolve()).catch(t=>r.promiseReject(t))}static defaultPageReady(){return(Mi.loadAllFontFiles&&r.output.font?r.output.font.loadDynamicFiles():Promise.resolve()).then(()=>{var t;return null==(t=r.document.menu)?void 0:t.loadingPromise}).then(Mi.typeset&&n.typesetPromise?()=>r.typesetPromise(Mi.elements):Promise.resolve()).then(()=>r.promiseResolve())}static typesetPromise(t){return this.hasTypeset=!0,r.document.whenReady(()=>ki(this,void 0,void 0,function*(){r.document.options.elements=t,r.document.reset(),yield r.document.renderPromise()}))}static getComponents(){r.visitor=new n._.core.MmlTree.SerializedMmlVisitor.SerializedMmlVisitor,r.mathjax=n._.mathjax.mathjax,r.input=r.getInputJax(),r.output=r.getOutputJax(),r.adaptor=r.getAdaptor(),r.handler&&r.mathjax.handlers.unregister(r.handler),r.handler=r.getHandler(),r.handler&&(r.mathjax.handlers.register(r.handler),r.document=r.getDocument())}static makeMethods(){r.input&&r.output&&r.makeTypesetMethods();var t=r.output?r.output.name.toLowerCase():"";for(const s of r.input){var e=s.name.toLowerCase();r.makeMmlMethods(e,s),r.makeResetMethod(e,s),r.output&&r.makeOutputMethods(e,t,s)}n.done=()=>r.document.done(),n.whenReady=t=>r.document.whenReady(t)}static makeTypesetMethods(){n.typeset=(t=null)=>{this.hasTypeset=!0,r.document.options.elements=t,r.document.reset(),r.document.render()},n.typesetPromise=(t=null)=>r.typesetPromise(t),n.typesetClear=(t=null)=>{t?r.document.clearMathItemsWithin(t):r.document.clear()}}static makeOutputMethods(t,e,s){t=t+"2"+e;n[t]=(t,e={})=>(e=Object.assign(Object.assign({},e),{format:s.name}),r.document.convert(t,e)),n[t+"Promise"]=(t,e={})=>(e=Object.assign(Object.assign({},e),{format:s.name}),r.document.convertPromise(t,e)),n[e+"Stylesheet"]=()=>r.output.styleSheet(r.document),"getMetricsFor"in r.output&&(n.getMetricsFor=(t,e)=>r.output.getMetricsFor(t,e))}static makeMmlMethods(t,s){const i=n._.core.MathItem.STATE;n[t+"2mml"]=(t,e={})=>(e=Object.assign(Object.assign({},e),{end:i.CONVERT,format:s.name}),r.toMML(r.document.convert(t,e))),n[t+"2mmlPromise"]=(t,...e)=>ki(this,[t,...e],void 0,function*(t,e={}){e=Object.assign(Object.assign({},e),{end:i.CONVERT,format:s.name});t=yield r.document.convertPromise(t,e);return r.toMML(t)})}static makeResetMethod(t,e){n[t+"Reset"]=(...t)=>e.reset(...t)}static getInputJax(){const t=[];for(const e of Mi.input){const s=r.constructors[e];if(!s)throw Error('Input Jax "'+e+'" is not defined (has it been loaded?)');t[e]=new s(n.config[e]),t.push(t[e])}return t}static getOutputJax(){var t=Mi.output;if(!t)return null;const e=r.constructors[t];if(e)return new e(n.config[t]);throw Error('Output Jax "'+t+'" is not defined (has it been loaded?)')}static getAdaptor(){var t=Mi.adaptor;if(!t||"none"===t)return null;const e=r.constructors[t];if(e)return e(n.config[t]);throw Error('DOMAdaptor "'+t+'" is not defined (has it been loaded?)')}static getHandler(){const t=Mi.handler;if(!t||"none"===t||!r.adaptor)return null;const e=r.constructors[t];if(!e)throw Error('Handler "'+t+'" is not defined (has it been loaded?)');let s=new e(r.adaptor,5);for(const t of r.extensions)s=t.item(s);return s}static getDocument(t=null){return r.mathjax.document(t||Mi.document,Object.assign(Object.assign({},n.config.options),{InputJax:r.input,OutputJax:r.output}))}}r.extensions=new ai,r.constructors={},r.input=[],r.output=null,r.handler=null,r.adaptor=null,r.elements=null,r.document=null,r.promise=new Promise((t,e)=>{r.promiseResolve=t,r.promiseReject=e}),r.pagePromise=new Promise((t,e)=>{const s=$s.document;if(s&&s.readyState&&"complete"!==s.readyState&&"interactive"!==s.readyState){const e=()=>t();s.defaultView.addEventListener("load",e,!0),s.defaultView.addEventListener("DOMContentLoaded",e,!0)}else t()}),r.hasTypeset=!1,r.defaultOptionError=Ni.optionError;const n=si,Mi=(void 0===n._.startup&&(ti(n.config,"startup",{input:[],output:"",handler:null,adaptor:null,document:ri.document||"",elements:null,typeset:!0,ready:r.defaultReady.bind(r),pageReady:r.defaultPageReady.bind(r)}),ei({startup:r,options:{}}),n.config.startup.invalidOption&&(Ni.invalidOption=n.config.startup.invalidOption),n.config.startup.optionError&&(Ni.optionError=n.config.startup.optionError)),n.config.startup),Ai=0!==Mi.input.length;MathJax.loader&&MathJax.loader.checkVersion("startup",Ys,"startup"),ei({_:{components:{loader:H,package:j,startup:W}}}),ui.preLoaded("loader","startup"),ti(MathJax.config.loader,"dependencies",{"a11y/semantic-enrich":["input/mml","a11y/sre"],"a11y/speech":["a11y/semantic-enrich"],"a11y/complexity":["a11y/semantic-enrich"],"a11y/explorer":["a11y/speech"],"[mml]/mml3":["input/mml"],"[tex]/action":["input/tex-base"],"[tex]/ams":["input/tex-base","[tex]/newcommand"],"[tex]/amscd":["input/tex-base"],"[tex]/autoload":["input/tex-base","[tex]/require"],"[tex]/bbm":["input/tex-base"],"[tex]/bboldx":["input/tex-base","[tex]/textmacros"],"[tex]/bbox":["input/tex-base"],"[tex]/begingroup":["input/tex-base","[tex]/newcommand"],"[tex]/boldsymbol":["input/tex-base"],"[tex]/braket":["input/tex-base"],"[tex]/bussproofs":["input/tex-base"],"[tex]/cancel":["input/tex-base","[tex]/enclose"],"[tex]/cases":["[tex]/empheq"],"[tex]/centernot":["input/tex-base"],"[tex]/color":["input/tex-base"],"[tex]/colortbl":["input/tex-base","[tex]/color"],"[tex]/colorv2":["input/tex-base"],"[tex]/configmacros":["input/tex-base","[tex]/newcommand"],"[tex]/dsfont":["input/tex-base"],"[tex]/empheq":["input/tex-base","[tex]/ams"],"[tex]/enclose":["input/tex-base"],"[tex]/extpfeil":["input/tex-base","[tex]/newcommand","[tex]/ams"],"[tex]/gensymb":["input/tex-base"],"[tex]/html":["input/tex-base"],"[tex]/mathtools":["input/tex-base","[tex]/newcommand","[tex]/ams","[tex]/boldsymbol"],"[tex]/mhchem":["input/tex-base","[tex]/ams"],"[tex]/newcommand":["input/tex-base"],"[tex]/noerrors":["input/tex-base"],"[tex]/noundefined":["input/tex-base"],"[tex]/physics":["input/tex-base"],"[tex]/require":["input/tex-base"],"[tex]/setoptions":["input/tex-base"],"[tex]/tagformat":["input/tex-base"],"[tex]/texhtml":["input/tex-base"],"[tex]/textcomp":["input/tex-base","[tex]/textmacros"],"[tex]/textmacros":["input/tex-base"],"[tex]/unicode":["input/tex-base"],"[tex]/units":["input/tex-base"],"[tex]/upgreek":["input/tex-base"],"[tex]/verb":["input/tex-base"],"ui/menu":["a11y/sre"]}),ti(MathJax.config.loader,"paths",{tex:"[mathjax]/input/tex/extensions",mml:"[mathjax]/input/mml/extensions",sre:"[mathjax]/sre",mathmaps:"[sre]/mathmaps"}),ti(MathJax.config.loader,"provides",{startup:["loader"],"input/tex":["input/tex-base","[tex]/ams","[tex]/newcommand","[tex]/textmacros","[tex]/noundefined","[tex]/require","[tex]/autoload","[tex]/configmacros"]}),ti(MathJax.config.loader,"source",{"[tex]/amsCd":"[tex]/amscd","[tex]/colorV2":"[tex]/colorv2","[tex]/configMacros":"[tex]/configmacros","[tex]/tagFormat":"[tex]/tagformat"});class Oi{constructor(t=null){this.canMeasureNodes=!0,this.document=t}node(t,e={},s=[],i){var r=this.create(t,i);this.setAttributes(r,e);for(const t of s)this.append(r,t);return r}setProperty(t,e,s){t[e]=s}getProperty(t,e){return t[e]}setAttributes(t,e){if(e.style&&"string"!=typeof e.style)for(const s of Object.keys(e.style))this.setStyle(t,s.replace(/-([a-z])/g,(t,e)=>e.toUpperCase()),e.style[s]);if(e.properties)for(const i of Object.keys(e.properties))t[i]=e.properties[i];for(const r of Object.keys(e))"style"===r&&"string"!=typeof e.style||"properties"===r||this.setAttribute(t,r,e[r])}replace(t,e){return this.insert(t,e),this.remove(e),e}childNode(t,e){return this.childNodes(t)[e]}allClasses(t){const e=this.getAttribute(t,"class");return e?e.replace(/  +/g," ").replace(/^ /,"").replace(/ $/,"").split(/ /):[]}cssText(t){return"style"===this.kind(t)?this.textContent(t):""}}class Di extends Oi{constructor(t){super(t.document),this.canMeasureNodes=!0,this.window=t,this.parser=new t.DOMParser}parse(t,e="text/html"){return this.parser.parseFromString(t,e)}create(t,e){return e?this.document.createElementNS(e,t):this.document.createElement(t)}text(t){return this.document.createTextNode(t)}head(t=this.document){return t.head||t}body(t=this.document){return t.body||t}root(t=this.document){return t.documentElement||t}doctype(t=this.document){return t.doctype?`<!DOCTYPE ${t.doctype.name}>`:""}tags(t,e,s=null){s=s?t.getElementsByTagNameNS(s,e):t.getElementsByTagName(e);return Array.from(s)}getElements(t,e){let s=[];for(const e of t)"string"==typeof e?s=s.concat(Array.from(this.document.querySelectorAll(e))):Array.isArray(e)||e instanceof this.window.NodeList||e instanceof this.window.HTMLCollection?s=s.concat(Array.from(e)):s.push(e);return s}getElement(t,e=this.document){return e.querySelector(t)}contains(t,e){return t.contains(e)}parent(t){return t.parentNode}append(t,e){return t.appendChild(e)}insert(t,e){return this.parent(e).insertBefore(t,e)}remove(t){return this.parent(t).removeChild(t)}replace(t,e){return this.parent(e).replaceChild(t,e)}clone(t,e=!0){return t.cloneNode(e)}split(t,e){return t.splitText(e)}next(t){return t.nextSibling}previous(t){return t.previousSibling}firstChild(t){return t.firstChild}lastChild(t){return t.lastChild}childNodes(t){return Array.from(t.childNodes)}childNode(t,e){return t.childNodes[e]}kind(t){var e=t.nodeType;return 1===e||3===e||8===e?t.nodeName.toLowerCase():""}value(t){return t.nodeValue||""}textContent(t){return t.textContent}innerHTML(t){return t.innerHTML}outerHTML(t){return t.outerHTML}serializeXML(t){return(new this.window.XMLSerializer).serializeToString(t)}setAttribute(t,e,s,i=null){return i?(e=i.replace(/.*\//,"")+":"+e.replace(/^.*:/,""),t.setAttributeNS(i,e,s)):t.setAttribute(e,s)}getAttribute(t,e){return t.getAttribute(e)}removeAttribute(t,e){return t.removeAttribute(e)}hasAttribute(t,e){return t.hasAttribute(e)}allAttributes(t){return Array.from(t.attributes).map(t=>({name:t.name,value:t.value}))}addClass(t,e){t.classList?t.classList.add(e):t.className=(t.className+" "+e).trim()}removeClass(t,e){t.classList?t.classList.remove(e):t.className=t.className.split(/ /).filter(t=>t!==e).join(" ")}hasClass(t,e){return t.classList?t.classList.contains(e):t.className.split(/ /).includes(e)}setStyle(t,e,s){t.style[e]=s}getStyle(t,e){return t.style[e]}allStyles(t){return t.style.cssText}insertRules(t,e){for(const s of e)try{t.sheet.insertRule(s,t.sheet.cssRules.length)}catch(t){console.warn(`MathJax: can't insert css rule '${s}': `+t.message)}}cssText(t){return"style"!==this.kind(t)?"":Array.from(t.sheet.cssRules).map(t=>t.cssText).join("\n")}fontSize(t){t=this.window.getComputedStyle(t);return parseFloat(t.fontSize)}fontFamily(t){return this.window.getComputedStyle(t).fontFamily||""}nodeSize(t,e=1,s=!1){if(s&&t.getBBox){const{width:s,height:i}=t.getBBox();return[s/e,i/e]}return[t.offsetWidth/e,t.offsetHeight/e]}nodeBBox(t){var{left:t,right:e,top:s,bottom:i}=t.getBoundingClientRect();return{left:t,right:e,top:s,bottom:i}}createWorker(a,l){return t=this,c=function*(){const{path:t,maps:e,worker:s}=l,i=t+"/"+s,r=`
      self.maps = '${Pi(e)}';
      importScripts('${Pi(i)}');
    `,n=URL.createObjectURL(new Blob([r],{type:"text/javascript"})),o=new Worker(n);return o.onmessage=a,URL.revokeObjectURL(n),o},new(h=(h=o=void 0)||Promise)(function(s,e){function i(t){try{n(c.next(t))}catch(t){e(t)}}function r(t){try{n(c.throw(t))}catch(t){e(t)}}function n(t){var e;t.done?s(t.value):((e=t.value)instanceof h?e:new h(function(t){t(e)})).then(i,r)}n((c=c.apply(t,o||[])).next())});var t,o,h,c}}function Pi(t){return[...t].map(t=>("\\"===t||"'"===t?t="\\"+t:(t<" "||"~"<t)&&(t=`\\u{${t.codePointAt(0).toString(16)}}`),t)).join("")}function Bi(){return new Di(window)}class ji{constructor(t){var e=this.constructor;this.options=wi(Li({},e.OPTIONS),t)}}ji.OPTIONS={};class Ui{constructor(t={}){this.adaptor=null,this.mmlFactory=null;var e=this.constructor;this.options=wi(Li({},e.OPTIONS),t),this.preFilters=new li(this.options.preFilters),this.postFilters=new li(this.options.postFilters)}get name(){return this.constructor.NAME}setAdaptor(t){this.adaptor=t}setMmlFactory(t){this.mmlFactory=t}initialize(){}reset(){}get processStrings(){return!0}findMath(t,e){return[]}executeFilters(t,e,s,i){e={math:e,document:s,data:i};return t.execute(e),e.data}}Ui.NAME="generic",Ui.OPTIONS={preFilters:[],postFilters:[]};class Fi{constructor(t={}){this.adaptor=null;var e=this.constructor;this.options=wi(Li({},e.OPTIONS),t),this.preFilters=new li(this.options.preFilters),this.postFilters=new li(this.options.postFilters)}get name(){return this.constructor.NAME}setAdaptor(t){this.adaptor=t}initialize(){}reset(){}getMetrics(t){}styleSheet(t){return null}pageElements(t){return null}executeFilters(t,e,s,i){e={math:e,document:s,data:i};return t.execute(e),e.data}}Fi.NAME="generic",Fi.OPTIONS={preFilters:[],postFilters:[]};const Hi=Symbol();class qi{constructor(t=null){this.next=null,this.prev=null,this.data=t}}class Wi{constructor(...t){this.list=new qi(Hi),this.list.next=this.list.prev=this.list,this.push(...t)}isBefore(t,e){return t<e}push(...t){for(const e of t){const t=new qi(e);t.next=this.list,t.prev=this.list.prev,(this.list.prev=t).prev.next=t}return this}pop(){const t=this.list.prev;return t.data===Hi?null:(this.list.prev=t.prev,t.prev.next=this.list,t.next=t.prev=null,t.data)}unshift(...t){for(const e of t.slice(0).reverse()){const t=new qi(e);t.next=this.list.next,t.prev=this.list,(this.list.next=t).next.prev=t}return this}shift(){const t=this.list.next;return t.data===Hi?null:(this.list.next=t.next,t.next.prev=this.list,t.next=t.prev=null,t.data)}remove(...t){const e=new Map;for(const s of t)e.set(s,!0);let s=this.list.next;for(;s.data!==Hi;){const t=s.next;e.has(s.data)&&(s.prev.next=s.next,s.next.prev=s.prev,s.next=s.prev=null),s=t}return this}clear(){return this.list.next.prev=this.list.prev.next=null,this.list.next=this.list.prev=this.list,this}*[Symbol.iterator](){let t=this.list.next;for(;t.data!==Hi;)yield t.data,t=t.next}*reversed(){let t=this.list.prev;for(;t.data!==Hi;)yield t.data,t=t.prev}insert(t,e=null){null===e&&(e=this.isBefore.bind(this));const s=new qi(t);let i=this.list.next;for(;i.data!==Hi&&e(i.data,s.data);)i=i.next;return s.prev=i.prev,(s.next=i).prev.next=i.prev=s,this}sort(t=null){null===t&&(t=this.isBefore.bind(this));const e=[];for(const t of this)e.push(new Wi(t));for(this.list.next=this.list.prev=this.list;1<e.length;){const s=e.shift(),i=e.shift();s.merge(i,t),e.push(s)}return e.length&&(this.list=e[0].list),this}merge(t,e=null){null===e&&(e=this.isBefore.bind(this));let s=this.list.next,i=t.list.next;for(;s.data!==Hi&&i.data!==Hi;)e(i.data,s.data)?([i.prev.next,s.prev.next]=[s,i],[i.prev,s.prev]=[s.prev,i.prev],[this.list.prev.next,t.list.prev.next]=[t.list,this.list],[this.list.prev,t.list.prev]=[t.list.prev,this.list.prev],[s,i]=[i.next,s]):s=s.next;return i.data!==Hi&&(this.list.prev.next=t.list.next,t.list.next.prev=this.list.prev,t.list.prev.next=this.list,this.list.prev=t.list.prev,t.list.next=t.list.prev=t.list),this}}class zi extends Wi{isBefore(t,e){return t.start.i<e.start.i||t.start.i===e.start.i&&t.start.n<e.start.n}}class Vi{get isEscaped(){return null===this.display}constructor(t,e,s=!0,i={i:0,n:0,delim:""},r={i:0,n:0,delim:""}){this.root=null,this.typesetRoot=null,this.metrics={},this.inputData={},this.outputData={},this._state=u.UNPROCESSED,this.math=t,this.inputJax=e,this.display=s,this.start=i,this.end=r,this.root=null,this.typesetRoot=null,this.metrics={},this.inputData={},this.outputData={}}render(t){t.renderActions.renderMath(this,t)}rerender(t,e=u.RERENDER){this.state()>=e&&this.state(e-1),t.renderActions.renderMath(this,t,e)}convert(t,e=u.LAST){t.renderActions.renderConvert(this,t,e)}compile(t){this.state()<u.COMPILED&&(this.root=this.inputJax.compile(this,t),this.state(u.COMPILED))}typeset(t){this.state()<u.TYPESET&&(this.typesetRoot=t.outputJax[this.isEscaped?"escaped":"typeset"](this,t),this.state(u.TYPESET))}updateDocument(t){}removeFromDocument(t=0){this.clear()}setMetrics(t,e,s,i){this.metrics={em:t,ex:e,containerWidth:s,scale:i}}state(t=null,e=!1){return null!=t&&(t<u.INSERTED&&this._state>=u.INSERTED&&this.removeFromDocument(e),t<u.TYPESET&&this._state>=u.TYPESET&&(this.outputData={}),t<u.COMPILED&&this._state>=u.COMPILED&&(this.inputData={}),this._state=t),this._state}reset(t=!1){this.state(u.UNPROCESSED,t)}clear(){}}const u={UNPROCESSED:0,FINDMATH:10,COMPILED:20,CONVERT:100,METRICS:110,RERENDER:125,TYPESET:150,INSERTED:200,LAST:1e4};function Xi(t,e){if(t in u)throw Error("State "+t+" already exists");u[t]=e}class Ji{constructor(t=null){this.defaultKind="unknown",this.nodeMap=new Map,this.node={},null===t&&(t=this.constructor.defaultNodes);for(const e of Object.keys(t))this.setNodeClass(e,t[e])}create(t,...e){return(this.node[t]||this.node[this.defaultKind])(...e)}setNodeClass(t,e){this.nodeMap.set(t,e);const s=this.nodeMap.get(t);this.node[t]=(...t)=>new s(this,...t)}getNodeClass(t){return this.nodeMap.get(t)}deleteNodeClass(t){this.nodeMap.delete(t),delete this.node[t]}nodeIsKind(t,e){return t instanceof this.getNodeClass(e)}getKinds(){return Array.from(this.nodeMap.keys())}}Ji.defaultNodes={};class Gi extends Ji{create(t,e={},s=[]){return this.node[t](e,s)}}const Ki="_inherit_";class Yi{constructor(t,e){this.global=e,this.defaults=Object.create(e),this.inherited=Object.create(this.defaults),this.attributes=Object.create(this.inherited),Object.assign(this.defaults,t)}set(t,e){this.attributes[t]=e}setList(t){Object.assign(this.attributes,t)}unset(t){delete this.attributes[t]}get(t){let e=this.attributes[t];return e=e===Ki?this.global[t]:e}getExplicit(t){return this.hasExplicit(t)?this.attributes[t]:void 0}hasExplicit(t){return Object.hasOwn(this.attributes,t)}hasOneOf(t){for(const e of t)if(this.hasExplicit(e))return!0;return!1}getList(...t){const e={};for(const s of t)e[s]=this.get(s);return e}setInherited(t,e){this.inherited[t]=e}getInherited(t){return this.inherited[t]}getDefault(t){return this.defaults[t]}isSet(t){return Object.hasOwn(this.attributes,t)||Object.hasOwn(this.inherited,t)}hasDefault(t){return t in this.defaults}getExplicitNames(){return Object.keys(this.attributes)}getInheritedNames(){return Object.keys(this.inherited)}getDefaultNames(){return Object.keys(this.defaults)}getGlobalNames(){return Object.keys(this.global)}getAllAttributes(){return this.attributes}getAllInherited(){return this.inherited}getAllDefaults(){return this.defaults}getAllGlobals(){return this.global}}class $i{constructor(t,e={},s=[]){this.factory=t,this.parent=null,this.properties={},this.childNodes=[];for(const t of Object.keys(e))this.setProperty(t,e[t]);s.length&&this.setChildren(s)}get kind(){return"unknown"}setProperty(t,e){this.properties[t]=e}getProperty(t){return this.properties[t]}getPropertyNames(){return Object.keys(this.properties)}getAllProperties(){return this.properties}removeProperty(...t){for(const e of t)delete this.properties[e]}isKind(t){return this.factory.nodeIsKind(this,t)}setChildren(t){this.childNodes=[];for(const e of t)this.appendChild(e)}appendChild(t){return this.childNodes.push(t),t.parent=this,t}replaceChild(t,e){var s=this.childIndex(e);return null!==s&&((this.childNodes[s]=t).parent=this,e.parent===this&&(e.parent=null)),t}removeChild(t){var e=this.childIndex(t);return null!==e&&(this.childNodes.splice(e,1),t.parent=null),t}childIndex(t){t=this.childNodes.indexOf(t);return-1===t?null:t}copy(){const t=this.factory.create(this.kind);t.properties=Object.assign({},this.properties);for(const e of this.childNodes||[])e&&t.appendChild(e.copy());return t}findNodes(e){const s=[];return this.walkTree(t=>{t.isKind(e)&&s.push(t)}),s}walkTree(t,e){t(this,e);for(const s of this.childNodes)s&&s.walkTree(t,e);return e}toString(){return this.kind+"("+this.childNodes.join(",")+")"}}class Qi extends $i{setChildren(t){}appendChild(t){return t}replaceChild(t,e){return e}childIndex(t){return null}walkTree(t,e){return t(this,e),e}toString(){return this.kind}}const c={ORD:0,OP:1,BIN:2,REL:3,OPEN:4,CLOSE:5,PUNCT:6,INNER:7,NONE:-1},Zi=["ORD","OP","BIN","REL","OPEN","CLOSE","PUNCT","INNER"],tr=["","thinmathspace","mediummathspace","thickmathspace"],er=[[0,-1,2,3,0,0,0,1],[-1,-1,0,3,0,0,0,1],[2,2,0,0,2,0,0,2],[3,3,0,0,3,0,0,3],[0,0,0,0,0,0,0,0],[0,-1,2,3,0,0,0,1],[1,1,0,1,1,1,1,1],[1,-1,2,3,1,0,1,1]],sr=new Set(["normal","bold","italic","bold-italic","double-struck","fraktur","bold-fraktur","script","bold-script","sans-serif","bold-sans-serif","sans-serif-italic","sans-serif-bold-italic","monospace","inital","tailed","looped","stretched"]),ir=["indentalign","indentalignfirst","indentshift","indentshiftfirst"];class a extends $i{constructor(t,e={},s=[]){super(t),this.prevClass=null,this.prevLevel=null,this.texclass=null,this.arity<0&&(this.childNodes=[t.create("inferredMrow")],this.childNodes[0].parent=this),this.setChildren(s),this.attributes=new Yi(t.getNodeClass(this.kind).defaults,t.getNodeClass("math").defaults),this.attributes.setList(e)}copy(t=!1){const e=this.factory.create(this.kind);if(e.properties=Object.assign({},this.properties),this.attributes){var s=this.attributes.getAllAttributes();for(const i of Object.keys(s))"id"===i&&!t||e.attributes.set(i,s[i])}if(this.childNodes&&this.childNodes.length){let t=this.childNodes;for(const r of t=1===t.length&&t[0].isInferred?t[0].childNodes:t)r?e.appendChild(r.copy()):e.childNodes.push(null)}return e}get texClass(){return this.texclass}set texClass(t){this.texclass=t}get isToken(){return!1}get isEmbellished(){return!1}get isSpacelike(){return!1}get linebreakContainer(){return!1}get linebreakAlign(){return"data-align"}get arity(){return 1/0}get isInferred(){return!1}get Parent(){let t=this.parent;for(;t&&t.notParent;)t=t.Parent;return t}get notParent(){return!1}setChildren(t){return this.arity<0?this.childNodes[0].setChildren(t):super.setChildren(t)}appendChild(t){if(this.arity<0)return this.childNodes[0].appendChild(t),t;if(t.isInferred){if(this.arity===1/0)return t.childNodes.forEach(t=>super.appendChild(t)),t;const e=t;(t=this.factory.create("mrow")).setChildren(e.childNodes),t.attributes=e.attributes;for(const s of e.getPropertyNames())t.setProperty(s,e.getProperty(s))}return super.appendChild(t)}replaceChild(t,e){return this.arity<0?(this.childNodes[0].replaceChild(t,e),t):super.replaceChild(t,e)}core(){return this}coreMO(){return this}coreIndex(){return 0}childPosition(){let e=null,s=this.parent;for(;s&&s.notParent;)s=(e=s).parent;if(e=e||this,s){let t=0;for(const i of s.childNodes){if(i===e)return t;t++}}return null}setTeXclass(t){return this.getPrevClass(t),null!=this.texClass?this:t}updateTeXclass(t){t&&(this.prevClass=t.prevClass,this.prevLevel=t.prevLevel,t.prevClass=t.prevLevel=null,this.texClass=t.texClass)}getPrevClass(t){t&&(this.prevClass=t.texClass,this.prevLevel=t.attributes.get("scriptlevel"))}texSpacing(){var t=null!=this.prevClass?this.prevClass:c.NONE,e=this.texClass||c.ORD;if(t===c.NONE||e===c.NONE)return"";t=er[t][e];return(0<this.prevLevel||0<this.attributes.get("scriptlevel"))&&0<=t?"":tr[Math.abs(t)]}hasSpacingAttributes(){return this.isEmbellished&&this.coreMO().hasSpacingAttributes()}setInheritedAttributes(t={},e=!1,s=0,i=!1){var r,n=this.attributes.getAllDefaults();for(const e of Object.keys(t)){if(Object.hasOwn(n,e)||Object.hasOwn(a.alwaysInherit,e)){const[s,i]=t[e];null!=(r=null==(r=a.noInherit[s])?void 0:r[this.kind])&&r[e]||this.attributes.setInherited(e,i)}null!=(r=a.stopInherit[this.kind])&&r[e]&&delete(t=Object.assign({},t))[e]}void 0===this.attributes.getExplicit("displaystyle")&&this.attributes.setInherited("displaystyle",e),void 0===this.attributes.getExplicit("scriptlevel")&&this.attributes.setInherited("scriptlevel",s),i&&this.setProperty("texprimestyle",i);var o=this.arity;if(0<=o&&o!==1/0&&(1===o&&0===this.childNodes.length||1!==o&&this.childNodes.length!==o))if(o<this.childNodes.length)this.childNodes=this.childNodes.slice(0,o);else for(;this.childNodes.length<o;)this.appendChild(this.factory.create("mrow"));if(this.linebreakContainer&&!this.isEmbellished){const e=this.linebreakAlign;if(e){const s=this.attributes.get(e)||"left";t=this.addInheritedAttributes(t,{indentalign:s,indentshift:"0",indentalignfirst:s,indentshiftfirst:"0",indentalignlast:"indentalign",indentshiftlast:"indentshift"})}}this.setChildInheritedAttributes(t,e,s,i)}setChildInheritedAttributes(t,e,s,i){for(const r of this.childNodes)r.setInheritedAttributes(t,e,s,i)}addInheritedAttributes(t,e){const s=Object.assign({},t);for(const t of Object.keys(e))"displaystyle"!==t&&"scriptlevel"!==t&&"style"!==t&&(s[t]=[this.kind,e[t]]);return s}inheritAttributesFrom(t){const e=t.attributes,s=e.get("displaystyle"),i=e.get("scriptlevel"),r=e.isSet("mathsize")?{mathsize:["math",e.get("mathsize")]}:{},n=t.getProperty("texprimestyle")||!1;this.setInheritedAttributes(r,s,i,n)}verifyTree(t=null){var e;null!==t&&(this.verifyAttributes(t),e=this.arity,t.checkArity&&0<=e&&e!==1/0&&(1===e&&0===this.childNodes.length||1!==e&&this.childNodes.length!==e)&&this.mError('Wrong number of children for "'+this.kind+'" node',t,!0),this.verifyChildren(t))}verifyAttributes(t){if(t.checkAttributes){const s=this.attributes,i=[];for(const t of s.getExplicitNames())"data-"===t.substring(0,5)||void 0!==s.getDefault(t)||t.match(/^(?:class|style|id|(?:xlink:)?href)$/)||i.push(t);i.length&&this.mError("Unknown attributes for "+this.kind+" node: "+i.join(", "),t)}var e;t.checkMathvariants&&(e=this.attributes.getExplicit("mathvariant"))&&!sr.has(e)&&!this.getProperty("ignore-variant")&&this.mError("Invalid mathvariant: "+e,t,!0)}verifyChildren(t){for(const e of this.childNodes)e.verifyTree(t)}mError(t,e,s=!1){if(this.parent&&this.parent.isKind("merror"))return null;const i=this.factory.create("merror");if(i.attributes.set("data-mjx-message",t),e.fullErrors||s){const s=this.factory.create("mtext"),r=this.factory.create("text");r.setText(e.fullErrors?t:this.kind),s.appendChild(r),i.appendChild(s),this.parent.replaceChild(i,this),e.fullErrors||i.attributes.set("title",t)}else this.parent.replaceChild(i,this),i.appendChild(this);return i}}a.defaults={mathbackground:Ki,mathcolor:Ki,mathsize:Ki,dir:Ki},a.noInherit={mstyle:{mpadded:{width:!0,height:!0,depth:!0,lspace:!0,voffset:!0},mtable:{width:!0,height:!0,depth:!0,align:!0}},maligngroup:{mrow:{groupalign:!0},mtable:{groupalign:!0}},mtr:{msqrt:{"data-vertical-align":!0},mroot:{"data-vertical-align":!0}},mlabeledtr:{msqrt:{"data-vertical-align":!0},mroot:{"data-vertical-align":!0}}},a.stopInherit={mtd:{columnalign:!0,rowalign:!0,groupalign:!0}},a.alwaysInherit={scriptminsize:!0,scriptsizemultiplier:!0,infixlinebreakstyle:!0},a.verifyDefaults={checkArity:!0,checkAttributes:!1,checkMathvariants:!0,fullErrors:!1,fixMmultiscripts:!0,fixMtables:!0};class rr extends a{get isToken(){return!0}getText(){let t="";for(const e of this.childNodes)e instanceof lr?t+=e.getText():"textContent"in e&&(t+=e.textContent());return t}setChildInheritedAttributes(t,e,s,i){for(const r of this.childNodes)r instanceof a&&r.setInheritedAttributes(t,e,s,i)}walkTree(t,e){t(this,e);for(const s of this.childNodes)s instanceof a&&s.walkTree(t,e);return e}}rr.defaults=Object.assign(Object.assign({},a.defaults),{mathvariant:"normal",mathsize:Ki});class nr extends a{get isSpacelike(){return this.childNodes[0].isSpacelike}get isEmbellished(){return this.childNodes[0].isEmbellished}get arity(){return-1}core(){return this.childNodes[0]}coreMO(){return this.childNodes[0].coreMO()}setTeXclass(t){return t=this.childNodes[0].setTeXclass(t),this.updateTeXclass(this.childNodes[0]),t}}nr.defaults=a.defaults;class or extends a{get isEmbellished(){return this.childNodes[0].isEmbellished}core(){return this.childNodes[0]}coreMO(){return this.childNodes[0].coreMO()}setTeXclass(t){this.getPrevClass(t),this.texClass=c.ORD;const e=this.childNodes[0];let s=null;e&&(this.isEmbellished||e.isKind("mi")?(s=e.setTeXclass(t),this.updateTeXclass(this.core())):e.setTeXclass(null));for(const t of this.childNodes.slice(1))t&&t.setTeXclass(null);return s||this}}or.defaults=a.defaults;class ar extends Qi{get isToken(){return!1}get isEmbellished(){return!1}get isSpacelike(){return!1}get linebreakContainer(){return!1}get linebreakAlign(){return""}get arity(){return 0}get isInferred(){return!1}get notParent(){return!1}get Parent(){return this.parent}get texClass(){return c.NONE}get prevClass(){return c.NONE}get prevLevel(){return 0}hasSpacingAttributes(){return!1}get attributes(){return null}core(){return this}coreMO(){return this}coreIndex(){return 0}childPosition(){return 0}setTeXclass(t){return t}texSpacing(){return""}setInheritedAttributes(t,e,s,i){}inheritAttributesFrom(t){}verifyTree(t){}mError(t,e,s=0){return null}}class lr extends ar{constructor(){super(...arguments),this.text=""}get kind(){return"text"}getText(){return this.text}setText(t){return this.text=t,this}copy(){return this.factory.create(this.kind).setText(this.getText())}toString(){return this.text}}class hr extends ar{constructor(){super(...arguments),this.xml=null,this.adaptor=null}get kind(){return"XML"}getXML(){return this.xml}setXML(t,e=null){return this.xml=t,this.adaptor=e,this}getSerializedXML(){return this.adaptor.serializeXML(this.xml)}copy(){return this.factory.create(this.kind).setXML(this.adaptor.clone(this.xml))}toString(){return"XML data"}}class cr extends nr{get kind(){return"math"}get linebreakContainer(){return!0}get linebreakAlign(){return""}setChildInheritedAttributes(t,e,s,i){"display"===this.attributes.get("mode")&&this.attributes.setInherited("display","block"),t=this.addInheritedAttributes(t,this.attributes.getAllAttributes()),e=!!this.attributes.get("displaystyle")||!this.attributes.get("displaystyle")&&"block"===this.attributes.get("display"),this.attributes.setInherited("displaystyle",e),s=this.attributes.get("scriptlevel")||this.constructor.defaults.scriptlevel,super.setChildInheritedAttributes(t,e,s,i)}verifyTree(t=null){super.verifyTree(t),this.parent&&this.mError("Improper nesting of math tags",t,!0)}}cr.defaults=Object.assign(Object.assign({},nr.defaults),{mathvariant:"normal",mathsize:"normal",mathcolor:"",mathbackground:"transparent",dir:"ltr",scriptlevel:0,displaystyle:!1,display:"inline",maxwidth:"",overflow:"linebreak",altimg:"","altimg-width":"","altimg-height":"","altimg-valign":"",alttext:"",cdgroup:"",scriptsizemultiplier:1/Math.sqrt(2),scriptminsize:".4em",infixlinebreakstyle:"before",lineleading:"100%",linebreakmultchar:"â¢",indentshift:"auto",indentalign:"auto",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"});class dr extends rr{constructor(){super(...arguments),this.texclass=c.ORD}get kind(){return"mi"}setInheritedAttributes(t={},e=!1,s=0,i=!1){super.setInheritedAttributes(t,e,s,i),this.getText().match(dr.singleCharacter)&&!t.mathvariant&&this.attributes.setInherited("mathvariant","italic")}setTeXclass(t){this.getPrevClass(t);const e=this.getText();return 1<e.length&&e.match(dr.operatorName)&&"normal"===this.attributes.get("mathvariant")&&void 0===this.getProperty("autoOP")&&void 0===this.getProperty("texClass")&&(this.texClass=c.OP,this.setProperty("autoOP",!0)),this}}dr.defaults=Object.assign({},rr.defaults),dr.operatorName=/^[a-z][a-z0-9]*$/i,dr.singleCharacter=/^[\uD800-\uDBFF]?.[\u0300-\u036F\u1AB0-\u1ABE\u1DC0-\u1DFF\u20D0-\u20EF]*$/;class ur extends rr{constructor(){super(...arguments),this.texclass=c.ORD}get kind(){return"mn"}}function o(t,e,s=c.BIN,i=null){return[t,e,s,i]}ur.defaults=Object.assign({},rr.defaults);const i={ORD:o(0,0,c.ORD),ORD11:o(1,1,c.ORD),ORD21:o(2,1,c.ORD),ORD02:o(0,2,c.ORD),ORD55:o(5,5,c.ORD),NONE:o(0,0,c.NONE),OP:o(1,2,c.OP,{largeop:!0,movablelimits:!0,symmetric:!0}),OPFIXED:o(1,2,c.OP,{largeop:!0,movablelimits:!0}),INTEGRAL:o(0,1,c.OP,{largeop:!0,symmetric:!0}),INTEGRAL2:o(1,2,c.OP,{largeop:!0,symmetric:!0}),BIN3:o(3,3,c.BIN),BIN4:o(4,4,c.BIN),BIN01:o(0,1,c.BIN),BIN5:o(5,5,c.BIN),TALLBIN:o(4,4,c.BIN,{stretchy:!0}),BINOP:o(4,4,c.BIN,{largeop:!0,movablelimits:!0}),REL:o(5,5,c.REL),REL1:o(1,1,c.REL,{stretchy:!0}),REL4:o(4,4,c.REL),RELSTRETCH:o(5,5,c.REL,{stretchy:!0}),RELACCENT:o(5,5,c.REL,{accent:!0}),WIDEREL:o(5,5,c.REL,{accent:!0,stretchy:!0}),OPEN:o(0,0,c.OPEN,{fence:!0,stretchy:!0,symmetric:!0}),CLOSE:o(0,0,c.CLOSE,{fence:!0,stretchy:!0,symmetric:!0}),INNER:o(0,0,c.INNER),PUNCT:o(0,3,c.PUNCT),ACCENT:o(0,0,c.ORD,{accent:!0}),WIDEACCENT:o(0,0,c.ORD,{accent:!0,stretchy:!0})},pr=[[32,127,c.REL,"mo"],[160,191,c.ORD,"mo"],[192,591,c.ORD,"mi"],[688,879,c.ORD,"mo"],[880,6688,c.ORD,"mi"],[6832,6911,c.ORD,"mo"],[6912,7615,c.ORD,"mi"],[7616,7679,c.ORD,"mo"],[7680,8191,c.ORD,"mi"],[8192,8303,c.ORD,"mo"],[8304,8351,c.ORD,"mo"],[8448,8527,c.ORD,"mi"],[8528,8591,c.ORD,"mn"],[8592,8703,c.REL,"mo"],[8704,8959,c.BIN,"mo"],[8960,9215,c.ORD,"mo"],[9312,9471,c.ORD,"mn"],[9472,10223,c.ORD,"mo"],[10224,10239,c.REL,"mo"],[10240,10495,c.ORD,"mtext"],[10496,10623,c.REL,"mo"],[10624,10751,c.ORD,"mo"],[10752,11007,c.BIN,"mo"],[11008,11055,c.ORD,"mo"],[11056,11087,c.REL,"mo"],[11088,11263,c.ORD,"mo"],[11264,11744,c.ORD,"mi"],[11776,11903,c.ORD,"mo"],[11904,12255,c.ORD,"mi","normal"],[12272,12351,c.ORD,"mo"],[12352,42143,c.ORD,"mi","normal"],[42192,43055,c.ORD,"mi"],[43056,43071,c.ORD,"mn"],[43072,55295,c.ORD,"mi"],[63744,64255,c.ORD,"mi","normal"],[64256,65023,c.ORD,"mi"],[65024,65135,c.ORD,"mo"],[65136,65791,c.ORD,"mi"],[65792,65935,c.ORD,"mn"],[65936,74751,c.ORD,"mi","normal"],[74752,74879,c.ORD,"mn"],[74880,113823,c.ORD,"mi","normal"],[113824,119391,c.ORD,"mo"],[119648,119679,c.ORD,"mn"],[119808,120781,c.ORD,"mi"],[120782,120831,c.ORD,"mn"],[122624,129023,c.ORD,"mo"],[129024,129279,c.REL,"mo"],[129280,129535,c.ORD,"mo"],[131072,195103,c.ORD,"mi","normal"]];function mr(t){var e=gr.infix[t]||gr.prefix[t]||gr.postfix[t];if(e)return[0,0,e[2],"mo"];var s=t.codePointAt(0);for(const t of pr)if(s<=t[1]){if(s>=t[0])return t;break}return[0,0,c.REL,"mo"]}const fr=[[0,0],[1,2],[3,3],[4,4],[0,0],[0,0],[0,3]],gr={prefix:{"(":i.OPEN,"+":i.BIN01,"-":i.BIN01,"[":i.OPEN,"{":i.OPEN,"|":i.OPEN,"||":[0,0,c.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[0,0,c.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"Â¬":i.ORD21,"Â±":i.BIN01,"â€–":[0,0,c.ORD,{fence:!0,stretchy:!0}],"â€˜":[0,0,c.OPEN,{fence:!0}],"â€œ":[0,0,c.OPEN,{fence:!0}],"â……":i.ORD21,"â…†":o(2,0,c.ORD),"âˆ€":i.ORD21,"âˆ‚":i.ORD21,"âˆƒ":i.ORD21,"âˆ„":i.ORD21,"âˆ‡":i.ORD21,"âˆ":i.OP,"âˆ":i.OP,"âˆ‘":i.OP,"âˆ’":i.BIN01,"âˆ“":i.BIN01,"âˆš":[1,1,c.ORD,{stretchy:!0}],"âˆ›":i.ORD11,"âˆœ":i.ORD11,"âˆ ":i.ORD,"âˆ¡":i.ORD,"âˆ¢":i.ORD,"âˆ«":i.INTEGRAL,"âˆ¬":i.INTEGRAL,"âˆ­":i.INTEGRAL,"âˆ®":i.INTEGRAL,"âˆ¯":i.INTEGRAL,"âˆ°":i.INTEGRAL,"âˆ±":i.INTEGRAL,"âˆ²":i.INTEGRAL,"âˆ³":i.INTEGRAL,"â‹€":i.OP,"â‹":i.OP,"â‹‚":i.OP,"â‹ƒ":i.OP,"âŒˆ":i.OPEN,"âŒŠ":i.OPEN,"âŒ©":i.OPEN,"â²":i.OPEN,"âŸ¦":i.OPEN,"âŸ¨":i.OPEN,"âŸª":i.OPEN,"âŸ¬":i.OPEN,"âŸ®":i.OPEN,"â¦€":[0,0,c.ORD,{fence:!0,stretchy:!0}],"â¦ƒ":i.OPEN,"â¦…":i.OPEN,"â¦‡":i.OPEN,"â¦‰":i.OPEN,"â¦‹":i.OPEN,"â¦":i.OPEN,"â¦":i.OPEN,"â¦‘":i.OPEN,"â¦“":i.OPEN,"â¦•":i.OPEN,"â¦—":i.OPEN,"â§¼":i.OPEN,"â¨€":i.OP,"â¨":i.OP,"â¨‚":i.OP,"â¨ƒ":i.OP,"â¨„":i.OP,"â¨…":i.OP,"â¨†":i.OP,"â¨‡":i.OP,"â¨ˆ":i.OP,"â¨‰":i.OP,"â¨Š":i.OP,"â¨‹":i.INTEGRAL2,"â¨Œ":i.INTEGRAL,"â¨":i.INTEGRAL2,"â¨":i.INTEGRAL2,"â¨":i.INTEGRAL2,"â¨":i.OP,"â¨‘":i.OP,"â¨’":i.OP,"â¨“":i.OP,"â¨”":i.OP,"â¨•":i.INTEGRAL2,"â¨–":i.INTEGRAL2,"â¨—":i.INTEGRAL2,"â¨˜":i.INTEGRAL2,"â¨™":i.INTEGRAL2,"â¨š":i.INTEGRAL2,"â¨›":i.INTEGRAL2,"â¨œ":i.INTEGRAL2,"â«¼":i.OP,"â«¿":i.OP},postfix:{"!!":o(1,0),"!":[1,0,c.CLOSE,null],'"':i.ACCENT,"&":i.ORD,")":i.CLOSE,"++":o(0,0),"--":o(0,0),"..":o(0,0),"...":i.ORD,"'":i.ACCENT,"]":i.CLOSE,"^":i.WIDEACCENT,_:i.WIDEACCENT,"`":i.ACCENT,"|":i.CLOSE,"}":i.CLOSE,"~":i.WIDEACCENT,"||":[0,0,c.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[0,0,c.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"Â¨":i.ACCENT,"Âª":i.ACCENT,"Â¯":i.WIDEACCENT,"Â°":i.ORD,"Â²":i.ACCENT,"Â³":i.ACCENT,"Â´":i.ACCENT,"Â¸":i.ACCENT,"Â¹":i.ACCENT,"Âº":i.ACCENT,"Ë†":i.WIDEACCENT,"Ë‡":i.WIDEACCENT,"Ë‰":i.WIDEACCENT,"ËŠ":i.ACCENT,"Ë‹":i.ACCENT,"Ë":i.WIDEACCENT,"Ë˜":i.ACCENT,"Ë™":i.ACCENT,"Ëš":i.ACCENT,"Ëœ":i.WIDEACCENT,"Ë":i.ACCENT,"Ë·":i.WIDEACCENT,"Ì‚":i.WIDEACCENT,"Ì‘":i.ACCENT,"Ï¶":i.REL,"â€–":[0,0,c.ORD,{fence:!0,stretchy:!0}],"â€™":[0,0,c.CLOSE,{fence:!0}],"â€š":i.ACCENT,"â€›":i.ACCENT,"â€":[0,0,c.CLOSE,{fence:!0}],"â€":i.ACCENT,"â€Ÿ":i.ACCENT,"â€²":i.ORD,"â€³":i.ORD,"â€´":i.ORD,"â€µ":i.ORD,"â€¶":i.ORD,"â€·":i.ORD,"â€¾":i.WIDEACCENT,"â—":i.ORD,"âƒ›":i.ACCENT,"âƒœ":i.ACCENT,"âŒ‰":i.CLOSE,"âŒ‹":i.CLOSE,"âŒª":i.CLOSE,"â´":i.WIDEACCENT,"âµ":i.WIDEACCENT,"âœ":i.WIDEACCENT,"â":i.WIDEACCENT,"â":i.WIDEACCENT,"âŸ":i.WIDEACCENT,"â ":i.WIDEACCENT,"â¡":i.WIDEACCENT,"â– ":i.BIN3,"â–¡":i.BIN3,"â–ª":i.BIN3,"â–«":i.BIN3,"â–­":i.BIN3,"â–®":i.BIN3,"â–¯":i.BIN3,"â–°":i.BIN3,"â–±":i.BIN3,"â–²":i.BIN4,"â–´":i.BIN4,"â–¶":i.BIN4,"â–·":i.BIN4,"â–¸":i.BIN4,"â–¼":i.BIN4,"â–¾":i.BIN4,"â—€":i.BIN4,"â—":i.BIN4,"â—‚":i.BIN4,"â—„":i.BIN4,"â—…":i.BIN4,"â—†":i.BIN4,"â—‡":i.BIN4,"â—ˆ":i.BIN4,"â—‰":i.BIN4,"â—Œ":i.BIN4,"â—":i.BIN4,"â—":i.BIN4,"â—":i.BIN4,"â—–":i.BIN4,"â——":i.BIN4,"â—¦":i.BIN4,"â™­":i.ORD02,"â™®":i.ORD02,"â™¯":i.ORD02,"â³":i.CLOSE,"âŸ§":i.CLOSE,"âŸ©":i.CLOSE,"âŸ«":i.CLOSE,"âŸ­":i.CLOSE,"âŸ¯":i.CLOSE,"â¦€":[0,0,c.ORD,{fence:!0,stretchy:!0}],"â¦„":i.CLOSE,"â¦†":i.CLOSE,"â¦ˆ":i.CLOSE,"â¦Š":i.CLOSE,"â¦Œ":i.CLOSE,"â¦":i.CLOSE,"â¦":i.CLOSE,"â¦’":i.CLOSE,"â¦”":i.CLOSE,"â¦–":i.CLOSE,"â¦˜":i.CLOSE,"â§½":i.CLOSE},infix:{"!=":i.BIN4,"#":i.ORD,$:i.ORD,"%":[3,3,c.ORD,null],"&&":i.BIN4,"":i.ORD,"*":i.BIN3,"**":o(1,1),"*=":i.BIN4,"+":i.BIN4,"+=":i.BIN4,",":[0,3,c.PUNCT,{linebreakstyle:"after",separator:!0}],"-":i.BIN4,"-=":i.BIN4,"->":i.BIN5,".":[0,3,c.PUNCT,{linebreakstyle:"after",separator:!0}],"/":i.ORD11,"//":o(1,1),"/=":i.BIN4,":":[1,2,c.REL,null],":=":i.BIN4,";":[0,3,c.PUNCT,{linebreakstyle:"after",separator:!0}],"<":i.REL,"<=":i.BIN5,"<>":o(1,1),"=":i.REL,"==":i.BIN4,">":i.REL,">=":i.BIN5,"?":[1,1,c.CLOSE,null],"@":i.ORD11,"\\":i.ORD,"^":i.ORD11,_:i.ORD11,"|":[2,2,c.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"||":[2,2,c.BIN,{fence:!0,stretchy:!0,symmetric:!0}],"|||":[2,2,c.ORD,{fence:!0,stretchy:!0,symmetric:!0}],"Â±":i.BIN4,"Â·":i.BIN4,"Ã—":i.BIN4,"Ã·":i.BIN4,"Ê¹":i.ORD,"Ì€":i.ACCENT,"Ì":i.ACCENT,"Ìƒ":i.WIDEACCENT,"Ì„":i.ACCENT,"Ì†":i.ACCENT,"Ì‡":i.ACCENT,"Ìˆ":i.ACCENT,"ÌŒ":i.ACCENT,"Ì²":i.WIDEACCENT,"Ì¸":i.REL4,"â€•":[0,0,c.ORD,{stretchy:!0}],"â€—":[0,0,c.ORD,{stretchy:!0}],"â€ ":i.BIN3,"â€¡":i.BIN3,"â€¢":i.BIN4,"â€¦":i.INNER,"âƒ":i.BIN4,"â„":i.TALLBIN,"â¡":i.NONE,"â¢":i.NONE,"â£":[0,0,c.NONE,{linebreakstyle:"after",separator:!0}],"â¤":i.NONE,"âƒ—":i.ACCENT,"â„‘":i.ORD,"â„“":i.ORD,"â„˜":i.ORD,"â„œ":i.ORD,"â†":i.WIDEREL,"â†‘":i.RELSTRETCH,"â†’":i.WIDEREL,"â†“":i.RELSTRETCH,"â†”":i.WIDEREL,"â†•":i.RELSTRETCH,"â†–":i.RELSTRETCH,"â†—":i.RELSTRETCH,"â†˜":i.RELSTRETCH,"â†™":i.RELSTRETCH,"â†š":i.RELACCENT,"â†›":i.RELACCENT,"â†œ":i.WIDEREL,"â†":i.WIDEREL,"â†":i.WIDEREL,"â†Ÿ":i.WIDEREL,"â† ":i.WIDEREL,"â†¡":i.RELSTRETCH,"â†¢":i.WIDEREL,"â†£":i.WIDEREL,"â†¤":i.WIDEREL,"â†¥":i.RELSTRETCH,"â†¦":i.WIDEREL,"â†§":i.RELSTRETCH,"â†¨":i.RELSTRETCH,"â†©":i.WIDEREL,"â†ª":i.WIDEREL,"â†«":i.WIDEREL,"â†¬":i.WIDEREL,"â†­":i.WIDEREL,"â†®":i.RELACCENT,"â†¯":i.RELSTRETCH,"â†°":i.RELSTRETCH,"â†±":i.RELSTRETCH,"â†²":i.RELSTRETCH,"â†³":i.RELSTRETCH,"â†´":i.RELSTRETCH,"â†µ":i.RELSTRETCH,"â†¶":i.RELACCENT,"â†·":i.RELACCENT,"â†¸":i.REL,"â†¹":i.WIDEREL,"â†º":i.REL,"â†»":i.REL,"â†¼":i.WIDEREL,"â†½":i.WIDEREL,"â†¾":i.RELSTRETCH,"â†¿":i.RELSTRETCH,"â‡€":i.WIDEREL,"â‡":i.WIDEREL,"â‡‚":i.RELSTRETCH,"â‡ƒ":i.RELSTRETCH,"â‡„":i.WIDEREL,"â‡…":i.RELSTRETCH,"â‡†":i.WIDEREL,"â‡‡":i.WIDEREL,"â‡ˆ":i.RELSTRETCH,"â‡‰":i.WIDEREL,"â‡Š":i.RELSTRETCH,"â‡‹":i.WIDEREL,"â‡Œ":i.WIDEREL,"â‡":i.RELACCENT,"â‡":i.RELACCENT,"â‡":i.RELACCENT,"â‡":i.WIDEREL,"â‡‘":i.RELSTRETCH,"â‡’":i.WIDEREL,"â‡“":i.RELSTRETCH,"â‡”":i.WIDEREL,"â‡•":i.RELSTRETCH,"â‡–":i.RELSTRETCH,"â‡—":i.RELSTRETCH,"â‡˜":i.RELSTRETCH,"â‡™":i.RELSTRETCH,"â‡š":i.WIDEREL,"â‡›":i.WIDEREL,"â‡œ":i.WIDEREL,"â‡":i.WIDEREL,"â‡":i.REL,"â‡Ÿ":i.REL,"â‡ ":i.WIDEREL,"â‡¡":i.RELSTRETCH,"â‡¢":i.WIDEREL,"â‡£":i.RELSTRETCH,"â‡¤":i.WIDEREL,"â‡¥":i.WIDEREL,"â‡¦":i.WIDEREL,"â‡§":i.RELSTRETCH,"â‡¨":i.WIDEREL,"â‡©":i.RELSTRETCH,"â‡ª":i.RELSTRETCH,"â‡«":i.RELSTRETCH,"â‡¬":i.RELSTRETCH,"â‡­":i.RELSTRETCH,"â‡®":i.RELSTRETCH,"â‡¯":i.RELSTRETCH,"â‡°":i.WIDEREL,"â‡±":i.REL,"â‡²":i.REL,"â‡³":i.RELSTRETCH,"â‡´":i.RELACCENT,"â‡µ":i.RELSTRETCH,"â‡¶":i.WIDEREL,"â‡·":i.RELACCENT,"â‡¸":i.RELACCENT,"â‡¹":i.RELACCENT,"â‡º":i.RELACCENT,"â‡»":i.RELACCENT,"â‡¼":i.RELACCENT,"â‡½":i.WIDEREL,"â‡¾":i.WIDEREL,"â‡¿":i.WIDEREL,"âˆ":o(1,2,c.ORD),"âˆ…":i.ORD,"âˆ†":i.BIN3,"âˆˆ":i.REL,"âˆ‰":i.REL,"âˆŠ":i.REL,"âˆ‹":i.REL,"âˆŒ":i.REL,"âˆ":i.REL,"âˆ":i.BIN3,"âˆ’":i.BIN4,"âˆ“":i.BIN4,"âˆ”":i.BIN4,"âˆ•":i.TALLBIN,"âˆ–":i.BIN4,"âˆ—":i.BIN4,"âˆ˜":i.BIN4,"âˆ™":i.BIN4,"âˆ":i.REL,"âˆ":i.ORD,"âˆŸ":i.REL,"âˆ£":i.REL,"âˆ¤":i.REL,"âˆ¥":i.REL,"âˆ¦":i.REL,"âˆ§":i.BIN4,"âˆ¨":i.BIN4,"âˆ©":i.BIN4,"âˆª":i.BIN4,"âˆ´":i.REL,"âˆµ":i.REL,"âˆ¶":i.REL,"âˆ·":i.REL,"âˆ¸":i.BIN4,"âˆ¹":i.REL,"âˆº":i.BIN4,"âˆ»":i.REL,"âˆ¼":i.REL,"âˆ½":i.REL,"âˆ½Ì±":i.BIN3,"âˆ¾":i.REL,"âˆ¿":i.BIN3,"â‰€":i.BIN4,"â‰":i.REL,"â‰‚":i.REL,"â‰‚Ì¸":i.REL,"â‰ƒ":i.REL,"â‰„":i.REL,"â‰…":i.REL,"â‰†":i.REL,"â‰‡":i.REL,"â‰ˆ":i.REL,"â‰‰":i.REL,"â‰Š":i.REL,"â‰‹":i.REL,"â‰Œ":i.REL,"â‰":i.REL,"â‰":i.REL,"â‰Ì¸":i.REL,"â‰":i.REL,"â‰Ì¸":i.REL,"â‰":i.REL,"â‰‘":i.REL,"â‰’":i.REL,"â‰“":i.REL,"â‰”":i.REL,"â‰•":i.REL,"â‰–":i.REL,"â‰—":i.REL,"â‰˜":i.REL,"â‰™":i.REL,"â‰š":i.REL,"â‰›":i.REL,"â‰œ":i.REL,"â‰":i.REL,"â‰":i.REL,"â‰Ÿ":i.REL,"â‰ ":i.REL,"â‰¡":i.REL,"â‰¢":i.REL,"â‰£":i.REL,"â‰¤":i.REL,"â‰¥":i.REL,"â‰¦":i.REL,"â‰¦Ì¸":i.REL,"â‰§":i.REL,"â‰¨":i.REL,"â‰©":i.REL,"â‰ª":i.REL,"â‰ªÌ¸":i.REL,"â‰«":i.REL,"â‰«Ì¸":i.REL,"â‰¬":i.REL,"â‰­":i.REL,"â‰®":i.REL,"â‰¯":i.REL,"â‰°":i.REL,"â‰±":i.REL,"â‰²":i.REL,"â‰³":i.REL,"â‰´":i.REL,"â‰µ":i.REL,"â‰¶":i.REL,"â‰·":i.REL,"â‰¸":i.REL,"â‰¹":i.REL,"â‰º":i.REL,"â‰»":i.REL,"â‰¼":i.REL,"â‰½":i.REL,"â‰¾":i.REL,"â‰¿":i.REL,"â‰¿Ì¸":i.REL,"âŠ€":i.REL,"âŠ":i.REL,"âŠ‚":i.REL,"âŠ‚âƒ’":i.REL,"âŠƒ":i.REL,"âŠƒâƒ’":i.REL,"âŠ„":i.REL,"âŠ…":i.REL,"âŠ†":i.REL,"âŠ‡":i.REL,"âŠˆ":i.REL,"âŠ‰":i.REL,"âŠŠ":i.REL,"âŠ‹":i.REL,"âŠŒ":i.BIN4,"âŠ":i.BIN4,"âŠ":i.BIN4,"âŠ":i.REL,"âŠÌ¸":i.REL,"âŠ":i.REL,"âŠÌ¸":i.REL,"âŠ‘":i.REL,"âŠ’":i.REL,"âŠ“":i.BIN4,"âŠ”":i.BIN4,"âŠ•":i.BIN4,"âŠ–":i.BIN4,"âŠ—":i.BIN4,"âŠ˜":i.BIN4,"âŠ™":i.BIN4,"âŠš":i.BIN4,"âŠ›":i.BIN4,"âŠœ":i.BIN4,"âŠ":i.BIN4,"âŠ":i.BIN4,"âŠŸ":i.BIN4,"âŠ ":i.BIN4,"âŠ¡":i.BIN4,"âŠ¢":i.REL,"âŠ£":i.REL,"âŠ¤":i.ORD55,"âŠ¥":i.REL,"âŠ¦":i.REL,"âŠ§":i.REL,"âŠ¨":i.REL,"âŠ©":i.REL,"âŠª":i.REL,"âŠ«":i.REL,"âŠ¬":i.REL,"âŠ­":i.REL,"âŠ®":i.REL,"âŠ¯":i.REL,"âŠ°":i.REL,"âŠ±":i.REL,"âŠ²":i.REL,"âŠ³":i.REL,"âŠ´":i.REL,"âŠµ":i.REL,"âŠ¶":i.REL,"âŠ·":i.REL,"âŠ¸":i.REL,"âŠ¹":i.REL,"âŠº":i.BIN4,"âŠ»":i.BIN4,"âŠ¼":i.BIN4,"âŠ½":i.BIN4,"âŠ¾":i.BIN3,"âŠ¿":i.BIN3,"â‹„":i.BIN4,"â‹…":i.BIN4,"â‹†":i.BIN4,"â‹‡":i.BIN4,"â‹ˆ":i.REL,"â‹‰":i.BIN4,"â‹Š":i.BIN4,"â‹‹":i.BIN4,"â‹Œ":i.BIN4,"â‹":i.REL,"â‹":i.BIN4,"â‹":i.BIN4,"â‹":i.REL,"â‹‘":i.REL,"â‹’":i.BIN4,"â‹“":i.BIN4,"â‹”":i.REL,"â‹•":i.REL,"â‹–":i.REL,"â‹—":i.REL,"â‹˜":i.REL,"â‹™":i.REL,"â‹š":i.REL,"â‹›":i.REL,"â‹œ":i.REL,"â‹":i.REL,"â‹":i.REL,"â‹Ÿ":i.REL,"â‹ ":i.REL,"â‹¡":i.REL,"â‹¢":i.REL,"â‹£":i.REL,"â‹¤":i.REL,"â‹¥":i.REL,"â‹¦":i.REL,"â‹§":i.REL,"â‹¨":i.REL,"â‹©":i.REL,"â‹ª":i.REL,"â‹«":i.REL,"â‹¬":i.REL,"â‹­":i.REL,"â‹®":i.ORD55,"â‹¯":i.INNER,"â‹°":i.REL,"â‹±":[5,5,c.INNER,null],"â‹²":i.REL,"â‹³":i.REL,"â‹´":i.REL,"â‹µ":i.REL,"â‹¶":i.REL,"â‹·":i.REL,"â‹¸":i.REL,"â‹¹":i.REL,"â‹º":i.REL,"â‹»":i.REL,"â‹¼":i.REL,"â‹½":i.REL,"â‹¾":i.REL,"â‹¿":i.REL,"âŒ…":i.BIN3,"âŒ†":i.BIN3,"âŒ¢":i.REL4,"âŒ£":i.REL4,"âŒ©":i.OPEN,"âŒª":i.CLOSE,"âª":i.ORD,"â¯":[0,0,c.ORD,{stretchy:!0}],"â°":i.OPEN,"â±":i.CLOSE,"â”€":i.ORD,"â–³":i.BIN4,"â–µ":i.BIN4,"â–¹":i.BIN4,"â–½":i.BIN4,"â–¿":i.BIN4,"â—ƒ":i.BIN4,"â—¯":i.BIN3,"â™ ":i.ORD,"â™¡":i.ORD,"â™¢":i.ORD,"â™£":i.ORD,"â˜":i.REL,"âŸ°":i.RELSTRETCH,"âŸ±":i.RELSTRETCH,"âŸµ":i.WIDEREL,"âŸ¶":i.WIDEREL,"âŸ·":i.WIDEREL,"âŸ¸":i.WIDEREL,"âŸ¹":i.WIDEREL,"âŸº":i.WIDEREL,"âŸ»":i.WIDEREL,"âŸ¼":i.WIDEREL,"âŸ½":i.WIDEREL,"âŸ¾":i.WIDEREL,"âŸ¿":i.WIDEREL,"â¤€":i.RELACCENT,"â¤":i.RELACCENT,"â¤‚":i.RELACCENT,"â¤ƒ":i.RELACCENT,"â¤„":i.RELACCENT,"â¤…":i.RELACCENT,"â¤†":i.RELACCENT,"â¤‡":i.RELACCENT,"â¤ˆ":i.REL,"â¤‰":i.REL,"â¤Š":i.RELSTRETCH,"â¤‹":i.RELSTRETCH,"â¤Œ":i.WIDEREL,"â¤":i.WIDEREL,"â¤":i.WIDEREL,"â¤":i.WIDEREL,"â¤":i.WIDEREL,"â¤‘":i.RELACCENT,"â¤’":i.RELSTRETCH,"â¤“":i.RELSTRETCH,"â¤”":i.RELACCENT,"â¤•":i.RELACCENT,"â¤–":i.RELACCENT,"â¤—":i.RELACCENT,"â¤˜":i.RELACCENT,"â¤™":i.RELACCENT,"â¤š":i.RELACCENT,"â¤›":i.RELACCENT,"â¤œ":i.RELACCENT,"â¤":i.RELACCENT,"â¤":i.RELACCENT,"â¤Ÿ":i.RELACCENT,"â¤ ":i.RELACCENT,"â¤¡":i.RELSTRETCH,"â¤¢":i.RELSTRETCH,"â¤£":i.REL,"â¤¤":i.REL,"â¤¥":i.REL,"â¤¦":i.REL,"â¤§":i.REL,"â¤¨":i.REL,"â¤©":i.REL,"â¤ª":i.REL,"â¤«":i.REL,"â¤¬":i.REL,"â¤­":i.REL,"â¤®":i.REL,"â¤¯":i.REL,"â¤°":i.REL,"â¤±":i.REL,"â¤²":i.REL,"â¤³":i.RELACCENT,"â¤´":i.REL,"â¤µ":i.REL,"â¤¶":i.REL,"â¤·":i.REL,"â¤¸":i.REL,"â¤¹":i.REL,"â¤º":i.RELACCENT,"â¤»":i.RELACCENT,"â¤¼":i.RELACCENT,"â¤½":i.RELACCENT,"â¤¾":i.REL,"â¤¿":i.REL,"â¥€":i.REL,"â¥":i.REL,"â¥‚":i.RELACCENT,"â¥ƒ":i.RELACCENT,"â¥„":i.RELACCENT,"â¥…":i.RELACCENT,"â¥†":i.RELACCENT,"â¥‡":i.RELACCENT,"â¥ˆ":i.RELACCENT,"â¥‰":i.REL,"â¥Š":i.RELACCENT,"â¥‹":i.RELACCENT,"â¥Œ":i.REL,"â¥":i.REL,"â¥":i.WIDEREL,"â¥":i.RELSTRETCH,"â¥":i.WIDEREL,"â¥‘":i.RELSTRETCH,"â¥’":i.WIDEREL,"â¥“":i.WIDEREL,"â¥”":i.RELSTRETCH,"â¥•":i.RELSTRETCH,"â¥–":i.RELSTRETCH,"â¥—":i.RELSTRETCH,"â¥˜":i.RELSTRETCH,"â¥™":i.RELSTRETCH,"â¥š":i.WIDEREL,"â¥›":i.WIDEREL,"â¥œ":i.RELSTRETCH,"â¥":i.RELSTRETCH,"â¥":i.WIDEREL,"â¥Ÿ":i.WIDEREL,"â¥ ":i.RELSTRETCH,"â¥¡":i.RELSTRETCH,"â¥¢":i.RELACCENT,"â¥£":i.REL,"â¥¤":i.RELACCENT,"â¥¥":i.REL,"â¥¦":i.RELACCENT,"â¥§":i.RELACCENT,"â¥¨":i.RELACCENT,"â¥©":i.RELACCENT,"â¥ª":i.RELACCENT,"â¥«":i.RELACCENT,"â¥¬":i.RELACCENT,"â¥­":i.RELACCENT,"â¥®":i.RELSTRETCH,"â¥¯":i.RELSTRETCH,"â¥°":i.RELACCENT,"â¥±":i.RELACCENT,"â¥²":i.RELACCENT,"â¥³":i.RELACCENT,"â¥´":i.RELACCENT,"â¥µ":i.RELACCENT,"â¥¶":i.RELACCENT,"â¥·":i.RELACCENT,"â¥¸":i.RELACCENT,"â¥¹":i.RELACCENT,"â¥º":i.RELACCENT,"â¥»":i.RELACCENT,"â¥¼":i.RELACCENT,"â¥½":i.RELACCENT,"â¥¾":i.REL,"â¥¿":i.REL,"â¦":i.BIN3,"â¦‚":i.BIN3,"â¦™":i.BIN3,"â¦š":i.BIN3,"â¦›":i.BIN3,"â¦œ":i.BIN3,"â¦":i.BIN3,"â¦":i.BIN3,"â¦Ÿ":i.BIN3,"â¦ ":i.BIN3,"â¦¡":i.BIN3,"â¦¢":i.BIN3,"â¦£":i.BIN3,"â¦¤":i.BIN3,"â¦¥":i.BIN3,"â¦¦":i.BIN3,"â¦§":i.BIN3,"â¦¨":i.BIN3,"â¦©":i.BIN3,"â¦ª":i.BIN3,"â¦«":i.BIN3,"â¦¬":i.BIN3,"â¦­":i.BIN3,"â¦®":i.BIN3,"â¦¯":i.BIN3,"â¦°":i.BIN3,"â¦±":i.BIN3,"â¦²":i.BIN3,"â¦³":i.BIN3,"â¦´":i.BIN3,"â¦µ":i.BIN3,"â¦¶":i.BIN4,"â¦·":i.BIN4,"â¦¸":i.BIN4,"â¦¹":i.BIN4,"â¦º":i.BIN4,"â¦»":i.BIN4,"â¦¼":i.BIN4,"â¦½":i.BIN4,"â¦¾":i.BIN4,"â¦¿":i.BIN4,"â§€":i.REL,"â§":i.REL,"â§‚":i.BIN3,"â§ƒ":i.BIN3,"â§„":i.BIN4,"â§…":i.BIN4,"â§†":i.BIN4,"â§‡":i.BIN4,"â§ˆ":i.BIN4,"â§‰":i.BIN3,"â§Š":i.BIN3,"â§‹":i.BIN3,"â§Œ":i.BIN3,"â§":i.BIN3,"â§":i.REL,"â§":i.REL,"â§Ì¸":i.REL,"â§":i.REL,"â§Ì¸":i.REL,"â§‘":i.REL,"â§’":i.REL,"â§“":i.REL,"â§”":i.REL,"â§•":i.REL,"â§–":i.BIN4,"â§—":i.BIN4,"â§˜":i.BIN3,"â§™":i.BIN3,"â§›":i.BIN3,"â§œ":i.BIN3,"â§":i.BIN3,"â§":i.REL,"â§Ÿ":i.BIN3,"â§ ":i.BIN3,"â§¡":i.REL,"â§¢":i.BIN4,"â§£":i.REL,"â§¤":i.REL,"â§¥":i.REL,"â§¦":i.REL,"â§§":i.BIN3,"â§¨":i.BIN3,"â§©":i.BIN3,"â§ª":i.BIN3,"â§«":i.BIN3,"â§¬":i.BIN3,"â§­":i.BIN3,"â§®":i.BIN3,"â§¯":i.BIN3,"â§°":i.BIN3,"â§±":i.BIN3,"â§²":i.BIN3,"â§³":i.BIN3,"â§´":i.REL,"â§µ":i.BIN4,"â§¶":i.BIN4,"â§·":i.BIN4,"â§¸":i.BIN3,"â§¹":i.BIN3,"â§º":i.BIN3,"â§»":i.BIN3,"â§¾":i.BIN4,"â§¿":i.BIN4,"â¨":i.BIN3,"â¨":i.BIN3,"â¨Ÿ":i.BIN3,"â¨ ":i.BIN3,"â¨¡":i.BIN3,"â¨¢":i.BIN4,"â¨£":i.BIN4,"â¨¤":i.BIN4,"â¨¥":i.BIN4,"â¨¦":i.BIN4,"â¨§":i.BIN4,"â¨¨":i.BIN4,"â¨©":i.BIN4,"â¨ª":i.BIN4,"â¨«":i.BIN4,"â¨¬":i.BIN4,"â¨­":i.BIN4,"â¨®":i.BIN4,"â¨¯":i.BIN4,"â¨°":i.BIN4,"â¨±":i.BIN4,"â¨²":i.BIN4,"â¨³":i.BIN4,"â¨´":i.BIN4,"â¨µ":i.BIN4,"â¨¶":i.BIN4,"â¨·":i.BIN4,"â¨¸":i.BIN4,"â¨¹":i.BIN4,"â¨º":i.BIN4,"â¨»":i.BIN4,"â¨¼":i.BIN4,"â¨½":i.BIN4,"â¨¾":i.BIN4,"â¨¿":i.BIN4,"â©€":i.BIN4,"â©":i.BIN4,"â©‚":i.BIN4,"â©ƒ":i.BIN4,"â©„":i.BIN4,"â©…":i.BIN4,"â©†":i.BIN4,"â©‡":i.BIN4,"â©ˆ":i.BIN4,"â©‰":i.BIN4,"â©Š":i.BIN4,"â©‹":i.BIN4,"â©Œ":i.BIN4,"â©":i.BIN4,"â©":i.BIN4,"â©":i.BIN4,"â©":i.BIN4,"â©‘":i.BIN4,"â©’":i.BIN4,"â©“":i.BIN4,"â©”":i.BIN4,"â©•":i.BIN4,"â©–":i.BIN4,"â©—":i.BIN4,"â©˜":i.BIN4,"â©™":i.REL,"â©š":i.BIN4,"â©›":i.BIN4,"â©œ":i.BIN4,"â©":i.BIN4,"â©":i.BIN4,"â©Ÿ":i.BIN4,"â© ":i.BIN4,"â©¡":i.BIN4,"â©¢":i.BIN4,"â©£":i.BIN4,"â©¤":i.BIN4,"â©¥":i.BIN4,"â©¦":i.REL,"â©§":i.REL,"â©¨":i.REL,"â©©":i.REL,"â©ª":i.REL,"â©«":i.REL,"â©¬":i.REL,"â©­":i.REL,"â©®":i.REL,"â©¯":i.REL,"â©°":i.REL,"â©±":i.BIN4,"â©²":i.BIN4,"â©³":i.REL,"â©´":i.REL,"â©µ":i.REL,"â©¶":i.REL,"â©·":i.REL,"â©¸":i.REL,"â©¹":i.REL,"â©º":i.REL,"â©»":i.REL,"â©¼":i.REL,"â©½":i.REL,"â©½Ì¸":i.REL,"â©¾":i.REL,"â©¾Ì¸":i.REL,"â©¿":i.REL,"âª€":i.REL,"âª":i.REL,"âª‚":i.REL,"âªƒ":i.REL,"âª„":i.REL,"âª…":i.REL,"âª†":i.REL,"âª‡":i.REL,"âªˆ":i.REL,"âª‰":i.REL,"âªŠ":i.REL,"âª‹":i.REL,"âªŒ":i.REL,"âª":i.REL,"âª":i.REL,"âª":i.REL,"âª":i.REL,"âª‘":i.REL,"âª’":i.REL,"âª“":i.REL,"âª”":i.REL,"âª•":i.REL,"âª–":i.REL,"âª—":i.REL,"âª˜":i.REL,"âª™":i.REL,"âªš":i.REL,"âª›":i.REL,"âªœ":i.REL,"âª":i.REL,"âª":i.REL,"âªŸ":i.REL,"âª ":i.REL,"âª¡":i.REL,"âª¡Ì¸":i.REL,"âª¢":i.REL,"âª¢Ì¸":i.REL,"âª£":i.REL,"âª¤":i.REL,"âª¥":i.REL,"âª¦":i.REL,"âª§":i.REL,"âª¨":i.REL,"âª©":i.REL,"âªª":i.REL,"âª«":i.REL,"âª¬":i.REL,"âª­":i.REL,"âª®":i.REL,"âª¯":i.REL,"âª¯Ì¸":i.REL,"âª°":i.REL,"âª°Ì¸":i.REL,"âª±":i.REL,"âª²":i.REL,"âª³":i.REL,"âª´":i.REL,"âªµ":i.REL,"âª¶":i.REL,"âª·":i.REL,"âª¸":i.REL,"âª¹":i.REL,"âªº":i.REL,"âª»":i.REL,"âª¼":i.REL,"âª½":i.REL,"âª¾":i.REL,"âª¿":i.REL,"â«€":i.REL,"â«":i.REL,"â«‚":i.REL,"â«ƒ":i.REL,"â«„":i.REL,"â«…":i.REL,"â«†":i.REL,"â«‡":i.REL,"â«ˆ":i.REL,"â«‰":i.REL,"â«Š":i.REL,"â«‹":i.REL,"â«Œ":i.REL,"â«":i.REL,"â«":i.REL,"â«":i.REL,"â«":i.REL,"â«‘":i.REL,"â«’":i.REL,"â«“":i.REL,"â«”":i.REL,"â«•":i.REL,"â«–":i.REL,"â«—":i.REL,"â«˜":i.REL,"â«™":i.REL,"â«š":i.REL,"â«›":i.REL,"â«":i.REL,"â«Ì¸":i.REL,"â«":i.REL,"â«Ÿ":i.REL,"â« ":i.REL,"â«¡":i.REL,"â«¢":i.REL,"â«£":i.REL,"â«¤":i.REL,"â«¥":i.REL,"â«¦":i.REL,"â«§":i.REL,"â«¨":i.REL,"â«©":i.REL,"â«ª":i.REL,"â««":i.REL,"â«¬":i.REL,"â«­":i.REL,"â«®":i.REL,"â«¯":i.REL,"â«°":i.REL,"â«±":i.REL,"â«²":i.REL,"â«³":i.REL,"â«´":i.BIN4,"â«µ":i.BIN4,"â«¶":i.BIN4,"â«·":i.REL,"â«¸":i.REL,"â«¹":i.REL,"â«º":i.REL,"â«»":i.BIN4,"â«½":i.BIN4,"â«¾":i.BIN3,"â­…":i.RELSTRETCH,"â­†":i.RELSTRETCH,"ã€ˆ":i.OPEN,"ã€‰":i.CLOSE,"ï¸·":i.WIDEACCENT,"ï¸¸":i.WIDEACCENT}};function br(t){return Array.from(t).map(t=>t.codePointAt(0))}function Er(t){return String.fromCodePoint(...t)}function Nr(t){return!!t.match(/%\s*$/)}function xr(t){return t.trim().split(/\s+/)}function yr(t){return`&#x${t.codePointAt(0).toString(16).toUpperCase()};`}gr.infix["^"]=i.WIDEREL,gr.infix._=i.WIDEREL,gr.infix["â«œ"]=i.REL;class vr extends rr{constructor(){super(...arguments),this._texClass=null,this.lspace=5/18,this.rspace=5/18}get texClass(){return null===this._texClass?this.getOperatorDef(this.getText())[2]:this._texClass}set texClass(t){this._texClass=t}get kind(){return"mo"}get isEmbellished(){return!0}coreParent(){let t=null,e=this;for(var s=this.factory.getNodeClass("math");e&&e.isEmbellished&&e.coreMO()===this&&!(e instanceof s);)e=(t=e).parent;return t||this}coreText(t){if(!t)return"";if(t.isEmbellished)return t.coreMO().getText();for(;((t.isKind("mrow")||t.isKind("TeXAtom")||t.isKind("mstyle")||t.isKind("mphantom"))&&1===t.childNodes.length||t.isKind("munderover"))&&t.childNodes[0];)t=t.childNodes[0];return t.isToken?t.getText():""}hasSpacingAttributes(){return this.attributes.isSet("lspace")||this.attributes.isSet("rspace")}get isAccent(){let t=!1;const e=this.coreParent().parent;var s;return t=e&&(s=e.isKind("mover")?e.childNodes[e.over].coreMO()?"accent":"":e.isKind("munder")?e.childNodes[e.under].coreMO()?"accentunder":"":e.isKind("munderover")?this===e.childNodes[e.over].coreMO()?"accent":this===e.childNodes[e.under].coreMO()?"accentunder":"":"")?void 0!==e.attributes.getExplicit(s)?t:this.attributes.get("accent"):t}setTeXclass(t){var{form:e,fence:s}=this.attributes.getList("form","fence");return void 0===this.getProperty("texClass")&&this.hasSpacingAttributes()?null:(s&&this.texClass===c.REL&&("prefix"===e&&(this.texClass=c.OPEN),"postfix"===e&&(this.texClass=c.CLOSE)),this.adjustTeXclass(t))}adjustTeXclass(t){var e=this.texClass;let s=this.prevClass;if(e===c.NONE)return t;if(t?(!t.getProperty("autoOP")||e!==c.BIN&&e!==c.REL||(s=t.texClass=c.ORD),s=this.prevClass=t.texClass||c.ORD,this.prevLevel=this.attributes.getInherited("scriptlevel")):s=this.prevClass=c.NONE,e!==c.BIN||s!==c.NONE&&s!==c.BIN&&s!==c.OP&&s!==c.REL&&s!==c.OPEN&&s!==c.PUNCT)if(s!==c.BIN||e!==c.REL&&e!==c.CLOSE&&e!==c.PUNCT){if(e===c.BIN){let t=null,e=this.parent;for(;e&&e.parent&&e.isEmbellished&&(1===e.childNodes.length||!e.isKind("mrow")&&e.core()===t);)e=(t=e).parent;t=t||this,e.childNodes[e.childNodes.length-1]===t&&(this.texClass=c.ORD)}}else t.texClass=this.prevClass=c.ORD;else this.texClass=c.ORD;return this}setInheritedAttributes(t={},e=!1,s=0,i=!1){super.setInheritedAttributes(t,e,s,i);t=this.getText();this.checkOperatorTable(t),this.checkPseudoScripts(t),this.checkPrimes(t),this.checkMathAccent(t)}getOperatorDef(t){var[e,s,i]=this.handleExplicitForm(this.getForms()),r=(this.attributes.setInherited("form",e),this.constructor),n=r.OPTABLE,e=n[e][t]||n[s][t]||n[i][t];if(e)return e;this.setProperty("noDictDef",!0);s=this.attributes.get("movablelimits");if((t.match(r.opPattern)||s)&&void 0===this.getProperty("texClass"))return o(1,2,c.OP);var n=mr(t),[i,e]=r.MMLSPACING[n[2]];return o(i,e,n[2])}checkOperatorTable(t){var e=this.getOperatorDef(t);void 0===this.getProperty("texClass")&&(this.texClass=e[2]);for(const t of Object.keys(e[3]||{}))this.attributes.setInherited(t,e[3][t]);this.lspace=((e[0]||-1)+1)/18,this.rspace=((e[1]||-1)+1)/18}getForms(){let t=null,e=this.parent,s=this.Parent;for(;s&&s.isEmbellished;)t=e,e=s.parent,s=s.Parent;if(t=t||this,e&&e.isKind("mrow")&&1!==e.nonSpaceLength()){if(e.firstNonSpace()===t)return["prefix","infix","postfix"];if(e.lastNonSpace()===t)return["postfix","infix","prefix"]}return["infix","prefix","postfix"]}handleExplicitForm(t){if(this.attributes.isSet("form")){const e=this.attributes.get("form");t=[e].concat(t.filter(t=>t!==e))}return t}checkPseudoScripts(t){var e=this.constructor.pseudoScripts;if(t.match(e)){const s=this.coreParent().Parent,i=!s||!(s.isKind("msubsup")&&!s.isKind("msub"));this.setProperty("pseudoscript",i),i&&(this.attributes.setInherited("lspace",0),this.attributes.setInherited("rspace",0))}}checkPrimes(t){var e=this.constructor.primes;if(t.match(e)){const s=this.constructor.remapPrimes,i=Er(br(t).map(t=>s[t]));this.setProperty("primes",i)}}checkMathAccent(t){const e=this.Parent;if(void 0===this.getProperty("mathaccent")&&e&&e.isKind("munderover")){const[r,n,o]=e.childNodes;var s,i;r.isEmbellished&&r.coreMO()===this||(s=!(!n||!n.isEmbellished||n.coreMO()!==this),i=!(!o||!o.isEmbellished||n.coreMO()!==this),(s||i)&&(this.isMathAccent(t)?this.setProperty("mathaccent",!0):this.isMathAccentWithWidth(t)&&this.setProperty("mathaccent",!1)))}}isMathAccent(t=this.getText()){var e=this.constructor.mathaccents;return!!t.match(e)}isMathAccentWithWidth(t=this.getText()){var e=this.constructor.mathaccentsWithWidth;return!!t.match(e)}}vr.defaults=Object.assign(Object.assign({},rr.defaults),{form:"infix",fence:!1,separator:!1,lspace:"thickmathspace",rspace:"thickmathspace",stretchy:!1,symmetric:!1,maxsize:"infinity",minsize:"0em",largeop:!1,movablelimits:!1,accent:!1,linebreak:"auto",lineleading:"100%",linebreakstyle:"before",indentalign:"auto",indentshift:"0",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"}),vr.MMLSPACING=fr,vr.OPTABLE=gr,vr.pseudoScripts=new RegExp(["^[\"'*`","Âª","Â°","Â²-Â´","Â¹","Âº","â€˜-â€Ÿ","â€²-â€·â—","â°â±","â´-â¿","â‚€-â‚","]+$"].join("")),vr.primes=new RegExp(["^[\"'","â€˜-â€Ÿ","]+$"].join("")),vr.opPattern=/^[a-zA-Z]{2,}$/,vr.remapPrimes={34:8243,39:8242,8216:8245,8217:8242,8218:8242,8219:8245,8220:8246,8221:8243,8222:8243,8223:8246},vr.mathaccents=new RegExp(["^[","Â´ÌËŠ","`Ì€Ë‹","Â¨Ìˆ","~ÌƒËœ","Â¯Ì„Ë‰","Ë˜Ì†","Ë‡ÌŒ","^Ì‚Ë†","âƒâƒ‘","âƒ–âƒ—âƒ¡","Ë™Ì‡","ËšÌŠ","âƒ›","âƒœ","]$"].join("")),vr.mathaccentsWithWidth=new RegExp(["^[","â†â†’â†”","âœâ","ââŸ","]$"].join(""));class Cr extends rr{constructor(){super(...arguments),this.texclass=c.ORD}get kind(){return"mtext"}get isSpacelike(){return!!this.getText().match(/^\s*$/)&&!this.attributes.hasOneOf(Cr.NONSPACELIKE)}}Cr.NONSPACELIKE=["style","mathbackground","background"],Cr.defaults=Object.assign({},rr.defaults);class _r extends rr{constructor(){super(...arguments),this.texclass=c.NONE}setTeXclass(t){return t}get kind(){return"mspace"}get arity(){return 0}get isSpacelike(){return!this.attributes.hasExplicit("linebreak")&&this.canBreak}get hasNewline(){var t=this.attributes.get("linebreak");return this.canBreak&&("newline"===t||"indentingnewline"===t)}get canBreak(){return!this.attributes.hasOneOf(_r.NONSPACELIKE)&&"-"!==String(this.attributes.get("width")).trim().charAt(0)}}_r.NONSPACELIKE=["height","depth","style","mathbackground","background"],_r.defaults=Object.assign(Object.assign({},rr.defaults),{width:"0em",height:"0ex",depth:"0ex",linebreak:"auto",indentshift:"auto",indentalign:"auto",indenttarget:"",indentalignfirst:"indentalign",indentshiftfirst:"indentshift",indentalignlast:"indentalign",indentshiftlast:"indentshift"});class Tr extends rr{constructor(){super(...arguments),this.texclass=c.ORD}get kind(){return"ms"}}Tr.defaults=Object.assign(Object.assign({},rr.defaults),{lquote:'"',rquote:'"'});class Lr extends a{constructor(){super(...arguments),this._core=null}get kind(){return"mrow"}get isSpacelike(){for(const t of this.childNodes)if(!t.isSpacelike)return!1;return!0}get isEmbellished(){let t=!1,e=0;for(const s of this.childNodes){if(s)if(s.isEmbellished){if(t)return!1;t=!0,this._core=e}else if(!s.isSpacelike)return!1;e++}return t}core(){return this.isEmbellished&&null!=this._core?this.childNodes[this._core]:this}coreMO(){return this.isEmbellished&&null!=this._core?this.childNodes[this._core].coreMO():this}nonSpaceLength(){let t=0;for(const e of this.childNodes)e&&!e.isSpacelike&&t++;return t}firstNonSpace(){for(const t of this.childNodes)if(t&&!t.isSpacelike)return t;return null}lastNonSpace(){let t=this.childNodes.length;for(;0<=--t;){var e=this.childNodes[t];if(e&&!e.isSpacelike)return e}return null}setTeXclass(t){if(null!=this.getProperty("open")||null!=this.getProperty("close")){this.getPrevClass(t),t=null;for(const e of this.childNodes)t=e.setTeXclass(t);return null==this.texClass&&(this.texClass=c.INNER),this}for(const s of this.childNodes)t=s.setTeXclass(t);return this.childNodes[0]&&this.updateTeXclass(this.childNodes[0]),t}}Lr.defaults=Object.assign({},a.defaults);class wr extends Lr{get kind(){return"inferredMrow"}get isInferred(){return!0}get notParent(){return!0}toString(){return"["+this.childNodes.join(",")+"]"}}wr.defaults=Lr.defaults;class Ir extends or{get kind(){return"mfrac"}get arity(){return 2}get linebreakContainer(){return!0}get linebreakAlign(){return""}setTeXclass(t){this.getPrevClass(t);for(const t of this.childNodes)t.setTeXclass(null);return this}setChildInheritedAttributes(t,e,s,i){(!e||0<s)&&s++;var e=this.attributes.get("numalign"),r=this.attributes.get("denomalign"),e=this.addInheritedAttributes(Object.assign({},t),{numalign:e,indentshift:"0",indentalignfirst:e,indentshiftfirst:"0",indentalignlast:"indentalign",indentshiftlast:"indentshift"}),t=this.addInheritedAttributes(Object.assign({},t),{denalign:r,indentshift:"0",indentalignfirst:r,indentshiftfirst:"0",indentalignlast:"indentalign",indentshiftlast:"indentshift"});this.childNodes[0].setInheritedAttributes(e,!1,s,i),this.childNodes[1].setInheritedAttributes(t,!1,s,!0)}}Ir.defaults=Object.assign(Object.assign({},or.defaults),{linethickness:"medium",numalign:"center",denomalign:"center",bevelled:!1});class Sr extends a{constructor(){super(...arguments),this.texclass=c.ORD}get kind(){return"msqrt"}get arity(){return-1}get linebreakContainer(){return!0}setTeXclass(t){return this.getPrevClass(t),this.childNodes[0].setTeXclass(null),this}setChildInheritedAttributes(t,e,s,i){this.childNodes[0].setInheritedAttributes(t,e,s,!0)}}Sr.defaults=Object.assign(Object.assign({},a.defaults),{"data-vertical-align":"bottom"});class Rr extends a{constructor(){super(...arguments),this.texclass=c.ORD}get kind(){return"mroot"}get arity(){return 2}get linebreakContainer(){return!0}setTeXclass(t){return this.getPrevClass(t),this.childNodes[0].setTeXclass(null),this.childNodes[1].setTeXclass(null),this}setChildInheritedAttributes(t,e,s,i){this.childNodes[0].setInheritedAttributes(t,e,s,!0),this.childNodes[1].setInheritedAttributes(t,!1,s+2,i)}}Rr.defaults=Object.assign(Object.assign({},a.defaults),{"data-vertical-align":"bottom"});class kr extends nr{get kind(){return"mstyle"}get notParent(){return this.childNodes[0]&&1===this.childNodes[0].childNodes.length}setInheritedAttributes(t={},e=!1,s=0,i=!1){this.attributes.setInherited("displaystyle",e),this.attributes.setInherited("scriptlevel",s),super.setInheritedAttributes(t,e,s,i)}setChildInheritedAttributes(t,e,s,i){let r=this.attributes.getExplicit("scriptlevel");null!=r&&((r=r.toString()).match(/^\s*[-+]/)?s+=parseInt(r):s=parseInt(r),i=!1);var n=this.attributes.getExplicit("displaystyle"),n=(null!=n&&(e=!0===n,i=!1),this.attributes.getExplicit("data-cramped"));null!=n&&(i=n),t=this.addInheritedAttributes(t,this.attributes.getAllAttributes()),this.childNodes[0].setInheritedAttributes(t,e,s,i)}}kr.defaults=Object.assign(Object.assign({},nr.defaults),{scriptlevel:Ki,displaystyle:Ki,scriptsizemultiplier:1/Math.sqrt(2),scriptminsize:".4em",mathbackground:Ki,mathcolor:Ki,dir:Ki,infixlinebreakstyle:"before"});class Mr extends a{constructor(){super(...arguments),this.texclass=c.ORD}get kind(){return"merror"}get arity(){return-1}get linebreakContainer(){return!0}}Mr.defaults=Object.assign({},a.defaults);class Ar extends nr{get kind(){return"mpadded"}get linebreakContainer(){return!0}setTeXclass(t){return this.getProperty("vbox")?(this.getPrevClass(t),this.texClass=c.ORD,this.childNodes[0].setTeXclass(null),this):super.setTeXclass(t)}}Ar.defaults=Object.assign(Object.assign({},nr.defaults),{width:"",height:"",depth:"",lspace:0,voffset:0});class Or extends nr{constructor(){super(...arguments),this.texclass=c.ORD}get kind(){return"mphantom"}}Or.defaults=Object.assign({},nr.defaults);class Dr extends a{constructor(){super(...arguments),this.texclass=c.INNER,this.separators=[],this.open=null,this.close=null}get kind(){return"mfenced"}setTeXclass(s){this.getPrevClass(s),this.open&&(s=this.open.setTeXclass(s)),this.childNodes[0]&&(s=this.childNodes[0].setTeXclass(s));for(let t=1,e=this.childNodes.length;t<e;t++)this.separators[t-1]&&(s=this.separators[t-1].setTeXclass(s)),this.childNodes[t]&&(s=this.childNodes[t].setTeXclass(s));return this.close&&(s=this.close.setTeXclass(s)),this.updateTeXclass(this.open),s}setChildInheritedAttributes(t,e,s,i){this.addFakeNodes();for(const r of[this.open,this.close].concat(this.separators))r&&r.setInheritedAttributes(t,e,s,i);super.setChildInheritedAttributes(t,e,s,i)}addFakeNodes(){let{open:t,close:e,separators:s}=this.attributes.getList("open","close","separators");if(t=t.replace(/[ \t\n\r]/g,""),e=e.replace(/[ \t\n\r]/g,""),s=s.replace(/[ \t\n\r]/g,""),t&&(this.open=this.fakeNode(t,{fence:!0,form:"prefix"},c.OPEN)),s){for(;s.length<this.childNodes.length-1;)s+=s.charAt(s.length-1);let t=0;for(const e of this.childNodes.slice(1))e&&this.separators.push(this.fakeNode(s.charAt(t++)))}e&&(this.close=this.fakeNode(e,{fence:!0,form:"postfix"},c.CLOSE))}fakeNode(t,e={},s=null){const i=this.factory.create("text").setText(t),r=this.factory.create("mo",e,[i]);return r.texClass=s,r.parent=this,r}}Dr.defaults=Object.assign(Object.assign({},a.defaults),{open:"(",close:")",separators:","});class Pr extends a{constructor(){super(...arguments),this.texclass=c.ORD}get kind(){return"menclose"}get arity(){return-1}get linebreakContainer(){return!0}setTeXclass(t){return t=this.childNodes[0].setTeXclass(t),this.updateTeXclass(this.childNodes[0]),t}}Pr.defaults=Object.assign(Object.assign({},a.defaults),{notation:"longdiv"});class Br extends a{get kind(){return"maction"}get arity(){return 1}get selected(){var t=this.attributes.get("selection"),t=Math.max(1,Math.min(this.childNodes.length,t))-1;return this.childNodes[t]||this.factory.create("mrow")}get isEmbellished(){return this.selected.isEmbellished}get isSpacelike(){return this.selected.isSpacelike}core(){return this.selected.core()}coreMO(){return this.selected.coreMO()}verifyAttributes(t){super.verifyAttributes(t),"toggle"!==this.attributes.get("actiontype")&&this.attributes.hasExplicit("selection")&&this.attributes.unset("selection")}setTeXclass(t){"tooltip"===this.attributes.get("actiontype")&&this.childNodes[1]&&this.childNodes[1].setTeXclass(null);const e=this.selected;return t=e.setTeXclass(t),this.updateTeXclass(e),t}nextToggleSelection(){let t=Math.max(1,parseInt(this.attributes.get("selection"))+1);t>this.childNodes.length&&(t=1),this.attributes.set("selection",t)}setChildInheritedAttributes(t,e,s,i){var r;"tooltip"===this.attributes.get("actiontype").toLowerCase()?(null!=(r=this.childNodes[0])&&r.setInheritedAttributes(t,e,s,i),null!=(r=this.childNodes[1])&&r.setInheritedAttributes(t,!1,1,!1)):super.setChildInheritedAttributes(t,e,s,i)}}Br.defaults=Object.assign(Object.assign({},a.defaults),{actiontype:"toggle",selection:1});class jr extends or{get kind(){return"msubsup"}get arity(){return 3}get base(){return 0}get sub(){return 1}get sup(){return 2}setChildInheritedAttributes(t,e,s,i){const r=this.childNodes;r[0].setInheritedAttributes(t,e,s,i),r[1].setInheritedAttributes(t,!1,s+1,i||1===this.sub),r[2]&&r[2].setInheritedAttributes(t,!1,s+1,i||2===this.sub)}}jr.defaults=Object.assign(Object.assign({},or.defaults),{subscriptshift:"",superscriptshift:""});class Ur extends jr{get kind(){return"msub"}get arity(){return 2}}Ur.defaults=Object.assign({},jr.defaults);class Fr extends jr{get kind(){return"msup"}get arity(){return 2}get sup(){return 1}get sub(){return 2}}Fr.defaults=Object.assign({},jr.defaults);class Hr extends or{get kind(){return"munderover"}get arity(){return 3}get base(){return 0}get under(){return 1}get over(){return 2}get linebreakContainer(){return!0}setChildInheritedAttributes(t,e,s,i){const r=this.childNodes;r[0].setInheritedAttributes(t,e,s,i||!!r[this.over]);var n=!(e||!r[0].coreMO().attributes.get("movablelimits")),o=this.constructor.ACCENTS;r[1].setInheritedAttributes(t,!1,this.getScriptlevel(o[1],n,s),i||1===this.under),this.setInheritedAccent(1,o[1],e,s,i,n),r[2]&&(r[2].setInheritedAttributes(t,!1,this.getScriptlevel(o[2],n,s),i||2===this.under),this.setInheritedAccent(2,o[2],e,s,i,n))}getScriptlevel(t,e,s){return!e&&this.attributes.get(t)||s++,s}setInheritedAccent(t,e,s,i,r,n){const o=this.childNodes[t];if(!this.attributes.hasExplicit(e)&&o.isEmbellished){const t=o.coreMO().attributes.get("accent");this.attributes.setInherited(e,t),t!==this.attributes.getDefault(e)&&o.setInheritedAttributes({},s,this.getScriptlevel(e,n,i),r)}}}Hr.defaults=Object.assign(Object.assign({},or.defaults),{accent:!1,accentunder:!1,align:"center"}),Hr.ACCENTS=["","accentunder","accent"];class qr extends Hr{get kind(){return"munder"}get arity(){return 2}}qr.defaults=Object.assign({},Hr.defaults);class Wr extends Hr{get kind(){return"mover"}get arity(){return 2}get over(){return 1}get under(){return 2}}Wr.defaults=Object.assign({},Hr.defaults),Wr.ACCENTS=["","accent","accentunder"];class zr extends jr{get kind(){return"mmultiscripts"}get arity(){return 1}setChildInheritedAttributes(s,i,r,n){this.childNodes[0].setInheritedAttributes(s,i,r,n);let o=!1;for(let t=1,e=0;t<this.childNodes.length;t++){const a=this.childNodes[t];if(a.isKind("mprescripts")){if(!o&&(o=!0,t%2==0)){const s=this.factory.create("none");this.childNodes.splice(t,0,s),s.parent=this,t++}}else{const i=n||e%2==0;a.setInheritedAttributes(s,!1,r+1,i),e++}}this.childNodes.length%2==(o?1:0)&&(this.appendChild(this.factory.create("none")),this.childNodes[this.childNodes.length-1].setInheritedAttributes(s,!1,r+1,n))}verifyChildren(e){let s=!1;var i=e.fixMmultiscripts;for(let t=0;t<this.childNodes.length;t++){const r=this.childNodes[t];r.isKind("mprescripts")&&(s?r.mError(r.kind+" can only appear once in "+this.kind,e,!0):(s=!0,t%2!=0||i||this.mError("There must be an equal number of prescripts of each type",e)))}this.childNodes.length%2!=(s?1:0)||i||this.mError("There must be an equal number of scripts of each type",e),super.verifyChildren(e)}}zr.defaults=Object.assign({},jr.defaults);class Vr extends a{get kind(){return"mprescripts"}get arity(){return 0}verifyTree(t){super.verifyTree(t),this.parent&&!this.parent.isKind("mmultiscripts")&&this.mError(this.kind+" must be a child of mmultiscripts",t,!0)}}Vr.defaults=Object.assign({},a.defaults);class Xr extends a{get kind(){return"none"}get arity(){return 0}verifyTree(t){super.verifyTree(t),this.parent&&!this.parent.isKind("mmultiscripts")&&this.mError(this.kind+" must be a child of mmultiscripts",t,!0)}}Xr.defaults=Object.assign({},a.defaults);class Jr extends a{constructor(){super(...arguments),this.properties={useHeight:!0},this.texclass=c.ORD}get kind(){return"mtable"}get linebreakContainer(){return!0}get linebreakAlign(){return""}setInheritedAttributes(t,e,s,i){for(const e of ir)t[e]&&this.attributes.setInherited(e,t[e][1]),this.attributes.hasExplicit(e)&&this.attributes.unset(e);super.setInheritedAttributes(t,e,s,i)}setChildInheritedAttributes(t,e,s,i){for(const t of this.childNodes)t.isKind("mtr")||this.replaceChild(this.factory.create("mtr"),t).appendChild(t);e=!(!this.attributes.getExplicit("displaystyle")&&!this.attributes.getDefault("displaystyle")),t=this.addInheritedAttributes(t,{columnalign:this.attributes.get("columnalign"),rowalign:"center","data-break-align":this.attributes.get("data-break-align")});const r=this.attributes.getExplicit("data-cramped"),n=xr(this.attributes.get("rowalign"));for(const i of this.childNodes)t.rowalign[1]=n.shift()||t.rowalign[1],i.setInheritedAttributes(t,e,s,!!r)}verifyChildren(e){let s=null;const i=this.factory;for(let t=0;t<this.childNodes.length;t++){const n=this.childNodes[t];var r;n.isKind("mtr")?s=null:(r=n.isKind("mtd"),s?(this.removeChild(n),t--):s=this.replaceChild(i.create("mtr"),n),s.appendChild(r?n:i.create("mtd",{},[n])),e.fixMtables||(n.parent.removeChild(n),n.parent=this,r&&s.appendChild(i.create("mtd")),r=n.mError("Children of "+this.kind+" must be mtr or mlabeledtr",e,r),s.childNodes[s.childNodes.length-1].appendChild(r)))}super.verifyChildren(e)}setTeXclass(t){this.getPrevClass(t);for(const t of this.childNodes)t.setTeXclass(null);return this}}Jr.defaults=Object.assign(Object.assign({},a.defaults),{align:"axis",rowalign:"baseline",columnalign:"center",groupalign:"{left}",alignmentscope:!0,columnwidth:"auto",width:"auto",rowspacing:"1ex",columnspacing:".8em",rowlines:"none",columnlines:"none",frame:"none",framespacing:"0.4em 0.5ex",equalrows:!1,equalcolumns:!1,displaystyle:!1,side:"right",minlabelspacing:"0.8em","data-break-align":"top"});class Gr extends a{get kind(){return"mtr"}get linebreakContainer(){return!0}get linebreakAlign(){return""}setChildInheritedAttributes(t,e,s,i){for(const t of this.childNodes)t.isKind("mtd")||this.replaceChild(this.factory.create("mtd"),t).appendChild(t);const r=xr(this.attributes.get("columnalign")),n=xr(this.attributes.get("data-break-align"));1===this.arity&&(r.unshift(this.parent.attributes.get("side")),n.unshift("top")),t=this.addInheritedAttributes(t,{rowalign:this.attributes.get("rowalign"),columnalign:"center","data-break-align":"top"});for(const o of this.childNodes)t.columnalign[1]=r.shift()||t.columnalign[1],t["data-vertical-align"]=[this.kind,n.shift()||t["data-break-align"][1]],o.setInheritedAttributes(t,e,s,i)}verifyChildren(t){if(!this.parent||this.parent.isKind("mtable")){for(const e of this.childNodes)e.isKind("mtd")||(this.replaceChild(this.factory.create("mtd"),e).appendChild(e),t.fixMtables||e.mError("Children of "+this.kind+" must be mtd",t));super.verifyChildren(t)}else this.mError(this.kind+" can only be a child of an mtable",t,!0)}setTeXclass(t){this.getPrevClass(t);for(const t of this.childNodes)t.setTeXclass(null);return this}}Gr.defaults=Object.assign(Object.assign({},a.defaults),{rowalign:Ki,columnalign:Ki,groupalign:Ki,"data-break-align":"top"});class Kr extends Gr{get kind(){return"mlabeledtr"}get arity(){return 1}}class Yr extends or{get kind(){return"mtd"}get arity(){return-1}get linebreakContainer(){return!0}get linebreakAlign(){return"columnalign"}verifyChildren(t){!this.parent||this.parent.isKind("mtr")?super.verifyChildren(t):this.mError(this.kind+" can only be a child of an mtr or mlabeledtr",t,!0)}setTeXclass(t){return this.getPrevClass(t),this.childNodes[0].setTeXclass(null),this}}Yr.defaults=Object.assign(Object.assign({},or.defaults),{rowspan:1,columnspan:1,rowalign:Ki,columnalign:Ki,groupalign:Ki,"data-vertical-align":"top"});class $r extends nr{get kind(){return"maligngroup"}get isSpacelike(){return!0}setChildInheritedAttributes(t,e,s,i){t=this.addInheritedAttributes(t,this.attributes.getAllAttributes()),super.setChildInheritedAttributes(t,e,s,i)}}$r.defaults=Object.assign(Object.assign({},nr.defaults),{groupalign:Ki});class Qr extends a{get kind(){return"malignmark"}get arity(){return 0}get isSpacelike(){return!0}}Qr.defaults=Object.assign(Object.assign({},a.defaults),{edge:"left"});class Zr extends rr{constructor(){super(...arguments),this.texclass=c.ORD}get kind(){return"mglyph"}verifyAttributes(t){var{src:e,fontfamily:s,index:i}=this.attributes.getList("src","fontfamily","index");""!==e||""!==s&&""!==i?super.verifyAttributes(t):this.mError("mglyph must have either src or fontfamily and index attributes",t,!0)}}Zr.defaults=Object.assign(Object.assign({},rr.defaults),{alt:"",src:"",index:"",width:"auto",height:"auto",valign:"0em"});class tn extends or{get kind(){return"semantics"}get arity(){return 1}get notParent(){return!0}}tn.defaults=Object.assign(Object.assign({},or.defaults),{definitionUrl:null,encoding:null});class en extends a{get kind(){return"annotation-xml"}setChildInheritedAttributes(){}}en.defaults=Object.assign(Object.assign({},a.defaults),{definitionUrl:null,encoding:null,cd:"mathmlkeys",name:"",src:null});class sn extends en{constructor(){super(...arguments),this.properties={isChars:!0}}get kind(){return"annotation"}}sn.defaults=Object.assign({},en.defaults);class rn extends or{get kind(){return"TeXAtom"}get arity(){return-1}get notParent(){return!0}constructor(t,e,s){super(t,e,s),this.texclass=c.ORD,this.setProperty("texClass",this.texClass)}setTeXclass(t){return this.childNodes[0].setTeXclass(null),this.adjustTeXclass(t)}adjustTeXclass(t){return t}}rn.defaults=Object.assign({},or.defaults),rn.prototype.adjustTeXclass=vr.prototype.adjustTeXclass;class nn extends or{get kind(){return"MathChoice"}get arity(){return 4}get notParent(){return!0}setInheritedAttributes(t,e,s,i){const r=e?0:Math.max(0,Math.min(s,2))+1,n=this.childNodes[r]||this.factory.create("mrow");this.parent.replaceChild(n,this),n.setInheritedAttributes(t,e,s,i)}}nn.defaults=Object.assign({},or.defaults);class on extends hr{get kind(){return"html"}getHTML(){return this.getXML()}setHTML(e,s=null){try{s.getAttribute(e,"data-mjx-hdw")}catch(t){e=s.node("span",{},[e])}return this.setXML(e,s)}getSerializedHTML(){return this.adaptor.outerHTML(this.xml)}textContent(){return this.adaptor.textContent(this.xml)}toString(){var t=this.adaptor.kind(this.xml);return`HTML=<${t}>...</${t}>`}verifyTree(t){this.parent&&!this.parent.isToken&&this.mError("HTML can only be a child of a token element",t,!0)}}const an={[cr.prototype.kind]:cr,[dr.prototype.kind]:dr,[ur.prototype.kind]:ur,[vr.prototype.kind]:vr,[Cr.prototype.kind]:Cr,[_r.prototype.kind]:_r,[Tr.prototype.kind]:Tr,[Lr.prototype.kind]:Lr,[wr.prototype.kind]:wr,[Ir.prototype.kind]:Ir,[Sr.prototype.kind]:Sr,[Rr.prototype.kind]:Rr,[kr.prototype.kind]:kr,[Mr.prototype.kind]:Mr,[Ar.prototype.kind]:Ar,[Or.prototype.kind]:Or,[Dr.prototype.kind]:Dr,[Pr.prototype.kind]:Pr,[Br.prototype.kind]:Br,[Ur.prototype.kind]:Ur,[Fr.prototype.kind]:Fr,[jr.prototype.kind]:jr,[qr.prototype.kind]:qr,[Wr.prototype.kind]:Wr,[Hr.prototype.kind]:Hr,[zr.prototype.kind]:zr,[Vr.prototype.kind]:Vr,[Xr.prototype.kind]:Xr,[Jr.prototype.kind]:Jr,[Kr.prototype.kind]:Kr,[Gr.prototype.kind]:Gr,[Yr.prototype.kind]:Yr,[$r.prototype.kind]:$r,[Qr.prototype.kind]:Qr,[Zr.prototype.kind]:Zr,[tn.prototype.kind]:tn,[sn.prototype.kind]:sn,[en.prototype.kind]:en,[rn.prototype.kind]:rn,[nn.prototype.kind]:nn,[lr.prototype.kind]:lr,[hr.prototype.kind]:hr,[on.prototype.kind]:on};class ln extends Gi{get MML(){return this.node}}ln.defaultNodes=an;class hn{constructor(){this.bits=0}static allocate(...t){for(const e of t){if(this.has(e))throw new Error("Bit already allocated for "+e);if(this.next===hn.MAXBIT)throw new Error("Maximum number of bits already allocated");this.names.set(e,this.next),this.next<<=1}}static has(t){return this.names.has(t)}set(t){this.bits|=this.getBit(t)}clear(t){this.bits&=~this.getBit(t)}isSet(t){return!!(this.bits&this.getBit(t))}reset(){this.bits=0}getBit(t){var e=this.constructor.names.get(t);if(e)return e;throw new Error("Unknown bit-field name: "+t)}}function cn(...t){var e=class extends hn{};return e.allocate(...t),e}function dn(t){return new Promise(function s(i,r){const e=t=>{var e;t.retry instanceof Promise?t.retry.then(()=>s(i,r)).catch(t=>r(t)):null!=(e=t.restart)&&e.isCallback?MathJax.Callback.After(()=>s(i,r),t.restart):r(t)};try{const s=t();s instanceof Promise?s.then(t=>i(t)).catch(t=>e(t)):i(s)}catch(t){e(t)}})}function un(t){const e=new Error("MathJax retry -- an asynchronous action is required; try using one of the promise-based functions and await its resolution.");throw e.retry=t,e}hn.MAXBIT=1<<31,hn.next=1,hn.names=new Map;function pn(t,o,a,l){return new(a=a||Promise)(function(s,e){function i(t){try{n(l.next(t))}catch(t){e(t)}}function r(t){try{n(l.throw(t))}catch(t){e(t)}}function n(t){var e;t.done?s(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(i,r)}n((l=l.apply(t,o||[])).next())})}class mn extends ai{static create(t){const e=new this;for(const r of Object.keys(t)){var[s,i]=this.action(r,t[r]);i&&e.add(s,i)}return e}static action(t,e){let s,i,r=!0;const n=e[0];if(1===e.length||"boolean"==typeof e[1])2===e.length&&(r=e[1]),[s,i]=this.methodActions(t);else if("string"==typeof e[1])if("string"==typeof e[2]){4===e.length&&(r=e[3]);const[t,n]=e.slice(1);[s,i]=this.methodActions(t,n)}else 3===e.length&&(r=e[2]),[s,i]=this.methodActions(e[1]);else 4===e.length&&(r=e[3]),[s,i]=e.slice(1);return[{id:t,renderDoc:s,renderMath:i,convert:r},n]}static methodActions(e,s=e){return[t=>(e&&t[e](),!1),(t,e)=>(s&&t[s](e),!1)]}renderDoc(t,e=u.UNPROCESSED){for(const s of this.items)if(s.priority>=e&&s.item.renderDoc(t))return}renderMath(t,e,s=u.UNPROCESSED){for(const i of this.items)if(i.priority>=s&&i.item.renderMath(t,e))return}renderConvert(t,e,s=u.LAST){for(const i of this.items){if(i.priority>s)return;if(i.item.convert&&i.item.renderMath(t,e))return}}findID(t){for(const e of this.items)if(e.item.id===t)return e.item;return null}}const fn={all:!1,processed:!1,inputJax:null,outputJax:null},gn={all:!0,processed:!0,inputJax:[],outputJax:[]};class bn extends Ui{compile(t){return null}}class En extends Fi{typeset(t,e=0){return null}escaped(t,e){return null}}class Nn extends zi{}class xn{constructor(t,e,s){var i=this.constructor;this.document=t,this.options=wi(Li({},i.OPTIONS),s),this.math=new(this.options.MathList||Nn),this.renderActions=mn.create(this.options.renderActions),this._actionPromises=[],this._readyPromise=Promise.resolve(),this.processed=new xn.ProcessBits,this.outputJax=this.options.OutputJax||new En;let r=this.options.InputJax||[new bn];Array.isArray(r)||(r=[r]),this.inputJax=r,this.adaptor=e,this.outputJax.setAdaptor(e),this.inputJax.map(t=>t.setAdaptor(e)),this.mmlFactory=this.options.MmlFactory||new ln,this.inputJax.map(t=>t.setMmlFactory(this.mmlFactory)),this.outputJax.initialize(),this.inputJax.map(t=>t.initialize())}get kind(){return this.constructor.KIND}addRenderAction(t,...e){var[t,e]=mn.action(t,e);this.renderActions.add(t,e)}removeRenderAction(t){t=this.renderActions.findID(t);t&&this.renderActions.remove(t)}render(){return this.clearPromises(),this.renderActions.renderDoc(this),this}renderPromise(){return this.whenReady(()=>dn(()=>pn(this,void 0,void 0,function*(){return this.render(),yield this.actionPromises(),this.clearPromises(),this})))}rerender(t=u.RERENDER){return this.state(t-1),this.render(),this}rerenderPromise(t=u.RERENDER){return this.whenReady(()=>dn(()=>pn(this,void 0,void 0,function*(){return this.rerender(t),yield this.actionPromises(),this.clearPromises(),this})))}convert(t,e={}){let{format:s,display:i,end:r,ex:n,em:o,containerWidth:a,scale:l,family:h}=wi({format:this.inputJax[0].name,display:!0,end:u.LAST,em:16,ex:8,containerWidth:null,scale:1,family:""},e);null===a&&(a=80*n);const c=this.inputJax.reduce((t,e)=>e.name===s?e:t,null),d=new this.options.MathItem(t,c,i);return d.start.node=this.adaptor.body(this.document),d.setMetrics(o,n,a,l),h&&this.outputJax.options.mtextInheritFont&&(d.outputData.mtextFamily=h),h&&this.outputJax.options.merrorInheritFont&&(d.outputData.merrorFamily=h),this.clearPromises(),d.convert(this,r),d.typesetRoot||d.root}convertPromise(e,s={}){return this.whenReady(()=>dn(()=>pn(this,void 0,void 0,function*(){var t=this.convert(e,s);return yield this.actionPromises(),this.clearPromises(),t})))}whenReady(i){return this._readyPromise=this._readyPromise.catch(t=>{}).then(()=>{var t=this._readyPromise;this._readyPromise=Promise.resolve();const e=i(),s=this._readyPromise.then(()=>e);return this._readyPromise=t,s})}actionPromises(){return Promise.all(this._actionPromises)}clearPromises(){this._actionPromises=[]}savePromise(t){this._actionPromises.push(t)}findMath(t=0){return this.processed.set("findMath"),this}compile(){if(!this.processed.isSet("compile")){const e=[];for(const s of this.math)this.compileMath(s),void 0!==s.inputData.recompile&&e.push(s);for(const i of e){var t=i.inputData.recompile;i.state(t.state),i.inputData.recompile=t,this.compileMath(i)}this.processed.set("compile")}return this}compileMath(e){try{e.compile(this)}catch(t){if(t.retry||t.restart)throw t;this.options.compileError(this,e,t),e.inputData.error=t}}compileError(t,e){t.root=this.mmlFactory.create("math",null,[this.mmlFactory.create("merror",{"data-mjx-error":e.message,title:e.message},[this.mmlFactory.create("mtext",null,[this.mmlFactory.create("text").setText("Math input error")])])]),t.display&&t.root.attributes.set("display","block"),t.inputData.error=e.message}typeset(){if(!this.processed.isSet("typeset")){for(const e of this.math)try{e.typeset(this)}catch(t){if(t.retry||t.restart)throw t;this.options.typesetError(this,e,t),e.outputData.error=t}this.processed.set("typeset")}return this}typesetError(t,e){t.typesetRoot=this.adaptor.node("mjx-container",{class:"MathJax mjx-output-error",jax:this.outputJax.name},[this.adaptor.node("span",{"data-mjx-error":e.message,title:e.message,style:{color:"red","background-color":"yellow","line-height":"normal"}},[this.adaptor.text("Math output error")])]),t.display&&this.adaptor.setAttributes(t.typesetRoot,{style:{display:"block",margin:"1em 0","text-align":"center"}}),t.outputData.error=e.message}getMetrics(){return this.processed.isSet("getMetrics")||(this.outputJax.getMetrics(this),this.processed.set("getMetrics")),this}updateDocument(){if(!this.processed.isSet("updateDocument")){for(const t of this.math.reversed())t.updateDocument(this);this.processed.set("updateDocument")}return this}removeFromDocument(t=0){return this}state(t,e=!1){for(const s of this.math)s.state(t,e);return t<u.INSERTED&&this.processed.clear("updateDocument"),t<u.TYPESET&&(this.processed.clear("typeset"),this.processed.clear("getMetrics")),t<u.COMPILED&&this.processed.clear("compile"),t<u.FINDMATH&&this.processed.clear("findMath"),this}reset(e={processed:!0}){return(e=wi(Object.assign({},fn),e)).all&&Object.assign(e,gn),e.processed&&this.processed.reset(),e.inputJax&&this.inputJax.forEach(t=>t.reset(...e.inputJax)),e.outputJax&&this.outputJax.reset(...e.outputJax),this}clear(){return this.reset(),this.math.clear(),this}done(){return Promise.resolve()}concat(t){return this.math.merge(t),this}clearMathItemsWithin(t){const e=this.getMathItemsWithin(t);for(const t of e.slice(0).reverse())t.clear();return this.math.remove(...e),e}getMathItemsWithin(t){Array.isArray(t)||(t=[t]);const e=this.adaptor,s=[],i=e.getElements(t,this.document);t:for(const t of this.math)for(const r of i)if(t.start.node&&e.contains(r,t.start.node)){s.push(t);continue t}return s}}xn.KIND="MathDocument",xn.OPTIONS={OutputJax:null,InputJax:null,MmlFactory:null,MathList:Nn,MathItem:class extends Vi{},compileError:(t,e,s)=>{t.compileError(e,s)},typesetError:(t,e,s)=>{t.typesetError(e,s)},renderActions:yi({find:[u.FINDMATH,"findMath","",!1],compile:[u.COMPILED],metrics:[u.METRICS,"getMetrics","",!1],typeset:[u.TYPESET],update:[u.INSERTED,"updateDocument",!1]})},xn.ProcessBits=cn("findMath","compile","getMetrics","typeset","updateDocument");class yn extends xn{}class vn{constructor(t,e=5){this.documentClass=yn,this.adaptor=t,this.priority=e}get name(){return this.constructor.NAME}handlesDocument(t){return!1}create(t,e){return new this.documentClass(t,this.adaptor,e)}}vn.NAME="generic";class Cn extends ai{register(t){return this.add(t,t.priority)}unregister(t){this.remove(t)}handlesDocument(t){for(const e of this){const s=e.item;if(s.handlesDocument(t))return s}throw new Error("Can't find handler for document")}document(t,e=null){return this.handlesDocument(t).create(t,e)}}class _n{static methodName(t){return"visit"+(t.charAt(0).toUpperCase()+t.substring(1)).replace(/[^a-z0-9_]/gi,"_")+"Node"}constructor(t){this.nodeHandlers=new Map;for(const e of t.getKinds()){const t=this[_n.methodName(e)];t&&this.nodeHandlers.set(e,t)}}visitTree(t,...e){return this.visitNode(t,...e)}visitNode(t,...e){return(this.nodeHandlers.get(t.kind)||this.visitDefault).call(this,t,...e)}visitDefault(t,...e){if("childNodes"in t)for(const s of t.childNodes)this.visitNode(s,...e)}setNodeHandler(t,e){this.nodeHandlers.set(t,e)}removeNodeHandler(t){this.nodeHandlers.delete(t)}}const Tn="data-mjx-";class Ln extends _n{constructor(t=null){super(t=t||new ln)}visitTextNode(t){}visitXMLNode(t){}visitHtmlNode(t){}getKind(t){t=t.kind;return Ri(t,this.constructor.rename,t)}getAttributeList(t){const e=this.constructor,s=Ri(t.kind,e.defaultAttributes,{}),i=Object.assign({},s,this.getDataAttributes(t),t.attributes.getAllAttributes()),r=e.variants;return Object.hasOwn(i,"mathvariant")&&(Object.hasOwn(r,i.mathvariant)?i.mathvariant=r[i.mathvariant]:t.getProperty("ignore-variant")&&delete i.mathvariant),i}getDataAttributes(e){const s={},t=e.attributes.getExplicit("mathvariant"),i=this.constructor.variants;t&&(e.getProperty("ignore-variant")||Object.hasOwn(i,t))&&this.setDataAttribute(s,"variant",t),e.getProperty("variantForm")&&this.setDataAttribute(s,"alternate","1"),e.getProperty("pseudoscript")&&this.setDataAttribute(s,"pseudoscript","true"),!1===e.getProperty("autoOP")&&this.setDataAttribute(s,"auto-op","false");var r=e.getProperty("vbox"),r=(r&&this.setDataAttribute(s,"vbox",r),e.getProperty("scriptalign"));r&&this.setDataAttribute(s,"script-align",r);const n=e.getProperty("mathaccent");void 0!==n&&(n&&!e.isMathAccent()||!n&&!e.isMathAccentWithWidth())&&this.setDataAttribute(s,"mathaccent",n.toString());r=e.getProperty("texClass");if(void 0!==r){let t=!0;if(r===c.OP&&e.isKind("mi")){const s=e.getText();t=!(1<s.length&&s.match(dr.operatorName))}t&&this.setDataAttribute(s,"texclass",r<0?"NONE":Zi[r])}return e.getProperty("smallmatrix")&&this.setDataAttribute(s,"smallmatrix","true"),s}setDataAttribute(t,e,s){t[Tn+e]=s}}Ln.rename={TeXAtom:"mrow"},Ln.variants={"-tex-calligraphic":"script","-tex-bold-calligraphic":"bold-script","-tex-oldstyle":"normal","-tex-bold-oldstyle":"bold","-tex-mathit":"italic"},Ln.defaultAttributes={math:{xmlns:"http://www.w3.org/1998/Math/MathML"}};class wn extends Ln{constructor(){super(...arguments),this.document=null}visitTree(t,e){e=(this.document=e).createElement("top");return this.visitNode(t,e),this.document=null,e.firstChild}visitTextNode(t,e){e.appendChild(this.document.createTextNode(t.getText()))}visitXMLNode(t,e){e.appendChild(t.getXML().cloneNode(!0))}visitHtmlNode(t,e){e.appendChild(t.getHTML().cloneNode(!0))}visitInferredMrowNode(t,e){for(const s of t.childNodes)this.visitNode(s,e)}visitDefault(t,e){var s=this.document.createElement(this.getKind(t));this.addAttributes(t,s);for(const e of t.childNodes)this.visitNode(e,s);e.appendChild(s)}addAttributes(t,e){const s=this.getAttributeList(t);for(const t of Object.keys(s))e.setAttribute(t,s[t].toString())}}class In extends Ln{visitTree(t){return this.visitNode(t,"")}visitTextNode(t,e){return this.quoteHTML(t.getText())}visitXMLNode(t,e){return e+t.getSerializedXML()}visitHtmlNode(t,e){return t.getSerializedHTML()}visitInferredMrowNode(t,e){const s=[];for(const i of t.childNodes)s.push(this.visitNode(i,e));return s.join("\n")}visitAnnotationNode(t,e){var s=this.childNodeMml(t,"","");return`${e}<annotation${this.getAttributes(t)}>${s}</annotation>`}visitDefault(t,e){const s=this.getKind(t),[i,r]=t.isToken||0===t.childNodes.length?["",""]:["\n",e],n=this.childNodeMml(t,e+"  ",i),o=n.match(/\S/)?i+n+r:"";return`${e}<${s}${this.getAttributes(t)}>${o}</${s}>`}childNodeMml(t,e,s){let i="";for(const r of t.childNodes)i+=this.visitNode(r,e)+s;return i}getAttributes(t){const e=[],s=this.getAttributeList(t);for(const t of Object.keys(s)){var i=String(s[t]);void 0!==i&&e.push(t+'="'+this.quoteHTML(i)+'"')}return e.length?" "+e.join(" "):""}quoteHTML(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/[\uD800-\uDBFF]./g,this.toEntity).replace(/[\u0080-\uD7FF\uE000-\uFFFF]/g,this.toEntity)}toEntity(t){return yr(t)}}class Sn{get kind(){return this.node.kind}constructor(t,e){this.factory=t,this.node=e}wrap(t){return this.factory.wrap(t)}walkTree(t,e){if(t(this,e),"childNodes"in this)for(const s of this.childNodes)s&&s.walkTree(t,e);return e}}class Rn extends Ji{wrap(t,...e){return this.create(t.kind,t,...e)}}const kn={version:Ys,context:ri,handlers:new Cn,document:function(t,e){return kn.handlers.document(t,e)},handleRetriesFor:dn,retryAfter:un,asyncLoad:null,asyncIsSynchronous:!1};class Mn extends Vi{get adaptor(){return this.inputJax.adaptor}constructor(t,e,s=!0,i={node:null,n:0,delim:""},r={node:null,n:0,delim:""}){super(t,e,s,i,r)}updateDocument(t){if(this.state()<u.INSERTED){if(this.inputJax.processStrings){let t=this.start.node;if(t===this.end.node)this.end.n&&this.end.n<this.adaptor.value(this.end.node).length&&this.adaptor.split(this.end.node,this.end.n),this.start.n&&(t=this.adaptor.split(this.start.node,this.start.n)),this.adaptor.replace(this.typesetRoot,t);else{for(this.start.n&&(t=this.adaptor.split(t,this.start.n));t!==this.end.node;){var e=this.adaptor.next(t);this.adaptor.remove(t),t=e}this.adaptor.insert(this.typesetRoot,t),this.end.n<this.adaptor.value(t).length&&this.adaptor.split(t,this.end.n),this.adaptor.remove(t)}}else this.adaptor.replace(this.typesetRoot,this.start.node);this.start.node=this.end.node=this.typesetRoot,this.start.n=this.end.n=0,this.state(u.INSERTED)}}updateStyleSheet(t){t.addStyleSheet()}removeFromDocument(e=!1){if(super.removeFromDocument(e),this.state()>=u.TYPESET){const i=this.adaptor,r=this.start.node;let t=i.text("");if(e){const e=this.start.delim+this.math+this.end.delim;var s;t=this.inputJax.processStrings?i.text(e):(s=i.parse(e,"text/html"),i.firstChild(i.body(s)))}i.parent(r)&&i.replace(t,r),this.start.node=this.end.node=t,this.start.n=this.end.n=0}}}class An extends zi{}class On{constructor(t=null){var e=this.constructor;this.options=wi(Li({},e.OPTIONS),t),this.init(),this.getPatterns()}init(){this.strings=[],this.string="",this.snodes=[],this.nodes=[],this.stack=[]}getPatterns(){const t=vi(this.options.skipHtmlTags),e=vi(this.options.ignoreHtmlClass),s=vi(this.options.processHtmlClass);this.skipHtmlTags=new RegExp("^(?:"+t.join("|")+")$","i"),this.ignoreHtmlClass=new RegExp("(?:^| )(?:"+e.join("|")+")(?: |$)"),this.processHtmlClass=new RegExp("(?:^| )(?:"+s+")(?: |$)")}pushString(){this.string.match(/\S/)&&(this.strings.push(this.string),this.nodes.push(this.snodes)),this.string="",this.snodes=[]}extendString(t,e){this.snodes.push([t,e.length]),this.string+=e}handleText(t,e){return e||this.extendString(t,this.adaptor.value(t)),this.adaptor.next(t)}handleTag(t,e){if(!e){const e=this.options.includeHtmlTags[this.adaptor.kind(t)];e instanceof Function?this.extendString(t,e(t,this.adaptor)):this.extendString(t,e)}return this.adaptor.next(t)}handleContainer(t,e){this.pushString();var s=this.adaptor.getAttribute(t,"class")||"",i=this.adaptor.kind(t)||"",r=this.processHtmlClass.exec(s);let n=t;return!this.adaptor.firstChild(t)||this.adaptor.getAttribute(t,"data-MJX")||!r&&this.skipHtmlTags.exec(i)?n=this.adaptor.next(t):(this.adaptor.next(t)&&this.stack.push([this.adaptor.next(t),e]),n=this.adaptor.firstChild(t),e=(e||this.ignoreHtmlClass.exec(s))&&!r),[n,e]}handleOther(t,e){return this.pushString(),this.adaptor.next(t)}find(t){this.init();const e=this.adaptor.next(t);let s=!1;for(var i=this.options.includeHtmlTags;t&&t!==e;){const e=this.adaptor.kind(t);"#text"===e?t=this.handleText(t,s):Object.hasOwn(i,e)?t=this.handleTag(t,s):e?[t,s]=this.handleContainer(t,s):t=this.handleOther(t,s),!t&&this.stack.length&&(this.pushString(),[t,s]=this.stack.pop())}this.pushString();var r=[this.strings,this.nodes];return this.init(),r}}On.OPTIONS={skipHtmlTags:["script","noscript","style","textarea","pre","code","math","select","option","mjx-container"],includeHtmlTags:yi({br:"\n",wbr:"","#comment":""}),ignoreHtmlClass:"mathjax_ignore",processHtmlClass:"mathjax_process"},Xi("STYLES",u.INSERTED+1);class Dn extends xn{constructor(t,e,s){var[s,i]=Si(s,On.OPTIONS);super(t,e,s),this.domStrings=this.options.DomStrings||new On(i),this.domStrings.adaptor=e,this.styles=[]}findPosition(t,e,s,i){const r=this.adaptor,n=1/(i[t].length||1);let o=t;for(var[a,l]of i[t]){if(e<=l&&"#text"===r.kind(a))return{i:o,node:a,n:Math.max(e,0),delim:s};e-=l,o+=n}return{node:null,n:0,delim:s}}mathItem(t,e,s){var i=t.math,r=this.findPosition(t.n,t.start.n,t.open,s),s=this.findPosition(t.n,t.end.n,t.close,s);return new this.options.MathItem(i,e,t.display,r,s)}findMath(t){if(!this.processed.isSet("findMath")){this.adaptor.document=this.document,t=wi({elements:this.options.elements||[this.adaptor.body(this.document)]},t);var e=this.adaptor.getElements(t.elements,this.document);for(const t of this.inputJax){var s=t.processStrings?this.findMathFromStrings(t,e):this.findMathFromDOM(t,e);this.math.merge(s)}this.processed.set("findMath")}return this}findMathFromStrings(t,e){const s=[],i=[];for(const t of e){const[e,r]=this.domStrings.find(t);s.push(...e),i.push(...r)}const r=new this.options.MathList;for(const e of t.findMath(s))r.push(this.mathItem(e,t,i));return r}findMathFromDOM(t,e){const s=[];for(const i of e)for(const e of t.findMath(i))s.push(new this.options.MathItem(e.math,t,e.display,e.start,e.end));return new this.options.MathList(...s)}updateDocument(){return this.processed.isSet("updateDocument")||(this.addPageElements(),this.addStyleSheet(),super.updateDocument(),this.processed.set("updateDocument")),this}addPageElements(){const t=this.adaptor,e=t.body(this.document),s=this.documentPageElements();var i;s&&((i=t.firstChild(e))?t.insert(s,i):t.append(e,s))}addStyleSheet(){const t=this.documentStyleSheet(),e=this.adaptor;var s,i;t&&!e.parent(t)&&(s=e.head(this.document),(i=this.findSheet(s,e.getAttribute(t,"id")))?e.replace(t,i):e.append(s,t))}findSheet(t,e){if(e)for(const s of this.adaptor.tags(t,"style"))if(this.adaptor.getAttribute(s,"id")===e)return s;return null}removeFromDocument(t=!1){if(this.processed.isSet("updateDocument"))for(const e of this.math)e.state()>=u.INSERTED&&e.state(u.TYPESET,t);return this.processed.clear("updateDocument"),this}documentStyleSheet(){return this.outputJax.styleSheet(this)}documentPageElements(){return this.outputJax.pageElements(this)}addStyles(t){this.styles.push(t),"insertStyles"in this.outputJax&&this.outputJax.insertStyles(t)}getStyles(){return this.styles}}Dn.KIND="HTML",Dn.OPTIONS=Object.assign(Object.assign({},xn.OPTIONS),{renderActions:yi(Object.assign(Object.assign({},xn.OPTIONS.renderActions),{styles:[u.STYLES,"","updateStyleSheet",!1]})),MathList:An,MathItem:Mn,DomStrings:null});class Pn extends vn{constructor(){super(...arguments),this.documentClass=Dn}handlesDocument(t){const e=this.adaptor;if("string"==typeof t)try{t=e.parse(t,"text/html")}catch(t){}return t instanceof e.window.Document||t instanceof e.window.HTMLElement||t instanceof e.window.DocumentFragment}create(t,e){const s=this.adaptor;if("string"==typeof t)t=s.parse(t,"text/html");else if(t instanceof s.window.HTMLElement||t instanceof s.window.DocumentFragment){const e=t;t=s.parse("","text/html"),s.append(s.body(t),e)}return super.create(t,e)}}function Bn(i){return kn.asyncLoad?new Promise((e,s)=>{const t=kn.asyncLoad(i);t instanceof Promise?t.then(t=>e(t)).catch(t=>s(t)):e(t)}):Promise.reject(`Can't load '${i}': No mathjax.asyncLoad method specified`)}const jn=1e6,Un={px:1,in:96,cm:96/2.54,mm:96/25.4},Fn={em:1,ex:.431,pt:.1,pc:1.2,mu:1/18},Hn={veryverythinmathspace:1/18,verythinmathspace:2/18,thinmathspace:3/18,mediummathspace:4/18,thickmathspace:5/18,verythickmathspace:6/18,veryverythickmathspace:7/18,negativeveryverythinmathspace:-1/18,negativeverythinmathspace:-2/18,negativethinmathspace:-3/18,negativemediummathspace:-4/18,negativethickmathspace:-5/18,negativeverythickmathspace:-6/18,negativeveryverythickmathspace:-7/18,thin:.04,medium:.06,thick:.1,normal:1,big:2,small:1/Math.sqrt(2),infinity:jn};function qn(t,e=0,s=1,i=16){if(""===(t="string"!=typeof t?String(t):t)||null==t)return e;if(Hn[t])return Hn[t];t=t.match(/^\s*([-+]?(?:\.\d+|\d+(?:\.\d*)?))?(pt|em|ex|mu|px|pc|in|mm|cm|%)?/);if(!t||""===t[0])return e;var r=parseFloat(t[1]||"1"),t=t[2];return Object.hasOwn(Un,t)?r*Un[t]/i/s:Object.hasOwn(Fn,t)?r*Fn[t]:"%"===t?r/100*e:r*e}function Wn(t){return(100*t).toFixed(1).replace(/\.?0+$/,"")+"%"}function l(t){return Math.abs(t)<.001?"0":t.toFixed(3).replace(/\.?0+$/,"")+"em"}function zn(t,e=-jn,s=16){return t*=s,e&&t<e&&(t=e),Math.abs(t)<.1?"0":t.toFixed(1).replace(/\.0$/,"")+"px"}class d{static zero(){return new d({h:0,d:0,w:0})}static empty(){return new d}constructor(t={w:0,h:-jn,d:-jn}){this.w=t.w||0,this.h="h"in t?t.h:-jn,this.d="d"in t?t.d:-jn,this.L=this.R=this.ic=this.oc=this.sk=this.dx=0,this.scale=this.rscale=1,this.pwidth=""}empty(){return this.w=0,this.h=this.d=-jn,this}clean(){this.w===-jn&&(this.w=0),this.h===-jn&&(this.h=0),this.d===-jn&&(this.d=0)}rescale(t){this.w*=t,this.h*=t,this.d*=t}combine(t,e=0,s=0){var i=t.rscale,e=e+i*(t.w+t.L+t.R),r=s+i*t.h,i=i*t.d-s;e>this.w&&(this.w=e),r>this.h&&(this.h=r),i>this.d&&(this.d=i)}append(t){var e=t.rscale;this.w+=e*(t.w+t.L+t.R),e*t.h>this.h&&(this.h=e*t.h),e*t.d>this.d&&(this.d=e*t.d)}updateFrom(t){this.h=t.h,this.d=t.d,this.w=t.w,t.pwidth&&(this.pwidth=t.pwidth)}copy(){var t=new d;return Object.assign(t,this),t}}d.fullWidth="100%",d.boxSides=[["Top",0,"h"],["Right",1,"w"],["Bottom",2,"d"],["Left",3,"w"]];const Vn={loadMissingEntities:!0},Xn={ApplyFunction:"â¡",Backslash:"âˆ–",Because:"âˆµ",Breve:"Ë˜",Cap:"â‹’",CenterDot:"Â·",CircleDot:"âŠ™",CircleMinus:"âŠ–",CirclePlus:"âŠ•",CircleTimes:"âŠ—",Congruent:"â‰¡",ContourIntegral:"âˆ®",Coproduct:"âˆ",Cross:"â¨¯",Cup:"â‹“",CupCap:"â‰",Dagger:"â€¡",Del:"âˆ‡",Delta:"Î”",Diamond:"â‹„",DifferentialD:"â…†",DotEqual:"â‰",DoubleDot:"Â¨",DoubleRightTee:"âŠ¨",DoubleVerticalBar:"âˆ¥",DownArrow:"â†“",DownLeftVector:"â†½",DownRightVector:"â‡",DownTee:"âŠ¤",Downarrow:"â‡“",Element:"âˆˆ",EqualTilde:"â‰‚",Equilibrium:"â‡Œ",Exists:"âˆƒ",ExponentialE:"â…‡",FilledVerySmallSquare:"â–ª",ForAll:"âˆ€",Gamma:"Î“",Gg:"â‹™",GreaterEqual:"â‰¥",GreaterEqualLess:"â‹›",GreaterFullEqual:"â‰§",GreaterLess:"â‰·",GreaterSlantEqual:"â©¾",GreaterTilde:"â‰³",Hacek:"Ë‡",Hat:"^",HumpDownHump:"â‰",HumpEqual:"â‰",Im:"â„‘",ImaginaryI:"â…ˆ",Integral:"âˆ«",Intersection:"â‹‚",InvisibleComma:"â£",InvisibleTimes:"â¢",Lambda:"Î›",Larr:"â†",LeftAngleBracket:"âŸ¨",LeftArrow:"â†",LeftArrowRightArrow:"â‡†",LeftCeiling:"âŒˆ",LeftDownVector:"â‡ƒ",LeftFloor:"âŒŠ",LeftRightArrow:"â†”",LeftTee:"âŠ£",LeftTriangle:"âŠ²",LeftTriangleEqual:"âŠ´",LeftUpVector:"â†¿",LeftVector:"â†¼",Leftarrow:"â‡",Leftrightarrow:"â‡”",LessEqualGreater:"â‹š",LessFullEqual:"â‰¦",LessGreater:"â‰¶",LessSlantEqual:"â©½",LessTilde:"â‰²",Ll:"â‹˜",Lleftarrow:"â‡š",LongLeftArrow:"âŸµ",LongLeftRightArrow:"âŸ·",LongRightArrow:"âŸ¶",Longleftarrow:"âŸ¸",Longleftrightarrow:"âŸº",Longrightarrow:"âŸ¹",Lsh:"â†°",MinusPlus:"âˆ“",NestedGreaterGreater:"â‰«",NestedLessLess:"â‰ª",NotDoubleVerticalBar:"âˆ¦",NotElement:"âˆ‰",NotEqual:"â‰ ",NotExists:"âˆ„",NotGreater:"â‰¯",NotGreaterEqual:"â‰±",NotLeftTriangle:"â‹ª",NotLeftTriangleEqual:"â‹¬",NotLess:"â‰®",NotLessEqual:"â‰°",NotPrecedes:"âŠ€",NotPrecedesSlantEqual:"â‹ ",NotRightTriangle:"â‹«",NotRightTriangleEqual:"â‹­",NotSubsetEqual:"âŠˆ",NotSucceeds:"âŠ",NotSucceedsSlantEqual:"â‹¡",NotSupersetEqual:"âŠ‰",NotTilde:"â‰",NotVerticalBar:"âˆ¤",Omega:"Î©",OverBar:"â€¾",OverBrace:"â",PartialD:"âˆ‚",Phi:"Î¦",Pi:"Î ",PlusMinus:"Â±",Precedes:"â‰º",PrecedesEqual:"âª¯",PrecedesSlantEqual:"â‰¼",PrecedesTilde:"â‰¾",Product:"âˆ",Proportional:"âˆ",Psi:"Î¨",Rarr:"â† ",Re:"â„œ",ReverseEquilibrium:"â‡‹",RightAngleBracket:"âŸ©",RightArrow:"â†’",RightArrowLeftArrow:"â‡„",RightCeiling:"âŒ‰",RightDownVector:"â‡‚",RightFloor:"âŒ‹",RightTee:"âŠ¢",RightTeeArrow:"â†¦",RightTriangle:"âŠ³",RightTriangleEqual:"âŠµ",RightUpVector:"â†¾",RightVector:"â‡€",Rightarrow:"â‡’",Rrightarrow:"â‡›",Rsh:"â†±",Sigma:"Î£",SmallCircle:"âˆ˜",Sqrt:"âˆš",Square:"â–¡",SquareIntersection:"âŠ“",SquareSubset:"âŠ",SquareSubsetEqual:"âŠ‘",SquareSuperset:"âŠ",SquareSupersetEqual:"âŠ’",SquareUnion:"âŠ”",Star:"â‹†",Subset:"â‹",SubsetEqual:"âŠ†",Succeeds:"â‰»",SucceedsEqual:"âª°",SucceedsSlantEqual:"â‰½",SucceedsTilde:"â‰¿",SuchThat:"âˆ‹",Sum:"âˆ‘",Superset:"âŠƒ",SupersetEqual:"âŠ‡",Supset:"â‹‘",Therefore:"âˆ´",Theta:"Î˜",Tilde:"âˆ¼",TildeEqual:"â‰ƒ",TildeFullEqual:"â‰…",TildeTilde:"â‰ˆ",UnderBar:"_",UnderBrace:"âŸ",Union:"â‹ƒ",UnionPlus:"âŠ",UpArrow:"â†‘",UpDownArrow:"â†•",UpTee:"âŠ¥",Uparrow:"â‡‘",Updownarrow:"â‡•",Upsilon:"Î¥",Vdash:"âŠ©",Vee:"â‹",VerticalBar:"âˆ£",VerticalTilde:"â‰€",Vvdash:"âŠª",Wedge:"â‹€",Xi:"Î",amp:"&",acute:"Â´",aleph:"â„µ",alpha:"Î±",amalg:"â¨¿",and:"âˆ§",ang:"âˆ ",angmsd:"âˆ¡",angsph:"âˆ¢",ape:"â‰Š",backprime:"â€µ",backsim:"âˆ½",backsimeq:"â‹",beta:"Î²",beth:"â„¶",between:"â‰¬",bigcirc:"â—¯",bigodot:"â¨€",bigoplus:"â¨",bigotimes:"â¨‚",bigsqcup:"â¨†",bigstar:"â˜…",bigtriangledown:"â–½",bigtriangleup:"â–³",biguplus:"â¨„",blacklozenge:"â§«",blacktriangle:"â–´",blacktriangledown:"â–¾",blacktriangleleft:"â—‚",bowtie:"â‹ˆ",boxdl:"â”",boxdr:"â”Œ",boxminus:"âŠŸ",boxplus:"âŠ",boxtimes:"âŠ ",boxul:"â”˜",boxur:"â””",bsol:"\\",bull:"â€¢",cap:"âˆ©",check:"âœ“",chi:"Ï‡",circ:"Ë†",circeq:"â‰—",circlearrowleft:"â†º",circlearrowright:"â†»",circledR:"Â®",circledS:"â“ˆ",circledast:"âŠ›",circledcirc:"âŠš",circleddash:"âŠ",clubs:"â™£",colon:":",comp:"âˆ",ctdot:"â‹¯",cuepr:"â‹",cuesc:"â‹Ÿ",cularr:"â†¶",cup:"âˆª",curarr:"â†·",curlyvee:"â‹",curlywedge:"â‹",dagger:"â€ ",daleth:"â„¸",ddarr:"â‡Š",deg:"Â°",delta:"Î´",digamma:"Ï",div:"Ã·",divideontimes:"â‹‡",dot:"Ë™",doteqdot:"â‰‘",dotplus:"âˆ”",dotsquare:"âŠ¡",dtdot:"â‹±",ecir:"â‰–",efDot:"â‰’",egs:"âª–",ell:"â„“",els:"âª•",empty:"âˆ…",epsi:"Îµ",epsiv:"Ïµ",erDot:"â‰“",eta:"Î·",eth:"Ã°",flat:"â™­",fork:"â‹”",frown:"âŒ¢",gEl:"âªŒ",gamma:"Î³",gap:"âª†",gimel:"â„·",gnE:"â‰©",gnap:"âªŠ",gne:"âªˆ",gnsim:"â‹§",gt:">",gtdot:"â‹—",harrw:"â†­",hbar:"â„",hellip:"â€¦",hookleftarrow:"â†©",hookrightarrow:"â†ª",imath:"Ä±",infin:"âˆ",intcal:"âŠº",iota:"Î¹",jmath:"È·",kappa:"Îº",kappav:"Ï°",lEg:"âª‹",lambda:"Î»",lap:"âª…",larrlp:"â†«",larrtl:"â†¢",lbrace:"{",lbrack:"[",le:"â‰¤",leftleftarrows:"â‡‡",leftthreetimes:"â‹‹",lessdot:"â‹–",lmoust:"â°",lnE:"â‰¨",lnap:"âª‰",lne:"âª‡",lnsim:"â‹¦",longmapsto:"âŸ¼",looparrowright:"â†¬",lowast:"âˆ—",loz:"â—Š",lt:"<",ltimes:"â‹‰",ltri:"â—ƒ",macr:"Â¯",malt:"âœ ",mho:"â„§",mu:"Î¼",multimap:"âŠ¸",nLeftarrow:"â‡",nLeftrightarrow:"â‡",nRightarrow:"â‡",nVDash:"âŠ¯",nVdash:"âŠ®",natur:"â™®",nearr:"â†—",nharr:"â†®",nlarr:"â†š",not:"Â¬",nrarr:"â†›",nu:"Î½",nvDash:"âŠ­",nvdash:"âŠ¬",nwarr:"â†–",omega:"Ï‰",omicron:"Î¿",or:"âˆ¨",osol:"âŠ˜",period:".",phi:"Ï†",phiv:"Ï•",pi:"Ï€",piv:"Ï–",prap:"âª·",precnapprox:"âª¹",precneqq:"âªµ",precnsim:"â‹¨",prime:"â€²",psi:"Ïˆ",quot:'"',rarrtl:"â†£",rbrace:"}",rbrack:"]",rho:"Ï",rhov:"Ï±",rightrightarrows:"â‡‰",rightthreetimes:"â‹Œ",ring:"Ëš",rmoust:"â±",rtimes:"â‹Š",rtri:"â–¹",scap:"âª¸",scnE:"âª¶",scnap:"âªº",scnsim:"â‹©",sdot:"â‹…",searr:"â†˜",sect:"Â§",sharp:"â™¯",sigma:"Ïƒ",sigmav:"Ï‚",simne:"â‰†",smile:"âŒ£",spades:"â™ ",sub:"âŠ‚",subE:"â«…",subnE:"â«‹",subne:"âŠŠ",supE:"â«†",supnE:"â«Œ",supne:"âŠ‹",swarr:"â†™",tau:"Ï„",theta:"Î¸",thetav:"Ï‘",tilde:"Ëœ",times:"Ã—",triangle:"â–µ",triangleq:"â‰œ",upsi:"Ï…",upuparrows:"â‡ˆ",veebar:"âŠ»",vellip:"â‹®",weierp:"â„˜",xi:"Î¾",yen:"Â¥",zeta:"Î¶",zigrarr:"â‡",nbsp:"Â ",rsquo:"â€™",lsquo:"â€˜"},Jn={};function Gn(t){return t.replace(/&([a-z][a-z0-9]*|#(?:[0-9]+|x[0-9a-f]+));/gi,Kn)}function Kn(t,e){if("#"===e.charAt(0))return Yn(e.slice(1));if(Xn[e])return Xn[e];if(Vn.loadMissingEntities){const t=e.match(/^[a-zA-Z](fr|scr|opf)$/)?RegExp.$1:e.charAt(0).toLowerCase();Jn[t]||(Jn[t]=!0,un(Bn("./util/entities/"+t+".js")))}return t}function Yn(t){t="x"===t.charAt(0)?parseInt(t.slice(1),16):parseInt(t);return String.fromCodePoint(t)}class $n{get cssText(){return this.getStyleString()}constructor(t=null){this.styles={},this.addStyles(t)}addStyles(t){if(t)for(const e of Object.keys(t))this.styles[e]||(this.styles[e]={}),Object.assign(this.styles[e],t[e])}removeStyles(...t){for(const e of t)delete this.styles[e]}clear(){this.styles={}}getStyleString(){return this.getStyleRules().join("\n\n")}getStyleRules(){const t=Object.keys(this.styles),e=new Array(t.length);let s=0;for(const i of t)e[s++]=i+" {\n"+this.getStyleDefString(this.styles[i])+"\n}";return e}getStyleDefString(t){const e=Object.keys(t),s=new Array(e.length);let i=0;for(const r of e)s[i++]="  "+r+": "+t[r]+";";return s.join("\n")}}const Qn=["top","right","bottom","left"],Zn=["width","style","color"];function to(t){const e=t.split(/((?:'[^']*'|"[^"]*"|,[\s\n]|[^\s\n])*)/g),s=[];for(;1<e.length;)e.shift(),s.push(e.shift());return s}function eo(t){const e=to(this.styles[t]);0===e.length&&e.push(""),1===e.length&&e.push(e[0]),2===e.length&&e.push(e[0]),3===e.length&&e.push(e[1]);for(const s of ao.connect[t].children)this.setStyle(this.childName(t,s),e.shift())}const so=/^(?:[\d.]+(?:[a-z]+)|thin|medium|thick|inherit|initial|unset)$/,io=/^(?:none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|inherit|initial|unset)$/;function ro(t){const e={width:"",style:"",color:""};for(const s of to(this.styles[t]))s.match(so)&&""===e.width?e.width=s:s.match(io)&&""===e.style?e.style=s:e.color=s;for(const i of ao.connect[t].children)this.setStyle(this.childName(t,i),e[i])}function no(t){const e=[];for(const i of ao.connect[t].children){var s=this.styles[this.childName(t,i)];s&&e.push(s)}e.length?this.styles[t]=e.join(" "):delete this.styles[t]}const oo={style:/^(?:normal|italic|oblique|inherit|initial|unset)$/,variant:new RegExp("^(?:"+["normal|none","inherit|initial|unset","common-ligatures|no-common-ligatures","discretionary-ligatures|no-discretionary-ligatures","historical-ligatures|no-historical-ligatures","contextual|no-contextual","(?:stylistic|character-variant|swash|ornaments|annotation)\\([^)]*\\)","small-caps|all-small-caps|petite-caps|all-petite-caps|unicase|titling-caps","lining-nums|oldstyle-nums|proportional-nums|tabular-nums","diagonal-fractions|stacked-fractions","ordinal|slashed-zero","jis78|jis83|jis90|jis04|simplified|traditional","full-width|proportional-width","ruby"].join("|")+")$"),weight:/^(?:normal|bold|bolder|lighter|[1-9]00|inherit|initial|unset)$/,stretch:new RegExp("^(?:"+["normal","(?:(?:ultra|extra|semi)-)?(?:condensed|expanded)","inherit|initial|unset"].join("|")+")$"),size:new RegExp("^(?:"+["xx-small|x-small|small|medium|large|x-large|xx-large|larger|smaller","[\\d.]+%|[\\d.]+[a-z]+","inherit|initial|unset"].join("|")+")(?:/(?:normal|[\\d.]+(?:%|[a-z]+)?))?$")};class ao{constructor(t=""){this.parse(t)}sanitizeValue(t){var e=this.constructor.pattern;if(!t.match(e.sanitize))return t;const s=(t=t.replace(e.value,"$1")).replace(/\\./g,"").replace(/(['"]).*?\1/g,"").replace(/[^'"]/g,"");return s.length&&(t+=s.charAt(0)),t}get cssText(){const t=[];for(const i of Object.keys(this.styles)){var e=this.parentName(i),s=i.replace(/.*-/,"");this.styles[e]&&null!=(e=null==(e=ao.connect[e])?void 0:e.children)&&e.includes(s)||t.push(`${i}: ${this.styles[i]};`)}return t.join(" ")}get styleList(){return Object.assign({},this.styles)}set(t,e){var s;for(t=this.normalizeName(t),this.setStyle(t,String(e)),ao.connect[t]&&!ao.connect[t].combine&&(this.combineChildren(t),delete this.styles[t]);t.match(/-/);){const e=t;if(t=this.parentName(t),!(ao.connect[e]||null!=(s=null==(s=ao.connect[t])?void 0:s.children)&&s.includes(e.substring(t.length+1))))break;ao.connect[t].combine.call(this,t)}}get(t){return t=this.normalizeName(t),Object.hasOwn(this.styles,t)?this.styles[t]:""}setStyle(t,e){this.styles[t]=this.sanitizeValue(e),ao.connect[t]&&ao.connect[t].children&&ao.connect[t].split.call(this,t),""===e&&delete this.styles[t]}combineChildren(t){var e=this.parentName(t);for(const s of ao.connect[t].children){const t=this.childName(e,s);ao.connect[t].combine.call(this,t)}}parentName(t){var e=t.replace(/-[^-]*$/,"");return t===e?"":e}childName(t,e){return e.match(/-/)?e:(ao.connect[t]&&!ao.connect[t].combine&&(e+=t.replace(/.*-/,"-"),t=this.parentName(t)),t+"-"+e)}normalizeName(t){return t.replace(/[A-Z]/g,t=>"-"+t.toLowerCase())}parse(t=""){const e=this.constructor.pattern,s=(this.styles={},t.replace(/\n/g," ").replace(e.comment,"").split(e.style));for(;1<s.length;){const[t,e,i]=s.splice(0,3);if(t.match(/[^\s\n;]/))return;this.set(e,i)}}}function lo(t){return t.reduce((t,e)=>t+e,0)}function ho(t){return t.reduce((t,e)=>Math.max(t,e),0)}if(ao.pattern={sanitize:/['";]/,value:/^((:?'(?:\\.|[^'])*(?:'|$)|"(?:\\.|[^"])*(?:"|$)|\n|\\.|[^'";])*?)[\s\n]*(?:;|$).*/,style:/([-a-z]+)[\s\n]*:[\s\n]*((?:'(?:\\.|[^'])*(?:'|$)|"(?:\\.|[^"])*(?:"|$)|\n|\\.|[^'";])*?)[\s\n]*(?:;|$)/g,comment:/\/\*[^]*?\*\//g},ao.connect={padding:{children:Qn,split:eo,combine:function(t){const e=ao.connect[t].children,s=[];for(const i of e){const e=this.styles[t+"-"+i];if(!e)return void delete this.styles[t];s.push(e)}s[3]===s[1]&&(s.pop(),s[2]===s[0]&&(s.pop(),s[1]===s[0]&&s.pop())),this.styles[t]=s.join(" ")}},border:{children:Qn,split:function(t){for(const e of ao.connect[t].children)this.setStyle(this.childName(t,e),this.styles[t])},combine:function(t){const e=[...ao.connect[t].children],s=this.styles[this.childName(t,e.shift())];for(const i of e)if(this.styles[this.childName(t,i)]!==s)return void delete this.styles[t];this.styles[t]=s}},"border-top":{children:Zn,split:ro,combine:no},"border-right":{children:Zn,split:ro,combine:no},"border-bottom":{children:Zn,split:ro,combine:no},"border-left":{children:Zn,split:ro,combine:no},"border-width":{children:Qn,split:eo,combine:null},"border-style":{children:Qn,split:eo,combine:null},"border-color":{children:Qn,split:eo,combine:null},font:{children:["style","variant","weight","stretch","line-height","size","family"],split:function(t){const e=to(this.styles[t]),s={style:"",variant:[],weight:"",stretch:"",size:"",family:"","line-height":""};for(const t of e){s.family||(s.family=t);for(const e of Object.keys(oo)){var i,r;(Array.isArray(s[e])||""===s[e])&&t.match(oo[e])&&(s.family===t&&(s.family=""),"size"===e?([i,r]=t.split(/\//),s[e]=i,r&&(s["line-height"]=r)):""===s.size&&(Array.isArray(s[e])?s[e].push(t):""===s[e]&&(s[e]=t)))}}(function(t,e){for(const i of ao.connect[t].children){var s=this.childName(t,i);if(Array.isArray(e[i])){const t=e[i];t.length&&(this.styles[s]=t.join(" "))}else""!==e[i]&&(this.styles[s]=e[i])}}).call(this,t,s),delete this.styles[t]},combine:function(t){}}},MathJax.loader&&MathJax.loader.checkVersion("core",Ys,"core"),ei({_:{adaptors:{HTMLAdaptor:V,browserAdaptor:X},components:{global:P},core:{DOMAdaptor:z,FindMath:J,Handler:Ft,HandlerList:Ht,InputJax:G,MathDocument:Ut,MathItem:Q,MathList:$,MmlTree:{Attributes:tt,MML:Dt,MathMLVisitor:Wt,MmlFactory:Pt,MmlNode:st,MmlNodes:{HtmlNode:Ot,TeXAtom:Mt,maction:vt,maligngroup:St,malignmark:Rt,math:it,mathchoice:At,menclose:yt,merror:bt,mfenced:xt,mfrac:pt,mglyph:kt,mi:rt,mmultiscripts:Tt,mn:nt,mo:lt,mpadded:Et,mphantom:Nt,mroot:ft,mrow:ut,ms:dt,mspace:ct,msqrt:mt,mstyle:gt,msubsup:Ct,mtable:Lt,mtd:It,mtext:ht,mtr:wt,munderover:_t,semantics:e},MmlVisitor:s,OperatorDictionary:ot,SerializedMmlVisitor:zt},OutputJax:K,Tree:{Factory:t,Node:et,NodeFactory:Z,Visitor:qt,Wrapper:Vt,WrapperFactory:Xt}},handlers:{html_ts:Zt,html:{HTMLDocument:$t,HTMLDomStrings:Yt,HTMLHandler:Qt,HTMLMathItem:Gt,HTMLMathList:Kt}},mathjax:Jt,util:{AsyncLoad:te,BBox:se,BitField:Bt,Entities:ie,FunctionList:F,LinkedList:Y,Options:q,PrioritizedList:U,Retries:jt,StyleJson:re,Styles:ne,context:B,lengths:ee,numeric:oe,string:at}}}),MathJax.startup&&(MathJax.startup.registerConstructor("HTMLHandler",Pn),MathJax.startup.registerConstructor("browserAdaptor",Bi),MathJax.startup.useHandler("HTMLHandler"),MathJax.startup.useAdaptor("browserAdaptor")),MathJax.loader){const P=MathJax.config.loader;MathJax._.mathjax.mathjax.asyncLoad=t=>"node:"===t.substring(0,5)?P.require(t):MathJax.loader.load(t).then(t=>t[0])}const co="http://www.w3.org/1998/Math/MathML";class uo extends ji{findMath(t){var e=new Set,s=(this.findMathNodes(t,e),this.findMathPrefixed(t,e),this.adaptor.root(this.adaptor.document));return"html"===this.adaptor.kind(s)&&0===e.size&&this.findMathNS(t,e),this.processMath(e)}findMathNodes(t,e){for(const s of this.adaptor.tags(t,"math"))e.add(s)}findMathPrefixed(t,e){const s=this.adaptor.root(this.adaptor.document);for(const i of this.adaptor.allAttributes(s))if("xmlns:"===i.name.substring(0,6)&&i.value===co){const s=i.name.substring(6);for(const r of this.adaptor.tags(t,s+":math"))e.add(r)}}findMathNS(t,e){for(const s of this.adaptor.tags(t,"math",co))e.add(s)}processMath(t){const e=this.adaptor,s=[];for(const i of t.values())if("mjx-assistive-mml"!==e.kind(e.parent(i))){const t="block"===e.getAttribute(i,"display")||"display"===e.getAttribute(i,"mode"),r={node:i,n:0,delim:""},n={node:i,n:0,delim:""};s.push({math:e.outerHTML(i),start:r,end:n,display:t})}return s}}uo.OPTIONS={};class po{constructor(t={}){var e=this.constructor;this.options=wi(Li({},e.OPTIONS),t)}setMmlFactory(t){this.factory=t}compile(t){const e=this.makeNode(t);return e.verifyTree(this.options.verify),e.setInheritedAttributes({},!1,0,!1),e.walkTree(this.markMrows),e}makeNode(t){const e=this.adaptor;let s=!1;var i=e.kind(t).replace(/^.*:/,"");let r=e.getAttribute(t,"data-mjx-texclass")||"",n=(r=r&&(this.filterAttribute("data-mjx-texclass",r)||""))&&"mrow"===i?"TeXAtom":i;for(const o of this.filterClassList(e.allClasses(t)))o.match(/^MJX-TeXAtom-/)&&"mrow"===i?(r=o.substring(12),n="TeXAtom"):"MJX-fixedlimits"===o&&(s=!0);return this.factory.getNodeClass(n)?this.createMml(n,t,r,s):this.unknownNode(n,t)}createMml(t,e,s,i){const r=this.factory.create(t);return"TeXAtom"!==t||"OP"!==s||i||(r.setProperty("movesupsub",!0),r.attributes.setInherited("movablelimits",!0)),s&&(r.texClass=c[s],r.setProperty("texClass",r.texClass)),this.addAttributes(r,e),this.checkClass(r,e),this.addChildren(r,e),r}unknownNode(t,e){return this.factory.getNodeClass("html")&&this.options.allowHtmlInTokenNodes?this.factory.create("html").setHTML(e,this.adaptor):(this.error('Unknown node type "'+t+'"'),null)}addAttributes(t,e){let s=!1;for(const r of this.adaptor.allAttributes(e)){const e=r.name,n=this.filterAttribute(e,r.value);if(null!==n&&"xmlns"!==e)if("data-mjx-"===e.substring(0,9))switch(e.substring(9)){case"alternate":t.setProperty("variantForm",!0);break;case"variant":t.attributes.set("mathvariant",n),t.setProperty("ignore-variant",!0),s=!0;break;case"smallmatrix":t.setProperty("smallmatrix",!0),t.setProperty("useHeight",!1);break;case"mathaccent":t.setProperty("mathaccent","true"===n);break;case"auto-op":t.setProperty("autoOP","true"===n);break;case"script-align":t.setProperty("scriptalign",n);break;case"vbox":t.setProperty("vbox",n);break;default:t.attributes.set(e,n)}else{var i;"class"!==e&&("true"===(i=n.toLowerCase())||"false"===i?t.attributes.set(e,"true"===i):s&&"mathvariant"===e||t.attributes.set(e,n))}}}filterAttribute(t,e){return e}filterClassList(t){return t}addChildren(t,e){if(0!==t.arity){const s=this.adaptor;for(const i of s.childNodes(e)){const e=s.kind(i);if("#comment"!==e)if("#text"===e)this.addText(t,i);else if(t.isKind("annotation-xml"))t.appendChild(this.factory.create("XML").setXML(i,s));else{const e=t.appendChild(this.makeNode(i));0===e.arity&&s.childNodes(i).length&&!e.isKind("html")&&(this.options.fixMisplacedChildren?this.addChildren(t,i):e.mError("There should not be children for "+e.kind+" nodes",this.options.verify,!0))}}t.isToken&&this.trimSpace(t)}}addText(t,e){let s=this.adaptor.value(e);(t.isToken||t.getProperty("isChars"))&&t.arity?(t.isToken&&(s=Gn(s),s=this.normalizeSpace(s)),t.appendChild(this.factory.create("text").setText(s))):s.match(/\S/)&&this.error('Unexpected text node "'+s+'"')}checkClass(t,e){const s=[];for(const i of this.filterClassList(this.adaptor.allClasses(e)))"MJX-"===i.substring(0,4)?"MJX-variant"===i?t.setProperty("variantForm",!0):"MJX-TeXAtom"!==i.substring(0,11)&&t.attributes.set("mathvariant",this.fixCalligraphic(i.substring(3))):s.push(i);s.length&&t.attributes.set("class",s.join(" "))}fixCalligraphic(t){return t.replace(/caligraphic/,"calligraphic")}markMrows(t){if(t.isKind("mrow")&&!t.isInferred&&2<=t.childNodes.length){const e=t.childNodes[0],s=t.childNodes[t.childNodes.length-1];e.isKind("mo")&&e.attributes.get("fence")&&e.attributes.get("stretchy")&&s.isKind("mo")&&s.attributes.get("fence")&&s.attributes.get("stretchy")&&(e.childNodes.length&&t.setProperty("open",e.getText()),s.childNodes.length&&t.setProperty("close",s.getText()))}}normalizeSpace(t){return t.replace(/[\t\n\r]/g," ").replace(/  +/g," ")}trimSpace(t){let e=t.childNodes[0];e&&(e.isKind("text")&&e.setText(e.getText().replace(/^ +/,"")),(e=t.childNodes[t.childNodes.length-1]).isKind("text")&&e.setText(e.getText().replace(/ +$/,"")))}error(t){throw new Error(t)}}po.OPTIONS={MmlFactory:null,allowHtmlInTokenNodes:!1,fixMisplacedChildren:!0,verify:Object.assign({},a.verifyDefaults),translateEntities:!0};class mo extends Ui{constructor(t={}){var[t,e,s]=Si(t,uo.OPTIONS,po.OPTIONS);super(t),this.findMathML=this.options.FindMathML||new uo(e),this.mathml=this.options.MathMLCompile||new po(s),this.mmlFilters=new li(this.options.mmlFilters)}setAdaptor(t){super.setAdaptor(t),this.findMathML.adaptor=t,this.mathml.adaptor=t}setMmlFactory(t){super.setMmlFactory(t),this.mathml.setMmlFactory(t)}get processStrings(){return!1}compile(e,s){let i=e.start.node;if(!i||!e.end.node||this.options.forceReparse||"#text"===this.adaptor.kind(i)){let t=this.executeFilters(this.preFilters,e,s,(e.math||"<math></math>").trim());"html"===this.options.parseAs&&(t=`<html><head></head><body>${t}</body></html>`);var r=this.checkForErrors(this.adaptor.parse(t,"text/"+this.options.parseAs)),r=this.adaptor.body(r);1!==this.adaptor.childNodes(r).length&&this.error("MathML must consist of a single element"),i=this.adaptor.remove(this.adaptor.firstChild(r)),"math"!==this.adaptor.kind(i).replace(/^[a-z]+:/,"")&&this.error("MathML must be formed by a <math> element, not <"+this.adaptor.kind(i)+">")}i=this.executeFilters(this.mmlFilters,e,s,i);let t=this.mathml.compile(i);return t=this.executeFilters(this.postFilters,e,s,t),e.display="block"===t.attributes.get("display"),t}checkForErrors(t){var e=this.adaptor.tags(this.adaptor.body(t),"parsererror")[0];return e&&(""===this.adaptor.textContent(e)&&this.error("Error processing MathML"),this.options.parseError.call(this,e)),t}error(t){throw new Error(t)}findMath(t){return this.findMathML.findMath(t)}}mo.NAME="MathML",mo.OPTIONS=Li({parseAs:"html",forceReparse:!1,mmlFilters:[],FindMathML:null,MathMLCompile:null,parseError:function(t){this.error(this.adaptor.textContent(t).replace(/\n.*/g,""))}},Ui.OPTIONS),MathJax.loader&&MathJax.loader.checkVersion("input/mml",Ys,"input"),ei({_:{input:{mathml_ts:he,mathml:{FindMathML:ae,MathMLCompile:le}}}}),MathJax.loader&&MathJax.loader.pathFilters.add(t=>(t.name=t.name.replace(/\/util\/entities\/.*?\.js/,"/input/mml/entities.js"),!0)),MathJax.startup&&(MathJax.startup.registerConstructor("mml",mo),MathJax.startup.useInput("mml"));const m={None:"",Vertical:"v",Horizontal:"h"},h=m.Vertical,p=m.Horizontal;const fo={dir:m.None};function go(t,e,s){return(s?Li(t,{[e]:s}):t)[e]}class f{get CLASS(){return this.constructor}static charOptions(t,e){const s=t[e];if(Array.isArray(s))return 3===s.length&&(s[3]={}),s[3];throw Error("Character data hasn't been loaded for 0x"+e.toString(16).toUpperCase())}static defineDynamicFiles(t,i=""){const r={};return(t||[]).forEach(([e,t,s])=>{r[e]={extension:i,file:e,variants:t,delimiters:s||[],promise:null,failed:!1,setup:t=>{r[e].failed=!0}}}),r}static dynamicSetup(t,e,s,i={},r=null){const n=t?this.dynamicExtensions.get(t):null;(t?n.files:this.dynamicFiles)[e].setup=e=>{Object.keys(s).forEach(t=>e.defineChars(t,s[t])),e.defineDelimiters(i),t&&this.adjustDelimiters(e.delimiters,Object.keys(i),n.sizeN,n.stretchN),r&&e.addDynamicFontCss(r)}}static adjustDelimiters(s,t,i,r){t.forEach(t=>{const e=s[parseInt(t)];"dir"in e&&(e.variants&&(e.variants=this.adjustArrayIndices(e.variants,i)),e.stretchv&&(e.stretchv=this.adjustArrayIndices(e.stretchv,r)))})}static adjustArrayIndices(t,e){return t.map(t=>t<0?e-1-t:t)}static addExtension(t,e=""){const s={name:t.name,prefix:e||`[${t.name}-extension]/${this.JAX.toLowerCase()}/dynamic`,files:this.defineDynamicFiles(t.ranges,t.name),sizeN:this.defaultSizeVariants.length,stretchN:this.defaultStretchVariants.length};this.dynamicExtensions.set(t.name,s);for(const[e,s]of[["options","OPTIONS"],["variants","defaultVariants"],["variantSmp","VariantSmp"],["cssFonts","defaultCssFonts"],["accentMap","defaultAccentMap"],["moMap","defaultMoMap"],["mnMap","defaultMnMap"],["parameters","defaultParams"],["chars","defaultChars"],["sizeVariants","defaultSizeVariants"],["stretchVariants","defaultStretchVariants"]])go(this,s,t[e]);t.delimiters&&(Object.assign(this.defaultDelimiters,t.delimiters),this.adjustDelimiters(this.defaultDelimiters,Object.keys(t.delimiters),s.sizeN,s.stretchN))}constructor(t=null){this.variant={},this.delimiters={},this.cssFontMap={},this.cssFontPrefix="",this.remapChars={},this.skewIcFactor=.75;const e=this.CLASS;this.options=wi(Li({},e.OPTIONS),t),this.params=Object.assign({},e.defaultParams),this.sizeVariants=[...e.defaultSizeVariants],this.stretchVariants=[...e.defaultStretchVariants],this.defineCssFonts(e.defaultCssFonts),this.cssFamilyPrefix=e.defaultCssFamilyPrefix,this.createVariants(e.defaultVariants),this.defineDelimiters(e.defaultDelimiters),Object.keys(e.defaultChars).forEach(t=>this.defineChars(t,e.defaultChars[t])),this.defineRemap("accent",e.defaultAccentMap),this.defineRemap("mo",e.defaultMoMap),this.defineRemap("mn",e.defaultMnMap),this.defineDynamicCharacters(e.dynamicFiles),e.dynamicExtensions.forEach(t=>this.defineDynamicCharacters(t.files))}setOptions(t){Li(this.options,t)}addExtension(t,e=""){var s=this.constructor.JAX.toLowerCase(),s={name:t.name,prefix:e||`[${t.name}-extension]/${s}/dynamic`,files:this.CLASS.defineDynamicFiles(t.ranges,e),sizeN:this.sizeVariants.length,stretchN:this.stretchVariants.length};this.CLASS.dynamicExtensions.set(t.name,s),Li(this.options,t.options||{}),Li(this.params,t.parameters||{}),go(this,"sizeVariants",t.sizeVariants),go(this,"stretchVariants",t.stretchVariants),go(this.constructor,"VariantSmp",t.variantSmp),this.defineCssFonts(go({cssFonts:{}},"cssFonts",t.cssFonts)),this.createVariants(go({variants:[]},"variants",t.variants)),t.delimiters&&(this.defineDelimiters(go({delimiters:{}},"delimiters",t.delimiters)),this.CLASS.adjustDelimiters(this.delimiters,Object.keys(t.delimiters),s.sizeN,s.stretchN));for(const e of Object.keys(t.chars||{}))this.defineChars(e,t.chars[e]);return this.defineRemap("accent",t.accentMap),this.defineRemap("mo",t.moMap),this.defineRemap("mn",t.mnMap),t.ranges&&this.defineDynamicCharacters(s.files),[]}get styles(){return this._styles}set styles(t){this._styles=t}createVariant(t,e=null,s=null){const i={linked:[],chars:Object.create(e?this.variant[e].chars:{})};this.variant[s]&&(Object.assign(i.chars,this.variant[s].chars),this.variant[s].linked.push(i.chars),i.chars=Object.create(i.chars)),this.remapSmpChars(i.chars,t),this.variant[t]=i}remapSmpChars(e,t){const s=this.CLASS;let i=s.VariantSmp[t];if(i="string"==typeof i?s.VariantSmp[i]:i){var r=s.SmpRemap,n=[null,null,s.SmpRemapGreekU,s.SmpRemapGreekL];for(const[t,o,a]of s.SmpRanges){const s=i[t];if(s){for(let t=o;t<=a;t++)if(930!==t){const i=s+t-o;e[t]=this.smpChar(r[i]||i)}if(n[t])for(const i of Object.keys(n[t]).map(t=>parseInt(t)))e[i]=this.smpChar(s+n[t][i])}}const o=i[5]||{};for(const t of Object.keys(o))e[t]=this.smpChar(i[5][t])}}smpChar(t){return[,,,{smp:t}]}createVariants(t){for(const e of t)this.createVariant(e[0],e[1],e[2])}defineChars(t,e){var s=this.variant[t];Object.assign(s.chars,e);for(const t of s.linked)Object.assign(t,e)}defineCssFonts(t){Object.assign(this.cssFontMap,t);for(const e of Object.keys(t))"unknown"===this.cssFontMap[e][0]&&(this.cssFontMap[e][0]=this.options.unknownFamily)}defineDelimiters(t){Object.assign(this.delimiters,t)}defineRemap(t,e){e&&(Object.hasOwn(this.remapChars,t)||(this.remapChars[t]={}),Object.assign(this.remapChars[t],e))}defineDynamicCharacters(t){for(const s of Object.keys(t)){var e=t[s];for(const t of Object.keys(e.variants))this.defineChars(t,this.flattenRanges(e.variants[t],e));this.defineDelimiters(this.flattenRanges(e.delimiters,e))}}flattenRanges(t,e){const s={};for(const i of t)if(Array.isArray(i))for(let t=i[0];t<=i[1];t++)s[t]=e;else s[i]=e;return s}dynamicFileName(t){var e=t.extension?this.CLASS.dynamicExtensions.get(t.extension).prefix:this.options.dynamicPrefix;return t.file.match(/^(?:[/[]|[a-z]+:\/\/|[a-z]:)/i)?t.file:e+"/"+t.file.replace(/(\.js)?$/,".js")}loadDynamicFile(e){return t=this,l=function*(){return e.failed?Promise.reject(new Error(`dynamic file '${e.file}' failed to load`)):(e.promise||(e.promise=Bn(this.dynamicFileName(e)).catch(t=>{e.failed=!0,console.warn(t)})),e.promise.then(()=>e.setup(this)))},new(a=(a=o=void 0)||Promise)(function(s,e){function i(t){try{n(l.next(t))}catch(t){e(t)}}function r(t){try{n(l.throw(t))}catch(t){e(t)}}function n(t){var e;t.done?s(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(i,r)}n((l=l.apply(t,o||[])).next())});var t,o,a,l}loadDynamicFiles(){const e=this.CLASS.dynamicFiles,t=Object.keys(e).map(t=>this.loadDynamicFile(e[t]));for(const e of this.CLASS.dynamicExtensions.values())t.push(...Object.keys(e.files).map(t=>this.loadDynamicFile(e.files[t])));return Promise.all(t)}loadDynamicFilesSync(){if(!kn.asyncIsSynchronous)throw Error("MathJax(loadDynamicFilesSync): mathjax.asyncLoad must be specified and synchronous\n    Try importing #js/../components/require.mjs and #js/util/asyncLoad/node.js");const e=this.CLASS.dynamicFiles;Object.keys(e).forEach(t=>this.loadDynamicFileSync(e[t]));for(const e of this.CLASS.dynamicExtensions.values())Object.keys(e.files).forEach(t=>this.loadDynamicFileSync(e.files[t]))}loadDynamicFileSync(e){if(!e.promise){e.promise=Promise.resolve();try{kn.asyncLoad(this.dynamicFileName(e))}catch(t){e.failed=!0,console.warn(t)}e.setup(this)}}addDynamicFontCss(t,e){}getDelimiter(t){var e=this.delimiters[t];return!e||"dir"in e?e:(this.delimiters[t]=null,un(this.loadDynamicFile(e)),null)}getSizeVariant(t,e){t=this.getDelimiter(t);return t&&t.variants&&(e=t.variants[e]),this.sizeVariants[e]}getStretchVariant(t,e){t=this.getDelimiter(t);return this.stretchVariants[t.stretchv?t.stretchv[e]:0]}getStretchVariants(e){return[0,1,2,3].map(t=>this.getStretchVariant(e,t))}getChar(t,e){var s=this.variant[t].chars[e];if(!s||Array.isArray(s))return s;{const i=this.variant[t];return delete i.chars[e],i.linked.forEach(t=>delete t[e]),un(this.loadDynamicFile(s)),null}}getVariant(t){return this.variant[t]}getCssFont(t){return this.cssFontMap[t]||["serif",!1,!1]}getFamily(t){return this.cssFamilyPrefix?this.cssFamilyPrefix+", "+t:t}getRemappedChar(t,e){return(this.remapChars[t]||{})[e]}}f.OPTIONS={unknownFamily:"serif",dynamicPrefix:"."},f.JAX="common",f.NAME="",f.defaultVariants=[["normal"],["bold","normal"],["italic","normal"],["bold-italic","italic","bold"],["double-struck","bold"],["fraktur","normal"],["bold-fraktur","bold","fraktur"],["script","italic"],["bold-script","bold-italic","script"],["sans-serif","normal"],["bold-sans-serif","bold","sans-serif"],["sans-serif-italic","italic","sans-serif"],["sans-serif-bold-italic","bold-italic","bold-sans-serif"],["monospace","normal"],["-smallop","normal"],["-largeop","normal"],["-tex-calligraphic","italic"],["-tex-bold-calligraphic","bold-italic"],["-tex-oldstyle","normal"],["-tex-bold-oldstyle","bold"],["-tex-mathit","italic"],["-tex-variant","normal"]],f.defaultCssFonts={normal:["unknown",!1,!1],bold:["unknown",!1,!0],italic:["unknown",!0,!1],"bold-italic":["unknown",!0,!0],"double-struck":["unknown",!1,!0],fraktur:["unknown",!1,!1],"bold-fraktur":["unknown",!1,!0],script:["cursive",!1,!1],"bold-script":["cursive",!1,!0],"sans-serif":["sans-serif",!1,!1],"bold-sans-serif":["sans-serif",!1,!0],"sans-serif-italic":["sans-serif",!0,!1],"sans-serif-bold-italic":["sans-serif",!0,!0],monospace:["monospace",!1,!1],"-smallop":["unknown",!1,!1],"-largeop":["unknown",!1,!1],"-tex-calligraphic":["cursive",!0,!1],"-tex-bold-calligraphic":["cursive",!0,!0],"-tex-oldstyle":["unknown",!1,!1],"-tex-bold-oldstyle":["unknown",!1,!0],"-tex-mathit":["unknown",!0,!1],"-tex-variant":["unknown",!1,!1]},f.defaultCssFamilyPrefix="",f.VariantSmp={bold:[119808,119834,120488,120514,120782,{988:120778,989:120779}],italic:[119860,119886,120546,120572],"bold-italic":[119912,119938,120604,120630],script:[119964,119990],"bold-script":[120016,120042],fraktur:[120068,120094],"double-struck":[120120,120146,,,120792],"bold-fraktur":[120172,120198],"sans-serif":[120224,120250,,,120802],"bold-sans-serif":[120276,120302,120662,120688,120812],"sans-serif-italic":[120328,120354],"sans-serif-bold-italic":[120380,120406,120720,120746],monospace:[120432,120458,,,120822]},f.SmpRanges=[[0,65,90],[1,97,122],[2,913,937],[3,945,969],[4,48,57]],f.SmpRemap={119893:8462,119965:8492,119968:8496,119969:8497,119971:8459,119972:8464,119975:8466,119976:8499,119981:8475,119994:8495,119996:8458,120004:8500,120070:8493,120075:8460,120076:8465,120085:8476,120093:8488,120122:8450,120127:8461,120133:8469,120135:8473,120136:8474,120137:8477,120145:8484},f.SmpRemapGreekU={8711:25,1012:17},f.SmpRemapGreekL={977:27,981:29,982:31,1008:28,1009:30,1013:26,8706:25},f.defaultAccentMap={94:"Ë†",126:"Ëœ",768:"Ë‹",769:"ËŠ",770:"Ë†",771:"Ëœ",772:"Ë‰",774:"Ë˜",775:"Ë™",776:"Â¨",778:"Ëš",780:"Ë‡",8594:"âƒ—"},f.defaultMoMap={45:"âˆ’"},f.defaultMnMap={45:"âˆ’"},f.defaultParams={x_height:.442,quad:1,num1:.676,num2:.394,num3:.444,denom1:.686,denom2:.345,sup1:.413,sup2:.363,sup3:.289,sub1:.15,sub2:.247,sup_drop:.386,sub_drop:.05,delim1:2.39,delim2:1,axis_height:.25,rule_thickness:.06,big_op_spacing1:.111,big_op_spacing2:.167,big_op_spacing3:.2,big_op_spacing4:.6,big_op_spacing5:.1,surd_height:.06,scriptspace:.05,nulldelimiterspace:.12,delimiterfactor:901,delimitershortfall:.3,rule_factor:1.25,min_rule_thickness:1.25,separation_factor:1.75,extra_ic:.033,extender_factor:.333},f.defaultDelimiters={},f.defaultChars={},f.defaultSizeVariants=[],f.defaultStretchVariants=[],f.dynamicFiles={},f.dynamicExtensions=new Map;class bo extends d{static from(t,e,s=null){const i=new this;return Object.assign(i,t),i.lineLeading=e,s&&(i.indentData=s),i}constructor(t,e=null){super(t),this.indentData=null,this.isFirst=!1,this.originalL=this.L,e&&(this.start=e)}append(t){this.isFirst&&(t.originalL+=t.L,t.L=0),t.indentData&&(this.indentData=t.indentData),this.lineLeading=t.lineLeading,super.append(t),this.isFirst=t.isFirst}copy(){const t=bo.from(this,this.lineLeading);return t.indentData=this.indentData,t.lineLeading=this.lineLeading,t}getIndentData(t){let{indentalign:e,indentshift:s,indentalignfirst:i,indentshiftfirst:r,indentalignlast:n,indentshiftlast:o}=t.attributes.getAllAttributes();"indentalign"===i&&(i=t.attributes.getInherited("indentalign")),"indentshift"===r&&(r=t.attributes.getInherited("indentshift")),"indentalign"===n&&(n=e),"indentshift"===o&&(o=s),this.indentData=[[i,r],[e,s],[n,o]]}copyIndentData(t){return t.indentData.map(([t,e])=>[t,e])}}const Eo=1e6;class No extends _n{breakToWidth(t,e){}}class xo extends No{constructor(){super(...arguments),this.PENALTY={newline:t=>0,nobreak:t=>Eo,goodbreak:t=>t-200*this.state.depth,badbreak:t=>t+200*this.state.depth,auto:t=>t},this.FACTORS={depth:t=>t+800*this.state.depth,width:t=>t+Math.floor((this.state.width-this.state.w)/this.state.width*2500),tail:t=>t+Math.floor(this.state.width/Math.max(1e-4,this.state.mathLeft-this.state.w)*500),open:(t,e)=>{var s=e.node.prevClass;if(s===c.BIN||s===c.REL||s===c.OP)return t+5e3;const i=this.getPrevious(e);if(i&&("postfix"!==i.attributes.get("form")||"nobreak"===i.attributes.get("linebreak")))return t+5e3;const r=e.node.Parent;return null!=r&&r.isKind("mmultiscripts")&&e.node===this.getFirstToken(r)&&r.childNodes.filter(t=>t.isKind("mprescripts")).length?Eo:t-500},close:(t,e)=>{var s;const i=e.node.Parent;return null==i||!i.isKind("msubsup")||i.isKind("mmultiscripts")&&null!=(s=i.childNodes[1])&&s.isKind("mprescripts")||e.node!==this.getLastToken(i.childNodes[0])?t+500:Eo},space:(t,e)=>{const s=e;if(!s.canBreak)return Eo;e=s.getBBox().w;return e<0?Eo:e<1?t:t-100*(e+4)},separator:t=>t+500,fuzz:t=>.99*t},this.TEXCLASS={[c.BIN]:t=>t-250,[c.REL]:t=>t-500}}breakToWidth(e,s){var t=this.state,i=(this.state=this.createState(e),this.state.width=s,e.breakCount);for(let t=0;t<=i;t++)(e.lineBBox[t]||e.getLineBBox(t)).w>s&&this.breakLineToWidth(e,t);for(const[e,s]of this.state.breaks){if(null===s){const s=e.coreMO();s.setBreakStyle(s.node.attributes.get("linebreakstyle")||"before")}else e.setBreakAt(s);e.invalidateBBox()}this.state=t}createState(t){t=t.getBBox().w;return{breaks:new Set,potential:[],width:0,w:0,prevWidth:0,prevBreak:null,depth:0,mathWidth:t,mathLeft:t}}breakLineToWidth(t,e){const s=this.state;s.potential=[],s.w=0,s.prevWidth=0,s.prevBreak=null,s.depth=0,this.visitNode(t,e)}addWidth(t,e=null){(e=null===e?t.L+t.w+t.R:e)&&(e*=t.rscale,this.state.w+=e,this.state.potential.length&&(this.state.potential[0][4]+=e),this.processBreak())}processBreak(){const t=this.state;for(;t.potential.length&&t.w>this.state.width;){const e=t.potential.pop(),[s,,i,r,n]=e;t.breaks.add(s),t.w=t.potential.reduce((t,e)=>t+e[4],r+n),t.prevBreak&&t.prevWidth+i<=t.width?(t.breaks.delete(t.prevBreak[0]),t.prevWidth+=i):t.prevWidth=i+r,t.potential.forEach(t=>t[2]-=i),t.prevBreak=e,t.mathLeft-=i}}pushBreak(t,e,s,i){const r=this.state;if(!(e>=Eo||0===r.w&&0===r.prevWidth)){for(;r.potential.length&&r.potential[0][1]>this.FACTORS.fuzz(e);){const t=r.potential.shift();r.potential.length&&(r.potential[0][4]+=t[4])}r.potential.unshift([[t,i],e,r.w-((null==(t=r.prevBreak)?void 0:t[3])||0),s,0])}}getBorderLR(t){t=t.styleData;if(!t)return[0,0];var e=(null==(e=null==t?void 0:t.border)?void 0:e.width)||[0,0,0,0],t=(null==t?void 0:t.padding)||[0,0,0,0];return[e[3]+t[3],e[1]+t[1]]}getFirstToken(t){return t.isToken?t:this.getFirstToken(t.childNodes[0])}getLastToken(t){return t.isToken?t:this.getLastToken(t.childNodes[t.childNodes.length-1])}visitNode(t,e){t&&(this.state.depth++,t.node.isEmbellished&&!t.node.isKind("mo")?this.visitEmbellishedOperator(t,e):super.visitNode(t,e),this.state.depth--)}visitDefault(t,e){var s,i=t.getLineBBox(e);if(t.node.isToken||t.node.linebreakContainer||null==(s=t.childNodes)||!s[0])this.addWidth(i);else{const[s,r]=this.getBorderLR(t);0===e&&this.addWidth(i,i.L+s),this.visitNode(t.childNodes[0],e),e===t.breakCount&&this.addWidth(i,i.R+r)}}visitEmbellishedOperator(t,e){const s=t.coreMO(),i=bo.from(t.getOuterBBox(),t.linebreakOptions.lineleading);i.getIndentData(s.node);var r=s.getBreakStyle(s.node.attributes.get("linebreakstyle")),n=s.processIndent("",i.indentData[1][1],"",i.indentData[0][1],this.state.width)[1],o=this.moPenalty(s);if("before"===r)this.pushBreak(t,o,n-i.L,null),this.addWidth(i);else{this.addWidth(i);const e=("after"===r?0:(s.multChar?s.multChar.getBBox():i).w)+n;this.pushBreak(t,o,e,null)}}visitMoNode(t,e){const s=t,i=bo.from(s.getOuterBBox(),s.linebreakOptions.lineleading);i.getIndentData(s.node);var r=s.getBreakStyle(s.node.attributes.get("linebreakstyle")),n=s.processIndent("",i.indentData[1][1],"",i.indentData[0][1],this.state.width)[1],o=this.moPenalty(s);if("before"===r)this.pushBreak(t,o,n-i.L,null),this.addWidth(i);else{this.addWidth(i);const e=("after"===r?0:(s.multChar?s.multChar.getBBox():i).w)+n;this.pushBreak(t,o,e,null)}}moPenalty(t){const{linebreak:e,fence:s,form:i}=t.node.attributes.getList("linebreak","fence","form"),r=this.FACTORS;let n=r.tail(r.width(0));var o=s&&"prefix"===i||t.node.texClass===c.OPEN,a=s&&"postfix"===i||t.node.texClass===c.CLOSE;return o&&(n=r.open(n,t),this.state.depth++),a&&(n=r.close(n,t),this.state.depth--),n=(this.TEXCLASS[t.node.texClass]||(t=>t))(n),(this.PENALTY[e]||(t=>t))(r.depth(n))}getPrevious(t){let e=t.node,s=e.parent,i=s.childIndex(e);for(;s&&(s.notParent||s.isKind("mrow"))&&0===i;)s=(e=s).parent,i=s.childIndex(e);if(!s||!i)return null;const r=s.childNodes[i-1];return r.isEmbellished?r.coreMO():null}visitMspaceNode(t,e){const s=t.getLineBBox(e),i=t;if(i.canBreak){const e=this.mspacePenalty(i);s.getIndentData(t.node);var r=t.processIndent("",s.indentData[1][1],"",s.indentData[0][1],this.state.width)[1];this.pushBreak(t,e,r-s.w,null)}this.addWidth(s)}mspacePenalty(t){const e=t.node.attributes.get("linebreak"),s=this.FACTORS,i=s.space(s.tail(s.width(0)),t);return(this.PENALTY[e]||(t=>t))(s.depth(i))}visitMtextNode(t,e){if(t.getText().match(/ /)){const s=t,i=(s.clearBreakPoints(),s.textWidth(" ")),r=t.getBBox(),[n,o]=this.getBorderLR(t),a=(this.addWidth(r,r.L+n),s.childNodes);for(const e of a.keys()){const n=a[e];if(n.node.isKind("text")){const o=n.node.getText().split(/ /),a=o.pop();for(const n of o.keys())this.addWidth(r,s.textWidth(o[n])),this.pushBreak(t,this.mtextPenalty(),-i,[e,n+1]),this.addWidth(r,i);this.addWidth(r,s.textWidth(a))}else this.addWidth(n.getBBox())}this.addWidth(r,r.R+o)}else this.visitDefault(t,e)}mtextPenalty(){const t=this.FACTORS;return t.depth(t.tail(t.width(0)))}visitMrowNode(e,t){var t=e.lineBBox[t]||e.getLineBBox(t),[s,i]=t.start||[0,0],[r,n]=t.end||[e.childNodes.length-1,0],[o,a]=this.getBorderLR(e);this.addWidth(t,t.L+o);for(let t=s;t<=r;t++)this.visitNode(e.childNodes[t],t===s?i:t===r?n:0);this.addWidth(t,t.R+a)}visitInferredMrowNode(t,e){this.state.depth--,this.visitMrowNode(t,e),this.state.depth++}visitMfracNode(t,e){const s=t;!s.node.attributes.get("bevelled")&&s.getOuterBBox().w>this.state.width&&(this.breakToWidth(s.childNodes[0],this.state.width),this.breakToWidth(s.childNodes[1],this.state.width)),this.visitDefault(t,e)}visitMsqrtNode(t,e){if(t.getOuterBBox().w>this.state.width){const e=t,s=e.childNodes[e.base];this.breakToWidth(s,this.state.width-e.rootWidth()),e.getStretchedSurd()}this.visitDefault(t,e)}visitMrootNode(t,e){this.visitMsqrtNode(t,e)}visitMsubNode(t,e){this.visitDefault(t,e);const s=t,i=s.getOffset()[0],r=s.scriptChild.getOuterBBox(),[n,o]=this.getBorderLR(t);this.addWidth(s.getLineBBox(e),i+n+r.rscale*r.w+s.font.params.scriptspace+o)}visitMsupNode(t,e){this.visitDefault(t,e);const s=t,i=s.getOffset()[0],r=s.scriptChild.getOuterBBox(),[n,o]=this.getBorderLR(t);this.addWidth(s.getLineBBox(e),i+n+r.rscale*r.w+s.font.params.scriptspace+o)}visitMsubsupNode(t,e){this.visitDefault(t,e);const s=t,i=s.subChild.getOuterBBox(),r=s.supChild.getOuterBBox(),n=s.getAdjustedIc(),o=Math.max(i.rscale*i.w,n+r.rscale*r.w)+s.font.params.scriptspace,[a,l]=this.getBorderLR(t);this.addWidth(t.getLineBBox(e),a+o+l)}visitMmultiscriptsNode(t,e){var s,i=t,r=i.scriptData;r.numPrescripts&&(s=Math.max(r.psup.rscale*r.psup.w,r.psub.rscale*r.psub.w),this.addWidth(t.getLineBBox(e),s+i.font.params.scriptspace)),this.visitDefault(t,e),r.numScripts&&(s=Math.max(r.sup.rscale*r.sup.w,r.sub.rscale*r.sub.w),this.addWidth(t.getLineBBox(e),s+i.font.params.scriptspace))}visitMfencedNode(t,e){var s=t,i=t.getLineBBox(e),[r,n]=this.getBorderLR(t);0===e&&this.addWidth(i,i.L+r),this.visitNode(s.mrow,e),e===t.breakCount&&this.addWidth(i,i.R+n)}visitMactionNode(t,e){var s=t,i=t.getLineBBox(e),[r,n]=this.getBorderLR(t);0===e&&this.addWidth(i,i.L+r),this.visitNode(s.selected,e),e===t.breakCount&&this.addWidth(i,i.R+n)}}for(const _0 of Object.keys(gr.postfix)){const T0=gr.postfix[_0][3];T0&&T0.fence&&(T0.linebreakstyle="after")}gr.infix["â¡"]=[...gr.infix["â¡"]],gr.infix["â¡"][3]={linebreak:"nobreak"};const yo="@mathjax/%%FONT%%-font";class vo extends Fi{get forceInlineBreaks(){return!1}constructor(t={},e=null,s=null){const[i,r]=t.fontData instanceof f?[t.fontData.constructor,t.fontData]:[t.fontData||s,null],[n,o]=Si(t,i.OPTIONS),a=(super(n),this.factory=this.options.wrapperFactory||new e,(this.factory.jax=this).styleJson=this.options.styleJson||new $n,this.font=r||new i(o),this.font.setOptions({mathmlSpacing:this.options.mathmlSpacing}),this.unknownCache=new Map,this.options.linebreaks.LinebreakVisitor||xo);this.linebreaks=new a(this.factory)}setAdaptor(t){super.setAdaptor(t),"auto"===this.options.htmlHDW&&(this.options.htmlHDW=t.canMeasureNodes?"ignore":"force")}addExtension(t,e=""){return this.font.addExtension(t,e)}typeset(t,e){this.setDocument(e);var s=this.createNode();return this.toDOM(t,s,e),s}createNode(){var t=this.constructor.NAME;return this.html("mjx-container",{class:"MathJax",jax:t})}setScale(t,e){let s=this.getInitialScale()*this.options.scale;if("scale"===e.node.attributes.get("overflow")&&this.math.display){const t=e.getOuterBBox().w,i=this.math.metrics.containerWidth/this.pxPerEm;t>i&&t&&(s*=i/t)}1!==s&&this.adaptor.setStyle(t,"fontSize",Wn(s))}getInitialScale(){return this.math.metrics.scale}toDOM(t,e,s=null){this.setDocument(s),this.math=t,this.container=e,this.pxPerEm=t.metrics.ex/this.font.params.x_height,this.executeFilters(this.preFilters,t,s,e),this.nodeMap=new Map,t.root.attributes.getAllInherited().overflow=this.options.displayOverflow;var i=t.root.attributes.get("overflow"),i=(this.adaptor.setAttribute(e,"overflow",i),"linebreak"===i&&this.getLinebreakWidth(),this.options.linebreaks.inline&&!t.display);let r=!!t.root.getProperty("inlineMarked");!r||i&&this.forceInlineBreaks===t.root.getProperty("inlineForced")||(this.unmarkInlineBreaks(t.root),t.root.removeProperty("inlineMarked"),t.root.removeProperty("inlineForced"),r=!1),i&&!r&&(this.markInlineBreaks(null==(i=t.root.childNodes)?void 0:i[0]),t.root.setProperty("inlineMarked",!0),t.root.setProperty("inlineForced",this.forceInlineBreaks)),t.root.setTeXclass(null);i=this.factory.wrap(t.root);this.setScale(e,i),this.processMath(i,e),this.nodeMap=null,this.executeFilters(this.postFilters,t,s,e)}getBBox(t,e){this.setDocument(e),(this.math=t).root.setTeXclass(null),this.nodeMap=new Map;e=this.factory.wrap(t.root).getOuterBBox();return this.nodeMap=null,e}getLinebreakWidth(){var t=this.math.metrics.containerWidth/this.pxPerEm,e=this.math.root.attributes.get("maxwidth")||this.options.linebreaks.width;this.containerWidth=qn(e,t,1,this.pxPerEm)}markInlineBreaks(i){if(i){var r=this.forceInlineBreaks;let e=!1,s=!1,t="";for(const n of i.childNodes)if(t)s=this.markInlineBreak(s,r,t,i,n),t="",e=!1;else if(n.isEmbellished){if(n===i.childNodes[0])continue;const o=n.coreMO(),a=o.texClass,l=o.attributes.get("linebreak"),h=o.attributes.get("linebreakstyle");(a===c.BIN||a===c.REL||a===c.ORD&&o.hasSpacingAttributes()||"auto"!==l)&&"nobreak"!==l&&("before"===h?e&&"auto"===l||(s=this.markInlineBreak(s,r,l,i,n,o)):t=l),e="newline"===l&&"after"===h}else if(n.isKind("mspace")){const t=n.attributes.get("linebreak");"nobreak"!==t&&n.canBreak&&(s=this.markInlineBreak(s,r,t,i,n)),e="newline"===t}else e=!1,n.isKind("mstyle")&&!n.attributes.get("style")&&!n.attributes.hasExplicit("mathbackground")||n.isKind("semantics")?(this.markInlineBreaks(n.childNodes[0]),n.getProperty("process-breaks")&&(n.setProperty("inline-breaks",!0),n.childNodes[0].setProperty("inline-breaks",!0),i.parent.setProperty("process-breaks","true"))):n.isKind("mrow")&&n.attributes.get("data-semantic-added")&&(this.markInlineBreaks(n),n.getProperty("process-breaks")&&(n.setProperty("inline-breaks",!0),i.parent.setProperty("process-breaks","true")))}}markInlineBreak(t,e,s,i,r,n=null){return r.setProperty("breakable",!0),e&&"newline"!==s?(r.setProperty("forcebreak",!0),null!=n&&n.setProperty("forcebreak",!0)):(r.removeProperty("forcebreak"),null!=n&&n.removeProperty("forcebreak"),"newline"===s&&r.setProperty("newline",!0)),t||(i.setProperty("process-breaks",!0),i.parent.setProperty("process-breaks",!0),t=!0),t}unmarkInlineBreaks(t){if(t&&(t.removeProperty("forcebreak"),t.removeProperty("breakable"),t.getProperty("process-breaks"))){t.removeProperty("process-breaks");for(const e of t.childNodes)this.unmarkInlineBreaks(e)}}getMetrics(t){this.setDocument(t);const e=this.adaptor,s=this.getMetricMaps(t);for(const i of t.math){const t=e.parent(i.start.node);if(i.state()<u.METRICS&&t){const e=s[i.display?1:0],{em:r,ex:n,containerWidth:o,scale:a,family:l}=e.get(t);i.setMetrics(r,n,o,a),this.options.mtextInheritFont&&(i.outputData.mtextFamily=l),this.options.merrorInheritFont&&(i.outputData.merrorFamily=l),i.state(u.METRICS)}}}getMetricsFor(t,e){var s=this.options.mtextInheritFont||this.options.merrorInheritFont,t=this.getTestElement(t,e),s=Object.assign(Object.assign({},this.measureMetrics(t,s)),{display:e});return this.adaptor.remove(t),s}getMetricMaps(t){const e=this.adaptor,s=[new Map,new Map];for(const i of t.math){const t=e.parent(i.start.node);if(t&&i.state()<u.METRICS){const e=s[i.display?1:0];e.has(t)||e.set(t,this.getTestElement(t,i.display))}}const i=this.options.mtextInheritFont||this.options.merrorInheritFont,r=[new Map,new Map];for(const t of r.keys())for(const e of s[t].keys())r[t].set(e,this.measureMetrics(s[t].get(e),i));for(const t of r.keys())for(const i of s[t].values())e.remove(i);return r}getTestElement(t,e){const s=this.adaptor;if(!this.testInline){this.testInline=this.html("mjx-test",{style:{display:"inline-block",width:"100%","font-style":"normal","font-weight":"normal","font-size":"100%","font-size-adjust":"none","text-indent":0,"text-transform":"none","letter-spacing":"normal","word-spacing":"normal",overflow:"hidden",height:"1px","margin-right":"-1px"}},[this.html("mjx-left-box",{style:{display:"inline-block",width:0,float:"left"}}),this.html("mjx-ex-box",{style:{position:"absolute",overflow:"hidden",width:"1px",height:"60ex"}}),this.html("mjx-right-box",{style:{display:"inline-block",width:0,float:"right"}})]),this.testDisplay=s.clone(this.testInline),s.setStyle(this.testDisplay,"display","table"),s.setStyle(this.testDisplay,"margin-right",""),s.setStyle(s.firstChild(this.testDisplay),"display","none");const t=s.lastChild(this.testDisplay);s.setStyle(t,"display","table-cell"),s.setStyle(t,"width","10000em"),s.setStyle(t,"float","")}return s.append(t,s.clone(e?this.testDisplay:this.testInline))}measureMetrics(t,e){const s=this.adaptor,i=e?s.fontFamily(t):"",r=s.fontSize(t),[n,o]=s.nodeSize(s.childNode(t,1)),a=n?o/60:r*this.options.exFactor;return{em:r,ex:a,containerWidth:n?"table"===s.getStyle(t,"display")?s.nodeSize(s.lastChild(t))[0]-1:s.nodeBBox(s.lastChild(t)).left-s.nodeBBox(s.firstChild(t)).left-2:1e6,scale:Math.max(this.options.minScale,this.options.matchFontHeight?a/this.font.params.x_height/r:1),family:i}}styleSheet(t){if(this.setDocument(t),this.styleJson.clear(),this.styleJson.addStyles(this.constructor.commonStyles),"getStyles"in t)for(const e of t.getStyles())this.styleJson.addStyles(e);return this.addWrapperStyles(this.styleJson),this.addFontStyles(this.styleJson),this.html("style",{id:"MJX-styles"},[this.text("\n"+this.styleJson.cssText+"\n")])}addFontStyles(t){t.addStyles(this.font.styles)}addWrapperStyles(t){for(const e of this.factory.getKinds())this.addClassStyles(this.factory.getNodeClass(e),t)}addClassStyles(t,e){t.addStyles(e,this)}insertStyles(t){}setDocument(t){t&&(this.document=t,this.adaptor.document=t.document)}html(t,e={},s=[],i){return this.adaptor.node(t,e,s,i)}text(t){return this.adaptor.text(t)}fixed(t,e=3){return Math.abs(t)<6e-4?"0":t.toFixed(e).replace(/\.?0+$/,"")}measureText(t,e,s=["",!1,!1]){var i=this.unknownText(t,e);if("-explicitFont"===e){const t=this.cssFontStyles(s);this.adaptor.setAttributes(i,{style:t})}return this.measureTextNodeWithCache(i,t,e,s)}measureTextNodeWithCache(t,e,s,i=["",!1,!1]){"-explicitFont"===s&&(s=[i[0],i[1]?"T":"F",i[2]?"T":"F",""].join("-")),this.unknownCache.has(s)||this.unknownCache.set(s,new Map);const r=this.unknownCache.get(s),n=r.get(e);if(n)return n;i=this.measureTextNode(t);return r.set(e,i),i}cssFontStyles(t,e={}){var[t,s,i]=t;return e["font-family"]=this.font.getFamily(t),s&&(e["font-style"]="italic"),i&&(e["font-weight"]="bold"),e}getFontData(t){return t=t||new ao,[this.font.getFamily(t.get("font-family")),"italic"===t.get("font-style"),"bold"===t.get("font-weight")]}}vo.NAME="Common",vo.OPTIONS=Object.assign(Object.assign({},Fi.OPTIONS),{scale:1,minScale:.5,mtextInheritFont:!1,merrorInheritFont:!1,mtextFont:"",merrorFont:"serif",mathmlSpacing:!1,skipAttributes:{},exFactor:.5,displayAlign:"center",displayIndent:"0",displayOverflow:"overflow",linebreaks:{inline:!0,width:"100%",lineleading:.2,LinebreakVisitor:null},font:"",htmlHDW:"auto",wrapperFactory:null,fontData:null,fontPath:yo,styleJson:null}),vo.commonStyles={'mjx-container[overflow="scroll"][display]':{overflow:"auto clip","min-width":"initial !important"},'mjx-container[overflow="truncate"][display]':{overflow:"hidden clip","min-width":"initial !important"},"mjx-container[display]":{display:"block","text-align":"center","justify-content":"center",margin:"calc(1em - 2px) 0",padding:"2px 0"},'mjx-container[display][width="full"]':{display:"flex"},'mjx-container[justify="left"]':{"text-align":"left","justify-content":"left"},'mjx-container[justify="right"]':{"text-align":"right","justify-content":"right"}};class Co extends Rn{constructor(){super(...arguments),this.jax=null}get Wrappers(){return this.node}}Co.defaultNodes={};function _o(t,e,s){return e?t?2/18:5/18:t?s<2/18?0:2/18:s}const To={[l(0)]:"0",[l(2/18)]:"1",[l(3/18)]:"2",[l(4/18)]:"3",[l(5/18)]:"4",[l(6/18)]:"5"};class Lo extends Sn{static addStyles(t,e){t.addStyles(this.styles)}get jax(){return this.factory.jax}get adaptor(){return this.factory.jax.adaptor}get metrics(){return this.factory.jax.math.metrics}get containerWidth(){return this.jax.containerWidth}get linebreaks(){return this.jax.linebreaks}get linebreakOptions(){return this.jax.options.linebreaks}get fixesPWidth(){return!this.node.notParent&&!this.node.isToken}get breakCount(){var t;return this._breakCount<0&&(t=this.node,this._breakCount=t.isEmbellished?this.coreMO().embellishedBreakCount:t.arity<0&&!t.linebreakContainer&&this.childNodes[0].isStack?this.childNodes[0].breakCount:0),this._breakCount}breakTop(t,e){return this.node.linebreakContainer||!this.parent?t:this.parent.breakTop(t,this)}constructor(t,e,s=null){super(t,e),this.parent=null,this.dom=null,this.removedStyles=null,this.styles=null,this.styleData=null,this.variant="",this.bboxComputed=!1,this._breakCount=-1,this.lineBBox=[],this.stretch=fo,this.font=null,this.parent=s,this.font=t.jax.font,this.bbox=d.zero(),this.getStyles(),this.getStyleData(),this.getVariant(),this.getScale(),this.getSpace(),this.childNodes=e.childNodes.map(t=>{t=this.wrap(t);return t.bbox.pwidth&&(e.notParent||e.isKind("math"))&&(this.bbox.pwidth=d.fullWidth),t})}wrap(t,e=null){var s=this.factory.wrap(t,e||this);return e&&e.childNodes.push(s),this.jax.nodeMap.set(t,s),s}getBBox(t=!0){if(this.bboxComputed)return this.bbox;var e=t?this.bbox:d.zero();return this.computeBBox(e),this.bboxComputed=t,e}getOuterBBox(t=!0){var e;const s=this.getBBox(t);if(!this.styleData)return s;const i=this.styleData.padding,r=(null==(e=this.styleData.border)?void 0:e.width)||[0,0,0,0],n=s.copy();for(const[,t,e]of d.boxSides)n[e]+=i[t]+r[t];return n}getUnbrokenHD(){const e=this.breakCount+1;let s=0,i=0;for(let t=0;t<e;t++){const{h:e,d:r}=this.getLineBBox(t);e>s&&(s=e),r>i&&(i=r)}return[s,i]}computeBBox(t,e=!1){t.empty();for(const e of this.childNodes)t.append(e.getOuterBBox());t.clean(),this.fixesPWidth&&this.setChildPWidths(e)&&this.computeBBox(t,!0)}getLineBBox(t){if(!this.lineBBox[t]){var e=this.breakCount;if(e){const s=this.embellishedBBox(t)||this.computeLineBBox(t);this.lineBBox[t]=s,0===t&&(!this.node.isKind("mo")&&this.node.isEmbellished?s.originalL=this.getBBox().L:s.L=this.getBBox().L),t===e&&(s.R=this.getBBox().R)}else{e=this.getOuterBBox();this.lineBBox[t]=bo.from(e,this.linebreakOptions.lineleading)}}return this.lineBBox[t]}embellishedBBox(t){if(!this.node.isEmbellished||this.node.isKind("mo"))return null;const e=this.coreMO();return e.moLineBBox(t,e.embellishedBreakStyle,this.getOuterBBox())}computeLineBBox(t){return this.getChildLineBBox(this.childNodes[0],t)}getBreakNode(t){var e;if(!t.start)return[this,null];var[t,s]=t.start;if(this.node.isEmbellished)return[this,this.coreMO()];const i=(null!=(e=null==(e=this.childNodes[0])?void 0:e.node)&&e.isInferred?this.childNodes[0]:this).childNodes;return this.node.isToken||!i[t]?[this,null]:i[t].getBreakNode(i[t].getLineBBox(s))}getChildLineBBox(t,e){var s=this.breakCount;let i=t.getLineBBox(e);return(this.styleData||this.bbox.L||this.bbox.R)&&(i=i.copy()),this.addMiddleBorders(i),0===e?(i.L+=this.bbox.L,this.addLeftBorders(i)):e===s&&(i.R+=this.bbox.R,this.addRightBorders(i)),i}addLeftBorders(t){var e,s;this.styleData&&(e=this.styleData.border,s=this.styleData.padding,t.w+=((null==(t=null==e?void 0:e.width)?void 0:t[3])||0)+((null==s?void 0:s[3])||0))}addMiddleBorders(t){var e,s,i;this.styleData&&(s=this.styleData.border,i=this.styleData.padding,t.h+=((null==(e=null==s?void 0:s.width)?void 0:e[0])||0)+((null==i?void 0:i[0])||0),t.d+=((null==(e=null==s?void 0:s.width)?void 0:e[2])||0)+((null==i?void 0:i[2])||0))}addRightBorders(t){var e,s;this.styleData&&(e=this.styleData.border,s=this.styleData.padding,t.w+=((null==(t=null==e?void 0:e.width)?void 0:t[1])||0)+((null==s?void 0:s[1])||0))}setChildPWidths(t,e=null,s=!0){if(t)return!1;s&&(this.bbox.pwidth="");let i=!1;for(const n of this.childNodes){var r=n.getBBox();r.pwidth&&n.setChildPWidths(t,null===e?r.w:e,s)&&(i=!0)}return i}breakToWidth(t){}invalidateBBox(t=!0){(this.bboxComputed||0<=this._breakCount)&&(this.bboxComputed=!1,this.lineBBox=[],this._breakCount=-1,this.parent&&t&&this.parent.invalidateBBox())}copySkewIC(t){var e=this.childNodes[0],s=(null!=(s=null==e?void 0:e.bbox)&&s.sk&&(t.sk=e.bbox.sk),null!=(s=null==e?void 0:e.bbox)&&s.dx&&(t.dx=e.bbox.dx),this.childNodes[this.childNodes.length-1]);null!=(e=null==s?void 0:s.bbox)&&e.ic&&(t.ic=s.bbox.ic,t.w+=t.ic)}getStyles(){var t=this.node.attributes.getExplicit("style");if(t){const i=this.styles=new ao(t);for(let t=0,e=Lo.removeStyles.length;t<e;t++){var s=Lo.removeStyles[t];i.get(s)&&(this.removedStyles||(this.removedStyles={}),this.removedStyles[s]=i.get(s),i.set(s,""))}}}getStyleData(){if(this.styles){const o=Array(4).fill(0),a=Array(4).fill(0),l=Array(4),h=Array(4);let t=!1,e=!1;for(var[s,i]of d.boxSides){var r="border"+s,n=this.styles.get(r+"Width"),n=(n&&(e=!0,a[i]=Math.max(0,this.length2em(n,1)),l[i]=this.styles.get(r+"Style")||"solid",h[i]=this.styles.get(r+"Color")),this.styles.get("padding"+s));n&&(t=!0,o[i]=Math.max(0,this.length2em(n,1)))}this.styleData=t||e?{padding:o,border:e?{width:a,style:l,color:h}:null}:null}}getVariant(){if(this.node.isToken){const e=this.node.attributes;let t=e.get("mathvariant");if(e.hasExplicit("mathvariant"))this.font.getVariant(t)||(console.warn("Invalid variant: "+t),t="normal");else{const s=e.getList("fontfamily","fontweight","fontstyle");if(this.removedStyles){const e=this.removedStyles;e.fontFamily&&(s.family=e.fontFamily),e.fontWeight&&(s.weight=e.fontWeight),e.fontStyle&&(s.style=e.fontStyle)}s.fontfamily&&(s.family=s.fontfamily),s.fontweight&&(s.weight=s.fontweight),s.fontstyle&&(s.style=s.fontstyle),s.weight&&s.weight.match(/^\d+$/)&&(s.weight=600<parseInt(s.weight)?"bold":"normal"),t=s.family?this.explicitVariant(s.family,s.weight,s.style):(this.node.getProperty("variantForm")&&(t="-tex-variant"),t=(Lo.BOLDVARIANTS[s.weight]||{})[t]||t,(Lo.ITALICVARIANTS[s.style]||{})[t]||t)}this.variant=t}}explicitVariant(t,e,s){let i=this.styles;return(i=i||(this.styles=new ao)).set("fontFamily",t),e&&i.set("fontWeight",e),s&&i.set("fontStyle",s),"-explicitFont"}getScale(){let t=1;const e=this.parent,s=e?e.bbox.scale:1,i=this.node.attributes,r=Math.min(i.get("scriptlevel"),2);let n=i.get("fontsize"),o=this.node.isToken||this.node.isKind("mstyle")?i.get("mathsize"):i.getInherited("mathsize");if(0!==r&&(t=Math.pow(i.get("scriptsizemultiplier"),r)),this.removedStyles&&this.removedStyles.fontSize&&!n&&(n=this.removedStyles.fontSize),"1"!==(o=n&&!i.hasExplicit("mathsize")?n:o)&&(t*=this.length2em(o,1,1)),0!==r){const e=this.length2em(i.get("scriptminsize"),.4,1);t<e&&(t=e)}this.bbox.scale=t,this.bbox.rscale=t/s}getSpace(){var t=this.isTopEmbellished(),e=this.node.hasSpacingAttributes();this.jax.options.mathmlSpacing||e?t&&this.getMathMLSpacing():this.getTeXSpacing(t,e)}getMathMLSpacing(){const t=this.node.coreMO(),e=t.coreParent(),s=e.parent;if(s&&s.isKind("mrow")&&1!==s.childNodes.length){var i=s.childIndex(e);if(null!==i){const r=t.getProperty("noDictDef"),n=t.attributes,o=0<n.get("scriptlevel");this.bbox.L=n.isSet("lspace")?Math.max(0,this.length2em(n.get("lspace"))):_o(o,r,t.lspace),this.bbox.R=n.isSet("rspace")?Math.max(0,this.length2em(n.get("rspace"))):_o(o,r,t.rspace),i&&(i=s.childNodes[i-1]).isEmbellished&&(i=this.jax.nodeMap.get(i).getBBox()).R&&(this.bbox.L=Math.max(0,this.bbox.L-i.R))}}}getTeXSpacing(t,e){if(!e){const t=this.node.texSpacing();t&&(this.bbox.L=this.length2em(t))}if(t||e){const t=this.node.coreMO().attributes;t.isSet("lspace")&&(this.bbox.L=Math.max(0,this.length2em(t.get("lspace")))),t.isSet("rspace")&&(this.bbox.R=Math.max(0,this.length2em(t.get("rspace"))))}}isTopEmbellished(){return this.node.isEmbellished&&!(this.node.parent&&this.node.parent.isEmbellished)}core(){return this.jax.nodeMap.get(this.node.core())}coreMO(){return this.jax.nodeMap.get(this.node.coreMO())}coreRScale(){let t=this.bbox.rscale,e=this.coreMO();for(;e!==this&&e;)t*=e.bbox.rscale,e=e.parent;return t}getRScale(){let t=1,e=this;for(;e;)t*=e.bbox.rscale,e=e.parent;return t}getText(){let t="";if(this.node.isToken)for(const e of this.node.childNodes)e instanceof lr&&(t+=e.getText());return t}canStretch(t){if(this.stretch=fo,this.node.isEmbellished){const e=this.core();e&&e.node!==this.node&&e.canStretch(t)&&(this.stretch=e.stretch)}return this.stretch.dir!==m.None}getAlignShift(){let{indentalign:t,indentshift:e,indentalignfirst:s,indentshiftfirst:i}=this.node.attributes.getAllAttributes();return"indentalign"!==s&&(t=s),"indentshift"!==i&&(e=i),this.processIndent(t,e)}processIndent(t,e,s="",i="",r=this.metrics.containerWidth){return this.jax.math.display?(s&&"auto"!==s||(s=this.jax.math.root.getProperty("inlineMarked")?"left":this.jax.options.displayAlign),i&&"auto"!==i||(i=this.jax.math.root.getProperty("inlineMarked")?"0":this.jax.options.displayIndent),"auto"===t&&(t=s),"auto"===e&&(e=i,"right"!==t||e.match(/^\s*0[a-z]*\s*$/)||(e=("-"+e.trim()).replace(/^--/,""))),[t,this.length2em(e,r)]):["left",0]}getAlignX(t,e,s){return"right"===s?t-(e.w+e.R)*e.rscale:"left"===s?e.L*e.rscale:(t-e.w*e.rscale)/2}getAlignY(t,e,s,i,r){return"top"===r?t-s:"bottom"===r?i-e:"center"===r?(t-s-(e-i))/2:0}getWrapWidth(t){return this.childNodes[t].getBBox().w}getChildAlign(t){return"left"}percent(t){return Wn(t)}em(t){return l(t)}px(t,e=-jn){return zn(t,e,this.metrics.em)}length2em(t,e=1,s=null){null===s&&(s=this.bbox.scale);var i=this.font.params.rule_thickness,r=Ri(t,{medium:1,thin:2/3,thick:5/3},0);return r?r*i:qn(t,e,s,this.jax.pxPerEm)}unicodeChars(s,t=this.variant){let e=br(s);t=this.font.getVariant(t);if(t&&t.chars){const s=t.chars;e=e.map(t=>{var e;return(null==(e=null==(e=s[t])?void 0:e[3])?void 0:e.smp)||t})}return e}remapChars(t){return t}mmlText(t){return this.node.factory.create("text").setText(t)}mmlNode(t,e={},s=[]){return this.node.factory.create(t,e,s)}createMo(t){const e=this.node.factory,s=e.create("text").setText(t),i=e.create("mo",{stretchy:!0},[s]),r=(i.inheritAttributesFrom(this.node),i.parent=this.node.parent,this.wrap(i));return r.parent=this,r}getVariantChar(t,e){const s=this.font.getChar(t,e)||[0,0,0,{unknown:!0}];return 3===s.length&&(s[3]={}),s}html(t,e={},s=[]){return this.jax.html(t,e,s)}}Lo.kind="unknown",Lo.styles={},Lo.removeStyles=["fontSize","fontFamily","fontWeight","fontStyle","fontVariant","font"],Lo.skipAttributes={fontfamily:!0,fontsize:!0,fontweight:!0,fontstyle:!0,color:!0,background:!0,class:!0,href:!0,style:!0,xmlns:!0},Lo.BOLDVARIANTS={bold:{normal:"bold",italic:"bold-italic",fraktur:"bold-fraktur",script:"bold-script","sans-serif":"bold-sans-serif","sans-serif-italic":"sans-serif-bold-italic"},normal:{bold:"normal","bold-italic":"italic","bold-fraktur":"fraktur","bold-script":"script","bold-sans-serif":"sans-serif","sans-serif-bold-italic":"sans-serif-italic"}},Lo.ITALICVARIANTS={italic:{normal:"italic",bold:"bold-italic","sans-serif":"sans-serif-italic","bold-sans-serif":"sans-serif-bold-italic"},normal:{italic:"normal","bold-italic":"bold","sans-serif-italic":"sans-serif","sans-serif-bold-italic":"bold-sans-serif"}};const wo={"70.7%":"s","70%":"s","50%":"ss","60%":"Tn","85%":"sm","120%":"lg","144%":"Lg","173%":"LG","207%":"hg","249%":"HG"};class g extends Lo{toCHTML(t){this.toEmbellishedCHTML(t)||this.addChildren(this.standardChtmlNodes(t))}toEmbellishedCHTML(t){if(t.length<=1||!this.node.isEmbellished)return!1;const e=this.adaptor,s=(t.forEach(t=>e.append(t,this.html("mjx-linestrut"))),this.coreMO().embellishedBreakStyle),i=[];for(var[r,n]of[[t[0],"before"],[t[1],"after"]])s!==n?(this.toCHTML([r]),i.push(this.dom[0]),"after"===n&&e.removeAttribute(this.dom[0],"space")):i.push(this.createChtmlNodes([r])[0]);return this.dom=i,!0}addChildren(t){for(const e of this.childNodes)e.toCHTML(t)}standardChtmlNodes(t){this.markUsed();t=this.createChtmlNodes(t);return this.handleStyles(),this.handleScale(),this.handleBorders(),this.handleColor(),this.handleSpace(),this.handleAttributes(),this.handlePWidth(),t}markUsed(){this.jax.wrapperUsage.add(this.kind)}createChtmlNodes(t){this.dom=t.map(t=>this.html("mjx-"+this.node.kind));for(const e of(t=this.handleHref(t)).keys())this.adaptor.append(t[e],this.dom[e]);return this.dom}handleHref(t){const e=this.node.attributes.get("href");return e?t.map(t=>this.adaptor.append(t,this.html("a",{href:e}))):t}handleStyles(){if(this.styles){const e=this.styles.cssText;if(e){const s=this.adaptor,i=(this.dom.forEach(t=>s.setAttribute(t,"style",e)),this.styles.get("font-family"));i&&this.dom.forEach(t=>s.setStyle(t,"font-family",this.font.cssFamilyPrefix+", "+i))}}}handleScale(){this.dom.forEach(t=>this.setScale(t,this.bbox.rscale))}setScale(t,e){var s=Math.abs(e-1)<.001?1:e;if(t&&1!==s){const e=this.percent(s);wo[e]?this.adaptor.setAttribute(t,"size",wo[e]):this.adaptor.setStyle(t,"fontSize",e)}return t}handleSpace(){const t=this.adaptor,e=!!this.node.getProperty("breakable")&&!this.node.getProperty("newline"),s=this.dom.length-1;for(const i of[[this.getLineBBox(0).L,"space","marginLeft",0],[this.getLineBBox(s).R,"rspace","marginRight",s]]){const[s,r,n,o]=i,a=this.em(s);if(e&&"space"===r){const e=t.node("mjx-break",To[a]?{size:To[a]}:{style:"letter-spacing: "+this.em(s-1)},[t.text(" ")]);t.insert(e,this.dom[o])}else s&&(To[a]?t.setAttribute(this.dom[o],r,To[a]):t.setStyle(this.dom[o],n,a))}}handleBorders(){var t,e,s=null==(t=this.styleData)?void 0:t.border,i=null==(e=this.styleData)?void 0:e.padding,r=this.dom.length-1;if(s&&r){const n=this.adaptor;for(const t of this.dom.keys()){const e=this.dom[t];t&&(s.width[3]&&n.setStyle(e,"border-left"," none"),i[3]&&n.setStyle(e,"padding-left","0")),t!==r&&(s.width[1]&&n.setStyle(e,"border-right","none"),i[1]&&n.setStyle(e,"padding-right","0"))}}}handleColor(){var t;const e=this.adaptor,s=this.node.attributes,i=s.getExplicit("mathcolor")||s.getExplicit("color"),r=s.getExplicit("mathbackground")||s.getExplicit("background")||(null==(t=this.styles)?void 0:t.get("background-color"));i&&this.dom.forEach(t=>e.setStyle(t,"color",i)),r&&this.dom.forEach(t=>e.setStyle(t,"backgroundColor",r))}handleAttributes(){const e=this.adaptor,s=this.node.attributes,i=s.getAllDefaults(),t=g.skipAttributes;for(const r of s.getExplicitNames())if(!1===t[r]||!(r in i)&&!t[r]&&!e.hasAttribute(this.dom[0],r)){const i=s.getExplicit(r);this.dom.forEach(t=>e.setAttribute(t,r,i))}if(s.get("class")){const i=s.get("class").trim().split(/ +/);for(const s of i)this.dom.forEach(t=>e.addClass(t,s))}this.node.getProperty("inline-breaks")&&this.dom.forEach(t=>e.setAttribute(t,"inline-breaks","true"))}handlePWidth(){if(this.bbox.pwidth){const e=this.adaptor;this.bbox.pwidth===d.fullWidth?this.dom.forEach(t=>e.setAttribute(t,"width","full")):this.dom.forEach(t=>e.setStyle(t,"width",this.bbox.pwidth))}}setIndent(t,e,s){const i=this.adaptor;if("center"===e||"left"===e){const e=this.getBBox().L;i.setStyle(t,"margin-left",this.em(s+e))}if("center"===e||"right"===e){const e=this.getBBox().R;i.setStyle(t,"margin-right",this.em(-s+e))}}drawBBox(){var{w:t,h:e,d:s,R:i}=this.getOuterBBox(),i=this.html("mjx-box",{style:{opacity:.25,"margin-left":this.em(-t-i)}},[this.html("mjx-box",{style:{height:this.em(e),width:this.em(t),"background-color":"red"}}),this.html("mjx-box",{style:{height:this.em(s),width:this.em(t),"margin-left":this.em(-t),"vertical-align":this.em(-s),"background-color":"green"}})]),e=this.dom[0]||this.parent.dom[0],t=this.adaptor.getAttribute(e,"size"),s=(t&&this.adaptor.setAttribute(i,"size",t),this.adaptor.getStyle(e,"fontSize"));s&&this.adaptor.setStyle(i,"fontSize",s),this.adaptor.append(this.adaptor.parent(e),i),this.adaptor.setStyle(e,"backgroundColor","#FFEE00")}html(t,e={},s=[]){return this.jax.html(t,e,s)}text(t){return this.jax.text(t)}char(t){return this.font.charSelector(t).substring(1)}}function Io(t){return class extends t{getWrapWidth(t){return this.parent?this.getBBox().w:this.metrics.containerWidth/this.jax.pxPerEm}computeBBox(t,e=!1){super.computeBBox(t,e);const s=this.node.attributes;if(!this.parent&&this.jax.math.display&&"linebreak"===s.get("overflow")){const e=this.containerWidth;t.w>e&&this.childNodes[0].breakToWidth(e),t.updateFrom(this.childNodes[0].getBBox())}}}}g.kind="unknown",g.autoStyle=!0;(H=class extends Io(g){handleDisplay(i){const r=this.adaptor,[n,o]=this.getAlignShift();if("center"!==n&&r.setAttribute(i,"justify",n),this.bbox.pwidth===d.fullWidth){if(r.setAttribute(i,"width","full"),this.jax.table){let{L:t,w:e,R:s}=this.jax.table.getOuterBBox();"right"===n?s=Math.max(s||-o,-o):"left"===n?t=Math.max(t||o,o):"center"===n&&(e+=2*Math.abs(o));var a=this.em(Math.max(0,t+e+s));r.setStyle(i,"min-width",a),r.setStyle(this.jax.table.dom[0],"min-width",a)}}else this.setIndent(this.dom[0],n,o)}handleInline(t){const e=this.adaptor,s=e.getStyle(this.dom[0],"margin-right");s&&(e.setStyle(this.dom[0],"margin-right",""),e.setStyle(t,"margin-right",s),e.setStyle(t,"width","0"))}toCHTML(t){super.toCHTML(t);const e=this.adaptor;"block"===this.node.attributes.get("display")?(e.setAttribute(this.dom[0],"display","true"),e.setAttribute(t[0],"display","true"),this.handleDisplay(t[0])):this.handleInline(t[0]),e.addClass(this.dom[0],this.font.cssFontPrefix+"-N")}setChildPWidths(t,e=null,s=!0){return!!this.parent&&super.setChildPWidths(t,e,s)}handleAttributes(){super.handleAttributes();const e=this.adaptor;this.node.getProperty("process-breaks")&&this.dom.forEach(t=>e.setAttribute(t,"breakable","true"))}}).kind=cr.prototype.kind,H.styles={"mjx-math":{"line-height":0,"text-align":"left","text-indent":0,"font-style":"normal","font-weight":"normal","font-size":"100%","font-size-adjust":"none","letter-spacing":"normal","word-wrap":"normal","word-spacing":"normal",direction:"ltr",padding:"1px 0"},'mjx-container[jax="CHTML"][display="true"] mjx-math':{padding:0},"mjx-math[breakable]":{display:"inline"},'mjx-container[jax="CHTML"] mjx-break':{"white-space":"normal","line-height":"0","clip-path":"rect(0 0 0 0)","font-family":"MJX-BRK !important"},'mjx-break[size="0"]':{"letter-spacing":"-0.999em"},'mjx-break[size="1"]':{"letter-spacing":"-0.889em"},'mjx-break[size="2"]':{"letter-spacing":"-0.833em"},'mjx-break[size="3"]':{"letter-spacing":"-0.778em"},'mjx-break[size="4"]':{"letter-spacing":"-0.722em"},'mjx-break[size="5"]':{"letter-spacing":"-0.667em"}};const So=H;function Ro(t){return class extends t{computeBBox(t,e=0){super.computeBBox(t),this.copySkewIC(t)}}}(j=class extends Ro(g){}).kind=dr.prototype.kind;const ko=j;function Mo(t){return class extends t{get breakCount(){return this.breakStyle?1:0}get embellishedBreakCount(){return this.embellishedBreakStyle?1:0}get embellishedBreakStyle(){return this.breakStyle||this.getBreakStyle()}protoBBox(t){var e=this.stretch.dir!==m.None;e&&null===this.size&&this.getStretchedVariant([0]),e&&this.size<0||(super.computeBBox(t),0!==t.w||!this.node.attributes.hasExplicit("fence")||""!==this.node.getText()||this.node.texClass!==c.OPEN&&this.node.texClass!==c.CLOSE||this.jax.options.mathmlSpacing||(t.R=this.font.params.nulldelimiterspace),this.copySkewIC(t))}getAccentOffset(){var t=d.empty();return this.protoBBox(t),-t.w/2}getCenterOffset(t=null){return t||(t=d.empty(),super.computeBBox(t)),(t.h+t.d)/2+this.font.params.axis_height-t.h}getStretchedVariant(e,s=!1){if(this.stretch.dir!==m.None){var i=this.getWH(e),r=this.getSize("minsize",0),n=this.getSize("maxsize",1/0),o=this.node.getProperty("mathaccent"),i=Math.max(r,Math.min(n,i)),n=this.font.params.delimiterfactor/1e3,a=this.font.params.delimitershortfall,l=r||s?i:o?Math.min(i/n,i+a):Math.max(i*n,i-a),r=this.stretch,h=r.c||this.getText().codePointAt(0);let t=0;if(r.sizes)for(const e of r.sizes){if(e>=l)return o&&t&&t--,void this.setDelimSize(h,t);t++}r.stretch?(this.size=-1,this.invalidateBBox(),this.getStretchBBox(e,this.checkExtendedHeight(i,r),r)):this.setDelimSize(h,t-1)}}setDelimSize(t,e){var s=this.stretch,e=(this.variant=this.font.getSizeVariant(t,e),this.size=e,s.schar&&s.schar[Math.min(e,s.schar.length-1)]||t);this.stretch=Object.assign(Object.assign({},s),{c:e}),this.childNodes[0].invalidateBBox()}getSize(t,e){const s=this.node.attributes;return e=s.isSet(t)?this.length2em(s.get(t),1,1):e}getWH(t){if(0===t.length)return 0;if(1===t.length)return t[0];var[t,e]=t,s=this.font.params.axis_height;return this.node.attributes.get("symmetric")?2*Math.max(t-s,e+s):t+e}getStretchBBox(t,e,s){Object.hasOwn(s,"min")&&s.min>e&&(e=s.min);let[i,r,n]=s.HDW;if(this.stretch.dir===m.Vertical)[i,r]=this.getBaseline(t,e,s);else if(n=e,this.stretch.hd&&!this.jax.options.mathmlSpacing){const t=this.font.params.extender_factor;i=i*(1-t)+this.stretch.hd[0]*t,r=r*(1-t)+this.stretch.hd[1]*t}this.bbox.h=i,this.bbox.d=r,this.bbox.w=n}getBaseline(t,e,s){var i=2===t.length&&t[0]+t[1]===e,[e,r]=i?t:[e,0];let[n,o]=[e+r,0];if(this.node.attributes.get("symmetric")){const t=this.font.params.axis_height;i&&(n=2*Math.max(e-t,r+t)),o=n/2-t}else if(i)o=r;else{const[t,e]=s.HDW||[.75,.25];o=e*(n/(t+e))}return[n-o,o]}checkExtendedHeight(t,e){var s;return e.fullExt&&([e,s]=e.fullExt,t=s+Math.ceil(Math.max(0,t-s)/e)*e),t}setBreakStyle(t=""){if(this.breakStyle=this.node.parent.isEmbellished&&!t?"":this.getBreakStyle(t),this.breakCount&&this.multChar){const t=this.parent.node.childIndex(this.node),e=this.parent.node.childNodes[t+1];e&&e.setTeXclass(this.multChar.node)}}getBreakStyle(t=""){const e=this.node.attributes;let s=t||("newline"===e.get("linebreak")||this.node.getProperty("forcebreak")?e.get("linebreakstyle"):"");return s="infixlinebreakstyle"===s?e.get(s):s}getMultChar(){var t=this.node.attributes.get("linebreakmultchar");t&&"â¢"===this.getText()&&"â¢"!==t&&(this.multChar=this.createMo(t))}constructor(t,e,s=null){super(t,e,s),this.size=null,this.isAccent=this.node.isAccent,this.getMultChar(),this.setBreakStyle()}computeBBox(t,e=0){if(this.protoBBox(t),this.node.attributes.get("symmetric")&&this.stretch.dir!==m.Horizontal){const e=this.getCenterOffset(t);t.h+=e,t.d-=e}this.node.getProperty("mathaccent")&&(this.stretch.dir===m.None||0<=this.size)&&(t.w=0)}computeLineBBox(t){return this.moLineBBox(t,this.breakStyle)}moLineBBox(t,e,s=null){var i=this.node.attributes.get("lineleading"),i=this.length2em(i,this.linebreakOptions.lineleading);if(0===t&&"before"===e){const t=bo.from(d.zero(),i);return t.originalL=this.bbox.L,this.bbox.L=0,t}let r=bo.from(s||this.getOuterBBox(),i);return 1===t&&("after"===e?(r.w=r.h=r.d=0,r.isFirst=!0,this.bbox.R=0):"duplicate"===e?r.L=0:this.multChar&&(r=bo.from(this.multChar.getOuterBBox(),i)),r.getIndentData(this.node)),r}canStretch(t){if(this.stretch.dir!==m.None)return this.stretch.dir===t;if(!this.node.attributes.get("stretchy"))return!1;const e=this.getText();if(1!==Array.from(e).length)return!1;var s=this.font.getDelimiter(e.codePointAt(0));return this.stretch=s&&s.dir===t?s:fo,this.stretch.dir!==m.None}getVariant(){this.node.attributes.get("largeop")?this.variant=this.node.attributes.get("displaystyle")?"-largeop":"-smallop":this.node.attributes.hasExplicit("mathvariant")||!1!==this.node.getProperty("pseudoscript")?super.getVariant():this.variant="-tex-variant"}remapChars(t){const e=this.node.getProperty("primes");if(e)return br(e);if(1===t.length){const e=this.node.coreParent().parent,s=this.isAccent&&!e.isKind("mrow")?"accent":"mo",i=this.font.getRemappedChar(s,t[0]);i&&(t=this.unicodeChars(i,this.variant))}return t}}}class Ao{constructor(){this.used=new Set,this.needsUpdate=[]}add(t){var e=JSON.stringify(t);this.used.has(e)||this.needsUpdate.push(t),this.used.add(e)}has(t){return this.used.has(JSON.stringify(t))}clear(){this.used.clear(),this.needsUpdate=[]}update(){var t=this.needsUpdate;return this.needsUpdate=[],t}}class Oo extends f{constructor(){super(...arguments),this.charUsage=new Ao,this.delimUsage=new Ao,this.fontUsage={},this.newFonts=0}static charOptions(t,e){return super.charOptions(t,e)}static addFontURLs(t,e,s){for(const i of Object.keys(e)){const r=Object.assign({},e[i]);r.src=r.src.replace(/%%URL%%/,s),t[i]=r}}static addDynamicFontCss(t,e,s){const i={};for(const s of e){const e=s.slice(4);i[`@font-face /* ${e} */`]={"font-family":s,src:`url("%%URL%%/${s.toLowerCase()}.woff2") format("woff2")`},t["."+e]={"font-family":this.defaultCssFamilyPrefix+", "+s}}this.addFontURLs(t,i,s)}static addExtension(t,e=""){super.addExtension(t,e),t.fonts&&this.addDynamicFontCss(this.defaultStyles,t.fonts,t.fontURL)}addExtension(t,e=""){if(super.addExtension(t,e),!t.fonts||!this.options.adaptiveCSS)return[];const s={},i=new $n;return this.constructor.addDynamicFontCss(s,t.fonts,t.fontURL),i.addStyles(s),i.getStyleRules()}adaptiveCSS(t){this.options.adaptiveCSS=t}clearCache(){this.options.adaptiveCSS&&(this.charUsage.clear(),this.delimUsage.clear())}createVariant(t,e=null,s=null){super.createVariant(t,e,s),this.variant[t].letter=this.constructor.defaultVariantLetters[t]}defineChars(t,e){super.defineChars(t,e);const s=this.variant[t].letter,i=this.constructor;for(const t of Object.keys(e)){var r=parseInt(t);if(Array.isArray(e[r])){const n=i.charOptions(e,r);void 0===n.f&&(n.f=s);for(const[t,e]of i.combiningChars)if(r>=t&&r<=e){n.cmb=!0;break}}}}addDynamicFontCss(t,e=this.options.fontURL){this.constructor.addDynamicFontCss(this.fontUsage,t,e)}updateDynamicStyles(){var t=this.fontUsage;return this.fontUsage={},this.options.adaptiveCSS||this.updateStyles(t),t}get styles(){const t=this.constructor,e=Object.assign(Object.assign({},t.defaultStyles),this.fontUsage);return this.fontUsage={},t.addFontURLs(e,t.defaultFonts,this.options.fontURL),this.options.adaptiveCSS?this.updateStyles(e):this.allStyles(e),e}updateStyles(t){for(const i of this.delimUsage.update())this.addDelimiterStyles(t,i,this.getDelimiter(i));for(var[e,s]of this.charUsage.update()){e=this.variant[e];this.addCharStyles(t,e.letter,s,e.chars[s])}return t}allStyles(t){var e;for(const e of Object.keys(this.delimiters)){var s=parseInt(e);this.addDelimiterStyles(t,s,this.delimiters[s])}for(const n of Object.keys(this.variant)){var i=this.variant[n],r=i.letter;for(const o of Object.keys(i.chars)){const a=parseInt(o),l=i.chars[a];null!=(e=null==l?void 0:l[3])&&e.smp||!Array.isArray(l)||(l.length<4&&(l[3]={}),this.addCharStyles(t,r,a,l))}}}addDelimiterStyles(t,e,s){var i;s.stretch&&(i=s.c&&s.c!==e?this.charSelector(s.c):this.charSelector(e),s.dir===m.Vertical?this.addDelimiterVStyles(t,e,i,s):this.addDelimiterHStyles(t,e,i,s))}addDelimiterVStyles(t,e,s,i){var r=i.HDW,[i,n,o,a]=i.stretch,[e,l,h,c]=this.getStretchVariants(e),d=this.addDelimiterVPart(t,s,"beg",i,e,r),n=(this.addDelimiterVPart(t,s,"ext",n,l,r),this.addDelimiterVPart(t,s,"end",o,h,r));if(a){const e=this.addDelimiterVPart(t,s,"mid",a,c,r),i=this.em(e/2-.03);t[`mjx-stretchy-v${s} > mjx-ext:first-of-type`]={height:"50%","border-width":this.em1(d-.03)+" 0 "+i},t[`mjx-stretchy-v${s} > mjx-ext:last-of-type`]={height:"50%","border-width":i+" 0 "+this.em1(n-.03)}}else(n||d)&&(t[`mjx-stretchy-v${s} > mjx-ext`]["border-width"]=this.em1(d-.03)+" 0 "+this.em1(n-.03))}addDelimiterVPart(t,e,s,i,r,n){if(!i)return 0;const[o,a,l]=this.getChar(r,i),h={width:this.em0(l)};if("ext"!==s){const t=l>n[2]?this.em((n[2]-l)/2):"auto",e="beg"===s?o:"end"===s?-a:(o-a)/2;h.margin=`${this.em(e)} ${t} `+this.em(-e)}else h["line-height"]=this.em0(o+a+.005),t[`mjx-stretchy-v${e} > mjx-${s} > mjx-spacer`]={"margin-top":this.em(-a)};return t[`mjx-stretchy-v${e} > mjx-`+s]=h,o+a}addDelimiterHStyles(t,e,s,i){const r=[...i.HDW],[n,o,a,l]=i.stretch,[h,c,d,u]=this.getStretchVariants(e);if(i.hd&&!this.options.mathmlSpacing){const t=this.params.extender_factor;r[0]=r[0]*(1-t)+i.hd[0]*t,r[1]=r[1]*(1-t)+i.hd[1]*t}var p=this.addDelimiterHPart(t,s,"beg",n,h,r),m=(this.addDelimiterHPart(t,s,"ext",o,c,r),this.addDelimiterHPart(t,s,"end",a,d,r));if(l){const e=this.addDelimiterHPart(t,s,"mid",l,u,r),i=this.em0(e/2-.03);t[`mjx-stretchy-h${s} > mjx-ext:first-of-type`]={width:"50%","border-width":`0 ${i} 0 `+this.em0(p-.03)},t[`mjx-stretchy-h${s} > mjx-ext:last-of-type`]={width:"50%","border-width":`0 ${this.em0(m-.03)} 0 `+i}}else(p||m)&&(t[`mjx-stretchy-h${s} > mjx-ext`]["border-width"]=`0 ${this.em0(m-.06)} 0 `+this.em0(p-.06));i.ext&&(t[`mjx-stretchy-h${s} > mjx-ext > mjx-spacer`]["letter-spacing"]=this.em(-i.ext))}addDelimiterHPart(t,e,s,i,r,n){if(!i)return 0;let[,,o,a]=this.getChar(r,i);const l={padding:this.padding(n,o-n[2])};return"ext"===s?(!o&&a.dx&&(o=2*a.dx-.06),t[`mjx-stretchy-h${e} > mjx-${s} > mjx-spacer`]={"margin-left":this.em(-o/2)},a.cmb&&(t[`mjx-stretchy-h${e} > mjx-${s} > mjx-c`]={width:this.em(o),"text-align":"right"})):("mid"===s?l.margin="0 "+this.em(-o/2):l["end"==s?"margin-left":"margin-right"]=this.em(-o),this.checkCombiningChar(a,l)),t[`mjx-stretchy-h${e} > mjx-`+s]=l,o}addCharStyles(t,e,s,i){var r=i[3],e=void 0!==r.f?r.f:e,e=r.ff||(e?this.cssFontPrefix+"-"+e:""),s="mjx-c"+this.charSelector(s)+(e?"."+e:""),e=r.oc||r.ic||0;t[s]={padding:this.padding(i,e)},r.oc&&(t[s+"[noic]"]={"padding-right":this.em(i[2])}),this.checkCombiningChar(r,t[s])}checkCombiningChar(t,e){if(t.cmb){const s=e.padding.split(/ /);e.width=s[1],s[1]="0",s[3]||s.pop(),e.padding=s.join(" ")}}em(t){return l(t)}em0(t){return l(Math.max(0,t))}em1(t){t=l(Math.max(0,t));return"0"===t?".1px":t}padding([t,e,s],i=0){return[t,s+i,e,0].map(this.em0).join(" ")}charSelector(t){return".mjx-c"+t.toString(16).toUpperCase()}}Oo.OPTIONS=Object.assign(Object.assign({},f.OPTIONS),{dynamicPrefix:"./chtml/dynamic",fontURL:"./chtml/woff2"}),Oo.JAX="CHTML",Oo.defaultVariantLetters={},Oo.defaultStyles={},Oo.defaultFonts={},Oo.combiningChars=[[768,879],[8400,8447]];(W=class extends Mo(g){toCHTML(e){const s=this.adaptor,t=this.node.attributes,i=t.get("symmetric")&&this.stretch.dir!==m.Horizontal,r=this.stretch.dir!==m.None,n=(r&&null===this.size&&this.getStretchedVariant([]),1<e.length&&e.forEach(t=>s.append(t,this.html("mjx-linestrut"))),this.standardChtmlNodes(e));if(1<n.length&&"duplicate"!==this.breakStyle){const e="after"===this.breakStyle?1:0;s.remove(n[e]),n[e]=null}if(r&&this.size<0)this.stretchHTML(n);else{if(i||t.get("largeop")){const e=this.em(this.getCenterOffset());"0"!==e&&n.forEach(t=>t&&s.setStyle(t,"verticalAlign",e))}this.node.getProperty("mathaccent")&&n.forEach(t=>{s.setStyle(t,"width","0"),s.setStyle(t,"margin-left",this.em(this.getAccentOffset()))}),n[0]&&this.addChildren([n[0]]),n[1]&&(this.multChar||this).addChildren([n[1]])}}stretchHTML(t){var e=this.getText().codePointAt(0);this.font.delimUsage.add(e),this.childNodes[0].markUsed();const s=this.stretch,i=s.stretch,r=this.font.getStretchVariants(e),n=[],o=[];for(let t=0;t<i.length;t++)i[t]&&(o[t]=this.font.getChar(r[t],i[t]));const{h:a,d:l,w:h}=this.bbox,c={},d=(s.dir===m.Vertical?(this.createAssembly(o,i,r,n,a+l,.05,"\n"),n.push(this.html("mjx-mark")),c.height=this.em(a+l),c.verticalAlign=this.em(-l)):(this.createAssembly(o,i,r,n,h,s.ext||0),c.width=this.em(h)),{class:this.char(s.c||e),style:c}),u=this.html("mjx-stretchy-"+s.dir,d,n),p=this.adaptor;t[0]&&p.append(t[0],u),t[1]&&p.append(t[1],t[0]?p.clone(u):u)}createAssembly(t,e,s,i,r,n,o=""){var[a,l,h,c]=(t=[...t,null,null,null].slice(0,4)).map(t=>t?o?t[0]+t[1]:t[2]:0),l=Math.max(0,l-n),[n,c]=t[3]?[(r-c)/2-a,(r-c)/2-h]:[r-a-h,0];this.createPart("mjx-beg",t[0],e[0],s[0],i),this.createPart("mjx-ext",t[1],e[1],s[1],i,n,l,o),t[3]&&(this.createPart("mjx-mid",t[3],e[3],s[3],i),this.createPart("mjx-ext",t[1],e[1],s[1],i,c,l,o)),this.createPart("mjx-end",t[2],e[2],s[2],i)}createPart(s,t,i,r,n,o=0,a=0,l=""){if(i){var t=t[3],r=t.f||("normal"===r?"":this.font.getVariant(r).letter),r=t.ff||(r?this.font.cssFontPrefix+"-"+r:""),h=t.c||String.fromCodePoint(i);let e=[];if("mjx-ext"===s&&(a||t.dx)){a=a||Math.max(.06,2*t.dx-.06);const s=Math.min(Math.ceil(o/a)+1,500);if(t.cmb){e.push(this.html("mjx-spacer"));for(let t=0;t<s;t++)e.push(this.html("mjx-c",{},[this.text(h)]))}else e=[this.html("mjx-spacer",{},[this.text(Array(s).fill(h).join(l))])]}else e=[this.text(h)];n.push(this.html(s,r?{class:r}:{},e))}}}).kind=vr.prototype.kind,W.styles={"mjx-stretchy-h":{display:"inline-block"},"mjx-stretchy-h > *":{display:"inline-block",width:0,"text-align":"right"},"mjx-stretchy-h > mjx-ext":{"clip-path":"padding-box xywh(0 -1em 100% calc(100% + 2em))",width:"100%",border:"0px solid transparent","box-sizing":"border-box","text-align":"left"},"mjx-stretchy-v":{display:"inline-block","text-align":"center"},"mjx-stretchy-v > *":{display:"block",height:0,margin:"0 auto"},"mjx-stretchy-v > mjx-ext > mjx-spacer":{display:"block"},"mjx-stretchy-v > mjx-ext":{"clip-path":"padding-box xywh(-1em 0 calc(100% + 2em) 100%)",height:"100%",border:"0.1px solid transparent","box-sizing":"border-box","white-space":"wrap"},"mjx-mark":{display:"inline-block",height:0}};const Do=W;function Po(t){return class extends t{remapChars(t){if(t.length){var e=this.font.getRemappedChar("mn",t[0]);if(e){const s=this.unicodeChars(e,this.variant);1===s.length?t[0]=s[0]:t=s.concat(t.slice(1))}}return t}}}(V=class extends Po(g){}).kind=ur.prototype.kind;const Bo=V;function jo(t){return class extends t{createText(t){const e=this.wrap(this.mmlText(t));return e.parent=this,e}constructor(t,e,s=null){super(t,e,s);const i=this.node.attributes,r=i.getList("lquote","rquote");"monospace"!==this.variant&&(i.isSet("lquote")||'"'!==r.lquote||(r.lquote="â€œ"),i.isSet("rquote")||'"'!==r.rquote||(r.rquote="â€")),this.childNodes.unshift(this.createText(r.lquote)),this.childNodes.push(this.createText(r.rquote))}}}(X=class extends jo(g){}).kind=Tr.prototype.kind;const Uo=X;function Fo(t){t=class extends t{constructor(){super(...arguments),this.breakPoints=[]}textWidth(t){let e=this.textNode;if(!e){const t=this.node.factory.create("text");t.parent=this.node,(e=this.textNode=this.factory.wrap(t)).parent=this}return e.node.setText(t),e.invalidateBBox(!1),e.getBBox().w}get breakCount(){return this.breakPoints.length}getVariant(){var t,e=this.jax.options,s=this.jax.math.outputData,i=(!!s.merrorFamily||!!e.merrorFont)&&this.node.Parent.isKind("merror");s.mtextFamily||e.mtextFont||i?(t=this.node.attributes.get("mathvariant"),i=(t=this.constructor.INHERITFONTS[t]||this.jax.font.getCssFont(t))[0]||(i?s.merrorFamily||e.merrorFont:s.mtextFamily||e.mtextFont),this.variant=this.explicitVariant(i,t[2]?"bold":"",t[1]?"italic":"")):super.getVariant()}setBreakAt(t){this.breakPoints.push(t)}clearBreakPoints(){this.breakPoints=[]}computeLineBBox(t){const e=bo.from(this.getOuterBBox(),this.linebreakOptions.lineleading);return this.breakCount&&(e.w=this.getBreakWidth(t),0===t?(e.R=0,this.addLeftBorders(e)):(e.L=0,e.indentData=[["left","0"],["left","0"],["left","0"]],t===this.breakCount&&this.addRightBorders(e))),e}getBreakWidth(t){const e=this.childNodes;let[s,i]=this.breakPoints[t-1]||[0,0];var[r,t]=this.breakPoints[t]||[e.length,0];let n=e[s].node.getText().split(/ /);if(s===r)return this.textWidth(n.slice(i,t).join(" "));let o=this.textWidth(n.slice(i).join(" "));for(;++s<r&&s<e.length;)o+=e[s].getBBox().w;return s<e.length&&(n=e[s].node.getText().split(/ /),o+=this.textWidth(n.slice(0,t).join(" "))),o}};return t.INHERITFONTS={normal:["",!1,!1],bold:["",!1,!0],italic:["",!0,!1],"bold-italic":["",!0,!0]},t}(P=class extends Fo(g){toCHTML(i){if(this.breakCount){const a=this.standardChtmlNodes(i),l=this.textNode.node,h=this.childNodes;for(const i of a.keys()){var r=[a[i]];this.adaptor.append(a[i],this.html("mjx-linestrut"));let[t,e]=this.breakPoints[i-1]||[0,0];var[n,o]=this.breakPoints[i]||[h.length,0];let s=h[t].node.getText().split(/ /);if(t!==n){for(l.setText(s.slice(e).join(" ")),this.textNode.toCHTML(r);++t<n&&t<h.length;)h[t].toCHTML(r);t<h.length&&(s=h[t].node.getText().split(/ /),l.setText(s.slice(0,o).join(" ")),this.textNode.toCHTML(r))}else l.setText(s.slice(e,o).join(" ")),this.textNode.toCHTML(r)}}else super.toCHTML(i)}}).kind=Cr.prototype.kind;const Ho=P;function qo(t){return class extends t{get canBreak(){return this.node.canBreak}get breakCount(){return this.breakStyle?1:0}setBreakStyle(t=""){this.breakStyle=t||(this.node.hasNewline||this.node.getProperty("forcebreak")?"before":"")}constructor(t,e,s=null){super(t,e,s),this.setBreakStyle()}computeBBox(t,e=0){const s=this.node.attributes;t.w=this.length2em(s.get("width"),0),t.h=this.length2em(s.get("height"),0),t.d=this.length2em(s.get("depth"),0)}computeLineBBox(t){const e=this.node.attributes.get("data-lineleading"),s=this.length2em(e,this.linebreakOptions.lineleading),i=bo.from(d.zero(),s);return 1===t&&(i.getIndentData(this.node),i.w=this.getBBox().w,i.isFirst=0===i.w),i}}}(z=class extends qo(g){toCHTML(t){1<t.length&&t.forEach(t=>this.adaptor.append(t,this.html("mjx-linestrut")));t=this.standardChtmlNodes(t);let{w:e,h:s,d:i}=this.getBBox();e<0&&(this.adaptor.setStyle(t[0],"marginRight",this.em(e)),e=0),e&&!this.breakCount&&this.adaptor.setStyle(t[0],"width",this.em(e)),(s=Math.max(0,s+i))&&this.adaptor.setStyle(t[0],"height",this.em(Math.max(0,s))),i&&this.adaptor.setStyle(t[0],"verticalAlign",this.em(-i))}}).kind=_r.prototype.kind;const Wo=z;function zo(t){return class extends t{getDimens(){var t=this.node.attributes.getList("width","height","depth","lspace","voffset"),e=this.childNodes[0].getOuterBBox();let{w:s,h:i,d:r}=e;var n=s,o=i,a=r;let l=0,h=0,c=0;""!==t.width&&(s=this.dimen(t.width,e,"w",0)),""!==t.height&&(i=this.dimen(t.height,e,"h",0)),""!==t.depth&&(r=this.dimen(t.depth,e,"d",0)),""!==t.voffset&&(h=this.dimen(t.voffset,e)),""!==t.lspace&&(l=this.dimen(t.lspace,e));t=this.node.attributes.get("data-align");return t&&(c=this.getAlignX(s,e,t)),[o,a,n,i-o,r-a,s-n,l,h,c]}dimen(t,e,s="",i=null){const r=(t=String(t)).match(/width|height|depth/),n=r?e[r[0].charAt(0)]:s?e[s]:0;let o=this.length2em(t,n)||0;return t.match(/^[-+]/)&&s&&(o+=n),o=null!=i?Math.max(i,o):o}setBBoxDimens(t){var[e,s,i,r,n,o]=this.getDimens();t.w=i+o,t.h=e+r,t.d=s+n}computeBBox(t,e=!1){if(this.setBBoxDimens(t),this.childNodes[0].getOuterBBox().w>t.w){const e=this.node.attributes.get("data-overflow");("linebreak"===e||"auto"===e&&"linebreak"===this.jax.math.root.attributes.get("overflow"))&&(this.childNodes[0].breakToWidth(t.w),this.setBBoxDimens(t))}this.setChildPWidths(e,t.w)}getWrapWidth(t){return this.getBBox().w}getChildAlign(t){return this.node.attributes.get("data-align")||"left"}}}(J=class extends zo(g){toCHTML(t){if(!this.toEmbellishedCHTML(t)){t=this.standardChtmlNodes(t);const e=[],s={},[,,i,r,n,o,a,l,h]=this.getDimens();if((o||this.childNodes[0].getBBox().pwidth)&&(s.width=this.em(i+o)),(r||n)&&(s.margin=this.em(r)+" 0 "+this.em(n)),a+h||l){s.position="relative";const t=this.html("mjx-rbox",{style:{left:this.em(a+h),top:this.em(-l),"max-width":s.width}});a+h&&this.childNodes[0].getBBox().pwidth&&(this.adaptor.setAttribute(t,"width","full"),this.adaptor.setStyle(t,"left",this.em(a))),e.push(t)}t=[this.adaptor.append(t[0],this.html("mjx-block",{style:s},e))],this.childNodes[0].childNodes.length?this.childNodes[0].toCHTML([e[0]||t[0]]):(r||n)&&this.adaptor.append(e[0]||t[0],this.html("mjx-box"))}}}).kind=Ar.prototype.kind,J.styles={"mjx-mpadded":{display:"inline-block"},"mjx-rbox":{display:"inline-block",position:"relative"}};const Vo=J,Xo=4,Jo=1,Go=2,Ko=.067,Yo=.2,$o=Ko+"em solid",Qo={top:0,right:1,bottom:2,left:3},Zo=Object.keys(Qo),ta=t=>new Array(4).fill(t.thickness+t.padding),ea=t=>new Array(4).fill(t.padding),sa=t=>new Array(4).fill(t.thickness),ia=t=>Math.max(t.padding,t.thickness*(t.arrowhead.x+t.arrowhead.dx+1)),ra=(t,e)=>{var s,i;return t.childNodes[0]&&({h:s,d:i}=t.childNodes[0].getBBox(),e[0]=e[2]=Math.max(0,t.thickness*t.arrowhead.y-(s+i)/2)),e},na=(t,e)=>{var s;return t.childNodes[0]&&(s=t.childNodes[0].getBBox()["w"],e[1]=e[3]=Math.max(0,t.thickness*t.arrowhead.y-s/2)),e},oa={up:[-Math.PI/2,!1,!0,"verticalstrike"],down:[Math.PI/2,!1,!0,"verticakstrike"],right:[0,!1,!1,"horizontalstrike"],left:[Math.PI,!1,!1,"horizontalstrike"],updown:[Math.PI/2,!0,!0,"verticalstrike uparrow downarrow"],leftright:[0,!0,!1,"horizontalstrike leftarrow rightarrow"]},aa={updiagonal:[-1,0,!1,"updiagonalstrike northeastarrow"],northeast:[-1,0,!1,"updiagonalstrike updiagonalarrow"],southeast:[1,0,!1,"downdiagonalstrike"],northwest:[1,Math.PI,!1,"downdiagonalstrike"],southwest:[-1,Math.PI,!1,"updiagonalstrike"],northeastsouthwest:[-1,0,!0,"updiagonalstrike northeastarrow updiagonalarrow southwestarrow"],northwestsoutheast:[1,0,!0,"downdiagonalstrike northwestarrow southeastarrow"]},la={up:t=>na(t,[ia(t),0,t.padding,0]),down:t=>na(t,[t.padding,0,ia(t),0]),right:t=>ra(t,[0,ia(t),0,t.padding]),left:t=>ra(t,[0,t.padding,0,ia(t)]),updown:t=>na(t,[ia(t),0,ia(t),0]),leftright:t=>ra(t,[0,ia(t),0,ia(t)])},ha=function(e){return t=>{const s=Qo[t];return[t,{renderer:e,bbox:t=>{const e=[0,0,0,0];return e[s]=t.thickness+t.padding,e},border:t=>{const e=[0,0,0,0];return e[s]=t.thickness,e}}]}},ca=function(n){return(t,e,s)=>{const i=Qo[e],r=Qo[s];return[t,{renderer:n,bbox:t=>{const e=t.thickness+t.padding,s=[0,0,0,0];return s[i]=s[r]=e,s},border:t=>{const e=[0,0,0,0];return e[i]=e[r]=t.thickness,e},remove:e+" "+s}]}},da=function(s){return t=>{var e="mjx-"+t.charAt(0)+"strike";return[t+"diagonalstrike",{renderer:s(e),bbox:ta}]}},ua=function(a){return t=>{const[r,n,o,e]=aa[t];return[t+"arrow",{renderer:(t,e)=>{var[s,i]=t.arrowAW(),i=t.arrow(i,r*(s-n),o);a(t,i)},bbox:t=>{var{a:e,x:s,y:i}=t.arrowData(),[r,n,o]=[t.arrowhead.x,t.arrowhead.y,t.arrowhead.dx],[r,o]=t.getArgMod(r+o,n),n=i+(e<r?t.thickness*o*Math.sin(r-e):0),i=s+(r>Math.PI/2-e?t.thickness*o*Math.sin(r+e-Math.PI/2):0);return[n,i,n,i]},remove:e}]}},pa=function(l){return t=>{const[n,o,a,e]=oa[t];return[t+"arrow",{renderer:(t,e)=>{var{w:s,h:i,d:r}=t.getBBox(),[i,r]=a?[i+r,"X"]:[s,"Y"],s=t.getOffset(r),i=t.arrow(i,n,o,r,s);l(t,i)},bbox:la[t],remove:e}]}};function ma(t){return class extends t{getParameters(){const t=this.node.attributes,e=t.get("data-padding"),s=(void 0!==e&&(this.padding=this.length2em(e,Yo)),t.get("data-thickness"));void 0!==s&&(this.thickness=this.length2em(s,Ko));var i=t.get("data-arrowhead");if(void 0!==i){const[t,e,s]=xr(i);this.arrowhead={x:t?parseFloat(t):Xo,y:e?parseFloat(e):Go,dx:s?parseFloat(s):Jo}}}getNotations(){const t=this.constructor.notations;for(const s of xr(this.node.attributes.get("notation"))){var e=t.get(s);e&&((this.notations[s]=e).renderChild&&(this.renderChild=e.renderer))}}removeRedundantNotations(){for(const t of Object.keys(this.notations))if(this.notations[t]){const e=this.notations[t].remove||"";for(const s of e.split(/ /))delete this.notations[s]}}initializeNotations(){for(const t of Object.keys(this.notations)){const e=this.notations[t].init;e&&e(this)}}getBBoxExtenders(){var t=[0,0,0,0];for(const e of Object.keys(this.notations))this.maximizeEntries(t,this.notations[e].bbox(this));return t}getPadding(){const e=[0,0,0,0];for(const t of Object.keys(this.notations)){const s=this.notations[t].border;s&&this.maximizeEntries(e,s(this))}return[0,1,2,3].map(t=>this.TRBL[t]-e[t])}maximizeEntries(e,s){for(let t=0;t<e.length;t++)e[t]<s[t]&&(e[t]=s[t])}getOffset(t){var[e,s,i,r]=this.TRBL,t=("X"===t?s-r:i-e)/2;return.001<Math.abs(t)?t:0}getArgMod(t,e){return[Math.atan2(e,t),Math.sqrt(t*t+e*e)]}arrow(t,e,s,i=0,r){return null}arrowData(){var[t,e]=[this.padding,this.thickness],e=e*(this.arrowhead.x+Math.max(1,this.arrowhead.dx)),{h:s,d:i,w:r}=this.childNodes[0].getBBox(),s=s+i,i=Math.sqrt(s*s+r*r),n=Math.max(t,e*r/i),t=Math.max(t,e*s/i),[e,i]=this.getArgMod(r+2*n,s+2*t);return{a:e,W:i,x:n,y:t}}arrowAW(){var{h:t,d:e,w:s}=this.childNodes[0].getBBox(),[i,r,n,o]=this.TRBL;return this.getArgMod(o+s+r,i+t+e+n)}createMsqrt(t){const e=this.node.factory.create("msqrt"),s=(e.inheritAttributesFrom(this.node),e.childNodes[0]=t.node,this.wrap(e));return s.parent=this,s}sqrtTRBL(){var t=this.msqrt.getBBox(),e=this.msqrt.childNodes[0].getBBox();return[t.h-e.h,0,t.d-e.d,t.w-e.w]}constructor(t,e,s=null){super(t,e,s),this.notations={},this.renderChild=null,this.msqrt=null,this.padding=Yo,this.thickness=Ko,this.arrowhead={x:Xo,y:Go,dx:Jo},this.TRBL=[0,0,0,0],this.getParameters(),this.getNotations(),this.removeRedundantNotations(),this.initializeNotations(),this.TRBL=this.getBBoxExtenders()}computeBBox(t,e=!1){var[s,i,r,n]=this.TRBL,o=this.childNodes[0].getBBox();t.combine(o,n,0),t.h+=s,t.d+=r,t.w+=i,this.setChildPWidths(e)}}}const fa=function(i,r=""){return(t,e)=>{var s=t.adjustBorder(t.html("mjx-"+i));if(r){const i=t.getOffset(r);if(t.thickness!==Ko||i){const e=`translate${r}(${t.Em(t.thickness/2-i)})`;t.adaptor.setStyle(s,"transform",e)}}t.adaptor.append(t.dom[0],s)}},ga=function(s){return ha((t,e)=>{t.adaptor.setStyle(e,"border-"+s,t.Em(t.thickness)+" solid")})(s)},ba=function(t,i,r){return ca((t,e)=>{var s=t.Em(t.thickness)+" solid";t.adaptor.setStyle(e,"border-"+i,s),t.adaptor.setStyle(e,"border-"+r,s)})(t,i,r)},Ea=function(t,o){return da(n=>(t,e)=>{var{w:s,h:i,d:r}=t.getBBox(),[s,i]=t.getArgMod(s,i+r),r=o*t.thickness/2,i=t.adjustBorder(t.html(n,{style:{width:t.Em(i),transform:"rotate("+t.fixed(-o*s)+"rad) translateY("+r+"em)"}}));t.adaptor.append(t.dom[0],i)})(t)},Na=function(t){return ua((t,e)=>{t.adaptor.append(t.dom[0],e)})(t)},xa=function(t){return pa((t,e)=>{t.adaptor.append(t.dom[0],e)})(t)};function ya(t,e){return Math.atan2(t,e).toFixed(3).replace(/\.?0+$/,"")}const va=ya(Jo,Go),Ca=((Ft=class extends ma(g){adjustArrow(t,e){var s,i,r,n,o,a,l,h=this.thickness,c=this.arrowhead;c.x===Xo&&c.y===Go&&c.dx===Jo&&h===Ko||([s,i]=[h*c.x,h*c.y].map(t=>this.em(t)),r=ya(c.dx,c.y),[t,n,o,a,l]=this.adaptor.childNodes(t),this.adjustHead(n,[i,"0","1px",s],r),this.adjustHead(o,["1px","0",i,s],"-"+r),this.adjustHead(a,[i,s,"1px","0"],"-"+r),this.adjustHead(l,["1px",s,i,"0"],r),this.adjustLine(t,h,c.x,e))}adjustHead(t,e,s){t&&(this.adaptor.setStyle(t,"border-width",e.join(" ")),this.adaptor.setStyle(t,"transform","skewX("+s+"rad)"))}adjustLine(t,e,s,i){this.adaptor.setStyle(t,"borderTop",this.em(e)+" solid"),this.adaptor.setStyle(t,"top",this.em(-e/2)),this.adaptor.setStyle(t,"right",this.em(e*(s-1))),i&&this.adaptor.setStyle(t,"left",this.em(e*(s-1)))}moveArrow(t,e,s){var i;s&&(i=this.adaptor.getStyle(t,"transform"),this.adaptor.setStyle(t,"transform",`translate${e}(${this.em(-s)})`+(i?" "+i:"")))}adjustBorder(t){return this.thickness!==Ko&&this.adaptor.setStyle(t,"borderWidth",this.em(this.thickness)),t}adjustThickness(t){return this.thickness!==Ko&&this.adaptor.setStyle(t,"strokeWidth",this.fixed(this.thickness)),t}fixed(t,e=3){return Math.abs(t)<6e-4?"0":t.toFixed(e).replace(/\.?0+$/,"")}Em(t){return super.em(t)}toCHTML(t){const e=this.adaptor,s=this.standardChtmlNodes(t),i=e.append(s[0],this.html("mjx-box"));this.renderChild?this.renderChild(this,i):this.childNodes[0].toCHTML([i]);for(const t of Object.keys(this.notations)){const e=this.notations[t];e.renderChild||e.renderer(this,i)}var r=this.getPadding();for(const t of Zo){const s=Qo[t];0<r[s]&&e.setStyle(i,"padding-"+t,this.em(r[s]))}}arrow(t,e,s,i="",r=0){const n=this.getBBox().w,o={width:this.em(t)};n!==t&&(o.left=this.em((n-t)/2)),e&&(o.transform="rotate("+this.fixed(e)+"rad)");t=this.html("mjx-arrow",{style:o},[this.html("mjx-aline"),this.html("mjx-rthead"),this.html("mjx-rbhead")]);return s&&(this.adaptor.append(t,this.html("mjx-lthead")),this.adaptor.append(t,this.html("mjx-lbhead")),this.adaptor.setAttribute(t,"double","true")),this.adjustArrow(t,s),this.moveArrow(t,i,r),t}}).kind=Pr.prototype.kind,Ft.styles={"mjx-menclose":{position:"relative"},"mjx-menclose > mjx-dstrike":{display:"inline-block",left:0,top:0,position:"absolute","border-top":$o,"transform-origin":"top left"},"mjx-menclose > mjx-ustrike":{display:"inline-block",left:0,bottom:0,position:"absolute","border-top":$o,"transform-origin":"bottom left"},"mjx-menclose > mjx-hstrike":{"border-top":$o,position:"absolute",left:0,right:0,bottom:"50%",transform:"translateY("+l(Ko/2)+")"},"mjx-menclose > mjx-vstrike":{"border-left":$o,position:"absolute",top:0,bottom:0,right:"50%",transform:"translateX("+l(Ko/2)+")"},"mjx-menclose > mjx-rbox":{position:"absolute",top:0,bottom:0,right:0,left:0,border:$o,"border-radius":l(Ko+Yo)},"mjx-menclose > mjx-cbox":{position:"absolute",top:0,bottom:0,right:0,left:0,border:$o,"border-radius":"50%"},"mjx-menclose > mjx-arrow":{position:"absolute",left:0,bottom:"50%",height:0,width:0},"mjx-menclose > mjx-arrow > *":{display:"block",position:"absolute","transform-origin":"bottom","border-left":l(Ko*Xo)+" solid","border-right":0,"box-sizing":"border-box"},"mjx-menclose > mjx-arrow > mjx-aline":{left:0,top:l(-Ko/2),right:l(Ko*(Xo-1)),height:0,"border-top":l(Ko)+" solid","border-left":0},"mjx-menclose > mjx-arrow[double] > mjx-aline":{left:l(Ko*(Xo-1)),height:0},"mjx-menclose > mjx-arrow > mjx-rthead":{transform:"skewX("+va+"rad)",right:0,bottom:"-1px","border-bottom":"1px solid transparent","border-top":l(Ko*Go)+" solid transparent"},"mjx-menclose > mjx-arrow > mjx-rbhead":{transform:"skewX(-"+va+"rad)","transform-origin":"top",right:0,top:"-1px","border-top":"1px solid transparent","border-bottom":l(Ko*Go)+" solid transparent"},"mjx-menclose > mjx-arrow > mjx-lthead":{transform:"skewX(-"+va+"rad)",left:0,bottom:"-1px","border-left":0,"border-right":l(Ko*Xo)+" solid","border-bottom":"1px solid transparent","border-top":l(Ko*Go)+" solid transparent"},"mjx-menclose > mjx-arrow > mjx-lbhead":{transform:"skewX("+va+"rad)","transform-origin":"top",left:0,top:"-1px","border-left":0,"border-right":l(Ko*Xo)+" solid","border-top":"1px solid transparent","border-bottom":l(Ko*Go)+" solid transparent"},"mjx-menclose > mjx-dbox-top":{position:"absolute",top:0,bottom:"50%",left:0,width:l(1.5*Yo),border:l(Ko)+" solid","border-style":"solid solid none none","border-radius":"0 100% 0 0","box-sizing":"border-box"},"mjx-menclose > mjx-dbox-bot":{position:"absolute",top:"50%",bottom:0,left:0,width:l(1.5*Yo),"border-width":l(Ko),"border-style":"none solid solid none","border-radius":"0 0 100% 0","box-sizing":"border-box"}},Ft.notations=new Map([ga("top"),ga("right"),ga("bottom"),ga("left"),ba("actuarial","top","right"),ba("madruwb","bottom","right"),Ea("up",1),Ea("down",-1),["horizontalstrike",{renderer:fa("hstrike","Y"),bbox:t=>[0,t.padding,0,t.padding]}],["verticalstrike",{renderer:fa("vstrike","X"),bbox:t=>[t.padding,0,t.padding,0]}],["box",{renderer:(t,e)=>{t.adaptor.setStyle(e,"border",t.Em(t.thickness)+" solid")},bbox:ta,border:sa,remove:"left right top bottom"}],["roundedbox",{renderer:fa("rbox"),bbox:ta}],["circle",{renderer:fa("cbox"),bbox:ta}],["phasorangle",{renderer:(t,e)=>{var{h:s,d:i}=t.getBBox(),[s,i]=t.getArgMod(1.75*t.padding,s+i),r=t.thickness*Math.sin(s)*.9,e=(t.adaptor.setStyle(e,"border-bottom",t.Em(t.thickness)+" solid"),t.adjustBorder(t.html("mjx-ustrike",{style:{width:t.Em(i),transform:`translateX(${t.Em(r)}) rotate(${t.fixed(-s)}rad)`}})));t.adaptor.append(t.dom[0],e)},bbox:t=>{var e=t.padding/2,t=t.thickness;return[2*e,e,e+t,3*e+t]},border:t=>[0,0,t.thickness,0],remove:"bottom"}],xa("up"),xa("down"),xa("left"),xa("right"),xa("updown"),xa("leftright"),Na("updiagonal"),Na("northeast"),Na("southeast"),Na("northwest"),Na("southwest"),Na("northeastsouthwest"),Na("northwestsoutheast"),["longdiv",{renderer:(t,e)=>{const s=t.adaptor;s.setStyle(e,"border-top",t.Em(t.thickness)+" solid");var e=s.append(t.dom[0],t.html("mjx-dbox-top")),i=s.append(t.dom[0],t.html("mjx-dbox-bot")),r=t.thickness,n=t.padding;r!==Ko&&(s.setStyle(e,"border-width",t.Em(r)),s.setStyle(i,"border-width",t.Em(r))),n!==Yo&&(s.setStyle(e,"width",t.Em(1.5*n)),s.setStyle(i,"width",t.Em(1.5*n)))},bbox:t=>{var e=t.padding,t=t.thickness;return[e+t,e,e,2*e+t/2]}}],["radical",{renderer:(e,t)=>{e.msqrt.toCHTML([t]);const s=e.sqrtTRBL();e.adaptor.setStyle(e.msqrt.dom[0],"margin",s.map(t=>e.Em(-t)).join(" "))},init:t=>{t.msqrt=t.createMsqrt(t.childNodes[0])},bbox:t=>t.sqrtTRBL(),renderChild:!0}]]),Ft);function _a(t){return class extends t{stretchChildren(){const s=[];for(const i of this.childNodes)i.canStretch(m.Vertical)&&s.push(i);const i=s.length,r=this.childNodes.length;if(i&&1<r){let t=0,e=0;var n=1<i&&i===r;for(const s of this.childNodes){const i=s.stretch.dir===m.None;if(n||i){const i=s.getBBox().rscale;var[o,a]=s.getUnbrokenHD();a*=i,(o*=i)>t&&(t=o),a>e&&(e=a)}}for(const i of s){const s=i.coreRScale();i.coreMO().getStretchedVariant([t/s,e/s])}}}get fixesPWidth(){return!1}get breakCount(){return this._breakCount<0&&(this._breakCount=this.childNodes.length?this.childNodes.reduce((t,e)=>t+e.breakCount,0):0),this._breakCount}breakTop(t,e){return this.isStack?this.parent.breakTop(this,this):this}constructor(t,e,s=null){super(t,e,s),this.dh=0;this.isStack=!this.parent||this.parent.node.isInferred||this.parent.breakTop(this,this)!==this,this.stretchChildren();for(const t of this.childNodes)if(t.bbox.pwidth){this.bbox.pwidth=d.fullWidth;break}}computeBBox(t,e=!1){var s=this.breakCount;this.lineBBox=s?[new bo({h:.75,d:.25,w:0},[0,0])]:[],t.empty();for(const e of this.childNodes.keys()){const i=this.childNodes[e];t.append(i.getOuterBBox()),s&&this.computeChildLineBBox(i,e)}t.clean(),s&&!this.coreMO().node.isEmbellished&&this.computeLinebreakBBox(t),this.fixesPWidth&&this.setChildPWidths(e)&&this.computeBBox(t,!0),this.vboxAdjust(t)}computeLinebreakBBox(t){var e;t.empty();const s=this.isStack,i=this.lineBBox,r=i.length-1;if(s)for(const t of i.keys()){const e=i[t];this.addMiddleBorders(e),0===t&&this.addLeftBorders(e),t===r&&this.addRightBorders(e)}let n=0;for(const s of i.keys()){const r=i[s];t.combine(r,0,n),n-=Math.max(.25,r.d)+r.lineLeading+Math.max(.75,(null==(e=i[s+1])?void 0:e.h)||0)}s?(i[0].L=this.bbox.L,i[r].R=this.bbox.R):(t.w=Math.max(...this.lineBBox.map(t=>t.w)),this.shiftLines(t.w),this.jax.math.display||this.linebreakOptions.inline||(t.pwidth=d.fullWidth,this.node.isInferred&&(this.parent.bbox.pwidth=d.fullWidth))),t.clean()}vboxAdjust(t){if(this.parent){const e=this.breakCount,s=this.parent.node.attributes.get("data-vertical-align");if(e&&"bottom"===s)this.dh=e?t.d-this.lineBBox[e-1].d:0;else{if(!("center"===s||e&&"middle"===s))return void(this.dh=0);{const{h:e,d:s}=t,i=this.font.params.axis_height;this.dh=(e+s)/2+i-e}}t.h+=this.dh,t.d-=this.dh}}computeChildLineBBox(e,s){const t=this.lineBBox[this.lineBBox.length-1],i=(t.end=[s,0],t.append(e.getLineBBox(0)),e.breakCount+1);if(1!==i)for(let t=1;t<i;t++){const i=new bo({h:.75,d:.25,w:0});i.start=i.end=[s,t],i.isFirst=!0,i.append(e.getLineBBox(t)),this.lineBBox.push(i)}}getLineBBox(t){return this.getBBox(),this.isStack?super.getLineBBox(t):bo.from(this.getOuterBBox(),this.linebreakOptions.lineleading)}shiftLines(t){var e,s;const i=this.lineBBox,r=i.length-1,[n,o]=(null==(e=i[1].indentData)?void 0:e[0])||["left","0"];for(const e of i.keys()){const a=i[e],[l,h]=0===e?[n,o]:(null==(s=a.indentData)?void 0:s[e===r?2:1])||["left","0"],[c,d]=this.processIndent(l,h,n,o,t);a.L=0,a.L=this.getAlignX(t,a,c)+d}}setChildPWidths(t,e=null,s=!0){return this.breakCount?!t&&(null!==e&&this.bbox.w!==e&&(this.bbox.w=e,this.shiftLines(e)),!0):super.setChildPWidths(t,e,s)}breakToWidth(t){this.linebreaks.breakToWidth(this,t)}}}function Ta(t){return class extends t{getScale(){this.bbox.scale=this.parent.bbox.scale,this.bbox.rscale=1}}}(Ht=class extends _a(g){constructor(){super(...arguments),this.linebreakCount=0}toCHTML(t){var e=this.linebreakCount=this.isStack?0:this.breakCount;e||!this.node.isInferred?t=this.standardChtmlNodes(t):this.dom=t,this.addChildren(t),e?this.placeLines(t,e):(this.handleVerticalAlign(t[0]),this.handleNegativeWidth(t[0]))}placeLines(t,e){var s;this.getBBox();const i=this.lineBBox,r=this.adaptor,[n,o]=(null==(s=i[1].indentData)?void 0:s[0])||["left","0"];for(const s of t.keys()){var a=i[s],[l,h]=0===s?[n,o]:(null==(l=a.indentData)?void 0:l[s===e?2:1])||["left","0"],[h,c]=this.processIndent(l,h,n,o);r.setAttribute(t[s],"align",h),c&&(r.setStyle(t[s],"position","relative"),r.setStyle(t[s],"left",this.em(c))),s<e&&this.jax.math.display&&r.setStyle(t[s],"margin-bottom",this.em(a.lineLeading))}}handleVerticalAlign(t){this.dh&&this.adaptor.setStyle(this.adaptor.parent(t),"vertical-align",this.em(this.dh))}handleNegativeWidth(t){var e=this.getBBox()["w"];e<0&&(this.adaptor.setStyle(t,"width",this.em(Math.max(0,e))),this.adaptor.setStyle(t,"marginRight",this.em(e)))}createChtmlNodes(t){var e=this.linebreakCount;if(!e)return super.createChtmlNodes(t);const s=this.adaptor,i=this.node.isInferred?"mjx-linestack":"mjx-"+this.node.kind;if(this.dom=[s.append(t[0],this.html(i))],"mjx-mrow"!=i||this.isStack||s.setAttribute(this.dom[0],"break-top","true"),this.node.getProperty("process-breaks")&&s.setAttribute(this.dom[0],"breakable","true"),this.node.isInferred||!this.isStack){const t=this.parent.node.attributes.get("data-vertical-align");"middle"!==t&&"center"!==t&&"bottom"!==t||s.setAttribute(this.dom[0],"break-align",t)}this.dom=[s.append(this.handleHref(t)[0],this.dom[0])];const r=Array(e);for(let t=0;t<=e;t++)r[t]=s.append(this.dom[0],this.html("mjx-linebox",{lineno:t}));return r}addChildren(t){let e=0;for(const i of this.childNodes){var s=i.breakCount;i.toCHTML(t.slice(e,e+s+1)),e+=s}}}).kind=Lr.prototype.kind,Ht.styles={"mjx-linestack, mjx-mrow[break-top]":{display:"inline-table",width:"100%"},'mjx-linestack[break-align="bottom"], mjx-mrow[break-top][break-align="bottom"]':{display:"inline-block"},'mjx-linestack[break-align="middle"], mjx-mrow[break-top][break-align="middle"]':{"vertical-align":"middle"},'mjx-linestack[break-align="center"], mjx-mrow[break-top][break-align="center"]':{"vertical-align":"middle"},"mjx-linestack[breakable]":{display:"inline"},"mjx-linestack[breakable] > mjx-linebox":{display:"inline"},"mjx-linestack[breakable] > mjx-linebox::before":{"white-space":"pre",content:'"\\A"'},"mjx-linestack[breakable] > mjx-linebox::after":{"white-space":"normal",content:'" "',"letter-spacing":"-.999em","font-family":"MJX-BRK"},"mjx-linestack[breakable] > mjx-linebox:first-of-type::before":{display:"none"},"mjx-linestack[breakable] > mjx-linebox:last-of-type::after":{display:"none"},"mjx-linebox":{display:"block"},'mjx-linebox[align="left"]':{"text-align":"left"},'mjx-linebox[align="center"]':{"text-align":"center"},'mjx-linebox[align="right"]':{"text-align":"right"},"mjx-linestrut":{display:"inline-block",height:"1em","vertical-align":"-.25em"}};const La=Ht,wa=((G=class extends Ta(La){}).kind=wr.prototype.kind,G);function Ia(t){return class extends t{createMrow(){const t=this.node.factory.create("inferredMrow");t.inheritAttributesFrom(this.node),this.mrow=this.wrap(t),this.mrow.parent=this}addMrowChildren(){const t=this.node,e=this.mrow;this.addMo(t.open),this.childNodes.length&&e.childNodes.push(this.childNodes[0]);let s=0;for(const i of this.childNodes.slice(1))this.addMo(t.separators[s++]),e.childNodes.push(i);this.addMo(t.close),e.stretchChildren()}addMo(t){if(t){const e=this.wrap(t);this.mrow.childNodes.push(e),e.parent=this.mrow}}constructor(t,e,s=null){super(t,e,s),this.mrow=null,this.createMrow(),this.addMrowChildren()}computeBBox(t,e=!1){t.updateFrom(this.mrow.getOuterBBox()),this.setChildPWidths(e)}get breakCount(){return this.mrow.breakCount}computeLineBBox(t){return this.mrow.getLineBBox(t)}}}(Ut=class extends Ia(g){toCHTML(t){t=this.standardChtmlNodes(t);this.mrow.toCHTML(t)}}).kind=Dr.prototype.kind;const Sa=Ut;function Ra(t){return class extends t{getFractionBBox(t,e,s){var i=this.childNodes[0].getOuterBBox(),r=this.childNodes[1].getOuterBBox(),n=this.font.params.axis_height,{T:e,u:s,v:o}=this.getTUV(e,s);t.combine(i,0,n+e+Math.max(i.d*i.rscale,s)),t.combine(r,0,n-e-Math.max(r.h*r.rscale,o)),t.w+=2*this.pad+.2}getTUV(t,e){var s=this.font.params,i=s.axis_height,r=(t?3.5:1.5)*e;return{T:(t?3.5:1.5)*e,u:(t?s.num1:s.num2)-i-r,v:(t?s.denom1:s.denom2)+i-r}}getAtopBBox(t,e){var{u:e,v:s,nbox:i,dbox:r}=this.getUVQ(e);t.combine(i,0,e),t.combine(r,0,-s),t.w+=2*this.pad}getUVQ(t){var e=this.childNodes[0].getOuterBBox(),s=this.childNodes[1].getOuterBBox(),i=this.font.params;let[r,n]=t?[i.num1,i.denom1]:[i.num3,i.denom2];t=(t?7:3)*i.rule_thickness;let o=r-e.d*e.scale-(s.h*s.scale-n);return o<t&&(r+=(t-o)/2,n+=(t-o)/2,o=t),{u:r,v:n,q:o,nbox:e,dbox:s}}getBevelledBBox(t,e){var{u:e,v:s,delta:i,nbox:r,dbox:n}=this.getBevelData(e),o=this.bevel.getOuterBBox();t.combine(r,0,e),t.combine(o,t.w-i/2,0),t.combine(n,t.w-i/2,s)}getBevelData(t){var e=this.childNodes[0].getOuterBBox(),s=this.childNodes[1].getOuterBBox(),t=t?.4:.15,i=Math.max(e.scale*(e.h+e.d),s.scale*(s.h+s.d))+2*t,r=this.font.params.axis_height;return{H:i,delta:t,u:e.scale*(e.d-e.h)/2+r+t,v:s.scale*(s.d-s.h)/2+r-t,nbox:e,dbox:s}}isDisplay(){var{displaystyle:t,scriptlevel:e}=this.node.attributes.getList("displaystyle","scriptlevel");return t&&0===e}constructor(t,e,s=null){if(super(t,e,s),this.bevel=null,this.pad=this.node.getProperty("withDelims")?0:this.font.params.nulldelimiterspace,this.node.attributes.get("bevelled")){const t=this.getBevelData(this.isDisplay())["H"],e=this.bevel=this.createMo("/");e.node.attributes.set("symmetric",!0),e.canStretch(m.Vertical),e.getStretchedVariant([t],!0)}}computeBBox(t,e=!1){t.empty();var{linethickness:s,bevelled:i}=this.node.attributes.getList("linethickness","bevelled"),r=this.isDisplay();let n=null;if(i)this.getBevelledBBox(t,r);else{const e=this.length2em(String(s),.06);n=-2*this.pad,0===e?this.getAtopBBox(t,r):(this.getFractionBBox(t,r,e),n-=.2),n+=t.w}t.clean(),this.setChildPWidths(e,n)}canStretch(t){return!1}getChildAlign(t){const e=this.node.attributes;return e.get("bevelled")?"left":e.get(["numalign","denomalign"][t])}getWrapWidth(t){const e=this.node.attributes;return e.get("bevelled")?this.childNodes[t].getOuterBBox().w:this.getBBox().w-(this.length2em(e.get("linethickness"))?.2:0)-2*this.pad}}}(Q=class extends Ra(g){toCHTML(t){if(!this.toEmbellishedCHTML(t)){this.standardChtmlNodes(t);var{linethickness:e,bevelled:t}=this.node.attributes.getList("linethickness","bevelled"),s=this.isDisplay();if(t)this.makeBevelled(s);else{const t=this.length2em(String(e),.06);0===t?this.makeAtop(s):this.makeFraction(s,t)}}}makeFraction(t,e){const{numalign:s,denomalign:i}=this.node.attributes.getList("numalign","denomalign"),r=t?{type:"d"}:{},n=this.node.getProperty("withDelims")?Object.assign(Object.assign({},r),{delims:"true"}):Object.assign({},r),o="center"!==s?{align:s}:{},a="center"!==i?{align:i}:{},l=Object.assign({},r),h=Object.assign({},r),c=this.font.params;if(.06!==e){const s=c.axis_height,i=this.font.params.rule_factor,o=this.em(e),{T:a,u:d,v:u}=this.getTUV(t,e),p=(t?this.em(3*e):o)+" -.1em";r.style={height:o,"border-top":this.em(e*i)+" solid",margin:p};t=this.em(Math.max(0,d));h.style={height:t,"vertical-align":"-"+t},l.style={height:this.em(Math.max(0,u))},n.style={"vertical-align":this.em(s-a)}}let d,u;this.adaptor.append(this.dom[0],this.html("mjx-frac",n,[d=this.html("mjx-num",o,[this.html("mjx-nstrut",h)]),this.html("mjx-dbox",{},[this.html("mjx-dtable",{},[this.html("mjx-line",r),this.html("mjx-row",{},[u=this.html("mjx-den",a,[this.html("mjx-dstrut",l)])])])])])),this.childNodes[0].toCHTML([d]),this.childNodes[1].toCHTML([u])}makeAtop(t){const{numalign:e,denomalign:s}=this.node.attributes.getList("numalign","denomalign"),i=t?{type:"d",atop:!0}:{atop:!0},r=this.node.getProperty("withDelims")?Object.assign(Object.assign({},i),{delims:!0}):Object.assign({},i),n="center"!==e?{align:e}:{},o="center"!==s?{align:s}:{},{v:a,q:l}=this.getUVQ(t);var h;n.style={"padding-bottom":this.em(l)},r.style={"vertical-align":this.em(-a)},this.adaptor.append(this.dom[0],this.html("mjx-frac",r,[t=this.html("mjx-num",n),h=this.html("mjx-den",o)])),this.childNodes[0].toCHTML([t]),this.childNodes[1].toCHTML([h])}makeBevelled(t){const e=this.adaptor;e.setAttribute(this.dom[0],"bevelled","ture");var s=e.append(this.dom[0],this.html("mjx-num")),i=(this.childNodes[0].toCHTML([s]),this.bevel.toCHTML(this.dom),e.append(this.dom[0],this.html("mjx-den"))),{u:t,v:r,delta:n,nbox:o,dbox:a}=(this.childNodes[1].toCHTML([i]),this.getBevelData(t)),s=(t&&e.setStyle(s,"verticalAlign",this.em(t/o.scale)),r&&e.setStyle(i,"verticalAlign",this.em(r/a.scale)),this.em(-n/2));e.setStyle(this.bevel.dom[0],"marginLeft",s),e.setStyle(this.bevel.dom[0],"marginRight",s)}}).kind=Ir.prototype.kind,Q.styles={"mjx-frac":{display:"inline-block","vertical-align":"0.17em",padding:"0 .22em"},'mjx-frac[type="d"]':{"vertical-align":".04em"},"mjx-frac[delims]":{padding:"0 .1em"},"mjx-frac[atop]":{padding:"0 .12em"},"mjx-frac[atop][delims]":{padding:"0"},"mjx-dtable":{display:"inline-table",width:"100%"},"mjx-dtable > *":{"font-size":"2000%"},"mjx-dbox":{display:"block","font-size":"5%"},"mjx-num":{display:"block","text-align":"center"},"mjx-den":{display:"block","text-align":"center"},"mjx-mfrac[bevelled] > mjx-num":{display:"inline-block"},"mjx-mfrac[bevelled] > mjx-den":{display:"inline-block"},'mjx-den[align="right"], mjx-num[align="right"]':{"text-align":"right"},'mjx-den[align="left"], mjx-num[align="left"]':{"text-align":"left"},"mjx-nstrut":{display:"inline-block",height:".054em",width:0,"vertical-align":"-.054em"},'mjx-nstrut[type="d"]':{height:".217em","vertical-align":"-.217em"},"mjx-dstrut":{display:"inline-block",height:".505em",width:0},'mjx-dstrut[type="d"]':{height:".726em"},"mjx-line":{display:"block","box-sizing":"border-box","min-height":"1px",height:".06em","border-top":".075em solid",margin:".06em -.1em",overflow:"hidden"},'mjx-line[type="d"]':{margin:".18em -.1em"}};const ka=Q;function Ma(t){return class extends t{get base(){return 0}get root(){return null}combineRootBBox(t,e,s){}getPQ(t){var e=this.font.params.rule_thickness,s=this.font.params.surd_height,i=this.node.attributes.get("displaystyle")?this.font.params.x_height:e;return[i,t.h+t.d>this.surdH?(t.h+t.d-(this.surdH-e-s-i/2))/2:s+i/4]}getRootDimens(t,e){return[0,0,0,0]}rootWidth(){return 1.25}getStretchedSurd(){var t=this.font.params.rule_thickness,e=this.font.params.surd_height,s=this.node.attributes.get("displaystyle")?this.font.params.x_height:t,{h:i,d:r}=this.childNodes[this.base].getOuterBBox();this.surdH=i+r+t+e+s/4,this.surd.getStretchedVariant([this.surdH-r,r],!0)}constructor(t,e,s=null){super(t,e,s),this.surd=this.createMo("âˆš"),this.surd.canStretch(m.Vertical),this.getStretchedSurd()}computeBBox(t,e=!1){t.empty();var s=this.surd.getBBox(),i=new d(this.childNodes[this.base].getOuterBBox()),r=this.getPQ(s)[1],n=this.font.params.rule_thickness,o=this.font.params.surd_height,r=i.h+r+n,[n]=this.getRootDimens(s,r);t.h=r+o,this.combineRootBBox(t,s,r),t.combine(s,n,r-s.h),t.combine(i,n+s.w,0),t.clean(),this.setChildPWidths(e)}invalidateBBox(){super.invalidateBBox(),this.surd.childNodes[0].invalidateBBox()}}}($=class extends Ma(g){toCHTML(t){const e=this.surd,s=this.childNodes[this.base],i=e.getBBox(),r=s.getOuterBBox(),[,n]=this.getPQ(i),o=this.font.params.surd_height,a=r.h+n+o,l=this.adaptor,h=this.standardChtmlNodes(t);let c,d,u,p;null!=this.root&&(u=l.append(h[0],this.html("mjx-root")),p=this.childNodes[this.root]);t=l.append(h[0],this.html("mjx-sqrt",{},[c=this.html("mjx-surd"),d=this.html("mjx-box",{style:{paddingTop:this.em(n)}})]));.06!==o&&l.setStyle(d,"border-top-width",this.em(o*this.font.params.rule_factor)),this.addRoot(u,p,i,a),e.toCHTML([c]),s.toCHTML([d]),e.size<0&&l.addClass(t,"mjx-tall")}addRoot(t,e,s,i){}}).kind=Sr.prototype.kind,$.styles={"mjx-root":{display:"inline-block","white-space":"nowrap"},"mjx-surd":{display:"inline-block","vertical-align":"top"},"mjx-sqrt":{display:"inline-block","padding-top":".075em"},"mjx-sqrt > mjx-box":{"border-top":".075em solid","padding-left":".03em","margin-left":"-.03em"},"mjx-sqrt.mjx-tall > mjx-box":{"padding-left":".3em","margin-left":"-.3em"}};const Aa=$;function Oa(t){return class extends t{get root(){return 1}combineRootBBox(t,e,s){var i=this.childNodes[this.root].getOuterBBox(),e=this.getRootDimens(e,s)[1];t.combine(i,0,e)}getRootDimens(t,e){var s=this.surd,i=this.childNodes[this.root].getOuterBBox(),r=(s.size<0?.5:.6)*t.w,{w:n,rscale:o}=i,a=Math.max(n,r/o),n=Math.max(0,a-n);return[a*o-r,this.rootHeight(i,t,s.size,e),n]}rootHeight(t,e,s,i){e=e.h+e.d;return(s<0?1.9:.55*e)-(e-i)+Math.max(0,t.d*t.rscale)}rootWidth(){var t=this.childNodes[this.root].getOuterBBox();return.4+t.w*t.rscale}}}(tt=class extends Oa(Aa){addRoot(t,e,s,i){e.toCHTML([t]);const r=this.adaptor,[n,o,a]=this.getRootDimens(s,i);r.setStyle(t,"verticalAlign",this.em(o)),r.setStyle(t,"width",this.em(n)),a&&r.setStyle(r.firstChild(t),"paddingLeft",this.em(a))}}).kind=Rr.prototype.kind;const Da=tt;function Pa(t){return(t=class extends t{get scriptChild(){return this.childNodes[this.node.sub]}getOffset(){return[this.baseIsChar?0:this.getAdjustedIc(),-this.getV()]}}).useIC=!1,t}function Ba(t){return class extends t{get scriptChild(){return this.childNodes[this.node.sup]}getOffset(){return[this.getAdjustedIc()-(this.baseRemoveIc?0:this.baseIc),this.getU()]}}}function ja(t){t=class extends t{constructor(){super(...arguments),this.UVQ=null}get subChild(){return this.childNodes[this.node.sub]}get supChild(){return this.childNodes[this.node.sup]}get scriptChild(){return this.supChild}getUVQ(t=this.subChild.getOuterBBox(),e=this.supChild.getOuterBBox()){const s=this.baseCore,i=s.getLineBBox(s.breakCount);if(this.UVQ)return this.UVQ;var r=this.font.params,n=3*r.rule_thickness,o=this.length2em(this.node.attributes.get("subscriptshift"),r.sub2),a=this.baseCharZero(i.d*this.baseScale+r.sub_drop*t.rscale),e=e.d*e.rscale,t=t.h*t.rscale;let[l,h]=[this.getU(),Math.max(a,o)],c=l-e-(t-h);if(c<n){h+=n-c;const t=.8*r.x_height-(l-e);0<t&&(l+=t,h-=t)}return l=Math.max(this.length2em(this.node.attributes.get("superscriptshift"),l),l),h=Math.max(this.length2em(this.node.attributes.get("subscriptshift"),h),h),c=l-e-(t-h),this.UVQ=[l,-h,c],this.UVQ}appendScripts(t){var[e,s]=[this.subChild.getOuterBBox(),this.supChild.getOuterBBox()],i=this.getBaseWidth(),r=this.getAdjustedIc(),[n,o]=this.getUVQ(),a=t.d-this.baseChild.getLineBBox(this.baseChild.breakCount).d;return t.combine(e,i+(this.baseIsChar?0:r),o-a),t.combine(s,i+r,n-a),t.w+=this.font.params.scriptspace,t}};return t.useIC=!1,t}function Ua(t){t=class extends t{get baseChild(){return this.childNodes[this.node.base]}get scriptChild(){return this.childNodes[1]}getBaseCore(){let t=this.getSemanticBase()||this.childNodes[0],e=null==t?void 0:t.node;for(;t&&(1===t.childNodes.length&&(e.isKind("mrow")||e.isKind("TeXAtom")||e.isKind("mstyle")||e.isKind("mpadded")&&!e.getProperty("vbox")||e.isKind("mphantom")||e.isKind("semantics"))||e.isKind("munderover")&&t.isMathAccent);)this.setBaseAccentsFor(t),t=t.childNodes[0],e=null==t?void 0:t.node;return t||(this.baseHasAccentOver=this.baseHasAccentUnder=!1),t||this.childNodes[0]}setBaseAccentsFor(t){t.node.isKind("munderover")&&(null===this.baseHasAccentOver&&(this.baseHasAccentOver=!!t.node.attributes.get("accent")),null===this.baseHasAccentUnder&&(this.baseHasAccentUnder=!!t.node.attributes.get("accentunder")))}getSemanticBase(){var t=this.node.attributes.getExplicit("data-semantic-fencepointer");return this.getBaseFence(this.baseChild,t)}getBaseFence(t,e){if(!t||!t.node.attributes||!e)return null;if(t.node.attributes.getExplicit("data-semantic-id")===e)return t;for(const s of t.childNodes){const t=this.getBaseFence(s,e);if(t)return t}return null}getBaseScale(){let t=this.baseCore,e=1;for(;t&&t!==this;)e*=t.getOuterBBox().rscale,t=t.parent;return e}getBaseIc(){return this.baseCore.getOuterBBox().ic*this.baseScale}getAdjustedIc(){return this.baseIc?1.05*this.baseIc+.05:0}isCharBase(){const t=this.baseCore;return(t.node.isKind("mo")&&null===t.size||t.node.isKind("mi")||t.node.isKind("mn"))&&1===t.bbox.rscale&&1===Array.from(t.getText()).length}checkLineAccents(){this.node.isKind("munderover")&&(this.node.isKind("mover")?this.isLineAbove=this.isLineAccent(this.scriptChild):this.node.isKind("munder")?this.isLineBelow=this.isLineAccent(this.scriptChild):(this.isLineAbove=this.isLineAccent(this.overChild),this.isLineBelow=this.isLineAccent(this.underChild)))}isLineAccent(t){const e=t.coreMO().node;return e.isToken&&"â€•"===e.getText()}getBaseWidth(){var t=this.baseChild.getLineBBox(this.baseChild.breakCount);return t.w*t.rscale-(this.baseRemoveIc?this.baseIc:0)+this.font.params.extra_ic}getOffset(){return[0,0]}baseCharZero(t){var e=!!this.baseCore.node.attributes.get("largeop"),s=!(!this.baseCore.node.isKind("mo")||!this.baseCore.size),i=this.baseScale;return!this.baseIsChar||e||s||1!==i?t:0}getV(){const t=this.baseCore,e=t.getLineBBox(t.breakCount),s=this.scriptChild.getOuterBBox(),i=this.font.params,r=this.length2em(this.node.attributes.get("subscriptshift"),i.sub1);return Math.max(this.baseCharZero(e.d*this.baseScale+i.sub_drop*s.rscale),r,s.h*s.rscale-.8*i.x_height)}getU(){const t=this.baseCore,e=t.getLineBBox(t.breakCount),s=this.scriptChild.getOuterBBox(),i=this.font.params,r=this.node.attributes.getList("displaystyle","superscriptshift"),n=this.node.getProperty("texprimestyle")?i.sup3:r.displaystyle?i.sup1:i.sup2,o=this.length2em(r.superscriptshift,n);return Math.max(this.baseCharZero(e.h*this.baseScale-i.sup_drop*s.rscale),o,s.d*s.rscale+.25*i.x_height)}hasMovableLimits(){const t=this.node.attributes.get("displaystyle"),e=this.baseChild.coreMO().node;return!t&&!!e.attributes.get("movablelimits")}getOverKU(t,e){var s=this.node.attributes.get("accent"),i=this.font.params,e=e.d*e.rscale,r=i.rule_thickness*i.separation_factor,n=this.baseHasAccentOver?r:0,r=this.isLineAbove?3*i.rule_thickness:r,s=(s?r:Math.max(i.big_op_spacing1,i.big_op_spacing3-Math.max(0,e)))-n;return[s,t.h*t.rscale+s+e]}getUnderKV(t,e){var s=this.node.attributes.get("accentunder"),i=this.font.params,e=e.h*e.rscale,r=i.rule_thickness*i.separation_factor,n=this.baseHasAccentUnder?r:0,r=this.isLineBelow?3*i.rule_thickness:r,s=(s?r:Math.max(i.big_op_spacing2,i.big_op_spacing4-e))-n;return[s,-(t.d*t.rscale+s+e)]}getDeltaW(e,t=[0,0,0]){const s=this.node.attributes.get("align"),i=e.map(t=>t.w*t.rscale),r=(i[0]-=this.baseRemoveIc&&!this.baseCore.node.attributes.get("largeop")?this.baseIc:0,Math.max(...i)),n=[];let o=0;for(const e of i.keys())n[e]=("center"===s?(r-i[e])/2:"right"===s?r-i[e]:0)+t[e],n[e]<o&&(o=-n[e]);if(o)for(const e of n.keys())n[e]+=o;return[1,2].map(t=>n[t]+=e[t]?e[t].dx*e[0].rscale:0),n}getDelta(t,e=!1){var s=this.node.attributes.get("accent");let{sk:i,ic:r}=this.baseCore.getOuterBBox();return s&&(i-=t.getOuterBBox().sk),((s&&!e?i:0)+this.font.skewIcFactor*r)*this.baseScale}stretchChildren(){const e=[];for(const s of this.childNodes)s.canStretch(m.Horizontal)&&e.push(s);const s=e.length,i=this.childNodes.length;if(s&&1<i){let t=0;var r=1<s&&s===i;for(const e of this.childNodes){const s=e.stretch.dir===m.None;if(r||s){const{w:i,rscale:n}=e.getOuterBBox(s);i*n>t&&(t=i*n)}}for(const s of e){const e=s.coreMO();null===e.size&&e.getStretchedVariant([t/s.coreRScale()])}}}constructor(t,e,s=null){super(t,e,s),this.baseScale=1,this.baseIc=0,this.baseRemoveIc=!1,this.baseIsChar=!1,this.baseHasAccentOver=null,this.baseHasAccentUnder=null,this.isLineAbove=!1,this.isLineBelow=!1,this.isMathAccent=!1;t=this.baseCore=this.getBaseCore();t&&(this.setBaseAccentsFor(t),this.baseScale=this.getBaseScale(),this.baseIc=this.getBaseIc(),this.baseIsChar=this.isCharBase(),this.isMathAccent=this.baseIsChar&&this.scriptChild&&void 0!==this.scriptChild.coreMO().node.getProperty("mathaccent"),this.checkLineAccents(),this.baseRemoveIc=!this.isLineAbove&&!this.isLineBelow&&(!this.constructor.useIC||this.isMathAccent))}computeBBox(t,e=!1){t.empty(),t.append(this.baseChild.getOuterBBox()),this.appendScripts(t),t.clean(),this.setChildPWidths(e)}appendScripts(t){var e=this.getBaseWidth(),[s,i]=this.getOffset();return t.combine(this.scriptChild.getOuterBBox(),e+s,i),t.w+=this.font.params.scriptspace,t}get breakCount(){return this._breakCount<0&&(this._breakCount=this.node.isEmbellished?this.coreMO().embellishedBreakCount:this.node.linebreakContainer?0:this.childNodes[0].breakCount),this._breakCount}breakTop(t,e){return this.node.linebreakContainer||!this.parent||this.node.childIndex(e.node)?t:this.parent.breakTop(t,this)}computeLineBBox(t){var e=this.breakCount;if(!e)return bo.from(this.getOuterBBox(),this.linebreakOptions.lineleading);var s=this.baseChild.getLineBBox(t).copy();return t<e?(0===t&&this.addLeftBorders(s),this.addMiddleBorders(s)):(this.appendScripts(s),this.addMiddleBorders(s),this.addRightBorders(s)),s}};return t.useIC=!0,t}(Dt=class extends Ua(g){toCHTML(t){if(!this.toEmbellishedCHTML(t)){this.dom=this.standardChtmlNodes(t);const[e,s]=this.getOffset(),i=e-(this.baseRemoveIc?this.baseIc:0),r={"vertical-align":this.em(s)};i&&(r["margin-left"]=this.em(i)),this.baseChild.toCHTML(this.dom);t=this.dom[this.dom.length-1];this.scriptChild.toCHTML([this.adaptor.append(t,this.html("mjx-script",{style:r}))])}}markUsed(){super.markUsed(),this.jax.wrapperUsage.add(Wa.kind)}setDeltaW(e,s){for(let t=0;t<s.length;t++)s[t]&&this.adaptor.setStyle(e[t],"paddingLeft",this.em(s[t]))}adjustOverDepth(t,e){0<=e.d||this.adaptor.setStyle(t,"marginBottom",this.em(e.d*e.rscale))}adjustUnderDepth(t,e){if(!(0<=e.d)){const s=this.adaptor,i=this.em(e.d),r=this.html("mjx-box",{style:{"margin-bottom":i,"vertical-align":i}});for(const e of s.childNodes(s.firstChild(t)))s.append(r,e);s.append(s.firstChild(t),r)}}adjustBaseHeight(t,e){var s;this.node.attributes.get("accent")&&(s=this.font.params.x_height*this.baseScale,e.h<s&&(this.adaptor.setStyle(t,"paddingTop",this.em(s-e.h)),e.h=s))}}).kind="scriptbase";const Fa=Dt,Ha=((Wt=class extends Pa(Fa){}).kind=Ur.prototype.kind,Wt),qa=((Pt=class extends Ba(Fa){}).kind=Fr.prototype.kind,Pt),Wa=((st=class extends ja(Fa){toCHTML(t){if(!this.toEmbellishedCHTML(t)){const s=this.adaptor,i=this.standardChtmlNodes(t),[r,n,o]=[this.baseChild,this.supChild,this.subChild],[,a,l]=this.getUVQ(),h={"vertical-align":this.em(a)};r.toCHTML(i);var t=s.append(i[i.length-1],this.html("mjx-script",{style:h})),e=(n.toCHTML([t]),s.append(t,this.html("mjx-spacer",{style:{"margin-top":this.em(l)}})),o.toCHTML([t]),this.getAdjustedIc());e&&(s.setStyle(n.dom[0],"marginLeft",this.em(e/n.bbox.rscale)),this.baseIsChar||s.setStyle(o.dom[0],"marginLeft",this.em(e/n.bbox.rscale))),this.baseRemoveIc&&s.setStyle(t,"marginLeft",this.em(-this.baseIc))}}}).kind=jr.prototype.kind,st.styles={"mjx-script":{display:"inline-block","padding-right":".05em","padding-left":".033em"},"mjx-script > mjx-spacer":{display:"block"}},st);function za(t){return class extends t{get scriptChild(){return this.childNodes[this.node.under]}constructor(...t){super(...t),this.stretchChildren()}computeBBox(t,e=!1){var s,i,r,n,o;this.hasMovableLimits()?super.computeBBox(t,e):(t.empty(),s=this.baseChild.getOuterBBox(),i=this.scriptChild.getOuterBBox(),r=this.getUnderKV(s,i)[1],n=this.isLineBelow?0:this.getDelta(this.scriptChild,!0),[n,o]=this.getDeltaW([s,i],[0,-n]),t.combine(s,n,0),t.combine(i,o,r),t.d+=this.font.params.big_op_spacing5,t.clean(),this.setChildPWidths(e))}}}function Va(t){return class extends t{get scriptChild(){return this.childNodes[this.node.over]}constructor(...t){super(...t),this.stretchChildren()}computeBBox(t){if(this.hasMovableLimits())super.computeBBox(t);else{t.empty();const r=this.baseChild.getOuterBBox(),n=this.scriptChild.getOuterBBox();this.node.attributes.get("accent")&&(r.h=Math.max(r.h,this.font.params.x_height*this.baseScale));var e=this.getOverKU(r,n)[1],s=this.isLineAbove?0:this.getDelta(this.scriptChild),[s,i]=this.getDeltaW([r,n],[0,s]);t.combine(r,s,0),t.combine(n,i,e),t.h+=this.font.params.big_op_spacing5,t.clean()}}}}function Xa(t){return class extends t{get underChild(){return this.childNodes[this.node.under]}get overChild(){return this.childNodes[this.node.over]}get subChild(){return this.underChild}get supChild(){return this.overChild}constructor(...t){super(...t),this.stretchChildren()}computeBBox(t){if(this.hasMovableLimits())super.computeBBox(t);else{t.empty();const o=this.overChild.getOuterBBox(),a=this.baseChild.getOuterBBox(),l=this.underChild.getOuterBBox();this.node.attributes.get("accent")&&(a.h=Math.max(a.h,this.font.params.x_height*this.baseScale));var e=this.getOverKU(a,o)[1],s=this.getUnderKV(a,l)[1],i=this.getDelta(this.overChild),r=this.getDelta(this.underChild,!0),[r,i,n]=this.getDeltaW([a,l,o],[0,this.isLineBelow?0:-r,this.isLineAbove?0:i]),r=(t.combine(a,r,0),t.combine(o,n,e),t.combine(l,i,s),this.font.params.big_op_spacing5);t.h+=r,t.d+=r,t.clean()}}}}(Ot=class extends za(Ha){toCHTML(t){if(!this.toEmbellishedCHTML(t)){if(this.hasMovableLimits())return super.toCHTML(t),void this.adaptor.setAttribute(this.dom[0],"limits","false");this.dom=this.standardChtmlNodes(t);var t=this.adaptor.append(this.adaptor.append(this.dom[0],this.html("mjx-row")),this.html("mjx-base")),e=this.adaptor.append(this.adaptor.append(this.dom[0],this.html("mjx-row")),this.html("mjx-under")),s=(this.baseChild.toCHTML([t]),this.scriptChild.toCHTML([e]),this.baseChild.getOuterBBox()),i=this.scriptChild.getOuterBBox(),r=this.getUnderKV(s,i)[0],n=this.isLineBelow?0:this.getDelta(this.scriptChild,!0);this.adaptor.setStyle(e,"paddingTop",this.em(r)),this.setDeltaW([t,e],this.getDeltaW([s,i],[0,-n])),this.adjustUnderDepth(e,i)}}}).kind=qr.prototype.kind,Ot.styles={"mjx-over":{"text-align":"left"},'mjx-munder:not([limits="false"])':{display:"inline-table"},"mjx-munder > mjx-row":{"text-align":"left"},"mjx-under":{"padding-bottom":".1em"}};const Ja=Ot,Ga=((Mt=class extends Va(qa){toCHTML(t){if(!this.toEmbellishedCHTML(t)){if(this.hasMovableLimits())return super.toCHTML(t),void this.adaptor.setAttribute(this.dom[0],"limits","false");this.dom=this.standardChtmlNodes(t);var t=this.adaptor.append(this.dom[0],this.html("mjx-over")),e=this.adaptor.append(this.dom[0],this.html("mjx-base")),s=(this.scriptChild.toCHTML([t]),this.baseChild.toCHTML([e]),this.scriptChild.getOuterBBox()),i=this.baseChild.getOuterBBox(),r=(this.adjustBaseHeight(e,i),this.getOverKU(i,s)[0]),n=this.isLineAbove?0:this.getDelta(this.scriptChild);this.adaptor.setStyle(t,"paddingBottom",this.em(r)),this.setDeltaW([e,t],this.getDeltaW([i,s],[0,n])),this.adjustOverDepth(t,s)}}}).kind=Wr.prototype.kind,Mt.styles={'mjx-mover:not([limits="false"])':{"padding-top":".1em"},'mjx-mover:not([limits="false"]) > *':{display:"block","text-align":"left"}},Mt),Ka=((vt=class extends Xa(Wa){toCHTML(t){if(!this.toEmbellishedCHTML(t)){if(this.hasMovableLimits())return super.toCHTML(t),void this.adaptor.setAttribute(this.dom[0],"limits","false");this.dom=this.standardChtmlNodes(t);var t=this.adaptor.append(this.dom[0],this.html("mjx-over")),e=this.adaptor.append(this.adaptor.append(this.dom[0],this.html("mjx-box")),this.html("mjx-munder")),s=this.adaptor.append(this.adaptor.append(e,this.html("mjx-row")),this.html("mjx-base")),e=this.adaptor.append(this.adaptor.append(e,this.html("mjx-row")),this.html("mjx-under")),i=(this.overChild.toCHTML([t]),this.baseChild.toCHTML([s]),this.underChild.toCHTML([e]),this.overChild.getOuterBBox()),r=this.baseChild.getOuterBBox(),n=this.underChild.getOuterBBox(),o=(this.adjustBaseHeight(s,r),this.getOverKU(r,i)[0]),a=this.getUnderKV(r,n)[0],l=this.getDelta(this.overChild),h=this.getDelta(this.underChild,!0);this.adaptor.setStyle(t,"paddingBottom",this.em(o)),this.adaptor.setStyle(e,"paddingTop",this.em(a)),this.setDeltaW([s,e,t],this.getDeltaW([r,n,i],[0,this.isLineBelow?0:-h,this.isLineAbove?0:l])),this.adjustOverDepth(t,i),this.adjustUnderDepth(e,n)}}}).kind=Hr.prototype.kind,vt.styles={'mjx-munderover:not([limits="false"])':{"padding-top":".1em"},'mjx-munderover:not([limits="false"]) > *':{display:"block"}},vt),Ya={base:"subList",subList:"supList",supList:"subList",psubList:"psupList",psupList:"psubList"},$a=["sup","sup","psup","psub"];function Qa(t){return class extends t{combinePrePost(t,e){const s=new d(t);return s.combine(e,0,0),s}getScriptData(){const t=this.scriptData={base:null,sub:d.empty(),sup:d.empty(),psub:d.empty(),psup:d.empty(),numPrescripts:0,numScripts:0},e=this.getScriptBBoxLists();this.combineBBoxLists(t.sub,t.sup,e.subList,e.supList),this.combineBBoxLists(t.psub,t.psup,e.psubList,e.psupList),t.base=e.base[0],t.numPrescripts=e.psubList.length,t.numScripts=e.subList.length}getScriptBBoxLists(){const t={base:[],subList:[],supList:[],psubList:[],psupList:[]};let e="base";for(const s of this.childNodes)e=s.node.isKind("mprescripts")?"psubList":(t[e].push(s.getOuterBBox()),Ya[e]);return this.firstPrescript=t.subList.length+t.supList.length+2,this.padLists(t.subList,t.supList),this.padLists(t.psubList,t.psupList),t}padLists(t,e){t.length>e.length&&e.push(d.empty())}combineBBoxLists(e,s,i,r){for(let t=0;t<i.length;t++){var[n,o,a]=this.getScaledWHD(i[t]),[l,h,c]=this.getScaledWHD(r[t]),n=Math.max(n,l);e.w+=n,s.w+=n,o>e.h&&(e.h=o),a>e.d&&(e.d=a),h>s.h&&(s.h=h),c>s.d&&(s.d=c)}}getScaledWHD(t){var{w:t,h:e,d:s,rscale:i}=t;return[t*i,e*i,s*i]}getCombinedUV(){var t=this.scriptData,e=this.combinePrePost(t.sub,t.psub),t=this.combinePrePost(t.sup,t.psup);return this.getUVQ(e,t)}addPrescripts(t,e,s){var i,r=this.scriptData;return r.numPrescripts&&(i=this.font.params.scriptspace,t.combine(r.psup,i,e),t.combine(r.psub,i,s)),t}addPostscripts(t,e,s){var i,r=this.scriptData;return r.numScripts&&(i=t.w,t.combine(r.sup,i,e),t.combine(r.sub,i,s),t.w+=this.font.params.scriptspace),t}constructor(...t){super(...t),this.scriptData=null,this.firstPrescript=0,this.getScriptData()}appendScripts(t){t.empty();var[e,s]=this.getCombinedUV();return this.addPrescripts(t,e,s),t.append(this.scriptData.base),this.addPostscripts(t,e,s),t.clean(),t}computeLineBBox(t){var e=this.baseChild.breakCount,s=this.baseChild.getLineBBox(t).copy();let i=s;var[r,n]=this.getCombinedUV();return 0===t?((i=bo.from(this.addPrescripts(d.zero(),r,n),this.linebreakOptions.lineleading)).append(s),this.addLeftBorders(i),i.L=this.bbox.L):t===e&&(i=this.addPostscripts(i,r,n),this.addRightBorders(i),i.R=this.bbox.R),this.addMiddleBorders(i),i}getUVQ(i,r){if(!this.UVQ){let[t,e,s]=[0,0,0];0===i.w?t=this.getU():0===r.w?t=-this.getV():[t,e,s]=super.getUVQ(i,r),this.UVQ=[t,e,s]}return this.UVQ}}}(St=class extends Qa(Wa){toCHTML(t){if(!this.toEmbellishedCHTML(t)){var t=this.standardChtmlNodes(t),e=this.scriptData,s=this.node.getProperty("scriptalign")||"right left",[s,i]=xr(s+" "+s),[r,n]=this.getCombinedUV();if(e.numPrescripts){const t=this.addScripts(this.dom[0],r,-n,!0,e.psub,e.psup,this.firstPrescript,e.numPrescripts);"right"!==s&&this.adaptor.setAttribute(t,"script-align",s)}if(this.childNodes[0].toCHTML(t),e.numScripts){const t=this.addScripts(this.dom[this.dom.length-1],r,-n,!1,e.sub,e.sup,1,e.numScripts);"left"!==i&&this.adaptor.setAttribute(t,"script-align",i)}}}addScripts(t,e,s,i,r,n,o,a){const l=this.adaptor,h=e-n.d+(s-r.h),c=e<0&&0===s?r.h+e:e,d=0<h?{style:{height:this.em(h)}}:{},u=c?{style:{"vertical-align":this.em(c)}}:{},p=this.html("mjx-row"),m=this.html("mjx-row",d),f=this.html("mjx-row"),g="mjx-"+(i?"pre":"")+"scripts",b=o+2*a;for(;o<b;)this.childNodes[o++].toCHTML([l.append(f,this.html("mjx-cell"))]),this.childNodes[o++].toCHTML([l.append(p,this.html("mjx-cell"))]);return l.append(t,this.html(g,u,[p,m,f]))}}).kind=zr.prototype.kind,St.styles={"mjx-prescripts":{display:"inline-table","padding-left":".05em"},"mjx-scripts":{display:"inline-table","padding-right":".05em"},"mjx-prescripts > mjx-row > mjx-cell":{"text-align":"right"},'[script-align="left"] > mjx-row > mjx-cell':{"text-align":"left"},'[script-align="center"] > mjx-row > mjx-cell':{"text-align":"center"},'[script-align="right"] > mjx-row > mjx-cell':{"text-align":"right"},"mjx-none":{display:"inline-block",height:"1px"}};const Za=St,tl=.333;function el(t){return class extends t{get tableRows(){return this.childNodes}findContainer(){let t=this,e=t.parent;for(;e&&(e.node.notParent||e.node.isKind("mrow"));)e=(t=e).parent;this.container=e,this.containerI=t.node.childPosition()}getPercentageWidth(){var t;this.hasLabels?this.bbox.pwidth=d.fullWidth:Nr(t=this.node.attributes.get("width"))&&(this.bbox.pwidth=t)}stretchRows(){const e=this.node.attributes.get("equalrows"),s=e?this.getEqualRowHeight():0,{H:i,D:r}=e?this.getTableData():{H:[0],D:[0]},n=this.tableRows;for(let t=0;t<this.numRows;t++){var o=e?[(s+i[t]-r[t])/2,(s-i[t]+r[t])/2]:null;n[t].stretchChildren(o)}}stretchColumns(){var e=this.getColumnAttributes("columnwidth",0);for(let t=0;t<this.numCols;t++){var s="number"==typeof this.cWidths[t]?this.cWidths[t]:null;this.stretchColumn(t,s),null!==s&&this.breakColumn(t,s,e[t])}}stretchColumn(t,e){const s=[];for(const e of this.tableRows){const i=e.getChild(t);if(i){const t=i.childNodes[0];t.stretch.dir===m.None&&t.canStretch(m.Horizontal)&&s.push(t)}}const i=s.length,r=this.childNodes.length;if(i&&1<r&&null===e){e=0;const s=1<i&&i===r;for(const i of this.tableRows){const r=i.getChild(t);if(r){const t=r.childNodes[0],i=t.stretch.dir===m.None;if(s||i){const s=t.getBBox(i)["w"];s>e&&(e=s)}}}}if(null!==e)for(const t of s)t.coreMO().getStretchedVariant([Math.max(e,t.getBBox().w)/t.coreRScale()])}breakColumn(s,i,r){if("linebreak"===this.jax.math.root.attributes.get("overflow")&&this.jax.math.display){const n=this.getTableData()["D"];let t=0,e=0;for(const r of this.tableRows){const o=r.getChild(s);if(o&&o.getBBox().w>i){o.childNodes[0].breakToWidth(i);const s=o.getBBox();n[t]=Math.max(n[t],s.d),s.w>e&&(e=s.w)}t++}("fit"===r||"auto"===r||Nr(r)||e>this.cWidths[s])&&(this.cWidths[s]=e)}}getTableData(){if(this.data)return this.data;const i=new Array(this.numRows).fill(0),r=new Array(this.numRows).fill(0),n=new Array(this.numCols).fill(0),t=new Array(this.numRows),o=new Array(this.numRows),a=[0],l=this.tableRows;for(let s=0;s<l.length;s++){let e=0;const h=l[s],c=h.node.attributes.get("rowalign");for(let t=0;t<h.numCells;t++){const o=h.getChild(t);e=this.updateHDW(o,t,s,c,i,r,n,e),this.recordPWidthCell(o,t)}t[s]=i[s],o[s]=r[s],h.labeled&&(e=this.updateHDW(h.childNodes[0],0,s,c,i,r,a,e)),this.extendHD(s,i,r,e),this.extendHD(s,t,o,e)}return this.data={H:i,D:r,W:n,NH:t,ND:o,L:a[0]},this.data}updateHDW(t,e,s,i,r,n,o,a){let{h:l,d:h,w:c}=t.getBBox();var d=t.parent.bbox.rscale;1!==t.parent.bbox.rscale&&(l*=d,h*=d,c*=d),this.node.getProperty("useHeight")&&(l<.75&&(l=.75),h<.25&&(h=.25));let u=0;return"baseline"!==(i=t.node.attributes.get("rowalign")||i)&&"axis"!==i&&(u=l+h,l=h=0),l>r[s]&&(r[s]=l),h>n[s]&&(n[s]=h),u>a&&(a=u),o&&c>o[e]&&(o[e]=c),a}extendHD(t,e,s,i){i=(i-(e[t]+s[t]))/2;i<1e-5||(e[t]+=i,s[t]+=i)}recordPWidthCell(t,e){t.childNodes[0]&&t.childNodes[0].getBBox().pwidth&&this.pwidthCells.push([t,e])}setColumnPWidths(){var t,e,s=this.cWidths;for([t,e]of this.pwidthCells)t.setChildPWidths(!1,s[e])&&(t.invalidateBBox(),t.getBBox())}getBBoxHD(t){const[e,s]=this.getAlignmentRow();if(null===s){const s=this.font.params.axis_height,r=t/2;return{top:[0,t],center:[r,r],bottom:[t,0],baseline:[r,r],axis:[r+s,r-s]}[e]||[r,r]}var i=this.getVerticalPosition(s,e);return[i,t-i]}getBBoxLR(){var s;if(this.hasLabels){const s=this.node.attributes,r=s.get("side");let[t,e]=this.getPadAlignShift(r);var i=this.hasLabels&&!!s.get("data-width-includes-label");return i&&this.frame&&this.fSpace[0]&&(t-=this.fSpace[0]),"center"!==e||i?"left"===r?[t,0]:[0,t]:[t,t]}return[(null==(s=this.bbox)?void 0:s.L)||0,0]}getPadAlignShift(t){var e=this.getTableData()["L"];let s=e+this.length2em(this.node.attributes.get("minlabelspacing"));var[e,i]=null==this.styles?["",""]:[this.styles.get("padding-left"),this.styles.get("padding-right")];(e||i)&&(s=Math.max(s,this.length2em(e||"0"),this.length2em(i||"0")));let[r,n]=this.getAlignShift();return r===t&&(n="left"===t?Math.max(s,n)-s:Math.min(-s,n)+s),[s,r,n]}getWidth(){return this.pWidth||this.getBBox().w}adjustWideTable(){const t=this.node.attributes;var e,s;"auto"===t.get("width")&&([e,s]=this.getPadAlignShift(t.get("side")),s=Math.max(this.containerWidth/10,this.containerWidth-e-("center"===s?e:0)),this.naturalWidth()>s&&this.adjustColumnWidths(s))}naturalWidth(){return lo(this.getComputedWidths().concat(this.cLines,this.cSpace))+2*this.fLine+this.fSpace[0]+this.fSpace[2]}getEqualRowHeight(){const{H:e,D:s}=this.getTableData(),t=Array.from(e.keys()).map(t=>e[t]+s[t]);return Math.max(...t)}getComputedWidths(){const e=this.getTableData().W;let t=Array.from(e.keys()).map(t=>("number"==typeof this.cWidths[t]?this.cWidths:e)[t]);return t=this.node.attributes.get("equalcolumns")?Array(t.length).fill(ho(t)):t}getColumnWidths(){var t=this.node.attributes.get("width");if(this.node.attributes.get("equalcolumns"))return this.getEqualColumns(t);var e=this.getColumnAttributes("columnwidth",0);return"auto"===t?this.getColumnWidthsAuto(e):Nr(t)?this.getColumnWidthsPercent(e):this.getColumnWidthsFixed(e,this.length2em(t))}getEqualColumns(t){var e,s=Math.max(1,this.numCols);let i;if("auto"===t){const t=this.getTableData()["W"];i=ho(t)}else i=Nr(t)?this.percent(1/s):(e=lo([].concat(this.cLines,this.cSpace))+this.fSpace[0]+this.fSpace[2],Math.max(0,this.length2em(t)-e)/s);return Array(this.numCols).fill(i)}getColumnWidthsAuto(t){return t.map(t=>"auto"===t||"fit"===t?null:Nr(t)?t:this.length2em(t))}getColumnWidthsPercent(s){const i=s.includes("fit"),r=(i?this.getTableData():{W:null})["W"];return Array.from(s.keys()).map(t=>{var e=s[t];return"fit"===e?null:"auto"===e?i?r[t]:null:Nr(e)?e:this.length2em(e)})}getColumnWidthsFixed(s,t){const e=Array.from(s.keys()),i=e.filter(t=>"fit"===s[t]),r=e.filter(t=>"auto"===s[t]),n=i.length||r.length,o=(n?this.getTableData():{W:null})["W"],a=t-lo([].concat(this.cLines,this.cSpace))-this.fSpace[0]-this.fSpace[2];let l=a;e.forEach(t=>{var e=s[t];l-="fit"===e||"auto"===e?o[t]:this.length2em(e,a)});const h=n&&0<l?l/n:0;return e.map(t=>{var e=s[t];return"fit"===e?o[t]+h:"auto"===e?o[t]+(0===i.length?h:0):this.length2em(e,a)})}adjustColumnWidths(i){const r=this.getTableData()["W"],e=this.getColumnAttributes("columnwidth",0),n=Array.from(e.keys()),o=[...n.filter(t=>"fit"===e[t]).sort((t,e)=>r[e]-r[t]),...n.filter(t=>"auto"===e[t]).sort((t,e)=>r[e]-r[t]),...n.filter(t=>Nr(e[t])).sort((t,e)=>r[e]-r[t]),...n.filter(t=>"fit"!==e[t]&&"auto"!==e[t]&&!Nr(e[t])).sort((t,e)=>r[e]-r[t])];if(o.length){this.cWidths=n.map(t=>("number"==typeof this.cWidths[t]?this.cWidths:r)[t]);i=i-lo([].concat(this.cLines,this.cSpace))-this.fSpace[0]-this.fSpace[2];let e=lo(this.cWidths)-i,t=0,s=0;for(;s<o.length&&!((t+=r[o[s++]])&&e/t<tl););e=1-e/t,o.slice(0,s).forEach(t=>this.cWidths[t]*=e)}}getVerticalPosition(e,t){var s=this.node.attributes.get("equalrows"),{H:i,D:r}=this.getTableData(),n=s?this.getEqualRowHeight():0,o=this.getRowHalfSpacing();let a=this.fLine;for(let t=0;t<e;t++)a+=o[t]+(s?n:i[t]+r[t])+o[t+1]+this.rLines[t];var[l,h]=s?[(n+i[e]-r[e])/2,(n-i[e]+r[e])/2]:[i[e],r[e]];return a+={top:0,center:o[e]+(l+h)/2,bottom:o[e]+l+h+o[e+1],baseline:o[e]+l,axis:o[e]+l-.25}[t]||0}getFrameSpacing(){const t=this.fframe?this.convertLengths(this.getAttributeArray("framespacing")):[0,0];t[2]=t[0];var e,s=this.node.attributes.get("data-array-padding");return s&&([s,e]=this.convertLengths(xr(s)),t[0]=s,t[2]=e),t}getEmHalfSpacing(t,e,s=1){const i=this.addEm(e,2/s);return i.unshift(this.em(t[0]*s)),i.push(this.em(t[1]*s)),i}getRowHalfSpacing(){const t=this.rSpace.map(t=>t/2);return t.unshift(this.fSpace[1]),t.push(this.fSpace[1]),t}getColumnHalfSpacing(){const t=this.cSpace.map(t=>t/2);return t.unshift(this.fSpace[0]),t.push(this.fSpace[2]),t}getAlignmentRow(){var[t,e]=xr(this.node.attributes.get("align"));if(null==e)return[t,null];let s=parseInt(e);return s<0&&(s+=this.numRows+1),[t,s<1||s>this.numRows?null:s-1]}getColumnAttributes(t,e=1){const s=this.numCols-e,i=this.getAttributeArray(t);if(0===i.length)return null;for(;i.length<s;)i.push(i[i.length-1]);return i.length>s&&i.splice(s),i}getRowAttributes(t,e=1){const s=this.numRows-e,i=this.getAttributeArray(t);if(0===i.length)return null;for(;i.length<s;)i.push(i[i.length-1]);return i.length>s&&i.splice(s),i}getAttributeArray(t){var e=this.node.attributes.get(t);return e?xr(e):[this.node.attributes.getDefault(t)]}addEm(t,e=1){return t?t.map(t=>this.em(t/e)):null}convertLengths(t){return t?t.map(t=>this.length2em(t)):null}constructor(t,e,s=null){super(t,e,s),this.numCols=0,this.numRows=0,this.data=null,this.pwidthCells=[],this.pWidth=0,this.numCols=ho(this.tableRows.map(t=>t.numCells)),this.numRows=this.childNodes.length,this.hasLabels=this.childNodes.reduce((t,e)=>t||e.node.isKind("mlabeledtr"),!1),this.findContainer(),this.isTop=!this.container||this.container.node.isKind("math")&&!this.container.parent,this.isTop&&(this.jax.table=this),this.getPercentageWidth();const i=this.node.attributes,r=i.get("frame");this.frame="none"!==r,this.fframe=this.frame||void 0!==i.get("data-frame-styles"),this.fLine=this.frame?.07:0,this.fSpace=this.getFrameSpacing(),this.cSpace=this.convertLengths(this.getColumnAttributes("columnspacing")),this.rSpace=this.convertLengths(this.getRowAttributes("rowspacing")),this.cLines=this.getColumnAttributes("columnlines").map(t=>"none"===t?0:.07),this.rLines=this.getRowAttributes("rowlines").map(t=>"none"===t?0:.07),this.cWidths=this.getColumnWidths(),this.adjustWideTable(),this.stretchColumns(),this.stretchRows()}getStyles(){super.getStyles();const t=this.node.attributes.get("data-frame-styles");if(t){this.styles||(this.styles=new ao(""));var e=t.split(/ /);for(const t of Qn.keys()){var s=e[t];"none"!==s&&this.styles.set("border-"+Qn[t],".07em "+s)}}}computeBBox(t,e=0){const{H:s,D:i}=this.getTableData();let r,n;if(this.node.attributes.get("equalrows")){const t=this.getEqualRowHeight();r=lo([].concat(this.rLines,this.rSpace))+t*this.numRows}else r=lo(s.concat(i,this.rLines,this.rSpace));r+=2*(this.fLine+this.fSpace[1]),n=this.naturalWidth();var o=this.node.attributes.get("width"),[a,l]=("auto"!==o&&(n=Math.max(this.length2em(o,0)+2*this.fLine,n)),this.getBBoxHD(r)),[a,l]=(t.h=a,t.d=l,t.w=n,this.getBBoxLR());t.L=a,t.R=l,Nr(o)||this.setColumnPWidths()}setChildPWidths(t,e,s){var i=this.node.attributes.get("width");if(!Nr(i))return!1;this.hasLabels||(this.bbox.pwidth="",this.container.bbox.pwidth="");var{w:r,L:n,R:o}=this.bbox,a=this.node.attributes.get("data-width-includes-label"),i=Math.max(r,this.length2em(i,Math.max(e,n+r+o)))-(a?n+o:0),e=this.node.attributes.get("equalcolumns")?Array(this.numCols).fill(this.percent(1/Math.max(1,this.numCols))):this.getColumnAttributes("columnwidth",0);return this.cWidths=this.getColumnWidthsFixed(e,i),this.pWidth=this.naturalWidth(),this.isTop&&(this.bbox.w=this.pWidth),this.setColumnPWidths(),this.pWidth!==r&&this.parent.invalidateBBox(),this.pWidth!==r}getAlignShift(){return this.isTop?super.getAlignShift():[this.container.getChildAlign(this.containerI),0]}}}(Rt=class extends el(g){constructor(t,e,s=null){super(t,e,s),this.itable=this.html("mjx-itable"),this.labels=this.html("mjx-itable")}getAlignShift(){const t=super.getAlignShift();return this.isTop||(t[1]=0),t}toCHTML(t){t=this.standardChtmlNodes(t);this.adaptor.append(t[0],this.html("mjx-table",{},[this.itable]));for(const t of this.childNodes)t.toCHTML([this.itable]);this.padRows(),this.handleColumnSpacing(),this.handleColumnLines(),this.handleColumnWidths(),this.handleRowSpacing(),this.handleRowLines(),this.handleRowHeights(),this.handleFrame(),this.handleWidth(),this.handleLabels(),this.handleAlign(),this.handleJustify(),this.shiftColor()}shiftColor(){const t=this.adaptor,e=t.getStyle(this.dom[0],"backgroundColor");e&&(t.setStyle(this.dom[0],"backgroundColor",""),t.setStyle(this.itable,"backgroundColor",e))}padRows(){const t=this.adaptor;for(const e of t.childNodes(this.itable))for(;t.childNodes(e).length<this.numCols;)t.append(e,this.html("mjx-mtd",{extra:!0}))}handleColumnSpacing(){const e=this.childNodes[0]?1/this.childNodes[0].getBBox().rscale:1,s=this.getEmHalfSpacing([this.fSpace[0],this.fSpace[2]],this.cSpace,e);for(const e of this.tableRows){let t=0;for(const o of e.tableCells){var i=s[t++],r=s[t],n=o?o.dom[0]:this.adaptor.childNodes(e.dom[0])[t];(1<t&&"0.4em"!==i||"0"!==i&&1===t)&&this.adaptor.setStyle(n,"paddingLeft",i),(t<this.numCols&&"0.4em"!==r||"0"!==r&&t===this.numCols)&&this.adaptor.setStyle(n,"paddingRight",r)}}}handleColumnLines(){if("none"!==this.node.attributes.get("columnlines")){var e=this.getColumnAttributes("columnlines");for(const i of this.childNodes){let t=0;for(const r of this.adaptor.childNodes(i.dom[0]).slice(1)){var s=e[t++];"none"!==s&&this.adaptor.setStyle(r,"borderLeft",".07em "+s)}}}}handleColumnWidths(){for(const s of this.childNodes){let t=0;for(const i of this.adaptor.childNodes(s.dom[0])){var e=this.cWidths[t++];null!==e&&(e="number"==typeof e?this.em(e):e,this.adaptor.setStyle(i,"width",e),this.adaptor.setStyle(i,"maxWidth",e),this.adaptor.setStyle(i,"minWidth",e))}}}handleRowSpacing(){const t=this.childNodes[0]?1/this.childNodes[0].getBBox().rscale:1,e=this.getEmHalfSpacing([this.fSpace[1],this.fSpace[1]],this.rSpace,t),s=this.fframe;let i=0;for(const t of this.childNodes){var r=e[i++],n=e[i];for(const e of t.childNodes)(1<i&&"0.215em"!==r||s&&1===i)&&this.adaptor.setStyle(e.dom[0],"paddingTop",r),(i<this.numRows&&"0.215em"!==n||s&&i===this.numRows)&&this.adaptor.setStyle(e.dom[0],"paddingBottom",n)}}handleRowLines(){if("none"!==this.node.attributes.get("rowlines")){const s=this.getRowAttributes("rowlines");let t=0;for(const i of this.childNodes.slice(1)){var e=s[t++];if("none"!==e)for(const s of this.adaptor.childNodes(i.dom[0]))this.adaptor.setStyle(s,"borderTop",".07em "+e)}}}handleRowHeights(){this.node.attributes.get("equalrows")&&this.handleEqualRows()}handleEqualRows(){var e=this.getRowHalfSpacing(),{H:s,D:i,NH:r,ND:n}=this.getTableData(),o=this.getEqualRowHeight();for(let t=0;t<this.numRows;t++){var a=this.childNodes[t];this.setRowHeight(a,o+e[t]+e[t+1]+this.rLines[t]),o!==r[t]+n[t]&&this.setRowBaseline(a,o,(o-s[t]+i[t])/2)}}setRowHeight(t,e){this.adaptor.setStyle(t.dom[0],"height",this.em(e))}setRowBaseline(t,e,s){var i=t.node.attributes.get("rowalign");for(const r of t.childNodes)if(this.setCellBaseline(r,i,e,s))break}setCellBaseline(t,e,s,i){const r=t.node.attributes.get("rowalign");if("baseline"===r||"axis"===r){const r=this.adaptor,n=r.lastChild(t.dom[0]),o=(r.setStyle(n,"height",this.em(s)),r.setStyle(n,"verticalAlign",this.em(-i)),t.parent);if(!(o.node.isKind("mlabeledtr")&&t===o.childNodes[0]||"baseline"!==e&&"axis"!==e))return!0}return!1}handleFrame(){var t;this.frame&&this.fLine&&(t=this.node.attributes.get("frame"),this.adaptor.setStyle(this.itable,"border",this.em(this.fLine)+" "+t))}handleWidth(){const t=this.adaptor,e=this.dom[0],{w:s,L:i,R:r}=this.getBBox();t.setStyle(e,"minWidth",this.em(i+s+r));let n=this.node.attributes.get("width");if(Nr(n))t.setStyle(e,"width",""),t.setAttribute(e,"width","full");else if(!this.hasLabels){if("auto"===n)return;n=this.em(this.length2em(n)+2*this.fLine)}var o=t.firstChild(e);if(t.setStyle(o,"width",n),t.setStyle(o,"minWidth",this.em(s)),i||r){t.setStyle(e,"margin","");const s=this.node.attributes.get("data-width-includes-label")?"padding":"margin";i===r?t.setStyle(o,s,"0 "+this.em(r)):t.setStyle(o,s,"0 "+this.em(r)+" 0 "+this.em(i))}t.setAttribute(this.itable,"width","full")}handleAlign(){var[t,e]=this.getAlignmentRow(),s=this.dom[0];null===e?"axis"!==t&&this.adaptor.setAttribute(s,"align",t):(e=this.getVerticalPosition(e,t),this.adaptor.setAttribute(s,"align","top"),this.adaptor.setStyle(s,"verticalAlign",this.em(e)))}handleJustify(){var t=this.getAlignShift()[0];"center"!==t&&this.adaptor.setAttribute(this.dom[0],"justify",t)}handleLabels(){if(this.hasLabels){const s=this.labels,i=this.node.attributes,r=this.adaptor,n=i.get("side");r.setAttribute(this.dom[0],"side",n),r.setAttribute(s,"align",n),r.setStyle(s,n,"0");var[t,e]=this.addLabelPadding(n);if(e){const s=r.firstChild(this.dom[0]);this.setIndent(s,t,e)}this.updateRowHeights(),this.addLabelSpacing()}}addLabelPadding(t){const[,e,s]=this.getPadAlignShift(t),i={};if("right"===t&&!this.node.attributes.get("data-width-includes-label")){const t=this.node.attributes.get("width"),{w:e,L:s,R:r}=this.getBBox();i.style={width:Nr(t)?"calc("+t+" + "+this.em(s+r)+")":this.em(s+e+r)}}return this.adaptor.append(this.dom[0],this.html("mjx-labels",i,[this.labels])),[e,s]}updateRowHeights(){var{H:e,D:s,NH:i,ND:r}=this.getTableData(),n=this.getRowHalfSpacing();for(let t=0;t<this.numRows;t++){const o=this.childNodes[t];this.setRowHeight(o,e[t]+s[t]+n[t]+n[t+1]+this.rLines[t]),e[t]!==i[t]||s[t]!==r[t]?this.setRowBaseline(o,e[t]+s[t],s[t]):o.node.isKind("mlabeledtr")&&this.setCellBaseline(o.childNodes[0],"",e[t]+s[t],s[t])}}addLabelSpacing(){const e=this.adaptor,s=this.node.attributes.get("equalrows"),{H:i,D:r}=this.getTableData(),n=s?this.getEqualRowHeight():0,o=this.getRowHalfSpacing();let a=this.fLine,l=e.firstChild(this.labels);for(let t=0;t<this.numRows;t++)this.childNodes[t].node.isKind("mlabeledtr")?(a&&e.insert(this.html("mjx-mtr",{style:{height:this.em(a)}}),l),e.setStyle(l,"height",this.em((s?n:i[t]+r[t])+o[t]+o[t+1])),l=e.next(l),a=this.rLines[t]):a+=o[t]+(s?n:i[t]+r[t])+o[t+1]+this.rLines[t]}}).kind=Jr.prototype.kind,Rt.styles={"mjx-mtable":{"vertical-align":".25em","text-align":"center",position:"relative","box-sizing":"border-box","border-spacing":0,"border-collapse":"collapse"},'mjx-mstyle[size="s"] mjx-mtable':{"vertical-align":".354em"},"mjx-labels":{position:"absolute",left:0,top:0},"mjx-table":{display:"inline-block","vertical-align":"-.5ex","box-sizing":"border-box"},"mjx-table > mjx-itable":{"vertical-align":"middle","text-align":"left","box-sizing":"border-box"},"mjx-labels > mjx-itable":{position:"absolute",top:0},'mjx-mtable[justify="left"]':{"text-align":"left"},'mjx-mtable[justify="right"]':{"text-align":"right"},'mjx-mtable[justify="left"][side="left"]':{"padding-right":"0 ! important"},'mjx-mtable[justify="left"][side="right"]':{"padding-left":"0 ! important"},'mjx-mtable[justify="right"][side="left"]':{"padding-right":"0 ! important"},'mjx-mtable[justify="right"][side="right"]':{"padding-left":"0 ! important"},"mjx-mtable[align]":{"vertical-align":"baseline"},'mjx-mtable[align="top"] > mjx-table':{"vertical-align":"top"},'mjx-mtable[align="bottom"] > mjx-table':{"vertical-align":"bottom"},'mjx-mtable[side="right"] mjx-labels':{"min-width":"100%"}};const sl=Rt;function il(t){return class extends t{get numCells(){return this.childNodes.length}get labeled(){return!1}get tableCells(){return this.childNodes}getChild(t){return this.childNodes[t]}getChildBBoxes(){return this.childNodes.map(t=>t.getBBox())}stretchChildren(s=null){const e=[],i=this.labeled?this.childNodes.slice(1):this.childNodes;for(const s of i){const i=s.childNodes[0];i.canStretch(m.Vertical)&&e.push(i)}const r=e.length,n=this.childNodes.length;if(r&&1<n&&!s){let t=0,e=0;var o=1<r&&r===n;for(const s of i){const i=s.childNodes[0],r=i.stretch.dir===m.None;if(o||r){const{h:s,d:n}=i.getBBox(r);s>t&&(t=s),n>e&&(e=n)}}s=[t,e]}if(s)for(const i of e){const e=i.coreRScale();i.coreMO().getStretchedVariant(s.map(t=>t*e))}}get fixesPWidth(){return!1}}}function rl(t){return class extends t{get numCells(){return Math.max(0,this.childNodes.length-1)}get labeled(){return!0}get tableCells(){return this.childNodes.slice(1)}getChild(t){return this.childNodes[t+1]}getChildBBoxes(){return this.childNodes.slice(1).map(t=>t.getBBox())}}}(it=class extends il(g){toCHTML(t){super.toCHTML(t);t=this.node.attributes.get("rowalign");"baseline"!==t&&this.adaptor.setAttribute(this.dom[0],"rowalign",t)}}).kind=Gr.prototype.kind,it.styles={"mjx-mtr":{display:"table-row"},'mjx-mtr[rowalign="top"] > mjx-mtd':{"vertical-align":"top"},'mjx-mtr[rowalign="center"] > mjx-mtd':{"vertical-align":"middle"},'mjx-mtr[rowalign="bottom"] > mjx-mtd':{"vertical-align":"bottom"},'mjx-mtr[rowalign="baseline"] > mjx-mtd':{"vertical-align":"baseline"},'mjx-mtr[rowalign="axis"] > mjx-mtd':{"vertical-align":".25em"}};const nl=it,ol=((At=class extends rl(nl){toCHTML(t){super.toCHTML(t);var e=this.adaptor.firstChild(this.dom[0]);if(e){this.adaptor.remove(e);const t=this.node.attributes.get("rowalign"),s="baseline"!==t&&"axis"!==t?{rowalign:t}:{},i=this.html("mjx-mtr",s,[e]);this.adaptor.append(this.parent.labels,i)}}markUsed(){super.markUsed(),this.jax.wrapperUsage.add(nl.kind)}}).kind=Kr.prototype.kind,At.styles={"mjx-mlabeledtr":{display:"table-row"},'mjx-mlabeledtr[rowalign="top"] > mjx-mtd':{"vertical-align":"top"},'mjx-mlabeledtr[rowalign="center"] > mjx-mtd':{"vertical-align":"middle"},'mjx-mlabeledtr[rowalign="bottom"] > mjx-mtd':{"vertical-align":"bottom"},'mjx-mlabeledtr[rowalign="baseline"] > mjx-mtd':{"vertical-align":"baseline"},'mjx-mlabeledtr[rowalign="axis"] > mjx-mtd':{"vertical-align":".25em"}},At);function al(t){return class extends t{get fixesPWidth(){return!1}invalidateBBox(){this.bboxComputed=!1,this.lineBBox=[]}getWrapWidth(t){const e=this.parent.parent,s=this.parent,i=this.node.childPosition()-(s.labeled?1:0);return("number"==typeof e.cWidths[i]?e.cWidths:e.getTableData().W)[i]}getChildAlign(t){return this.node.attributes.get("columnalign")}}}(yt=class extends al(g){toCHTML(t){super.toCHTML(t);var t=this.node.attributes.get("rowalign"),e=this.node.attributes.get("columnalign");t!==this.parent.node.attributes.get("rowalign")&&this.adaptor.setAttribute(this.dom[0],"rowalign",t),"center"===e||"mlabeledtr"===this.parent.kind&&this===this.parent.childNodes[0]&&e===this.parent.parent.node.attributes.get("side")||this.adaptor.setStyle(this.dom[0],"textAlign",e),this.parent.parent.node.getProperty("useHeight")&&this.adaptor.append(this.dom[0],this.html("mjx-tstrut"))}}).kind=Yr.prototype.kind,yt.styles={"mjx-mtd":{display:"table-cell","text-align":"center",padding:".215em .4em"},"mjx-mtd:first-child":{"padding-left":0},"mjx-mtd:last-child":{"padding-right":0},"mjx-mtable > * > mjx-itable > *:first-child > mjx-mtd":{"padding-top":0},"mjx-mtable > * > mjx-itable > *:last-child > mjx-mtd":{"padding-bottom":0},"mjx-tstrut":{display:"inline-block",height:"1em","vertical-align":"-.25em"},'mjx-labels[align="left"] > mjx-mtr > mjx-mtd':{"text-align":"left"},'mjx-labels[align="right"] > mjx-mtr > mjx-mtd':{"text-align":"right"},"mjx-mtd[extra]":{padding:0},'mjx-mtd[rowalign="top"]':{"vertical-align":"top"},'mjx-mtd[rowalign="center"]':{"vertical-align":"middle"},'mjx-mtd[rowalign="bottom"]':{"vertical-align":"bottom"},'mjx-mtd[rowalign="baseline"]':{"vertical-align":"baseline"},'mjx-mtd[rowalign="axis"]':{"vertical-align":".25em"}};const ll=yt,hl={dx:".2em",dy:".1em",postDelay:600,clearDelay:100,hoverTimer:new Map,clearTimer:new Map,stopTimers:(t,e)=>{e.clearTimer.has(t)&&(clearTimeout(e.clearTimer.get(t)),e.clearTimer.delete(t)),e.hoverTimer.has(t)&&(clearTimeout(e.hoverTimer.get(t)),e.hoverTimer.delete(t))}};function cl(t){return class extends t{get selected(){var t=this.node.attributes.get("selection"),t=Math.max(1,Math.min(this.childNodes.length,t))-1;return this.childNodes[t]||this.wrap(this.node.selected)}getParameters(){var[t,e]=xr(this.node.attributes.get("data-offsets")||"");this.tipDx=this.length2em(t||hl.dx),this.tipDy=this.length2em(e||hl.dy)}constructor(t,e,s=null){super(t,e,s);const i=this.constructor.actions,r=this.node.attributes.get("actiontype"),[n,o]=i.get(r)||[(t,e)=>{},{}];this.action=n,this.data=o,this.getParameters()}computeBBox(t,e=!1){t.updateFrom(this.selected.getOuterBBox()),this.selected.setChildPWidths(e)}get breakCount(){return this.node.isEmbellished?this.selected.coreMO().embellishedBreakCount:this.selected.breakCount}computeLineBBox(t){return this.getChildLineBBox(this.selected,t)}}}(bt=class extends cl(g){setEventHandler(e,s,t=null){(t?[t]:this.dom).forEach(t=>t.addEventListener(e,s))}Em(t){return this.em(t)}toCHTML(t){this.toEmbellishedCHTML(t)||(t=this.standardChtmlNodes(t),this.selected.toCHTML(t),this.action(this,this.data))}}).kind=Br.prototype.kind,bt.styles={"mjx-maction":{position:"relative"},"mjx-maction > mjx-tool":{display:"none",position:"absolute",bottom:0,right:0,width:0,height:0,"z-index":500},"mjx-tool > mjx-tip":{display:"inline-block","line-height":0,padding:".2em",border:"1px solid #888","background-color":"#F8F8F8",color:"black","box-shadow":"2px 2px 5px #AAAAAA"},"mjx-maction[toggle]":{cursor:"pointer"},"mjx-status":{display:"block",position:"fixed",left:"1em",bottom:"1em","min-width":"25%",padding:".2em .4em",border:"1px solid #888","font-size":"90%","background-color":"#F8F8F8",color:"black"}},bt.actions=new Map([["toggle",[(e,t)=>{e.dom.forEach(t=>{e.adaptor.setAttribute(t,"toggle",e.node.attributes.get("selection"))});const s=e.factory.jax.math,i=e.factory.jax.document,r=e.node;e.setEventHandler("click",t=>{s.end.node||(s.start.node=s.end.node=s.typesetRoot,s.start.n=s.end.n=0),r.nextToggleSelection(),s.rerender(i,r.attributes.get("data-maction-id")?u.ENRICHED:u.RERENDER),t.stopPropagation()})},{}]],["tooltip",[(e,s)=>{const t=e.childNodes[1];if(t)if(t.node.isKind("mtext")){const s=t.node.getText();e.dom.forEach(t=>e.adaptor.setAttribute(t,"title",s))}else{const i=e.adaptor;for(const r of e.dom){const n=i.append(r,e.html("mjx-tool",{style:{bottom:e.Em(-e.tipDy),right:e.Em(-e.tipDx)}},[e.html("mjx-tip")]));t.toCHTML([i.firstChild(n)]),e.setEventHandler("mouseover",t=>{s.stopTimers(r,s);var e=setTimeout(()=>i.setStyle(n,"display","block"),s.postDelay);s.hoverTimer.set(r,e),t.stopPropagation()},r),e.setEventHandler("mouseout",t=>{s.stopTimers(r,s);var e=setTimeout(()=>i.setStyle(n,"display",""),s.clearDelay);s.clearTimer.set(r,e),t.stopPropagation()},r)}}},hl]],["statusline",[(e,s)=>{const t=e.childNodes[1];if(t&&t.node.isKind("mtext")){const i=e.adaptor,r=t.node.getText();e.dom.forEach(t=>i.setAttribute(t,"statusline",r)),e.setEventHandler("mouseover",t=>{if(null===s.status){const t=i.body(i.document);s.status=i.append(t,e.html("mjx-status",{},[e.text(r)]))}t.stopPropagation()}),e.setEventHandler("mouseout",t=>{s.status&&(i.remove(s.status),s.status=null),t.stopPropagation()})}},{status:null}]]]);const dl=bt;function ul(t){return class extends t{constructor(t,e,s=null){super(t,e,s),this.getParameters()}getParameters(){const{width:t,height:e,valign:s,src:i,index:r}=this.node.attributes.getList("width","height","valign","src","index");if(i)this.width="auto"===t?1:this.length2em(t),this.height="auto"===e?1:this.length2em(e),this.valign=this.length2em(s||"0");else{const t=String.fromCodePoint(parseInt(r)),e=this.node.factory;this.charWrapper=this.wrap(e.create("text").setText(t)),this.charWrapper.parent=this}}computeBBox(t,e=0){this.charWrapper?t.updateFrom(this.charWrapper.getBBox()):(t.w=this.width,t.h=this.height+this.valign,t.d=-this.valign)}}}(xt=class extends ul(g){toCHTML(t){t=this.standardChtmlNodes(t);if(this.charWrapper)this.charWrapper.toCHTML(t);else{const{src:s,alt:i}=this.node.attributes.getList("src","alt"),r={width:this.em(this.width),height:this.em(this.height)};this.valign&&(r.verticalAlign=this.em(this.valign));var e=this.html("img",{src:s,style:r,alt:i,title:i});this.adaptor.append(t[0],e)}}}).kind=Zr.prototype.kind,xt.styles={"mjx-mglyph > img":{display:"inline-block",border:0,padding:0}};const pl=xt;function ml(t){return class extends t{computeBBox(t,e=0){if(this.childNodes.length){const{w:e,h:s,d:i}=this.childNodes[0].getBBox();t.w=e,t.h=s,t.d=i}}get breakCount(){return this.node.isEmbellished?this.coreMO().embellishedBreakCount:this.childNodes[0].breakCount}}}function fl(t){class e extends t{constructor(t,e,s=null){super(t,e,s),this.rscale=this.getRScale()}computeBBox(t,e=0){var s=this.node.getXML(),i=this.getHDW(s,"use","force"),{h:i,d:s,w:r}=i?this.splitHDW(i):this.measureXmlNode(s);t.w=r,t.h=i,t.d=s}getHTML(){let t=this.adaptor.clone(this.node.getXML());var e=this.getFontStyles();return!this.getHDW(t,"force")&&1===this.jax.options.scale||(t=this.addHDW(t,e)),this.html("mjx-html",{variant:this.parent.variant,style:e},[t])}getHDW(t,e,s=e){var i=this.jax.options.htmlHDW,t=this.adaptor.getAttribute(t,"data-mjx-hdw");return!t||i!==e&&i!==s?null:t}splitHDW(t){const e=1/this.metrics.scale,[s,i,r]=xr(t).map(t=>this.length2em(t||"0")*e);return{h:s,d:i,w:r}}getFontStyles(){var t;const e=this.adaptor,s=this.metrics;return{"font-family":(null==(t=this.parent.styles)?void 0:t.get("font-family"))||s.family||e.fontFamily(e.parent(this.jax.math.start.node))||"initial","font-size":this.jax.fixed(s.em*this.rscale)+"px"}}measureXmlNode(t){const e=this.adaptor,s=this.html("mjx-xml-block",{style:{display:"inline-block"}},[e.clone(t)]),i=this.html("mjx-baseline",{style:{display:"inline-block",width:0,height:0}}),r=this.getFontStyles(),n=this.html("mjx-measure-xml",{style:r},[i,s]),o=this.jax.container;e.append(e.parent(this.jax.math.start.node),o),e.append(o,n);var t=this.metrics,t=t.em*t.scale*this.rscale,{left:a,right:l,bottom:h,top:c}=e.nodeBBox(s),l=(l-a)/t,a=(e.nodeBBox(i).top-c)/t,h=(h-c)/t-a;return e.remove(o),e.remove(n),{w:l,h:a,d:h}}getStyles(){}getScale(){}getVariant(){}}return e.autoStyle=!1,e.styles={"mjx-measure-xml":{position:"absolute",left:0,top:0,display:"inline-block","line-height":"normal","white-space":"normal"},"mjx-html":{display:"inline-block","line-height":"normal","text-align":"initial","white-space":"initial"},"mjx-html-holder":{display:"block",position:"absolute",top:0,left:0,bottom:0,right:0}},e}(pt=class extends ml(g){toCHTML(t){this.toEmbellishedCHTML(t)||(t=this.standardChtmlNodes(t),this.childNodes.length&&this.childNodes[0].toCHTML(t))}}).kind=tn.prototype.kind;const gl=pt,bl=((kt=class extends g{toCHTML(t){super.toCHTML(t)}computeBBox(){return this.bbox}}).kind=sn.prototype.kind,kt),El=((rt=class extends g{}).kind=en.prototype.kind,rt.styles={"mjx-annotation-xml":{"font-family":"initial","line-height":"normal"}},rt),Nl=((Tt=class extends fl(g){toCHTML(t){this.markUsed(),this.dom=[this.adaptor.append(t[0],this.getHTML())]}addHDW(t,e){var s=this.jax.options.scale,{h:i,d:r,w:n}=this.bbox,o=s*this.metrics.scale;return e.width=this.em(n*o),e.height=this.em((i+r)*o),e["vertical-align"]=this.em(-r*o),e.position="relative",this.html("mjx-html-holder",{style:{transform:`scale(${this.jax.fixed(s)})`,"transform-origin":"top left"}},[t])}}).kind=hr.prototype.kind,Tt);function xl(t){return class extends t{computeBBox(t,e=!1){super.computeBBox(t,e),this.childNodes[0]&&this.childNodes[0].bbox.ic&&(t.ic=this.childNodes[0].bbox.ic)}}}(nt=class extends xl(g){toCHTML(t){super.toCHTML(t),this.dom.forEach(t=>this.adaptor.setAttribute(t,"texclass",Zi[this.node.texClass]))}}).kind=rn.prototype.kind;const yl=nt;function vl(t){return class extends t{remappedText(t,e){var s=this.parent.stretch.c;return s?[s]:this.parent.remapChars(this.unicodeChars(t,e))}computeBBox(s,i=0){var r=this.parent.variant,t=this.node.getText();if("-explicitFont"===r){const i=this.jax.getFontData(this.parent.styles),{w:e,h,d:c}=this.jax.measureText(t,r,i);s.h=h,s.d=c,s.w=e}else{const i=this.remappedText(t,r);let e="";s.empty();for(let t=0;t<i.length;t++){var[n,o,a,l]=this.getVariantChar(r,i[t]);if(l.unknown)e+=String.fromCodePoint(i[t]);else if(e=this.addUtextBBox(s,e,r),this.updateBBox(s,n,o,a),s.ic=l.ic||0,s.sk=l.sk||0,s.dx=l.dx||0,l.oc&&!(t<i.length-1)){n=this.parent.childNodes;if(this.node===n[n.length-1].node){const d=this.parent.parent.node;let t=d.isKind("mrow")||d.isInferred?d.childNodes[d.childIndex(this.parent.node)+1]:null;(t=null!=t&&t.isKind("mo")&&"â¢"===t.getText()?d.childNodes[d.childIndex(t)+1]:t)&&t.attributes.get("mathvariant")===r?s.oc=l.oc:s.ic=l.oc}}}this.addUtextBBox(s,e,r),1<i.length&&(s.sk=0),s.clean()}}addUtextBBox(t,e,s){var i;return e&&({h:e,d:s,w:i}=this.jax.measureText(e,s),this.updateBBox(t,e,s,i)),""}updateBBox(t,e,s,i){t.w+=i,e>t.h&&(t.h=e),s>t.d&&(t.d=s)}getStyles(){}getVariant(){}getScale(){}getSpace(){}}}(lt=class extends vl(g){toCHTML(t){this.markUsed();const s=t[0],i=this.adaptor,r=this.parent.variant,n=this.node.getText();if(0!==n.length){var o=this.getBBox();if("-explicitFont"===r)i.append(s,this.jax.unknownText(n,r,o.w));else{let e="";var a=this.remappedText(n,r),l=1<a.length?this.em(this.parent.getBBox().h):"",h=a.length;for(let t=0;t<h;t++){var c,d=a[t],u=this.getVariantChar(r,d)[3];u.unknown?e+=String.fromCodePoint(d):(e=this.addUtext(e,r,s),c=u.ff||(u.f?this.font.cssFontPrefix+"-"+u.f:""),c=i.append(s,this.html("mjx-c",{class:this.char(d)+(c?" "+c:"")},[this.text(u.c||String.fromCodePoint(d))])),(t<h-1||o.oc)&&i.setAttribute(c,"noic","true"),l&&i.setStyle(c,"padding-top",l),this.font.charUsage.add([r,d]))}this.addUtext(e,r,s)}}}addUtext(t,e,s){return t&&this.adaptor.append(s,this.jax.unknownText(t,e)),""}}).kind=lr.prototype.kind,lt.autoStyle=!1,lt.styles={"mjx-c":{display:"inline-block",width:0,"text-align":"right"},"mjx-utext":{display:"inline-block",padding:".75em 0 .2em 0"}};const Cl=lt,_l=((Et=class extends Nl{}).kind=on.prototype.kind,Et),Tl={[So.kind]:So,[La.kind]:La,[wa.kind]:wa,[ko.kind]:ko,[Do.kind]:Do,[Bo.kind]:Bo,[Uo.kind]:Uo,[Ho.kind]:Ho,[Wo.kind]:Wo,[Vo.kind]:Vo,[Ca.kind]:Ca,[ka.kind]:ka,[Aa.kind]:Aa,[Da.kind]:Da,[Ha.kind]:Ha,[qa.kind]:qa,[Wa.kind]:Wa,[Ja.kind]:Ja,[Ga.kind]:Ga,[Ka.kind]:Ka,[Za.kind]:Za,[Sa.kind]:Sa,[sl.kind]:sl,[nl.kind]:nl,[ol.kind]:ol,[ll.kind]:ll,[dl.kind]:dl,[pl.kind]:pl,[gl.kind]:gl,[bl.kind]:bl,[El.kind]:El,[Nl.kind]:Nl,[yl.kind]:yl,[Cl.kind]:Cl,[_l.kind]:_l,[g.kind]:g};class Ll extends Co{}Ll.defaultNodes=Tl;var wl,Nt={40:{dir:h,sizes:[.997,1.095,1.195,1.445,1.793,2.093,2.393,2.991],stretch:[9115,9116,9117],HDW:[.748,.248,.875]},41:{dir:h,sizes:[.997,1.095,1.195,1.445,1.793,2.093,2.393,2.991],stretch:[9118,9119,9120],HDW:[.748,.248,.875]},45:{c:8722,dir:p,stretch:[0,8722],HDW:[.583,.083,.778],ext:.112,hd:[.583,.083]},47:{dir:h,sizes:[1.001,1.311,1.717,2.249,2.945,3.859,5.055,6.621]},61:{dir:p,stretch:[0,61],HDW:[.367,-.133,.778],ext:.112,hd:[.367,-.133]},91:{dir:h,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9121,9122,9123],HDW:[.75,.25,.667]},92:{dir:h,sizes:[1.001,1.311,1.717,2.249,2.945,3.859,5.055,6.621]},93:{dir:h,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9124,9125,9126],HDW:[.75,.25,.667]},94:{c:770,dir:p,sizes:[.5,.644,.768,.919,1.1,1.32,1.581,1.896]},95:{c:8211,dir:p,stretch:[0,8211],HDW:[.277,-.255,.5],ext:.001,hd:[.277,-.255]},123:{dir:h,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9127,123,9129,9128],stretchv:[0,1,0,0],HDW:[.75,.25,.902]},124:{dir:h,sizes:[1.001,1.203,1.443,1.735,2.085,2.505,3.005,3.605],schar:[124,8739],stretch:[0,8739],stretchv:[0,2],HDW:[.75,.25,.333]},125:{dir:h,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9131,123,9133,9132],stretchv:[0,1,0,0],HDW:[.75,.25,.902]},126:{c:771,dir:p,sizes:[.5,.652,.778,.931,1.115,1.335,1.599,1.915]},175:{c:773,dir:p,sizes:[.392,.568],stretch:[0,773],stretchv:[0,1],HDW:[.67,-.63,0],hd:[.67,-.63]},710:{c:770,dir:p,sizes:[.5,.644,.768,.919,1.1,1.32,1.581,1.896]},711:{c:780,dir:p,sizes:[.366,.644,.768,.919,1.1,1.32,1.581,1.896]},713:{c:773,dir:p,sizes:[.392,.568],stretch:[0,773],stretchv:[0,1],HDW:[.67,-.63,0],hd:[.67,-.63]},728:{c:774,dir:p,sizes:[.376,.658,.784,.937,1.12,1.341,1.604,1.92]},732:{c:771,dir:p,sizes:[.5,.652,.778,.931,1.115,1.335,1.599,1.915]},770:{dir:p,sizes:[.5,.644,.768,.919,1.1,1.32,1.581,1.896]},771:{dir:p,sizes:[.5,.652,.778,.931,1.115,1.335,1.599,1.915]},773:{dir:p,sizes:[.392,.568],stretch:[0,773],stretchv:[0,1],HDW:[.67,-.63,0],hd:[.67,-.63]},774:{dir:p,sizes:[.376,.658,.784,.937,1.12,1.341,1.604,1.92]},780:{dir:p,sizes:[.366,.644,.768,.919,1.1,1.32,1.581,1.896]},8211:{dir:p,stretch:[0,8211],HDW:[.277,-.255,.5],ext:.001,hd:[.277,-.255]},8212:{dir:p,stretch:[0,8212],HDW:[.277,-.255,1],ext:.001,hd:[.277,-.255]},8213:{dir:p,stretch:[0,8213],HDW:[.27,-.23,1.152],ext:.112,hd:[.27,-.23]},8214:{dir:h,sizes:[1.001,1.203,1.443,1.735,2.085,2.503,3.004,3.607],schar:[8214,8741],stretch:[0,8741],stretchv:[0,2],HDW:[.75,.25,.555]},8254:{c:175,dir:p,sizes:[.392,.568],stretch:[0,773],stretchv:[0,1],HDW:[.67,-.63,0],hd:[.67,-.63]},8260:{dir:h,sizes:[1.001,1.311,1.717,2.249,2.945,3.859,5.055,6.621]},8400:{dir:p,sizes:[.422,.667],stretch:[8400,8400],stretchv:[3,1],HDW:[.711,-.601,0],hd:[.631,-.601]},8401:{dir:p,sizes:[.422,.667],stretch:[0,8400,8401],stretchv:[0,1,4],HDW:[.711,-.601,0],hd:[.631,-.601]},8406:{dir:p,sizes:[.416,.659],stretch:[8406,8400],stretchv:[3,1],HDW:[.711,-.521,0],hd:[.631,-.601]},8407:{dir:p,sizes:[.416,.659],stretch:[0,8400,8407],stretchv:[0,1,4],HDW:[.711,-.521,0],hd:[.631,-.601]},8417:{dir:p,sizes:[.47,.715],stretch:[8406,8400,8407],stretchv:[3,1,4],HDW:[.711,-.521,0],hd:[.631,-.601]},8428:{dir:p,sizes:[.422,.667],stretch:[0,845,8428],stretchv:[0,1,4],HDW:[-.171,.281,0],hd:[-.171,.201]},8429:{dir:p,sizes:[.422,.667],stretch:[8429,845],stretchv:[3,1],HDW:[-.171,.281,0],hd:[-.171,.201]},8430:{dir:p,sizes:[.416,.659],stretch:[8430,845],stretchv:[3,1],HDW:[-.091,.281,0],hd:[-.171,.201]},8431:{dir:p,sizes:[.416,.659],stretch:[0,845,8431],stretchv:[0,1,4],HDW:[-.091,.281,0],hd:[-.171,.201]},8512:{dir:h,sizes:[.684,1.401],variants:[0,2]},8592:{dir:p,sizes:[1,1.463],variants:[0,0],schar:[8592,10229],stretch:[8592,8592],stretchv:[3,1],HDW:[.51,.01,1],hd:[.274,-.226]},8593:{dir:h,sizes:[.883,1.349],variants:[0,2],stretch:[8593,8593],stretchv:[3,1],HDW:[.679,.203,.5]},8594:{dir:p,sizes:[1,1.463],variants:[0,0],schar:[8594,10230],stretch:[0,8592,8594],stretchv:[0,1,4],HDW:[.51,.01,1],hd:[.274,-.226]},8595:{dir:h,sizes:[.883,1.349],variants:[0,2],stretch:[0,8593,8595],stretchv:[0,1,4],HDW:[.703,.179,.5]},8596:{dir:p,sizes:[1,1.442],variants:[0,0],schar:[8596,10231],stretch:[8592,8592,8594],stretchv:[3,1,4],HDW:[.51,.01,1],hd:[.274,-.226]},8597:{dir:h,sizes:[1.015,1.015],variants:[0,2],stretch:[8593,8593,8595],stretchv:[3,1,4],HDW:[.757,.257,.5]},8598:{dir:h,sizes:[.918,1.384],variants:[0,2]},8599:{dir:h,sizes:[.918,1.384],variants:[0,2]},8600:{dir:h,sizes:[.918,1.384],variants:[0,2]},8601:{dir:h,sizes:[.918,1.384],variants:[0,2]},8602:{dir:p,sizes:[.997,1.463],variants:[0,2],stretch:[8602,8592,0,8602],stretchv:[3,1,0,1],HDW:[.51,.01,.997],hd:[.274,-.226]},8603:{dir:p,sizes:[.997,1.463],variants:[0,2],stretch:[0,8592,8603,8602],stretchv:[0,1,4,1],HDW:[.51,.01,.997],hd:[.274,-.226]},8606:{dir:p,sizes:[1.017,1.463],variants:[0,2],stretch:[8606,8592],stretchv:[3,1],HDW:[.51,.01,1.017],hd:[.274,-.226]},8608:{dir:p,sizes:[1.017,1.463],variants:[0,2],stretch:[0,8592,8608],stretchv:[0,1,4],HDW:[.51,.01,1.017],hd:[.274,-.226]},8610:{dir:p,sizes:[1.192,1.658],variants:[0,2],stretch:[8592,8592,8610],stretchv:[3,1,4],HDW:[.51,.01,1.192],hd:[.274,-.226]},8611:{dir:p,sizes:[1.192,1.658],variants:[0,2],stretch:[8611,8592,8594],stretchv:[3,1,4],HDW:[.51,.01,1.192],hd:[.274,-.226]},8612:{dir:p,sizes:[.977,1.443],variants:[0,0],schar:[8612,10235],stretch:[8592,8592,8612],stretchv:[3,1,4],HDW:[.51,.011,.977],hd:[.274,-.226]},8614:{dir:p,sizes:[.977,1.443],variants:[0,0],schar:[8614,10236],stretch:[8614,8592,8594],stretchv:[3,1,4],HDW:[.51,.011,.977],hd:[.274,-.226]},8617:{dir:p,sizes:[.997,1.463],variants:[0,2],stretch:[8592,8617,8617],stretchv:[3,1,4],HDW:[.546,.01,.997],hd:[.274,-.226]},8618:{dir:p,sizes:[.997,1.463],variants:[0,2],stretch:[8618,8617,8594],stretchv:[3,1,4],HDW:[.546,.01,.997],hd:[.274,-.226]},8619:{dir:p,sizes:[.997,1.463],variants:[0,2],stretch:[8592,8617,8619],stretchv:[3,1,4],HDW:[.55,.05,.997],hd:[.274,-.226]},8620:{dir:p,sizes:[.997,1.463],variants:[0,2],stretch:[8620,8617,8594],stretchv:[3,1,4],HDW:[.55,.05,.997],hd:[.274,-.226]},8630:{dir:p,sizes:[.98,1.33],variants:[0,2]},8631:{dir:p,sizes:[.98,1.33],variants:[0,2]},8636:{dir:p,sizes:[1,1.478],variants:[0,2],stretch:[8636,8636],stretchv:[3,1],HDW:[.499,-.226,1],hd:[.273,-.226]},8637:{dir:p,sizes:[1.012,1.478],variants:[0,2],stretch:[8637,8636],stretchv:[3,1],HDW:[.273,0,1.012],hd:[.273,-.226]},8638:{dir:h,sizes:[.901,1.367],variants:[0,2],stretch:[8638,8638],stretchv:[3,1],HDW:[.697,.203,.441]},8639:{dir:h,sizes:[.901,1.367],variants:[0,2],stretch:[8639,8639],stretchv:[3,1],HDW:[.697,.203,.441]},8640:{dir:p,sizes:[1,1.478],variants:[0,2],stretch:[0,8636,8640],stretchv:[0,1,4],HDW:[.499,-.226,1],hd:[.273,-.226]},8641:{dir:p,sizes:[1.012,1.478],variants:[0,2],stretch:[0,8636,8641],stretchv:[0,1,4],HDW:[.273,0,1.012],hd:[.273,-.226]},8642:{dir:h,sizes:[.901,1.367],variants:[0,2],stretch:[0,8638,8642],stretchv:[0,1,4],HDW:[.703,.197,.441]},8643:{dir:h,sizes:[.901,1.367],variants:[0,2],stretch:[0,8639,8643],stretchv:[0,1,4],HDW:[.703,.197,.441]},8644:{dir:p,sizes:[1.018,1.484],variants:[0,2],stretch:[8644,8644,8644],stretchv:[3,1,4],HDW:[.669,.172,1.018],hd:[.432,-.065]},8645:{dir:h,sizes:[.907,1.373],variants:[0,2],stretch:[8645,8645,8645],stretchv:[3,1,4],HDW:[.703,.203,.896]},8646:{dir:p,sizes:[1.018,1.484],variants:[0,2],stretch:[8646,8644,8646],stretchv:[3,1,4],HDW:[.669,.172,1.018],hd:[.432,-.065]},8647:{dir:p,sizes:[.997,1.463],variants:[0,2],stretch:[8647,8647],stretchv:[3,1],HDW:[.75,.25,.997],hd:[.512,.012]},8648:{dir:h,sizes:[.883,1.349],variants:[0,2],stretch:[8648,8648],stretchv:[3,1],HDW:[.679,.203,.992]},8649:{dir:p,sizes:[.997,1.463],variants:[0,2],stretch:[0,8647,8649],stretchv:[0,1,4],HDW:[.75,.25,.997],hd:[.512,.012]},8650:{dir:h,sizes:[.883,1.349],variants:[0,2],stretch:[0,8648,8650],stretchv:[0,1,4],HDW:[.703,.179,.992]},8651:{dir:p,sizes:[1.018,1.484],variants:[0,2],stretch:[8651,8651,8651],stretchv:[3,1,4],HDW:[.598,.098,1.018],hd:[.369,-.131]},8652:{dir:p,sizes:[1.018,1.484],variants:[0,2],stretch:[8652,8651,8652],stretchv:[3,1,4],HDW:[.598,.098,1.018],hd:[.369,-.131]},8653:{dir:p,sizes:[.991,1.457],variants:[0,2],stretch:[8653,8654,0,8653],stretchv:[3,1,0,1],HDW:[.52,.02,.991],hd:[.369,-.131]},8654:{dir:p,sizes:[1.068,1.534],variants:[0,2],stretch:[8656,8654,8658,8653],stretchv:[3,1,4,1],HDW:[.52,.02,1.068],hd:[.369,-.131]},8655:{dir:p,sizes:[.991,1.457],variants:[0,2],stretch:[0,8654,8658,8653],stretchv:[0,1,4,1],HDW:[.52,.02,.991],hd:[.369,-.131]},8656:{dir:p,sizes:[1,1.457],variants:[0,0],schar:[8656,10232],stretch:[8656,8656],stretchv:[3,1],HDW:[.52,.02,1],hd:[.369,-.131]},8657:{dir:h,sizes:[.88,1.346],variants:[0,2],stretch:[8657,8657],stretchv:[3,1],HDW:[.676,.203,.652]},8658:{dir:p,sizes:[1,1.457],variants:[0,0],schar:[8658,10233],stretch:[0,8656,8658],stretchv:[0,1,4],HDW:[.52,.02,1],hd:[.369,-.131]},8659:{dir:h,sizes:[.88,1.346],variants:[0,2],stretch:[0,8657,8659],stretchv:[0,1,4],HDW:[.703,.176,.652]},8660:{dir:p,sizes:[1,1.534],variants:[0,0],schar:[8660,10234],stretch:[8656,8656,8658],stretchv:[3,1,4],HDW:[.52,.02,1],hd:[.369,-.131]},8661:{dir:h,sizes:[.957,1.423],variants:[0,2],stretch:[8657,8657,8659],stretchv:[3,1,4],HDW:[.728,.228,.652]},8666:{dir:p,sizes:[1.015,1.461],variants:[0,2],stretch:[8666,8666],stretchv:[3,1],HDW:[.617,.117,1.015],hd:[.466,-.034]},8667:{dir:p,sizes:[1.015,1.461],variants:[0,2],stretch:[0,8666,8667],stretchv:[0,1,4],HDW:[.617,.117,1.015],hd:[.466,-.034]},8693:{dir:h,sizes:[.907,1.373],variants:[0,2],stretch:[8693,8645,8693],stretchv:[3,1,4],HDW:[.703,.203,.896]},8694:{dir:p,sizes:[.997,1.463],variants:[0,2],stretch:[0,8694,8694],stretchv:[0,1,4],HDW:[.99,.49,.997],hd:[.751,.251]},8719:{dir:h,sizes:[1.001,1.401],variants:[0,2]},8720:{dir:h,sizes:[1.001,1.401],variants:[0,2]},8721:{dir:h,sizes:[1.001,1.401],variants:[0,2]},8722:{dir:p,stretch:[0,8722],HDW:[.583,.083,.778],ext:.112,hd:[.583,.083]},8725:{c:47,dir:h,sizes:[1.001,1.311,1.717,2.249,2.945,3.859,5.055,6.621]},8730:{dir:h,sizes:[1.001,1.201,1.801,2.401,3.001],stretch:[8730,8730,9143],stretchv:[3,1,0],HDW:[.04,.96,1.056],fullExt:[.64,2.44]},8739:{dir:h,sizes:[1.001,1.203,1.443,1.735,2.085,2.505,3.005,3.605],stretch:[0,8739],stretchv:[0,2],HDW:[.75,.25,.333]},8741:{dir:h,sizes:[1.001,1.203,1.443,1.735,2.085,2.503,3.004,3.607],stretch:[0,8741],stretchv:[0,2],HDW:[.75,.25,.555]},8747:{dir:h,sizes:[1.112,2.223],variants:[0,2],stretch:[8992,9134,8993],HDW:[.805,.306,1.185]},8748:{dir:h,sizes:[1.112,2.223],variants:[0,2]},8749:{dir:h,sizes:[1.112,2.223],variants:[0,2]},8750:{dir:h,sizes:[1.112,2.223],variants:[0,2]},8751:{dir:h,sizes:[1.112,2.223],variants:[0,2]},8752:{dir:h,sizes:[1.112,2.223],variants:[0,2]},8753:{dir:h,sizes:[1.112,2.223],variants:[0,2]},8754:{dir:h,sizes:[1.112,2.223],variants:[0,2]},8755:{dir:h,sizes:[1.112,2.223],variants:[0,2]},8801:{dir:p,stretch:[0,8801],HDW:[.464,-.036,.778],ext:.112,hd:[.464,-.036]},8803:{dir:p,stretch:[0,8803],HDW:[.561,.061,.778],ext:.112,hd:[.561,.061]},8866:{dir:h,sizes:[.685,.869],variants:[0,0],schar:[8866,10205]},8867:{dir:h,sizes:[.685,.869],variants:[0,0],schar:[8867,10206]},8868:{dir:h,sizes:[.685,.869],variants:[0,0],schar:[8868,10201]},8869:{dir:h,sizes:[.685,.869],variants:[0,0],schar:[8869,10200]},8896:{dir:h,sizes:[1.045,1.394],variants:[0,2]},8897:{dir:h,sizes:[1.045,1.394],variants:[0,2]},8898:{dir:h,sizes:[1.023,1.357],variants:[0,2]},8899:{dir:h,sizes:[1.023,1.357],variants:[0,2]},8968:{dir:h,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9121,9122],HDW:[.75,.25,.667]},8969:{dir:h,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[9124,9125],HDW:[.75,.25,.667]},8970:{dir:h,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[0,9122,9123],HDW:[.75,.25,.667]},8971:{dir:h,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[0,9125,9126],HDW:[.75,.25,.667]},8978:{c:9180,dir:p,sizes:[.504,1.006,1.508,2.012,2.516,3.02,3.524,4.032],stretch:[9180,9180,9180],stretchv:[3,1,4],HDW:[.796,-.502,.504],hd:[.796,-.689]},8994:{c:9180,dir:p,sizes:[.504,1.006,1.508,2.012,2.516,3.02,3.524,4.032],stretch:[9180,9180,9180],stretchv:[3,1,4],HDW:[.796,-.502,.504],hd:[.796,-.689]},8995:{c:9181,dir:p,sizes:[.504,1.006,1.508,2.012,2.516,3.02,3.524,4.032],stretch:[9181,9181,9181],stretchv:[3,1,4],HDW:[-.072,.366,.504],hd:[-.259,.366]},9001:{dir:h,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],schar:[9001,10216]},9002:{dir:h,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],schar:[9002,10217]},9130:{dir:h,sizes:[.748],stretch:[0,9130],HDW:[.748,0,.902]},9135:{c:8211,dir:p,stretch:[0,8211],HDW:[.277,-.255,.5],ext:.001,hd:[.277,-.255]},9136:{dir:h,sizes:[1.125],stretch:[9127,9130,9133],HDW:[.75,.375,.902]},9137:{dir:h,sizes:[1.125],stretch:[9131,9130,9129],HDW:[.75,.375,.902]},9140:{dir:p,sizes:[.36,.735,1.11,1.485,1.86,2.235,2.61,2.985],stretch:[9140,9140,9140],stretchv:[3,1,4],HDW:[.772,-.504,.36],hd:[.772,-.706]},9141:{dir:p,sizes:[.36,.735,1.11,1.485,1.86,2.235,2.61,2.985],stretch:[9141,9141,9141],stretchv:[3,1,4],HDW:[-.074,.342,.36],hd:[-.276,.342]},9168:{dir:h,sizes:[.642],stretch:[0,9168],HDW:[.642,0,.333]},9180:{dir:p,sizes:[.504,1.006,1.508,2.012,2.516,3.02,3.524,4.032],stretch:[9180,9180,9180],stretchv:[3,1,4],HDW:[.796,-.502,.504],hd:[.796,-.689]},9181:{dir:p,sizes:[.504,1.006,1.508,2.012,2.516,3.02,3.524,4.032],stretch:[9181,9181,9181],stretchv:[3,1,4],HDW:[-.072,.366,.504],hd:[-.259,.366]},9182:{dir:p,sizes:[.492,.993,1.494,1.996,2.498,3,3.502,4.006],stretch:[9182,175,9182,9182],stretchv:[3,1,4,1],HDW:[.85,-.493,.492],hd:[.724,-.618]},9183:{dir:p,sizes:[.492,.993,1.494,1.996,2.498,3,3.502,4.006],stretch:[9183,95,9183,9183],stretchv:[3,1,4,1],HDW:[-.062,.419,.492],hd:[-.188,.294]},9184:{dir:p,sizes:[.546,1.048,1.55,2.056,2.564,3.068,3.574,4.082],stretch:[9184,9184,9184],stretchv:[3,1,4],HDW:[.873,-.605,.546],hd:[.873,-.766]},9185:{dir:p,sizes:[.546,1.048,1.55,2.056,2.564,3.068,3.574,4.082],stretch:[9185,9185,9185],stretchv:[3,1,4],HDW:[-.175,.443,.546],hd:[-.336,.443]},9472:{c:8211,dir:p,stretch:[0,8211],HDW:[.277,-.255,.5],ext:.001,hd:[.277,-.255]},10072:{c:8739,dir:h,sizes:[1.001,1.203,1.443,1.735,2.085,2.505,3.005,3.605],stretch:[0,8739],stretchv:[0,2],HDW:[.75,.25,.333]},10197:{dir:h,sizes:[.511,.628],variants:[0,2]},10198:{dir:h,sizes:[.511,.628],variants:[0,2]},10199:{dir:h,sizes:[.511,.628],variants:[0,2]},10214:{dir:h,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[10214,10214,10214],stretchv:[3,1,4],HDW:[.75,.25,1.007]},10215:{dir:h,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001],stretch:[10215,10215,10215],stretchv:[3,1,4],HDW:[.75,.25,1.007]},10216:{dir:h,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10217:{dir:h,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10218:{dir:h,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10219:{dir:h,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10222:{dir:h,sizes:[1.025,1.127,1.229,1.483,1.837,2.141,2.445,3.053],stretch:[10222,10222,10222],stretchv:[3,1,4],HDW:[.762,.262,.647]},10223:{dir:h,sizes:[1.025,1.127,1.229,1.483,1.837,2.141,2.445,3.053],stretch:[10223,10223,10223],stretchv:[3,1,4],HDW:[.762,.262,.647]},10229:{c:8592,dir:p,sizes:[1,1.463],variants:[0,0],schar:[8592,10229],stretch:[8592,8592],stretchv:[3,1],HDW:[.51,.01,1],hd:[.274,-.226]},10230:{c:8594,dir:p,sizes:[1,1.463],variants:[0,0],schar:[8594,10230],stretch:[0,8592,8594],stretchv:[0,1,4],HDW:[.51,.01,1],hd:[.274,-.226]},10231:{c:8596,dir:p,sizes:[1,1.442],variants:[0,0],schar:[8596,10231],stretch:[8592,8592,8594],stretchv:[3,1,4],HDW:[.51,.01,1],hd:[.274,-.226]},10232:{c:8656,dir:p,sizes:[1,1.457],variants:[0,0],schar:[8656,10232],stretch:[8656,8656],stretchv:[3,1],HDW:[.52,.02,1],hd:[.369,-.131]},10233:{c:8658,dir:p,sizes:[1,1.457],variants:[0,0],schar:[8658,10233],stretch:[0,8656,8658],stretchv:[0,1,4],HDW:[.52,.02,1],hd:[.369,-.131]},10234:{c:8660,dir:p,sizes:[1,1.534],variants:[0,0],schar:[8660,10234],stretch:[8656,8656,8658],stretchv:[3,1,4],HDW:[.52,.02,1],hd:[.369,-.131]},10235:{c:8612,dir:p,sizes:[.977,1.443],variants:[0,0],schar:[8612,10235],stretch:[8592,8592,8612],stretchv:[3,1,4],HDW:[.51,.011,.977],hd:[.274,-.226]},10236:{c:8614,dir:p,sizes:[.977,1.443],variants:[0,0],schar:[8614,10236],stretch:[8614,8592,8594],stretchv:[3,1,4],HDW:[.51,.011,.977],hd:[.274,-.226]},10570:{dir:p,sizes:[1.012],stretch:[8636,8636,8641],stretchv:[3,1,4],HDW:[.499,0,1.012],hd:[.273,-.226]},10571:{dir:p,sizes:[1.012],stretch:[8637,8636,8640],stretchv:[3,1,4],HDW:[.499,0,1.012],hd:[.273,-.226]},10574:{dir:p,sizes:[1],stretch:[8636,8636,8640],stretchv:[3,1,4],HDW:[.499,-.226,1],hd:[.273,-.226]},10576:{dir:p,sizes:[1],stretch:[8637,8636,8641],stretchv:[3,1,4],HDW:[.273,0,1],hd:[.273,-.226]},10586:{dir:p,sizes:[1],stretch:[8636,8636,8612],stretchv:[3,1,4],HDW:[.51,.011,1],hd:[.273,-.226]},10587:{dir:p,sizes:[1],stretch:[8614,8636,8640],stretchv:[3,1,4],HDW:[.51,.011,1],hd:[.273,-.226]},10590:{dir:p,sizes:[1],stretch:[8637,8636,8612],stretchv:[3,1,4],HDW:[.51,.011,1],hd:[.273,-.226]},10591:{dir:p,sizes:[1],stretch:[8614,8636,8641],stretchv:[3,1,4],HDW:[.51,.011,1],hd:[.273,-.226]},10627:{dir:h,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10628:{dir:h,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},10629:{dir:h,sizes:[.997,1.095,1.195,1.445,1.793,2.093,2.393,2.991]},10630:{dir:h,sizes:[.997,1.095,1.195,1.445,1.793,2.093,2.393,2.991]},10744:{dir:h,sizes:[1.076,1.917],variants:[0,2]},10745:{dir:h,sizes:[1.076,1.917],variants:[0,2]},10748:{dir:h,sizes:[1.001,1.083,1.185,1.433,1.793,2.093,2.383,2.997]},10749:{dir:h,sizes:[1.001,1.083,1.185,1.433,1.793,2.093,2.383,2.997]},10752:{dir:h,sizes:[.987,1.305],variants:[0,2]},10753:{dir:h,sizes:[.987,1.305],variants:[0,2]},10754:{dir:h,sizes:[.987,1.305],variants:[0,2]},10755:{dir:h,sizes:[1.023,1.357],variants:[0,2]},10756:{dir:h,sizes:[1.023,1.357],variants:[0,2]},10757:{dir:h,sizes:[1.029,1.373],variants:[0,2]},10758:{dir:h,sizes:[1.029,1.373],variants:[0,2]},10759:{dir:h,sizes:[1.045,1.907],variants:[0,2]},10760:{dir:h,sizes:[1.045,1.907],variants:[0,2]},10761:{dir:h,sizes:[.981,1.261],variants:[0,2]},10762:{dir:h,sizes:[1.001,1.401],variants:[0,2]},10763:{dir:h,sizes:[1.112,2.223],variants:[0,2]},10764:{dir:h,sizes:[1.112,2.223],variants:[0,2]},10765:{dir:h,sizes:[1.112,2.223],variants:[0,2]},10766:{dir:h,sizes:[1.112,2.223],variants:[0,2]},10767:{dir:h,sizes:[1.112,2.223],variants:[0,2]},10768:{dir:h,sizes:[1.112,2.223],variants:[0,2]},10769:{dir:h,sizes:[1.112,2.223],variants:[0,2]},10770:{dir:h,sizes:[1.112,2.223],variants:[0,2]},10771:{dir:h,sizes:[1.112,2.223],variants:[0,2]},10772:{dir:h,sizes:[1.112,2.223],variants:[0,2]},10773:{dir:h,sizes:[1.112,2.223],variants:[0,2]},10774:{dir:h,sizes:[1.112,2.223],variants:[0,2]},10775:{dir:h,sizes:[1.112,2.223],variants:[0,2]},10776:{dir:h,sizes:[1.112,2.223],variants:[0,2]},10777:{dir:h,sizes:[1.112,2.223],variants:[0,2]},10778:{dir:h,sizes:[1.112,2.223],variants:[0,2]},10779:{dir:h,sizes:[1.274,2.464],variants:[0,2]},10780:{dir:h,sizes:[1.274,2.486],variants:[0,2]},10781:{dir:h,sizes:[.767,1.073],variants:[0,2]},10782:{dir:h,sizes:[.767,1.074],variants:[0,2]},10784:{dir:h,sizes:[.595,.835],variants:[0,2]},10785:{dir:h,sizes:[.901,1.261],variants:[0,2]},11004:{dir:h,sizes:[1.001,1.915],variants:[0,2]},11007:{dir:h,sizes:[1.241,1.915],variants:[0,2]},12296:{c:10216,dir:h,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},12297:{c:10217,dir:h,sizes:[1.001,1.101,1.201,1.451,1.801,2.101,2.401,3.001]},65079:{c:9182,dir:p,sizes:[.492,.993,1.494,1.996,2.498,3,3.502,4.006],stretch:[9182,175,9182,9182],stretchv:[3,1,4,1],HDW:[.85,-.493,.492],hd:[.724,-.618]},65080:{c:9183,dir:p,sizes:[.492,.993,1.494,1.996,2.498,3,3.502,4.006],stretch:[9183,95,9183,9183],stretchv:[3,1,4,1],HDW:[-.062,.419,.492],hd:[-.188,.294]},126704:{dir:h,sizes:[.527,.738]},126705:{dir:h,sizes:[.531,.744]}},ut=((ft=class extends Oo{}).defaultVariants=[...f.defaultVariants,["-size3","normal"],["-size4","normal"],["-size5","normal"],["-size6","normal"],["-size7","normal"],["-lf-tp","normal"],["-rt-bt","normal"],["-ex-md","normal"],["-bbold","normal"],["-upsmall","normal"],["-uplarge","normal"]],ft.VariantSmp=Object.assign(Object.assign({},f.VariantSmp),{"-bbold":[120120,120146,,,120792]}),ft.defaultCssFonts=Object.assign(Object.assign({},f.defaultCssFonts),{"-size3":["serif",!1,!1],"-size4":["serif",!1,!1],"-size5":["serif",!1,!1],"-size6":["serif",!1,!1],"-size7":["serif",!1,!1],"-lf-tp":["serif",!1,!1],"-rt-bt":["serif",!1,!1],"-ex-md":["serif",!1,!1],"-bbold":["serif",!1,!1],"-upsmall":["serif",!1,!1],"-uplarge":["serif",!1,!1]}),ft.defaultAccentMap={94:"Ë†",126:"Ëœ",768:"Ë‹",769:"ËŠ",770:"Ë†",771:"Ëœ",772:"Ë‰",774:"Ë˜",775:"Ë™",776:"Â¨",778:"Ëš",780:"Ë‡",8594:"âƒ—"},ft.defaultParams=Object.assign(Object.assign({},f.defaultParams),{x_height:.442}),ft.defaultSizeVariants=["normal","-smallop","-largeop","-size3","-size4","-size5","-size6","-size7"],ft.defaultStretchVariants=["normal","-ex-md","-size3","-lf-tp","-rt-bt"],ft);class Il extends ut{constructor(){super(...arguments),this.cssFontPrefix="NCM"}}Il.NAME="MathJaxNewcm",Il.OPTIONS=Object.assign(Object.assign({},ut.OPTIONS),{fontURL:"@mathjax/mathjax-newcm-font/js/chtml/woff2",dynamicPrefix:"@mathjax/mathjax-newcm-font/js/chtml/dynamic"}),Il.defaultCssFamilyPrefix="MJX-NCM-ZERO",Il.defaultVariantLetters={normal:"",bold:"B",italic:"I","bold-italic":"BI","double-struck":"DS",fraktur:"F","bold-fraktur":"FB","sans-serif":"SS","bold-sans-serif":"SSB","sans-serif-italic":"SSI","sans-serif-bold-italic":"SSBI",monospace:"M","-smallop":"SO","-largeop":"LO","-size3":"S3","-size4":"S4","-size5":"S5","-size6":"S6","-size7":"S7","-tex-mathit":"MI","-tex-calligraphic":"C","-tex-bold-calligraphic":"CB","-tex-oldstyle":"OS","-tex-bold-oldstyle":"OB","-tex-variant":"V","-lf-tp":"LT","-rt-bt":"RB","-ex-md":"EM","-bbold":"Be","-upsmall":"U","-uplarge":"Ue",script:"S","bold-script":"SB"},Il.defaultDelimiters=Nt,Il.defaultChars={normal:{32:[0,0,.332],33:[.716,0,.278],34:[.705,-.423,.374],35:[.694,.194,.833],36:[.75,.056,.5],37:[.75,.056,.833],38:[.716,.022,.778],39:[.705,-.423,.278],40:[.748,.248,.389],41:[.748,.248,.389],42:[.75,-.32,.5],43:[.583,.083,.778],44:[.106,.193,.278],45:[.245,-.187,.333],46:[.106,0,.278],47:[.75,.25,.5],48:[.666,.022,.5],49:[.666,0,.5],50:[.666,0,.5,{sk:-.01}],51:[.666,.022,.5],52:[.677,0,.5,{sk:.103}],53:[.666,.022,.5],54:[.666,.022,.5,{sk:.068}],55:[.676,.022,.5,{sk:-.147}],56:[.666,.022,.5,{sk:.011}],57:[.666,.022,.5],58:[.431,0,.278],59:[.431,.193,.278],60:[.547,.052,.778],61:[.367,-.133,.778],62:[.547,.047,.778],63:[.705,0,.472],64:[.705,.011,.778],65:[.716,0,.75],66:[.683,0,.708,{sk:-.014}],67:[.705,.022,.722,{sk:.044}],68:[.683,0,.764],69:[.68,0,.681,{sk:.013}],70:[.68,0,.653],71:[.705,.022,.785,{sk:.013}],72:[.683,0,.75],73:[.683,0,.361],74:[.683,.022,.514,{sk:.06}],75:[.683,0,.778,{sk:-.011}],76:[.683,0,.625,{sk:-.119}],77:[.683,0,.917],78:[.683,0,.75],79:[.705,.022,.778],80:[.683,0,.681],81:[.705,.194,.778],82:[.683,.022,.736,{sk:-.026}],83:[.705,.022,.556],84:[.677,0,.722],85:[.683,.022,.75,{sk:.02}],86:[.683,.022,.75],87:[.683,.022,1.028],88:[.683,0,.75],89:[.683,0,.75],90:[.683,0,.611,{sk:.011}],91:[.75,.25,.278],92:[.75,.25,.5],93:[.75,.25,.278],94:[.745,-.561,.556,{ic:.006}],95:[-.1,.14,.333],96:[.698,-.509,.5,{sk:-.031}],97:[.448,.011,.5,{sk:-.036}],98:[.694,.011,.556,{sk:-.142}],99:[.448,.011,.444,{sk:.027}],100:[.694,.011,.556,{sk:.109}],101:[.448,.011,.444,{sk:.014}],102:[.705,0,.306,{ic:.051,sk:.043}],103:[.453,.206,.5,{sk:-.024}],104:[.694,0,.556,{sk:-.132}],105:[.657,0,.278],106:[.657,.205,.306],107:[.694,0,.528,{sk:-.128}],108:[.694,0,.278],109:[.442,0,.833],110:[.442,0,.556,{sk:.013}],111:[.448,.011,.5],112:[.442,.194,.556,{sk:.032}],113:[.442,.194,.528],114:[.442,0,.392,{sk:-.015}],115:[.448,.011,.394],116:[.615,.011,.389,{sk:-.034}],117:[.442,.011,.556,{sk:-.017}],118:[.431,.011,.528,{sk:.014}],119:[.431,.011,.722],120:[.431,0,.528],121:[.431,.205,.528],122:[.431,0,.444],123:[.75,.25,.5],124:[.75,.25,.278],125:[.75,.25,.5],126:[.309,-.191,.556,{ic:.001}],160:[0,0,.332],163:[.683,.035,.75],165:[.683,0,.75],167:[.705,.205,.444],168:[.652,-.557,.5],172:[.367,-.133,.667],175:[.62,-.589,.5],176:[.683,-.406,.375],177:[.583,.084,.778],180:[.698,-.509,.5,{sk:.031}],181:[.441,.194,.556],182:[.694,.194,.611],183:[.303,-.197,.278],215:[.491,-.009,.778],240:[.696,.011,.5],247:[.504,.004,.778],305:[.442,0,.278],567:[.442,.205,.306],710:[.694,-.515,.5],711:[.693,-.514,.5],713:[.62,-.589,.5],714:[.698,-.509,.5,{sk:.031}],715:[.698,-.509,.5,{sk:-.031}],717:[-.193,.233,.333,{ic:.018}],728:[.69,-.518,.5],729:[.657,-.551,.278],730:[.705,-.529,.75],732:[.653,-.556,.5],767:[-.025,.275,0,{dx:.274}],768:[.733,-.544,0,{dx:.294}],769:[.733,-.544,0,{dx:.234}],770:[.694,-.515,.5],771:[.653,-.556,.5,{sk:.016}],772:[.64,-.609,0,{dx:.264}],773:[.67,-.63,0,{dx:.264}],774:[.73,-.592,0,{dx:.264}],775:[.677,-.571,0,{dx:.265}],776:[.672,-.577,0,{dx:.264}],778:[.725,-.549,0,{dx:.264}],780:[.726,-.577,0,{dx:.264}],824:[.75,.25,0,{sk:-.263}],913:[.716,0,.75],914:[.683,0,.708,{sk:-.068}],915:[.68,0,.625,{sk:-.015}],916:[.716,0,.833],917:[.68,0,.681,{sk:-.022}],918:[.683,0,.611,{sk:.011}],919:[.683,0,.75],920:[.705,.022,.778],921:[.683,0,.361],922:[.683,0,.778,{sk:-.011}],923:[.716,0,.694],924:[.683,0,.917],925:[.683,0,.75],926:[.677,0,.667],927:[.705,.022,.778],928:[.68,0,.75],929:[.683,0,.681,{sk:-.058}],931:[.683,0,.722,{sk:-.011}],932:[.677,0,.722],933:[.705,0,.778],934:[.683,0,.722],935:[.683,0,.75,{sk:-.014}],936:[.683,0,.778],937:[.705,0,.722],945:[.442,.011,.641,{ic:.006,sk:.031}],946:[.706,.194,.558],947:[.442,.215,.586],948:[.712,.011,.474],949:[.453,.022,.535,{sk:-.024}],950:[.697,.205,.53,{sk:-.041}],951:[.442,.216,.53,{sk:-.047}],952:[.705,.011,.488],953:[.442,.011,.308,{sk:-.056}],954:[.442,.011,.53,{sk:-.018}],955:[.694,.013,.537,{ic:.029,sk:-.204}],956:[.442,.216,.53,{sk:-.028}],957:[.442,0,.502,{sk:-.042}],958:[.697,.205,.53,{sk:-.069}],959:[.448,.011,.5],960:[.431,.011,.586,{sk:-.014}],961:[.442,.216,.488],962:[.442,.108,.474],963:[.431,.011,.599],964:[.431,.012,.53,{sk:-.033}],965:[.442,.011,.53,{sk:-.014}],966:[.442,.218,.641,{sk:-.018}],967:[.442,.205,.641,{ic:.004,sk:-.057}],968:[.694,.205,.641,{sk:.028}],969:[.442,.011,.641],977:[.705,.011,.53,{sk:.026}],978:[.715,0,.778],981:[.694,.205,.641],982:[.431,.011,.836,{sk:-.014}],1008:[.442,.012,.624,{sk:-.015}],1009:[.442,.194,.488],1012:[.705,.022,.778],1013:[.431,.011,.414,{ic:.015,sk:.024}],1014:[.431,.011,.414,{ic:.058}],8192:[0,0,.5],8193:[0,0,1],8194:[0,0,.5],8195:[0,0,1],8196:[0,0,.333],8197:[0,0,.25],8198:[0,0,.167],8199:[0,0,.5],8200:[0,0,.25],8201:[0,0,.2],8202:[0,0,.1],8203:[0,0,0],8208:[.245,-.187,.333],8209:[.245,-.187,.333],8210:[.342,-.302,.68],8211:[.277,-.255,.5],8212:[.277,-.255,1],8213:[.27,-.23,1.152],8214:[.75,.25,.398],8216:[.693,-.394,.278],8217:[.694,-.395,.278],8220:[.693,-.394,.472],8221:[.694,-.395,.472],8224:[.705,.216,.444],8225:[.705,.205,.444],8230:[.106,0,.837],8231:[.266,-.16,.276],8239:[0,0,.2],8242:[.748,-.43,.311],8243:[.748,-.43,.511],8244:[.748,-.43,.711],8245:[.748,-.43,.311],8246:[.748,-.43,.511],8247:[.748,-.43,.711],8260:[.75,.25,.5],8279:[.748,-.43,.911],8287:[0,0,.222],8288:[0,0,0],8289:[0,0,0],8290:[0,0,0],8291:[0,0,0],8292:[0,0,0],8356:[.683,.035,.75],8364:[.705,.022,.627],8400:[.711,-.601,0,{dx:.264}],8401:[.711,-.601,0,{dx:.264}],8402:[.75,.25,0,{sk:-.264}],8406:[.711,-.521,0,{dx:.264}],8407:[.711,-.521,0,{dx:.264}],8411:[.696,-.604,0,{dx:.264}],8412:[.696,-.604,0,{dx:.264}],8417:[.711,-.521,0,{dx:.264}],8428:[-.171,.281,0,{dx:.264}],8429:[-.171,.281,0,{dx:.264}],8430:[-.091,.281,0,{dx:.264}],8431:[-.091,.281,0,{dx:.264}],8455:[.705,.022,.53],8462:[.694,.011,.576,{sk:-.033}],8463:[.694,.011,.576],8486:[.705,0,.722],8487:[.684,.021,.722],8490:[.683,0,.778,{sk:-.011}],8491:[.892,0,.75],8498:[.68,0,.653],8501:[.693,0,.611],8502:[.723,.04,.604],8503:[.721,.03,.528],8504:[.71,.035,.574],8592:[.51,.01,1],8593:[.679,.203,.5],8594:[.51,.01,1],8595:[.703,.179,.5],8596:[.51,.01,1],8597:[.757,.257,.5],8598:[.714,.203,1],8599:[.714,.203,1],8600:[.703,.214,1],8601:[.703,.214,1],8602:[.51,.01,.997],8603:[.51,.01,.997],8606:[.51,.01,1.017],8608:[.51,.01,1.017],8610:[.51,.01,1.192],8611:[.51,.01,1.192],8612:[.51,.011,.977],8614:[.51,.011,.977],8617:[.55,.01,.997],8618:[.55,.01,.997],8619:[.55,.05,.997],8620:[.55,.05,.997],8622:[.51,.01,.996],8630:[.562,-.229,.98],8631:[.562,-.229,.98],8634:[.68,.06,.771],8635:[.68,.06,.771],8636:[.503,-.23,1],8637:[.27,.003,1.012],8638:[.697,.203,.441],8639:[.697,.203,.441],8640:[.503,-.23,1],8641:[.27,.003,1.012],8642:[.703,.197,.441],8643:[.703,.197,.441],8644:[.672,.172,1.018],8645:[.703,.203,.896],8646:[.672,.172,1.018],8647:[.75,.25,.997],8648:[.679,.203,.992],8649:[.75,.25,.997],8650:[.703,.179,.992],8651:[.6,.1,1.018],8652:[.6,.1,1.018],8653:[.52,.02,.991],8654:[.52,.02,1.068],8655:[.52,.02,.991],8656:[.52,.02,1],8657:[.676,.203,.611],8658:[.52,.02,1],8659:[.703,.176,.611],8660:[.52,.02,1],8661:[.728,.228,.611],8666:[.617,.117,1.015],8667:[.617,.117,1.015],8672:[.51,.01,1],8673:[.692,.192,.684],8674:[.51,.01,1],8675:[.692,.192,.684],8676:[.51,.01,1.018],8677:[.51,.01,1.018],8693:[.703,.203,.896],8694:[.99,.49,.997],8704:[.688,-.002,.666],8705:[.684,0,.556],8706:[.716,.022,.586],8707:[.684,0,.556],8708:[.789,.105,.556],8709:[.772,.078,.5],8710:[.716,0,.833],8711:[.683,.033,.833],8712:[.543,.043,.667],8713:[.73,.23,.667],8715:[.543,.043,.667],8716:[.73,.23,.667],8718:[.554,0,.666],8719:[.75,.25,.944],8720:[.75,.25,.944],8721:[.75,.25,1.056],8722:[.583,.083,.778],8723:[.584,.083,.778],8724:[.785,.083,.778],8725:[.603,.103,.568],8726:[.603,.103,.568],8727:[.462,-.039,.5],8728:[.4,-.1,.412],8729:[.445,-.055,.5],8730:[.04,.96,.833,{ic:.02}],8733:[.442,.011,.778],8734:[.442,.011,1],8735:[.679,-.013,.778],8736:[.724,-.013,.778],8737:[.724,.109,.778],8738:[.562,.062,.778],8739:[.75,.25,.278],8740:[.75,.25,.388],8741:[.75,.25,.5],8742:[.75,.25,.556],8743:[.602,.02,.667],8744:[.601,.02,.667],8745:[.604,.02,.667],8746:[.604,.02,.667],8747:[.805,.306,.545,{ic:.12}],8748:[.805,.306,.915,{ic:.12}],8749:[.805,.306,1.285,{ic:.12}],8750:[.805,.306,.615,{ic:.05}],8751:[.805,.306,.985,{ic:.05}],8752:[.805,.306,1.355,{ic:.05}],8753:[.805,.306,.675,{ic:.02}],8754:[.805,.306,.662,{ic:.02}],8755:[.805,.306,.662,{ic:.02}],8756:[.416,-.084,.516],8757:[.416,-.084,.516],8758:[.422,-.078,.278],8759:[.422,-.078,.516],8760:[.504,-.23,.778],8761:[.422,-.078,.906],8764:[.366,-.134,.773],8765:[.366,-.134,.773],8766:[.466,-.034,.901],8767:[.492,-.008,.778],8768:[.583,.083,.28],8769:[.482,-.018,.773],8770:[.38,-.032,.778],8771:[.468,-.12,.778],8772:[.603,.103,.778],8773:[.552,-.036,.778],8774:[.614,.048,.778],8775:[.603,.103,.778],8776:[.457,-.043,.773],8777:[.603,.103,.773],8778:[.541,-.036,.778],8779:[.541,.041,.773],8780:[.541,-.036,.778],8781:[.498,-.002,.778],8784:[.601,-.133,.778],8788:[.422,-.078,.906],8789:[.422,-.078,.906],8797:[.793,-.133,.778],8799:[.803,-.133,.778],8800:[.73,.23,.778],8801:[.464,-.036,.778],8802:[.73,.23,.778],8803:[.561,.061,.778],8804:[.631,.119,.778],8805:[.631,.119,.778],8806:[.715,.203,.778],8807:[.715,.203,.778],8808:[.715,.287,.778],8809:[.715,.287,.778],8810:[.554,.047,1],8811:[.546,.054,1],8812:[.77,.27,.434],8813:[.73,.23,.778],8814:[.73,.23,.778],8815:[.73,.23,.778],8816:[.73,.23,.778],8817:[.73,.23,.778],8818:[.636,.125,.776],8819:[.636,.125,.776],8820:[.691,.191,.776],8821:[.691,.191,.776],8822:[.741,.241,.778],8823:[.741,.241,.778],8824:[.776,.276,.778],8825:[.776,.276,.778],8826:[.547,.047,.778],8827:[.547,.047,.778],8828:[.639,.139,.738],8829:[.639,.139,.738],8830:[.682,.17,.773],8831:[.682,.17,.773],8832:[.73,.23,.778],8833:[.73,.23,.778],8834:[.543,.043,.778],8835:[.543,.043,.778],8836:[.73,.23,.778],8837:[.73,.23,.778],8838:[.627,.127,.778],8839:[.627,.127,.778],8840:[.73,.23,.778],8841:[.73,.23,.778],8842:[.627,.211,.778],8843:[.627,.211,.778],8845:[.604,.02,.667],8846:[.604,.02,.667],8847:[.543,.043,.778],8848:[.543,.043,.778],8849:[.627,.127,.778],8850:[.627,.127,.778],8851:[.604,.02,.667],8852:[.604,.02,.667],8853:[.591,.093,.782],8854:[.591,.093,.782],8855:[.591,.093,.782],8856:[.591,.093,.782],8857:[.591,.093,.782],8858:[.591,.093,.782],8859:[.591,.093,.782],8860:[.591,.093,.782],8861:[.591,.093,.782],8862:[.583,.083,.778],8863:[.583,.083,.778],8864:[.583,.083,.778],8865:[.583,.083,.778],8866:[.684,0,.611],8867:[.684,0,.611],8868:[.664,.02,.778],8869:[.684,0,.778],8870:[.684,0,.445],8871:[.684,0,.445],8872:[.684,0,.612],8873:[.684,0,.673],8874:[.684,0,.841],8875:[.684,0,.653],8876:[.684,0,.565],8877:[.684,0,.732],8878:[.684,0,.793],8879:[.684,0,.773],8880:[.563,.063,.778],8881:[.563,.063,.778],8882:[.547,.047,.738],8883:[.547,.047,.738],8884:[.605,.105,.738],8885:[.605,.105,.738],8890:[.664,.02,.778],8896:[.78,.282,.833],8897:[.783,.28,.833],8898:[.772,.25,.833],8899:[.75,.272,.833],8900:[.48,-.02,.5],8901:[.303,-.197,.278],8902:[.486,-.008,.5],8904:[.505,.005,.623],8905:[.505,.005,.623],8906:[.505,.005,.623],8907:[.505,.005,.623],8908:[.505,.005,.623],8909:[.468,-.12,.778],8910:[.584,.02,.733],8911:[.584,.02,.733],8930:[.73,.23,.778],8931:[.73,.23,.778],8938:[.73,.23,.738],8939:[.73,.23,.738],8940:[.73,.23,.738],8941:[.73,.23,.738],8942:[.582,.082,.218],8943:[.303,-.197,.776],8944:[.5,0,.613],8945:[.5,0,.613],8967:[.783,.313,.28],8968:[.75,.25,.444],8969:[.75,.25,.444],8970:[.75,.25,.444],8971:[.75,.25,.444],8972:[.274,.103,.818],8973:[.274,.103,.818],8974:[.603,-.226,.818],8975:[.603,-.226,.818],8976:[.367,-.133,.667],8985:[.367,-.133,.667],8988:[.77,-.49,.392],8989:[.77,-.49,.392],8990:[.01,.27,.392],8991:[.01,.27,.392],8992:[1.344,0,1.185],8993:[.806,.538,1.185],8994:[.381,-.13,1],8995:[.371,-.133,1],9001:[.75,.25,.389],9002:[.75,.25,.389],9115:[1.495,0,.875],9116:[.498,0,.875],9117:[1.495,0,.875],9118:[1.495,0,.875],9119:[.498,0,.875],9120:[1.495,0,.875],9121:[1.5,0,.667],9122:[1,0,.667],9123:[1.5,0,.667],9124:[1.5,0,.667],9125:[1,0,.667],9126:[1.5,0,.667],9127:[.75,0,.902],9128:[1.5,0,.902],9129:[.75,0,.902],9130:[.748,0,.902],9131:[.75,0,.902],9132:[1.5,0,.902],9133:[.75,0,.902],9134:[.806,0,1.185],9135:[.27,-.23,.396],9136:[.75,.375,.752],9137:[.75,.375,.752],9138:[.846,0,1.576],9139:[.847,0,1.576],9140:[.726,-.552,.36],9141:[-.122,.296,.36],9143:[1.82,0,1.056],9144:[1.765,.235,.659],9145:[1.765,.235,.659],9168:[.642,0,.333],9180:[.727,-.572,.504],9181:[-.142,.297,.504],9182:[.783,-.539,.492],9183:[-.109,.353,.492],9184:[.829,-.657,.546,{ic:.006}],9185:[-.227,.399,.546,{ic:.006}],9204:[.422,-.082,.356],9205:[.422,-.078,.356],9206:[.38,-.12,.356],9207:[.38,-.12,.356],9632:[.583,.083,.778],9633:[.583,.083,.778],9642:[.358,-.142,.328],9643:[.358,-.142,.328],9650:[.741,.005,.968],9651:[.741,.005,.968],9652:[.592,-.144,.626],9653:[.592,-.144,.626],9654:[.678,.178,.858],9655:[.678,.178,.858],9656:[.625,-.111,.626],9657:[.625,-.111,.626],9658:[.625,-.111,.866],9659:[.625,-.111,.866],9660:[.505,.241,.968],9661:[.505,.241,.968],9662:[.592,-.144,.626],9663:[.592,-.144,.626],9664:[.678,.178,.858],9665:[.678,.178,.858],9666:[.625,-.111,.626],9667:[.625,-.111,.626],9668:[.625,-.111,.866],9669:[.625,-.111,.866],9670:[.713,.213,1.025],9671:[.713,.213,1.025],9674:[.61,.11,.572],9675:[.592,.092,.796],9679:[.592,.092,.796],9702:[.445,-.055,.5],9711:[.701,.201,1.013],9720:[.679,-.013,.778],9721:[.679,-.013,.778],9722:[.679,-.013,.778],9723:[.533,.033,.706],9724:[.533,.033,.706],9725:[.483,-.017,.566],9726:[.483,-.017,.566],9727:[.679,-.013,.778],10072:[.694,.083,.525],10200:[.684,.184,.946],10201:[.684,.184,.986],10205:[.684,.184,.946],10206:[.684,.184,.946],10214:[.75,.25,.41],10215:[.75,.25,.41],10216:[.75,.25,.389],10217:[.75,.25,.389],10218:[.75,.25,.57],10219:[.75,.25,.57],10220:[.748,.248,.389],10221:[.748,.248,.389],10222:[.762,.262,.287],10223:[.762,.262,.287],10229:[.51,.01,1.463],10230:[.51,.01,1.463],10231:[.51,.01,1.442],10232:[.52,.02,1.457],10233:[.52,.02,1.457],10234:[.52,.02,1.534],10235:[.51,.011,1.443],10236:[.51,.011,1.443],10237:[.52,.021,1.437],10238:[.52,.021,1.437],10506:[.702,.202,.846],10507:[.702,.202,.846],10570:[.503,.003,1.012],10571:[.503,.003,1.012],10574:[.503,-.23,1],10576:[.27,.003,1],10578:[.503,.019,1.088],10579:[.503,.019,1.088],10582:[.502,.019,1.088],10583:[.502,.019,1.088],10586:[.51,.011,1],10587:[.51,.011,1],10590:[.51,.011,1],10591:[.51,.011,1],10602:[.6,-.133,1.018],10603:[.368,.099,1.018],10604:[.6,-.133,1.018],10605:[.368,.099,1.018],10606:[.703,.203,.8],10607:[.703,.203,.8],10620:[.563,.063,.778],10621:[.563,.063,.778],10622:[.546,.046,.726],10623:[.546,.046,.726],10624:[.75,.25,.694],10647:[.748,.248,.278],10648:[.748,.248,.278],10741:[.603,.103,.556],10743:[.603,.103,.556],10744:[.75,.325,.5],10745:[.75,.325,.5],10752:[.743,.243,1.111],10753:[.743,.243,1.111],10754:[.743,.243,1.111],10755:[.75,.272,.833],10756:[.75,.272,.833],10757:[.764,.264,.833],10758:[.764,.264,.833],10759:[.78,.282,1.082],10760:[.799,.264,1.082],10761:[.74,.24,1.092],10764:[.805,.306,1.655,{ic:.12}],10765:[.805,.306,.615,{ic:.05}],10766:[.805,.306,.615,{ic:.05}],10767:[.805,.306,.615,{ic:.05}],10768:[.805,.306,.615,{ic:.05}],10769:[.805,.306,.675,{ic:.02}],10770:[.805,.306,.615,{ic:.05}],10771:[.805,.306,.615,{ic:.05}],10772:[.805,.306,.615,{ic:.05}],10773:[.805,.306,.545,{ic:.12}],10774:[.805,.306,.545,{ic:.12}],10775:[.805,.306,.794],10776:[.805,.306,.665],10777:[.805,.306,.665],10778:[.805,.306,.645,{ic:.02}],10779:[.967,.306,.545,{ic:.12}],10780:[.805,.468,.645,{ic:.02}],10799:[.496,-.004,.778],10815:[.683,0,.75],10877:[.634,.134,.778],10878:[.634,.134,.778],10885:[.721,.205,.776],10886:[.721,.205,.776],10887:[.667,.167,.778],10888:[.667,.167,.778],10889:[.753,.321,.776],10890:[.721,.289,.776],10891:[.977,.477,.778],10892:[.977,.477,.778],10901:[.629,.134,.778],10902:[.629,.129,.778],10927:[.631,.119,.778],10928:[.631,.119,.778],10929:[.631,.203,.778],10930:[.631,.203,.778],10931:[.716,.203,.778],10932:[.716,.203,.778],10933:[.716,.287,.778],10934:[.716,.287,.778],10935:[.816,.205,.776],10936:[.816,.205,.776],10937:[.816,.321,.776],10938:[.816,.321,.776],10949:[.543,.203,.698],10950:[.543,.203,.698],10955:[.543,.287,.698],10956:[.543,.287,.698],10974:[.684,0,.381],10975:[.342,.02,.778],10976:[.342,.02,.778],10977:[.684,0,.778],10978:[.684,0,.612],10979:[.684,0,.673],10980:[.684,0,.612],10981:[.684,0,.653],10982:[.684,0,.673],10983:[.622,-.062,.784],10984:[.622,-.062,.784],10985:[.812,.02,.778],10986:[.592,-.092,.784],10987:[.592,-.092,.784],10994:[.75,.25,.62],10995:[.75,.25,.773],10996:[.75,.25,.694],10997:[.75,.25,.694],11004:[.75,.25,.694],119808:[.698,0,.869],119809:[.686,0,.818,{sk:-.026}],119810:[.697,.011,.831,{sk:.051}],119811:[.686,0,.882,{sk:-.04}],119812:[.68,0,.756],119813:[.68,0,.724,{sk:-.02}],119814:[.697,.011,.904,{sk:.015}],119815:[.686,0,.9],119816:[.686,0,.436],119817:[.686,.011,.594,{sk:.051}],119818:[.686,0,.901,{sk:-.013}],119819:[.686,0,.692,{sk:-.114}],119820:[.686,0,1.092],119821:[.686,0,.9],119822:[.697,.011,.864],119823:[.686,0,.786,{sk:-.021}],119824:[.697,.194,.864],119825:[.686,.011,.863,{sk:-.044}],119826:[.697,.011,.639,{sk:-.025}],119827:[.675,0,.8],119828:[.686,.011,.885],119829:[.686,.008,.869],119830:[.686,.008,1.189],119831:[.686,0,.869,{sk:-.017}],119832:[.686,0,.869],119833:[.686,0,.703,{sk:.013}],119834:[.453,.006,.559,{sk:-.049}],119835:[.694,.006,.639,{sk:-.194}],119836:[.453,.006,.511,{sk:.043}],119837:[.694,.006,.639,{sk:.124}],119838:[.453,.006,.527,{sk:.018}],119839:[.7,0,.351,{ic:.086,sk:.033}],119840:[.455,.201,.575,{sk:-.032}],119841:[.694,0,.639,{sk:-.172}],119842:[.685,0,.319],119843:[.685,.2,.351,{sk:.013}],119844:[.694,0,.607,{sk:-.177}],119845:[.694,0,.319,{sk:-.024}],119846:[.45,0,.958,{sk:.012}],119847:[.45,0,.639],119848:[.453,.006,.575],119849:[.45,.194,.639,{sk:.043}],119850:[.45,.194,.607,{sk:-.013}],119851:[.45,0,.474,{sk:-.021}],119852:[.453,.006,.454],119853:[.635,.006,.447,{sk:-.029}],119854:[.45,.006,.639,{sk:-.024}],119855:[.444,.004,.607],119856:[.444,.004,.831],119857:[.444,0,.607],119858:[.444,.2,.607],119859:[.444,0,.511],119860:[.716,0,.75,{sk:.175}],119861:[.683,0,.759,{sk:.115}],119862:[.705,.022,.715,{ic:.045,sk:.105}],119863:[.683,0,.828,{sk:.088}],119864:[.68,0,.738,{ic:.028,sk:.115}],119865:[.68,0,.643,{ic:.108,sk:.102}],119866:[.705,.022,.786,{sk:.093}],119867:[.683,0,.831,{ic:.05,sk:.089}],119868:[.684,.001,.44,{ic:.057,sk:.084}],119869:[.683,.022,.555,{ic:.078,sk:.151}],119870:[.684,0,.849,{ic:.04,sk:.09}],119871:[.684,0,.681,{sk:.019}],119872:[.683,0,.97,{ic:.074,sk:.085}],119873:[.683,0,.803,{ic:.078,sk:.082}],119874:[.705,.022,.763,{sk:.114}],119875:[.683,0,.642,{ic:.112,sk:.072}],119876:[.705,.194,.791,{sk:.1}],119877:[.683,.022,.759,{sk:.084}],119878:[.705,.022,.613,{ic:.032,sk:.093}],119879:[.677,0,.584,{ic:.12,sk:.016}],119880:[.683,.022,.683,{ic:.077,sk:.022}],119881:[.683,.022,.583,{ic:.187,sk:-.019}],119882:[.683,.022,.944,{ic:.104}],119883:[.683,0,.828,{ic:.023,sk:.097}],119884:[.683,.001,.581,{ic:.181,sk:-.027}],119885:[.683,0,.683,{ic:.04,sk:.114}],119886:[.442,.011,.529,{sk:.022}],119887:[.694,.011,.429,{sk:-.011}],119888:[.442,.011,.433,{sk:.101}],119889:[.694,.011,.52,{sk:.182}],119890:[.442,.011,.466,{sk:.067}],119891:[.705,.205,.49,{ic:.062,sk:.172}],119892:[.442,.205,.477,{sk:.077}],119894:[.661,.011,.345,{sk:.074}],119895:[.661,.205,.412,{sk:.153}],119896:[.694,.011,.521,{sk:-.011}],119897:[.694,.011,.298,{sk:.055}],119898:[.442,.011,.878,{sk:.017}],119899:[.442,.011,.6,{sk:.025}],119900:[.442,.011,.485,{sk:.072}],119901:[.442,.194,.503,{sk:.092}],119902:[.442,.194,.446,{ic:.006,sk:.053}],119903:[.442,.011,.451,{sk:.021}],119904:[.442,.011,.469,{sk:.061}],119905:[.626,.011,.361,{sk:.044}],119906:[.442,.011,.572,{sk:.019}],119907:[.442,.011,.485,{sk:.051}],119908:[.442,.011,.716,{sk:.047}],119909:[.442,.011,.572,{sk:.043}],119910:[.442,.205,.49,{sk:.059}],119911:[.442,.011,.465,{ic:.002,sk:.102}],119912:[.711,0,.869,{sk:.173}],119913:[.686,0,.866,{sk:.11}],119914:[.703,.017,.817,{ic:.038,sk:.113}],119915:[.686,0,.938,{sk:.063}],119916:[.68,0,.81,{ic:.015,sk:.124}],119917:[.68,0,.689,{ic:.12,sk:.104}],119918:[.703,.017,.887,{sk:.102}],119919:[.686,0,.982,{ic:.045,sk:.091}],119920:[.686,0,.511,{ic:.055,sk:.086}],119921:[.686,.017,.631,{ic:.063,sk:.176}],119922:[.686,0,.971,{ic:.032,sk:.137}],119923:[.686,0,.756,{sk:.018}],119924:[.686,0,1.142,{ic:.074,sk:.086}],119925:[.686,0,.95,{ic:.077,sk:.083}],119926:[.703,.017,.837,{sk:.11}],119927:[.686,0,.723,{ic:.126,sk:.07}],119928:[.703,.194,.869,{sk:.093}],119929:[.686,.017,.872,{ic:.009,sk:.1}],119930:[.703,.017,.693,{ic:.021,sk:.097}],119931:[.675,0,.637,{ic:.135,sk:.014}],119932:[.686,.017,.8,{ic:.077,sk:.06}],119933:[.686,.017,.678,{ic:.207,sk:.016}],119934:[.686,.017,1.093,{ic:.114}],119935:[.686,0,.947,{ic:.006,sk:.132}],119936:[.686,0,.675,{ic:.2,sk:.022}],119937:[.686,0,.773,{ic:.032,sk:.122}],119938:[.452,.008,.633,{sk:.019}],119939:[.694,.008,.521,{sk:-.035}],119940:[.452,.008,.513,{sk:.101}],119941:[.694,.008,.61,{sk:.219}],119942:[.452,.008,.554,{sk:.063}],119943:[.702,.202,.568,{ic:.058,sk:.169}],119944:[.452,.202,.545,{sk:.067}],119945:[.694,.008,.668,{sk:-.078}],119946:[.694,.008,.405,{sk:.08}],119947:[.694,.202,.471,{sk:.163}],119948:[.694,.008,.604,{sk:-.026}],119949:[.694,.008,.348,{sk:.074}],119950:[.452,.008,1.032,{sk:.06}],119951:[.452,.008,.713,{sk:.032}],119952:[.452,.008,.585,{sk:.074}],119953:[.452,.194,.601,{sk:.112}],119954:[.452,.194,.542,{ic:.001,sk:.059}],119955:[.452,.008,.529,{sk:.018}],119956:[.452,.008,.531,{sk:.059}],119957:[.643,.008,.415,{sk:.063}],119958:[.452,.008,.681,{sk:.038}],119959:[.453,.008,.567,{sk:.069}],119960:[.453,.008,.831,{sk:.101}],119961:[.452,.008,.659,{sk:.029}],119962:[.452,.202,.59,{sk:.078}],119963:[.452,.008,.555,{sk:.076}],120484:[.442,.011,.322],120485:[.442,.205,.384,{sk:.083}],120488:[.698,0,.869],120489:[.686,0,.818,{sk:-.075}],120490:[.68,0,.692,{sk:-.019}],120491:[.698,0,.958],120492:[.68,0,.756,{sk:-.027}],120493:[.686,0,.703,{sk:.013}],120494:[.686,0,.9],120495:[.697,.011,.894],120496:[.686,0,.436],120497:[.686,0,.901,{sk:-.013}],120498:[.698,0,.806],120499:[.686,0,1.092],120500:[.686,0,.9],120501:[.675,0,.767],120502:[.697,.011,.864],120503:[.68,0,.9],120504:[.686,0,.786,{sk:-.063}],120505:[.697,.011,.894],120506:[.686,0,.831,{sk:-.015}],120507:[.675,0,.8],120508:[.697,0,.894],120509:[.686,0,.831],120510:[.686,0,.869,{sk:-.017}],120511:[.686,0,.894],120512:[.697,0,.831],120513:[.686,.025,.958],120514:[.452,.008,.743,{ic:.007,sk:.015}],120515:[.703,.194,.647],120516:[.452,.211,.679],120517:[.718,.008,.551,{sk:-.011}],120518:[.461,.017,.597,{sk:-.025}],120519:[.703,.202,.615,{sk:-.041}],120520:[.452,.211,.615,{sk:-.051}],120521:[.702,.008,.567],120522:[.452,.008,.359,{ic:.004,sk:-.068}],120523:[.452,.008,.615,{ic:.004,sk:-.034}],120524:[.694,.012,.618,{ic:.048,sk:-.227}],120525:[.452,.211,.615,{ic:.004,sk:-.036}],120526:[.453,0,.583,{sk:-.04}],120527:[.703,.202,.615,{sk:-.072}],120528:[.453,.006,.575],120529:[.444,.009,.679,{sk:-.011}],120530:[.452,.211,.567],120531:[.452,.105,.551],120532:[.444,.008,.695],120533:[.444,.012,.615,{sk:-.035}],120534:[.453,.008,.615,{sk:-.019}],120535:[.452,.216,.743,{sk:-.015}],120536:[.452,.202,.743,{ic:.003,sk:-.063}],120537:[.694,.202,.743,{sk:.032}],120538:[.453,.008,.743],120539:[.711,.017,.679],120540:[.444,.008,.506,{ic:.003,sk:.04}],120541:[.702,.008,.615,{sk:.033}],120542:[.452,.01,.724,{sk:-.018}],120543:[.694,.202,.743],120544:[.452,.194,.567],120545:[.444,.008,.966,{sk:-.01}],120546:[.716,0,.75,{sk:.177}],120547:[.683,0,.759,{sk:.077}],120548:[.68,0,.615,{ic:.108,sk:.072}],120549:[.716,0,.833,{sk:.17}],120550:[.68,0,.738,{ic:.028,sk:.092}],120551:[.683,0,.683,{ic:.04,sk:.11}],120552:[.683,0,.831,{ic:.05,sk:.089}],120553:[.705,.022,.763,{sk:.117}],120554:[.684,.001,.44,{ic:.057,sk:.084}],120555:[.684,0,.849,{ic:.04,sk:.09}],120556:[.716,0,.694,{sk:.17}],120557:[.683,0,.97,{ic:.074,sk:.085}],120558:[.683,0,.803,{ic:.078,sk:.082}],120559:[.677,0,.742,{ic:.035,sk:.097}],120560:[.705,.022,.763,{sk:.117}],120561:[.68,0,.831,{ic:.049,sk:.089}],120562:[.683,0,.642,{ic:.112,sk:.049}],120563:[.705,.022,.763,{sk:.117}],120564:[.683,0,.78,{ic:.026,sk:.104}],120565:[.677,0,.584,{ic:.12,sk:.012}],120566:[.705,0,.583,{ic:.118}],120567:[.683,0,.667,{sk:.082}],120568:[.683,0,.828,{ic:.023,sk:.097}],120569:[.683,0,.612,{ic:.081,sk:.025}],120570:[.705,0,.772,{ic:.014,sk:.137}],120571:[.683,.033,.833],120572:[.442,.011,.64,{sk:.072}],120573:[.706,.194,.566,{ic:.008,sk:.148}],120574:[.442,.215,.518,{ic:.025,sk:.111}],120575:[.712,.011,.444,{ic:.008,sk:.107}],120576:[.453,.022,.466,{sk:.051}],120577:[.697,.205,.438,{ic:.036,sk:.067}],120578:[.442,.216,.497,{sk:.1}],120579:[.705,.011,.469,{sk:.075}],120580:[.442,.011,.354],120581:[.442,.011,.576,{sk:.043}],120582:[.694,.013,.583,{sk:-.053}],120583:[.442,.216,.603,{sk:.048}],120584:[.442,0,.494,{ic:.03,sk:.028}],120585:[.697,.205,.438,{ic:.008,sk:.06}],120586:[.442,.011,.485],120587:[.431,.011,.57,{sk:.043}],120588:[.442,.216,.517,{sk:.096}],120589:[.442,.108,.363,{ic:.046,sk:.044}],120590:[.431,.011,.571],120591:[.431,.012,.437,{ic:.074}],120592:[.442,.011,.54,{sk:.036}],120593:[.442,.218,.654,{sk:.028}],120594:[.442,.205,.626,{sk:.018}],120595:[.694,.205,.651,{sk:.143}],120596:[.442,.011,.622,{sk:.034}],120597:[.716,.022,.531,{ic:.035,sk:.069}],120598:[.431,.011,.406,{sk:.066}],120599:[.705,.011,.591,{sk:.116}],120600:[.442,.012,.624,{sk:.053}],120601:[.694,.205,.596,{sk:.125}],120602:[.442,.194,.517,{sk:.102}],120603:[.431,.011,.828,{sk:.039}],120604:[.711,0,.869,{sk:.174}],120605:[.686,0,.866,{sk:.069}],120606:[.68,0,.657,{ic:.12,sk:.071}],120607:[.711,0,.958,{sk:.168}],120608:[.68,0,.81,{ic:.015,sk:.098}],120609:[.686,0,.773,{ic:.032,sk:.117}],120610:[.686,0,.982,{ic:.045,sk:.09}],120611:[.703,.017,.867,{sk:.108}],120612:[.686,0,.511,{ic:.055,sk:.085}],120613:[.686,0,.971,{ic:.032,sk:.093}],120614:[.711,0,.806,{sk:.167}],120615:[.686,0,1.142,{ic:.074,sk:.085}],120616:[.686,0,.95,{ic:.077,sk:.082}],120617:[.675,0,.841,{ic:.026,sk:.104}],120618:[.703,.017,.837,{sk:.111}],120619:[.68,0,.982,{ic:.044,sk:.09}],120620:[.686,0,.723,{ic:.126,sk:.039}],120621:[.703,.017,.867,{sk:.108}],120622:[.686,0,.885,{ic:.019,sk:.108}],120623:[.675,0,.637,{ic:.135,sk:.01}],120624:[.703,0,.671,{ic:.131}],120625:[.686,0,.767,{sk:.08}],120626:[.686,0,.947,{ic:.006,sk:.106}],120627:[.686,0,.714,{ic:.078,sk:.029}],120628:[.703,0,.879,{ic:.007,sk:.135}],120629:[.686,.025,.958],120630:[.452,.008,.761,{sk:.059}],120631:[.703,.194,.66,{sk:.153}],120632:[.452,.211,.59,{ic:.027,sk:-.02}],120633:[.718,.008,.522,{sk:.115}],120634:[.461,.017,.529,{sk:.058}],120635:[.703,.202,.508,{ic:.014,sk:.083}],120636:[.452,.211,.6,{sk:.019}],120637:[.702,.008,.562,{sk:.062}],120638:[.452,.008,.412],120639:[.452,.008,.668,{sk:.025}],120640:[.694,.012,.671,{sk:-.072}],120641:[.452,.211,.708,{sk:.042}],120642:[.453,0,.577,{ic:.026,sk:.028}],120643:[.703,.202,.508,{sk:.061}],120644:[.452,.008,.585],120645:[.444,.009,.682,{sk:.046}],120646:[.452,.211,.612,{sk:.1}],120647:[.452,.105,.424,{ic:.038,sk:-.029}],120648:[.444,.008,.686],120649:[.444,.012,.521,{ic:.083}],120650:[.453,.008,.631,{sk:.037}],120651:[.452,.216,.747,{sk:.033}],120652:[.452,.202,.718,{sk:.011}],120653:[.694,.202,.758,{sk:.151}],120654:[.453,.008,.718,{sk:.039}],120655:[.711,.017,.628,{ic:.029,sk:.079}],120656:[.444,.008,.483,{sk:.074}],120657:[.702,.008,.692,{sk:.119}],120658:[.452,.01,.724,{sk:.053}],120659:[.694,.202,.713,{sk:.126}],120660:[.452,.194,.612,{sk:.094}],120661:[.444,.008,.975,{sk:.043}],120778:[.68,0,.783],120779:[.445,.267,.628],120782:[.655,.011,.575],120783:[.655,0,.575],120784:[.655,0,.575,{sk:-.011}],120785:[.655,.011,.575],120786:[.656,0,.575,{sk:.127}],120787:[.655,.011,.575],120788:[.655,.011,.575,{sk:.048}],120789:[.676,.011,.575,{sk:-.164}],120790:[.655,.011,.575,{sk:.011}],120791:[.655,.011,.575]},bold:{32:[0,0,.383],33:[.705,0,.35],34:[.697,-.418,.481],35:[.694,.194,.958],36:[.75,.056,.575],37:[.75,.056,.958],38:[.705,.011,.894],39:[.697,-.418,.319],40:[.75,.249,.447],41:[.75,.249,.447],42:[.75,-.306,.575],43:[.633,.132,.894],44:[.156,.194,.319],45:[.271,-.174,.383],46:[.156,0,.319],47:[.75,.25,.575],58:[.444,0,.319],59:[.444,.194,.319],60:[.587,.086,.894],61:[.393,-.108,.894],62:[.587,.086,.894],63:[.7,0,.543],64:[.7,.006,.894],91:[.75,.25,.319],92:[.75,.25,.575],93:[.75,.25,.319],94:[.744,-.562,.556,{ic:.005}],95:[-.101,.189,.869],96:[.704,-.509,.575],123:[.75,.25,.575],124:[.76,.26,.319],125:[.75,.25,.575],126:[.311,-.189,.556,{ic:.001}],160:[0,0,.575],163:[.686,.031,.869],165:[.686,0,.869],167:[.712,.212,.695],168:[.677,-.537,.575],172:[.403,-.098,.894],175:[.633,-.581,.575],176:[.686,-.367,.431],177:[.693,0,.894],180:[.704,-.509,.575],181:[.45,.194,.639],182:[.694,.194,.703],183:[.396,-.24,.278],215:[.543,.042,.894],240:[.702,.006,.575],247:[.582,.08,.894],305:[.45,0,.319],567:[.45,.2,.351],710:[.71,-.503,.575],711:[.71,-.503,.575],713:[.633,-.581,.575],714:[.704,-.509,.575],715:[.704,-.509,.575],717:[-.247,.307,.383,{ic:.029}],728:[.7,-.513,.575],729:[.685,-.529,.319],730:[.714,-.492,.338],732:[.661,-.553,.575],767:[-.035,.286,0,{dx:.287}],768:[.704,-.509,0,{dx:.317}],769:[.704,-.509,0,{dx:.242}],770:[.71,-.503,0,{dx:.279}],771:[.661,-.553,0,{dx:.279}],772:[.633,-.581,0,{dx:.279}],773:[.697,-.636,.894],774:[.7,-.513,0,{dx:.279}],775:[.685,-.529,0,{dx:.279}],776:[.677,-.537,0,{dx:.28}],778:[.764,-.542,0,{dx:.28}],780:[.71,-.503,0,{dx:.279}],824:[.748,.249,0],978:[.697,0,.87],1014:[.442,.011,.43],8192:[0,0,.575],8193:[0,0,1.15],8194:[0,0,.575],8195:[0,0,1.15],8196:[0,0,.383],8197:[0,0,.288],8198:[0,0,.192],8199:[0,0,.575],8200:[0,0,.319],8201:[0,0,.23],8202:[0,0,.032],8203:[0,0,0],8208:[.271,-.174,.383],8209:[.271,-.174,.383],8210:[.312,-.236,.575],8211:[.312,-.236,.575],8212:[.312,-.236,1.15],8214:[.75,.25,.499],8216:[.694,-.344,.319],8217:[.694,-.344,.319],8220:[.694,-.344,.571],8221:[.694,-.344,.571],8224:[.702,.211,.511],8225:[.702,.202,.511],8230:[.156,0,.838],8260:[.696,.01,.648],8356:[.686,.031,.869],8364:[.697,.011,.72],8486:[.697,0,.831],8487:[.686,.011,.831],8592:[.5,0,1.15],8593:[.694,.204,.575],8594:[.5,0,1.15],8595:[.704,.194,.575],8599:[.725,0,.894],8600:[.694,.031,.894],8710:[.698,0,1.028],8722:[.281,-.22,.894],8730:[.757,.094,.543,{ic:.064}],8734:[.47,.026,1.15],8738:[.634,.132,.894],8902:[.501,-.001,.575],8994:[.365,-.15,.894],9001:[.751,.25,.447],9002:[.751,.25,.447],9675:[.761,.261,1.277],9702:[.381,-.077,.894],10214:[.751,.249,.463],10215:[.751,.249,.463]},italic:{32:[0,0,.358],33:[.716,0,.307,{ic:.068}],34:[.705,-.423,.401,{ic:.048}],35:[.694,.194,.818,{ic:.01}],36:[.75,.056,.5,{ic:.091}],37:[.75,.056,.818,{ic:.028}],38:[.716,.022,.767,{ic:.037}],39:[.705,-.423,.307,{ic:.048}],40:[.75,.25,.409,{ic:.107}],41:[.75,.25,.409],42:[.75,-.319,.511,{ic:.072}],43:[.557,.057,.767],44:[.106,.193,.307],45:[.243,-.187,.358],46:[.106,0,.307],47:[.75,.25,.511,{ic:.105}],48:[.666,.022,.511,{ic:.044}],49:[.666,0,.511],50:[.666,.022,.511,{ic:.04}],51:[.666,.022,.511,{ic:.051}],52:[.666,.194,.511],53:[.665,.022,.511,{ic:.056}],54:[.666,.022,.511,{ic:.057}],55:[.666,.022,.511,{ic:.114}],56:[.666,.022,.511,{ic:.043}],57:[.666,.022,.511,{ic:.042}],58:[.431,0,.307],59:[.431,.193,.307],60:[.54,.04,.778,{ic:.049}],61:[.367,-.133,.767,{ic:.01}],62:[.54,.04,.778],63:[.716,0,.511,{ic:.04}],64:[.705,.011,.767,{ic:.022}],91:[.75,.25,.307,{ic:.139}],92:[.75,.25,.5],93:[.75,.25,.307,{ic:.052}],94:[.745,-.561,.556,{ic:.153}],95:[-.11,.14,.743],96:[.696,-.505,.511],123:[.75,.25,.5,{ic:.113}],124:[.75,.25,.278,{ic:.066}],125:[.75,.25,.5],126:[.309,-.191,.556,{ic:.072}],160:[0,0,.511],168:[.649,-.553,.511,{ic:.032}],175:[.616,-.586,.511,{ic:.061}],176:[.683,-.428,.383,{ic:.079}],180:[.696,-.505,.511,{ic:.028}],305:[.442,.011,.322],567:[.442,.205,.384,{sk:.083}],710:[.686,-.509,.511,{ic:.024}],711:[.692,-.515,.511,{ic:.061}],713:[.616,-.586,.511,{ic:.061}],714:[.696,-.505,.511,{ic:.028}],715:[.696,-.505,.511],728:[.686,-.516,.511,{ic:.052}],729:[.654,-.548,.307,{ic:.051}],730:[.705,-.529,.831],732:[.651,-.55,.511,{ic:.057}],767:[-.025,.275,0,{dx:.275}],768:[.696,-.505,0,{dx:.136}],769:[.696,-.505,0,{dx:.077}],770:[.686,-.509,0,{dx:.123}],771:[.651,-.55,0,{dx:.105}],772:[.616,-.586,0,{dx:.105}],773:[.681,-.641,.766,{ic:.062}],774:[.686,-.516,0,{dx:.089}],775:[.654,-.548,0,{dx:.105}],776:[.649,-.553,0,{dx:.096}],778:[.705,-.529,0,{dx:.101}],780:[.692,-.515,0,{dx:.086}],824:[.748,.248,0],978:[.722,0,.778,{ic:.007}],1014:[.442,.011,.43],8192:[0,0,.511],8193:[0,0,1.022],8194:[0,0,.511],8195:[0,0,1.022],8196:[0,0,.341],8197:[0,0,.256],8198:[0,0,.17],8199:[0,0,.511],8200:[0,0,.307],8201:[0,0,.204],8202:[0,0,.026],8203:[0,0,0],8208:[.243,-.187,.358,{ic:.001}],8209:[.243,-.187,.358,{ic:.001}],8210:[.277,-.255,.511,{ic:.04}],8211:[.277,-.255,.511,{ic:.04}],8212:[.277,-.255,1.022,{ic:.014}],8214:[.75,.25,.398,{ic:.066}],8216:[.693,-.394,.307,{ic:.053}],8217:[.694,-.395,.307,{ic:.066}],8220:[.693,-.394,.49,{ic:.053}],8221:[.694,-.395,.49,{ic:.064}],8230:[.106,0,.684],8260:[.683,0,.603,{ic:.093}],8356:[.683,.032,.743,{ic:.003}],8364:[.705,.022,.576,{ic:.126}],8486:[.705,0,.716,{ic:.043}],8487:[.684,.021,.716,{ic:.071}],8592:[.512,.011,.971],8593:[.694,.195,.512,{ic:.07}],8594:[.513,.01,.971],8595:[.695,.194,.512],8710:[.716,0,.833],8722:[.27,-.23,.767],8730:[.735,.104,.46,{ic:.226}],8734:[.456,.025,.92,{ic:.022}],8738:[.557,.057,.767,{ic:.047}],8902:[.483,-.019,.511,{ic:.063}],9001:[.751,.249,.409,{ic:.105}],9002:[.751,.249,.409],9675:[.772,.272,1.073,{ic:.003}],9702:[.379,-.081,.767],10214:[.751,.249,.422,{ic:.138}],10215:[.751,.249,.422,{ic:.052}]},"bold-italic":{32:[0,0,.414],33:[.711,0,.386,{ic:.044}],34:[.703,-.422,.518,{ic:.048}],35:[.694,.194,.944],36:[.75,.056,.575,{ic:.079}],37:[.75,.056,.944,{ic:.002}],38:[.711,.017,.886,{ic:.011}],39:[.703,-.422,.356,{ic:.048}],40:[.75,.249,.473,{ic:.094}],41:[.75,.249,.473],42:[.75,-.306,.591,{ic:.057}],43:[.603,.102,.886],44:[.147,.194,.356],45:[.269,-.175,.414],46:[.147,0,.356],47:[.75,.25,.591,{ic:.09}],48:[.661,.017,.591,{ic:.045}],49:[.661,0,.591],50:[.661,.017,.591,{ic:.027}],51:[.661,.017,.591,{ic:.037}],52:[.661,.194,.591],53:[.661,.017,.591,{ic:.037}],54:[.661,.017,.591,{ic:.037}],55:[.661,.017,.591,{ic:.115}],56:[.661,.017,.591,{ic:.027}],57:[.661,.017,.591,{ic:.03}],58:[.444,0,.356],59:[.444,.194,.356],60:[.587,.086,.894,{ic:.046}],61:[.393,-.108,.886],62:[.587,.086,.894],63:[.711,0,.591,{ic:.023}],64:[.702,.008,.886,{ic:.01}],91:[.75,.25,.356,{ic:.129}],92:[.75,.25,.575],93:[.75,.25,.356,{ic:.036}],94:[.744,-.562,.556,{ic:.151}],95:[-.097,.153,.866],96:[.699,-.502,.591],123:[.75,.25,.575,{ic:.109}],124:[.75,.25,.319,{ic:.059}],125:[.75,.25,.575],126:[.307,-.193,.556,{ic:.071}],160:[0,0,.591],168:[.667,-.535,.591,{ic:.045}],175:[.626,-.576,.591,{ic:.047}],176:[.686,-.392,.443,{ic:.081}],180:[.699,-.502,.591,{ic:.005}],305:[.452,.008,.394,{sk:-.012}],567:[.452,.202,.439,{sk:.063}],710:[.704,-.497,.591,{ic:.012}],711:[.704,-.497,.591,{ic:.052}],713:[.626,-.576,.591,{ic:.047}],714:[.699,-.502,.591,{ic:.005}],715:[.699,-.502,.591],717:[-.247,.307,.383,{ic:.032}],728:[.69,-.511,.591,{ic:.037}],729:[.674,-.527,.356,{ic:.048}],730:[.702,-.534,.949],732:[.66,-.541,.591,{ic:.042}],767:[-.035,.286,0,{dx:.272}],768:[.699,-.502,0,{dx:.188}],769:[.699,-.502,0,{dx:.113}],770:[.704,-.497,0,{dx:.165}],771:[.66,-.541,0,{dx:.145}],772:[.626,-.576,0,{dx:.145}],773:[.708,-.647,.885,{ic:.049}],774:[.69,-.511,0,{dx:.13}],775:[.674,-.527,0,{dx:.144}],776:[.667,-.535,0,{dx:.145}],778:[.702,-.534,0,{dx:.141}],780:[.704,-.497,0,{dx:.124}],824:[.749,.249,0],978:[.697,0,.87,{ic:.103}],1014:[.442,.011,.43,{ic:.04}],8192:[0,0,.591],8193:[0,0,1.182],8194:[0,0,.591],8195:[0,0,1.182],8196:[0,0,.394],8197:[0,0,.296],8198:[0,0,.197],8199:[0,0,.591],8200:[0,0,.355],8201:[0,0,.236],8202:[0,0,.029],8203:[0,0,0],8208:[.269,-.175,.414],8209:[.269,-.175,.414],8210:[.293,-.257,.591,{ic:.036}],8211:[.292,-.256,.591,{ic:.037}],8212:[.292,-.256,1.182,{ic:.006}],8214:[.75,.25,.499,{ic:.059}],8216:[.694,-.353,.356,{ic:.037}],8217:[.694,-.353,.356,{ic:.059}],8220:[.694,-.353,.59,{ic:.038}],8221:[.694,-.353,.59,{ic:.059}],8230:[.147,0,.842],8260:[.696,.01,.713,{ic:.08}],8356:[.686,.031,.866,{ic:.008}],8364:[.703,.017,.664,{ic:.115}],8486:[.703,0,.827,{ic:.031}],8487:[.686,.017,.827,{ic:.056}],8592:[.518,.017,1.121],8593:[.694,.204,.592,{ic:.069}],8594:[.518,.017,1.121],8595:[.704,.194,.592],8710:[.699,0,1.028],8722:[.281,-.22,.886],8730:[.757,.094,.531,{ic:.243}],8734:[.473,.029,1.06,{ic:.044}],8738:[.604,.102,.886,{ic:.035}],8902:[.501,-.001,.591,{ic:.048}],9001:[.75,.25,.473,{ic:.09}],9002:[.751,.25,.473],9675:[.772,.272,1.239],9702:[.386,-.072,.886],10214:[.751,.249,.488,{ic:.129}],10215:[.751,.249,.488,{ic:.037}]},"double-struck":{},fraktur:{},"bold-fraktur":{},"sans-serif":{717:[-.208,.286,.333,{ic:.038}],767:[-.023,.277,0,{dx:.274}],824:[.749,.25,0],8192:[0,0,.5],8193:[0,0,1],8194:[0,0,.5],8195:[0,0,1],8196:[0,0,.333],8197:[0,0,.25],8198:[0,0,.167],8199:[0,0,.5],8200:[0,0,.278],8201:[0,0,.2],8202:[0,0,.028],8203:[0,0,0],8356:[.694,.022,.667],8599:[.718,-.001,.778],8600:[.694,.024,.778],8710:[.694,0,.833],8902:[.491,.006,.5,{ic:.023}],8994:[.363,-.133,.778],9675:[.772,.272,1.111]},"bold-sans-serif":{717:[-.253,.389,.367,{ic:.067}],767:[-.025,.319,0,{dx:.294}],824:[.759,.257,0],8192:[0,0,.55],8193:[0,0,1.1],8194:[0,0,.55],8195:[0,0,1.1],8196:[0,0,.367],8197:[0,0,.275],8198:[0,0,.183],8199:[0,0,.55],8200:[0,0,.305],8201:[0,0,.22],8202:[0,0,.031],8203:[0,0,0],8356:[.694,.047,.733],8599:[.734,.023,.856],8600:[.72,.037,.856],8710:[.694,0,.916],8902:[.519,.031,.55,{ic:.015}],8994:[.381,-.095,.856],9675:[.772,.272,1.222]},"sans-serif-italic":{717:[-.208,.286,.333],767:[-.023,.277,0,{dx:.272}],824:[.749,.25,0],8192:[0,0,.5],8193:[0,0,.5],8194:[0,0,.333],8195:[0,0,.25],8196:[0,0,.167],8197:[0,0,.5],8198:[0,0,.278],8199:[0,0,.2],8200:[0,0,.028],8201:[0,0,0],8202:[0,0,0],8203:[0,0,0],8356:[.694,.022,.667],8599:[.718,-.001,.778,{ic:.095}],8600:[.694,.025,.778,{ic:.029}],8710:[.694,0,.833],8902:[.515,.008,.5,{ic:.09}],8994:[.364,-.133,.778],9675:[.772,.272,1.111,{ic:.008}]},"sans-serif-bold-italic":{717:[-.253,.389,.367,{ic:.003}],767:[-.025,.319,0,{dx:.327}],824:[.759,.257,0],8192:[0,0,.55],8193:[0,0,1.1],8194:[0,0,.55],8195:[0,0,1.1],8196:[0,0,.367],8197:[0,0,.275],8198:[0,0,.183],8199:[0,0,.55],8200:[0,0,.305],8201:[0,0,.22],8202:[0,0,.031],8203:[0,0,0],8356:[.694,.047,.733],8599:[.734,.023,.856,{ic:.086}],8600:[.72,.037,.856,{ic:.049}],8710:[.694,0,.916],8902:[.519,.031,.55,{ic:.076}],8994:[.381,-.095,.856],9675:[.772,.272,1.222,{ic:.046}]},monospace:{717:[-.025,.095,.525,{ic:.035}],767:[-.008,.359,.525],824:[.694,.083,.525],8193:[0,0,.525],8195:[0,0,.525],8199:[0,0,.525],8200:[0,0,.525],8356:[.611,.011,.525],8599:[.619,0,.525,{ic:.035}],8600:[.611,.008,.525,{ic:.035}],8710:[.651,0,.525],8902:[.555,-.057,.525],8994:[.414,-.195,.525],9675:[.705,.233,.525,{ic:.075}],64263:[0,0,.525]},"-smallop":{40:[.797,.297,.422],41:[.797,.297,.422],47:[.905,.405,.617],91:[.8,.3,.34],92:[.905,.405,.617],93:[.8,.3,.34],123:[.801,.301,.54],125:[.801,.301,.54],770:[.746,-.571,.644,{ic:.001}],771:[.751,-.55,.652],773:[.67,-.63,.568],774:[.743,-.578,.658,{ic:.001}],780:[.741,-.566,.644,{ic:.001}],8260:[.905,.405,.617],8400:[.711,-.601,.667],8401:[.711,-.601,.667],8406:[.711,-.521,.659],8407:[.711,-.521,.659],8417:[.711,-.521,.715],8428:[-.171,.281,.667],8429:[-.171,.281,.667],8430:[-.091,.281,.659],8431:[-.091,.281,.659],8725:[.605,.105,.572],8726:[.605,.105,.572],8730:[.85,.35,1,{ic:.02}],8739:[.851,.351,.333],8741:[.851,.351,.555],8968:[.8,.3,.458],8969:[.8,.3,.458],8970:[.8,.3,.458],8971:[.8,.3,.458],9140:[.73,-.546,.735],9141:[-.116,.3,.735],9180:[.745,-.54,1.006],9181:[-.11,.315,1.006],9182:[.815,-.509,.993,{ic:.001}],9183:[-.079,.385,.993],9184:[.853,-.613,1.048,{ic:.006}],9185:[-.183,.423,1.048,{ic:.006}],10214:[.8,.3,.444],10215:[.8,.3,.444],10216:[.8,.3,.428],10217:[.8,.3,.428],10218:[.8,.3,.623],10219:[.8,.3,.623],10222:[.813,.313,.305],10223:[.813,.313,.305],10627:[.801,.301,.54],10628:[.801,.301,.54],10629:[.797,.297,.422],10630:[.797,.297,.422],10748:[.791,.291,.422],10749:[.791,.291,.422],126704:[.72,.017,1.953,{sk:-.102}],126705:[.708,.035,2.524]},"-largeop":{40:[.847,.347,.458],41:[.847,.347,.458],47:[1.108,.608,.768],91:[.85,.35,.417],92:[1.108,.608,.768],93:[.85,.35,.417],123:[.85,.35,.583],125:[.85,.35,.583],770:[.746,-.571,.768,{ic:.001}],771:[.753,-.548,.778],774:[.743,-.578,.784,{ic:.001}],780:[.741,-.566,.768,{ic:.001}],8260:[1.108,.608,.768],8512:[.95,.45,1.353,{sk:.067}],8719:[.95,.45,1.278],8720:[.95,.45,1.278],8721:[.95,.45,1.444],8725:[.608,.107,.577],8726:[.608,.107,.577],8730:[1.15,.651,1,{ic:.02}],8739:[.971,.471,.333],8741:[.971,.471,.555],8747:[1.361,.861,.669,{ic:.33}],8748:[1.361,.861,1.089,{ic:.33}],8749:[1.361,.861,1.509,{ic:.33}],8750:[1.361,.861,.669,{ic:.33}],8751:[1.361,.861,1.089,{ic:.33}],8752:[1.361,.861,1.509,{ic:.33}],8753:[1.361,.861,.669,{ic:.33}],8754:[1.361,.861,.669,{ic:.33}],8755:[1.361,.861,.669,{ic:.33}],8896:[.958,.456,1.111],8897:[.956,.458,1.111],8898:[.939,.417,1.111],8899:[.917,.439,1.111],8968:[.85,.35,.472],8969:[.85,.35,.472],8970:[.85,.35,.472],8971:[.85,.35,.472],9140:[.735,-.541,1.11],9141:[-.111,.305,1.11],9180:[.761,-.511,1.508],9181:[-.081,.331,1.508],9182:[.818,-.509,1.494],9183:[-.078,.387,1.494],9184:[.854,-.612,1.55,{ic:.006}],9185:[-.182,.424,1.55,{ic:.006}],10145:[.469,-.031,1.423],10197:[.621,.006,.888,{sk:.09}],10198:[.621,.006,.888,{sk:-.07}],10199:[.621,.006,1.03],10214:[.85,.35,.48],10215:[.85,.35,.48],10216:[.85,.35,.472],10217:[.85,.35,.472],10218:[.85,.35,.682],10219:[.85,.35,.682],10222:[.864,.364,.323],10223:[.864,.364,.323],10627:[.85,.35,.583],10628:[.85,.35,.583],10629:[.847,.347,.458],10630:[.847,.347,.458],10744:[1.239,.677,.597,{ic:.053}],10745:[1.239,.677,.5,{ic:.15}],10748:[.842,.342,.422],10749:[.842,.342,.422],10752:[.902,.402,1.511],10753:[.902,.402,1.511],10754:[.902,.402,1.511],10755:[.917,.439,1.111],10756:[.917,.439,1.111],10757:[.936,.436,1.111],10758:[.936,.436,1.111],10759:[1.225,.693,1.945,{sk:.015}],10760:[1.23,.681,1.945],10761:[.88,.38,1.371],10762:[.95,.45,1.474,{sk:-.011}],10763:[1.361,.861,1.056],10764:[1.361,.861,1.929,{ic:.33}],10765:[1.361,.861,.669,{ic:.33}],10766:[1.361,.861,.669,{ic:.33}],10767:[1.361,.861,.669,{ic:.33}],10768:[1.361,.861,.669,{ic:.33}],10769:[1.361,.861,.669,{ic:.33}],10770:[1.361,.861,.669,{ic:.33}],10771:[1.361,.861,.669,{ic:.33}],10772:[1.361,.861,.669,{ic:.33}],10773:[1.361,.861,.669,{ic:.33}],10774:[1.361,.861,.669,{ic:.33}],10775:[1.361,.861,.669,{ic:.33}],10776:[1.361,.861,.669,{ic:.33}],10777:[1.361,.861,.849,{ic:.15}],10778:[1.361,.861,.849,{ic:.15}],10779:[1.602,.861,.763,{ic:.44}],10780:[1.361,1.124,.789,{ic:.33}],10781:[.921,.151,1.291],10782:[.885,.188,1.046,{sk:.083}],10784:[.774,.081,1.52],10785:[.976,.284,.784],11004:[1.237,.677,.694],11007:[1.237,.677,.478]},"-size3":{40:[.972,.472,.523],41:[.972,.472,.523],47:[1.374,.874,.964],91:[.975,.475,.444],92:[1.374,.874,.964],93:[.975,.475,.444],123:[.975,.475,.624],125:[.975,.475,.624],770:[.747,-.571,.919,{ic:.001}],771:[.757,-.543,.931],774:[.743,-.577,.937,{ic:.001}],780:[.741,-.565,.919,{ic:.001}],8260:[1.374,.874,.964],8725:[.61,.109,.581],8726:[.61,.109,.581],8730:[1.45,.951,1,{ic:.02}],8739:[1.117,.617,.333],8741:[1.117,.617,.555],8968:[.975,.475,.499],8969:[.975,.475,.499],8970:[.975,.475,.499],8971:[.975,.475,.499],9140:[.742,-.535,1.485],9141:[-.105,.312,1.485],9180:[.767,-.509,2.012],9181:[-.079,.337,2.012],9182:[.825,-.506,1.996],9183:[-.075,.394,1.996],9184:[.858,-.61,2.056,{ic:.006}],9185:[-.18,.428,2.056,{ic:.006}],10214:[.975,.475,.555],10215:[.975,.475,.555],10216:[.975,.475,.537],10217:[.975,.475,.537],10218:[.975,.475,.781],10219:[.975,.475,.781],10222:[.991,.491,.37],10223:[.991,.491,.37],10627:[.975,.475,.624],10628:[.975,.475,.624],10629:[.972,.472,.523],10630:[.972,.472,.523],10748:[.966,.466,.467],10749:[.966,.466,.467]},"-size4":{40:[1.146,.646,.597],41:[1.146,.646,.597],47:[1.722,1.222,1.222],91:[1.15,.65,.472],92:[1.722,1.222,1.222],93:[1.15,.65,.472],123:[1.15,.65,.667],125:[1.15,.65,.667],770:[.747,-.57,1.1,{ic:.001}],771:[.762,-.539,1.115],774:[.743,-.576,1.12,{ic:.001}],780:[.742,-.565,1.1,{ic:.001}],8260:[1.722,1.222,1.222],8725:[.613,.113,.588],8726:[.613,.113,.588],8730:[1.75,1.25,1,{ic:.02}],8739:[1.292,.792,.333],8741:[1.292,.792,.555],8968:[1.15,.65,.528],8969:[1.15,.65,.528],8970:[1.15,.65,.528],8971:[1.15,.65,.528],9140:[.75,-.527,1.86],9141:[-.097,.32,1.86],9180:[.774,-.506,2.516],9181:[-.076,.344,2.516],9182:[.833,-.502,2.498],9183:[-.071,.402,2.498],9184:[.863,-.607,2.564,{ic:.006}],9185:[-.177,.433,2.564,{ic:.006}],10214:[1.15,.65,.66],10215:[1.15,.65,.66],10216:[1.15,.65,.611],10217:[1.15,.65,.611],10218:[1.15,.65,.905],10219:[1.15,.65,.905],10222:[1.168,.668,.432],10223:[1.168,.668,.432],10627:[1.15,.65,.667],10628:[1.15,.65,.667],10629:[1.146,.646,.597],10630:[1.146,.646,.597],10748:[1.146,.646,.467,{ic:.023}],10749:[1.146,.646,.467,{ic:.023}]},"-size5":{40:[1.296,.796,.663],41:[1.296,.796,.663],47:[2.179,1.679,1.557],91:[1.3,.8,.499],92:[2.179,1.679,1.557],93:[1.3,.8,.499],123:[1.3,.8,.707],125:[1.3,.8,.707],770:[.748,-.569,1.32,{ic:.001}],771:[.766,-.534,1.335],774:[.743,-.575,1.341,{ic:.001}],780:[.743,-.564,1.32,{ic:.001}],8260:[2.179,1.679,1.557],8725:[.616,.115,.593],8726:[.616,.115,.593],8739:[1.502,1.002,.333],8741:[1.501,1.001,.555],8968:[1.3,.8,.555],8969:[1.3,.8,.555],8970:[1.3,.8,.555],8971:[1.3,.8,.555],9140:[.757,-.521,2.235],9141:[-.091,.327,2.235],9180:[.78,-.506,3.02],9181:[-.076,.35,3.02],9182:[.838,-.5,3],9183:[-.07,.408,3],9184:[.866,-.607,3.068,{ic:.006}],9185:[-.177,.436,3.068,{ic:.006}],10214:[1.3,.8,.75],10215:[1.3,.8,.75],10216:[1.3,.8,.677],10217:[1.3,.8,.677],10218:[1.3,.8,1.011],10219:[1.3,.8,1.011],10222:[1.32,.82,.485],10223:[1.32,.82,.485],10627:[1.3,.8,.707],10628:[1.3,.8,.707],10629:[1.296,.796,.663],10630:[1.296,.796,.663],10748:[1.296,.796,.467,{ic:.077}],10749:[1.296,.796,.467,{ic:.077}]},"-size6":{40:[1.446,.946,.736],41:[1.446,.946,.736],47:[2.777,2.277,1.997],91:[1.45,.95,.528],92:[2.777,2.277,1.997],93:[1.45,.95,.528],123:[1.45,.95,.75],125:[1.45,.95,.75],770:[.748,-.57,1.581,{ic:.001}],771:[.769,-.532,1.599],774:[.744,-.574,1.604,{ic:.001}],780:[.742,-.564,1.581,{ic:.001}],8260:[2.777,2.277,1.997],8725:[.619,.119,.6],8726:[.619,.119,.6],8739:[1.752,1.252,.333],8741:[1.751,1.252,.555],8968:[1.45,.95,.583],8969:[1.45,.95,.583],8970:[1.45,.95,.583],8971:[1.45,.95,.583],9140:[.764,-.513,2.61],9141:[-.083,.334,2.61],9180:[.787,-.505,3.524],9181:[-.075,.357,3.524],9182:[.845,-.498,3.502],9183:[-.067,.414,3.502],9184:[.869,-.606,3.574,{ic:.006}],9185:[-.176,.439,3.574,{ic:.006}],10214:[1.45,.95,.838],10215:[1.45,.95,.838],10216:[1.45,.95,.75],10217:[1.45,.95,.75],10218:[1.45,.95,1.124],10219:[1.45,.95,1.124],10222:[1.472,.972,.541],10223:[1.472,.972,.541],10627:[1.45,.95,.75],10628:[1.45,.95,.75],10629:[1.446,.946,.736],10630:[1.446,.946,.736],10748:[1.447,.936,.467,{ic:.131}],10749:[1.447,.936,.467,{ic:.131}]},"-size7":{40:[1.745,1.245,.875],41:[1.745,1.245,.875],47:[3.56,3.06,2.572],91:[1.75,1.25,.667],92:[3.56,3.06,2.572],93:[1.75,1.25,.667],123:[1.75,1.25,.902],125:[1.75,1.25,.902],770:[.749,-.569,1.896],771:[.773,-.527,1.915],774:[.744,-.573,1.92,{ic:.001}],780:[.743,-.563,1.896],8260:[3.56,3.06,2.572],8725:[.623,.122,.607],8726:[.623,.122,.607],8739:[2.052,1.552,.333],8741:[2.053,1.553,.555],8968:[1.75,1.25,.623],8969:[1.75,1.25,.623],8970:[1.75,1.25,.623],8971:[1.75,1.25,.623],9140:[.772,-.504,2.985],9141:[-.074,.342,2.985],9180:[.796,-.502,4.032],9181:[-.072,.366,4.032],9182:[.854,-.493,4.006],9183:[-.062,.423,4.006],9184:[.873,-.605,4.082,{ic:.006}],9185:[-.175,.443,4.082,{ic:.006}],10214:[1.75,1.25,1.007],10215:[1.75,1.25,1.007],10216:[1.75,1.25,.908],10217:[1.75,1.25,.908],10218:[1.75,1.25,1.362],10219:[1.75,1.25,1.362],10222:[1.776,1.276,.647],10223:[1.776,1.276,.647],10627:[1.75,1.25,.902],10628:[1.75,1.25,.902],10629:[1.745,1.245,.875],10630:[1.745,1.245,.875],10748:[1.751,1.251,.467,{ic:.257}],10749:[1.751,1.251,.467,{ic:.592}]},"-tex-mathit":{65:[.716,0,.743],66:[.683,0,.704,{oc:.03}],67:[.705,.022,.716,{oc:.096}],68:[.683,0,.755,{oc:.02}],69:[.68,0,.678,{oc:.069}],70:[.68,0,.653,{oc:.082}],71:[.705,.022,.774,{oc:.038}],72:[.683,0,.743,{oc:.109}],73:[.683,0,.386,{oc:.115}],74:[.683,.022,.525,{oc:.097}],75:[.683,0,.769,{oc:.09}],76:[.683,0,.627],77:[.683,0,.897,{oc:.105}],78:[.683,0,.743,{oc:.109}],79:[.705,.022,.767,{oc:.021}],80:[.683,0,.678,{oc:.052}],81:[.705,.194,.767,{oc:.021}],82:[.683,.022,.729],83:[.705,.022,.562,{oc:.07}],84:[.677,0,.716,{oc:.09}],85:[.683,.022,.743,{oc:.109}],86:[.683,.022,.743,{oc:.125}],87:[.683,.022,.999,{oc:.125}],88:[.683,0,.743,{oc:.082}],89:[.683,0,.743,{oc:.131}],90:[.683,0,.613,{oc:.091}],97:[.442,.011,.511,{oc:.014}],98:[.694,.011,.46],99:[.442,.011,.46,{oc:.01}],100:[.694,.011,.511,{oc:.049}],101:[.442,.011,.46,{oc:.008}],102:[.705,.205,.307,{oc:.145}],103:[.442,.205,.46,{oc:.027}],104:[.694,.011,.511,{oc:.024}],105:[.654,.011,.307,{oc:.051}],106:[.654,.205,.307,{oc:.051}],107:[.694,.011,.46,{oc:.042}],108:[.694,.011,.256,{oc:.05}],109:[.442,.011,.818,{oc:.024}],110:[.442,.011,.562,{oc:.024}],111:[.442,.011,.511],112:[.442,.194,.511],113:[.442,.194,.46,{oc:.037}],114:[.442,.011,.422,{oc:.067}],115:[.442,.011,.409,{oc:.01}],116:[.626,.011,.332,{oc:.041}],117:[.442,.011,.537,{oc:.024}],118:[.442,.011,.46,{oc:.033}],119:[.442,.011,.664,{oc:.033}],120:[.442,.011,.464,{oc:.054}],121:[.442,.205,.486,{oc:.03}],122:[.442,.011,.409,{oc:.055}]},"-tex-calligraphic":{},"-tex-bold-calligraphic":{},"-tex-oldstyle":{48:[.472,.022,.57],49:[.472,0,.404],50:[.472,0,.554],51:[.472,.216,.563],52:[.485,.194,.517],53:[.472,.216,.547],54:[.666,.022,.563],55:[.485,.213,.503],56:[.666,.022,.563],57:[.472,.216,.563]},"-tex-bold-oldstyle":{48:[.461,.011,.654],49:[.461,0,.494],50:[.461,0,.636],51:[.461,.205,.648],52:[.488,.194,.595],53:[.461,.205,.63],54:[.655,.011,.648],55:[.488,.199,.579],56:[.655,.011,.648],57:[.461,.205,.648]},"-tex-variant":{8216:[.549,-.096,.407],8217:[.549,-.096,.407],8218:[.549,-.096,.407],8219:[.549,-.096,.407],8220:[.549,-.096,.647],8221:[.549,-.096,.647],8222:[.549,-.096,.647],8223:[.549,-.096,.647],8242:[.549,-.096,.407],8243:[.549,-.096,.647],8244:[.549,-.096,.887],8245:[.549,-.096,.407],8246:[.549,-.096,.647],8247:[.549,-.096,.887],8279:[.549,-.096,1.127],8463:[.694,.011,.511,{ic:.024}],8592:[.437,-.063,.5],8594:[.437,-.063,.5],8709:[.597,.097,.778],8722:[.27,-.23,.5],8726:[.431,.022,.777],8730:[.75,.25,.833,{ic:.02}],8733:[.472,-.028,.777],8739:[.431,.022,.222],8740:[.431,.022,.222,{ic:.019}],8741:[.431,.022,.388],8742:[.431,.022,.388,{ic:.02}],8764:[.367,-.133,.777],8776:[.483,-.056,.777],8808:[.753,.276,.777],8809:[.753,.276,.777],8816:[.92,.42,.777],8817:[.92,.42,.777],8840:[.828,.328,.777],8841:[.828,.328,.777],8842:[.636,.248,.777],8843:[.636,.248,.777],8902:[.485,-.019,.5],8994:[.378,-.122,.777],8995:[.378,-.142,.777],10887:[.803,.303,.777],10888:[.803,.303,.777],10955:[.753,.325,.777],10956:[.753,.325,.777]},"-lf-tp":{8400:[.711,-.601,.208],8406:[.711,-.521,.205],8429:[-.171,.281,.208],8430:[-.091,.281,.205],8592:[.51,.01,.507],8593:[.505,0,.5],8602:[.51,.01,.386],8606:[.51,.01,.507],8607:[.505,0,.572],8611:[.51,.01,.58],8614:[.51,.011,.499],8615:[.498,0,.632],8618:[.546,-.226,.507],8620:[.55,.05,.507],8636:[.499,-.226,.513],8637:[.273,0,.512],8638:[.513,0,.441],8639:[.513,0,.441],8644:[.432,.172,.515],8645:[.514,0,.896],8646:[.669,-.065,.514],8647:[.75,.25,.507],8648:[.505,0,.992],8651:[.598,-.131,.515],8652:[.369,.098,.514],8653:[.52,.02,.384],8656:[.52,.02,.504],8657:[.504,0,.652],8666:[.617,.117,.506],8693:[.515,0,.896],8730:[.62,0,1.056,{ic:.013}],9140:[.772,-.504,1.493],9141:[-.074,.342,1.493],9180:[.796,-.502,2.016],9181:[-.072,.366,2.016],9182:[.724,-.493,1.002],9183:[-.062,.294,1.002],9184:[.873,-.605,2.041],9185:[-.175,.443,2.041],10214:[1,0,1.007],10215:[1,0,1.007],10222:[1.526,0,.647],10223:[1.526,0,.647],10572:[.513,0,.616],10573:[.513,0,.616],11057:[.99,.49,.507]},"-rt-bt":{8401:[.711,-.601,.208],8407:[.711,-.521,.205],8428:[-.171,.281,.208],8431:[-.091,.281,.205],8594:[.51,.01,.507],8595:[.505,0,.5],8603:[.51,.01,.386],8608:[.51,.01,.507],8609:[.505,0,.572],8610:[.51,.01,.58],8612:[.51,.011,.499],8613:[.498,0,.632],8617:[.546,-.226,.507],8619:[.55,.05,.507],8640:[.499,-.226,.513],8641:[.273,0,.513],8642:[.513,0,.441],8643:[.513,0,.441],8644:[.669,-.065,.514],8645:[.515,0,.896],8646:[.432,.172,.515],8649:[.75,.25,.507],8650:[.505,0,.992],8651:[.369,.098,.514],8652:[.598,-.131,.515],8654:[.52,.02,.406],8658:[.52,.02,.504],8659:[.504,0,.652],8667:[.617,.117,.506],8693:[.514,0,.896],8694:[.99,.49,.507],9140:[.772,-.504,1.492],9141:[-.074,.342,1.492],9180:[.796,-.502,2.016],9181:[-.072,.366,2.016],9182:[.724,-.493,1.001],9183:[-.062,.294,1.001],9184:[.873,-.605,2.041,{ic:.006}],9185:[-.175,.443,2.041,{ic:.006}],10214:[1,0,1.007],10215:[1,0,1.007],10222:[1.526,0,.647],10223:[1.526,0,.647],10572:[.513,0,.616],10573:[.513,0,.616]},"-ex-md":{95:[-.188,.294,.994],123:[.748,0,.902],175:[.724,-.618,.994],773:[.67,-.63,.19],8400:[.631,-.601,.139],8592:[.274,-.226,.337],8593:[.337,0,.5],8602:[.51,.01,.386],8617:[.274,-.226,.337],8636:[.273,-.226,.341],8638:[.341,0,.441],8639:[.341,0,.441],8644:[.432,-.065,.343],8645:[.343,0,.896],8647:[.512,.012,.337],8648:[.337,0,.992],8651:[.369,-.131,.343],8653:[.52,.02,.384],8654:[.369,-.131,.102],8656:[.369,-.131,.336],8657:[.336,0,.652],8666:[.466,-.034,.337],8694:[.751,.251,.337],8730:[.64,0,1.056],9140:[.772,-.706,.995],9141:[-.276,.342,.995],9180:[.796,-.689,.994],9181:[-.259,.366,.994],9182:[.85,-.618,2.003],9183:[-.188,.419,2.003],9184:[.873,-.766,1.36],9185:[-.336,.443,1.36],10214:[1,0,1.007],10215:[1,0,1.007],10222:[.998,0,.647],10223:[.998,0,.647],10572:[.337,0,.616]},"-bbold":{8450:[.705,.022,.722,{sk:.042}],8461:[.683,0,.833,{sk:.052}],8469:[.683,0,.833],8473:[.683,0,.736],8474:[.705,.194,.778],8477:[.683,.022,.792],8484:[.683,0,.75,{sk:.021}],8508:[.431,.011,.687,{sk:.085}],8509:[.442,.215,.518,{ic:.025,sk:.098}],8510:[.68,0,.737,{sk:.026}],8511:[.68,0,.862,{sk:.056}],8512:[.683,0,.839,{sk:.048}],8517:[.683,0,.794,{ic:.023,sk:.115}],8518:[.694,.011,.673,{ic:.042,sk:.245}],8519:[.448,.011,.444,{ic:.03,sk:.082}],8520:[.691,0,.395,{ic:.028,sk:.119}],8521:[.691,.205,.423,{ic:.038,sk:.12}],120120:[.683,0,.863,{sk:-.025}],120121:[.683,0,.764],120123:[.683,0,.794,{sk:-.043}],120124:[.68,0,.736,{sk:.03}],120125:[.68,0,.709,{sk:.013}],120126:[.705,.022,.785],120128:[.683,0,.467,{sk:.015}],120129:[.683,.022,.597,{sk:.065}],120130:[.683,0,.833,{sk:.022}],120131:[.683,0,.68,{sk:-.08}],120132:[.684,0,1,{sk:.051}],120134:[.705,.022,.778],120138:[.705,.022,.556,{sk:-.018}],120139:[.677,0,.754,{sk:.023}],120140:[.683,.022,.806,{sk:.045}],120141:[.683,.008,.804,{sk:.059}],120142:[.683,.022,1.058,{sk:.015}],120143:[.683,0,.866,{sk:.043}],120144:[.683,0,.868,{sk:.057}],120146:[.448,.011,.614,{sk:-.013}],120147:[.694,.011,.673,{sk:-.126}],120148:[.448,.011,.444,{sk:.026}],120149:[.694,.011,.673,{sk:.152}],120150:[.448,.011,.444,{sk:.014}],120151:[.705,0,.423,{ic:.051,sk:-.028}],120152:[.453,.206,.5,{sk:-.026}],120153:[.694,0,.676,{sk:-.117}],120154:[.691,0,.395],120155:[.691,.205,.423,{sk:.015}],120156:[.694,0,.648,{sk:-.109}],120157:[.694,0,.394,{sk:.018}],120158:[.442,0,.95,{sk:-.037}],120159:[.442,0,.673],120160:[.448,.011,.5],120161:[.442,.194,.673],120162:[.442,.194,.645,{sk:.019}],120163:[.442,0,.509,{sk:-.051}],120164:[.448,.011,.394],120165:[.615,.011,.506,{sk:-.037}],120166:[.442,.011,.673,{sk:.024}],120167:[.431,.011,.635,{sk:.053}],120168:[.431,.011,.635,{ic:.155,sk:.012}],120169:[.431,0,.645,{sk:.049}],120170:[.431,.205,.635,{sk:.05}],120171:[.431,0,.561,{sk:.046}],120792:[.666,.022,.5],120793:[.666,0,.624,{sk:.025}],120794:[.666,0,.5],120795:[.666,.022,.5],120796:[.677,0,.627,{sk:.11}],120797:[.666,.022,.5,{sk:.011}],120798:[.666,.022,.5,{sk:.013}],120799:[.676,.022,.55,{sk:.038}],120800:[.666,.022,.5],120801:[.666,.022,.5]},"-upsmall":{8747:[.805,.306,.665],8748:[.805,.306,1.035],8749:[.805,.306,1.405],8750:[.81,.312,.665],8751:[.805,.306,1.035],8752:[.805,.306,1.405],8753:[.805,.306,.695],8754:[.805,.306,.665],8755:[.805,.306,.665],10764:[.805,.306,1.775],10765:[.805,.306,.665],10766:[.805,.306,.665],10776:[.805,.306,.665],10777:[.805,.306,.665],10778:[.805,.306,.665],10779:[.967,.306,.665,{ic:.002}],10780:[.805,.468,.665],58230:[.805,.306,.665],58231:[.805,.306,.665],58261:[.805,.306,.665],58263:[.805,.306,.665],58264:[.805,.306,.665],58265:[.805,.306,.665],58266:[.805,.306,.665,{ic:.085}],58267:[.798,.299,.695],58323:[.805,.306,.665],59991:[.805,.306,.707]},"-uplarge":{8747:[1.361,.861,.763],8748:[1.361,.861,1.175],8749:[1.361,.861,1.623],8750:[1.363,.861,.899],8751:[1.361,.861,1.295],8752:[1.361,.861,1.699],8753:[1.361,.861,.999],8754:[1.361,.861,.999],8755:[1.361,.861,.999],10763:[1.361,.861,1.056],10764:[1.361,.861,2.019],10765:[1.361,.861,.999],10766:[1.361,.861,.999],10767:[1.361,.861,.999],10768:[1.361,.861,.999],10769:[1.361,.861,.999],10770:[1.361,.861,.895],10771:[1.361,.861,.871],10772:[1.361,.861,.831,{ic:.077}],10773:[1.361,.861,.903],10774:[1.361,.861,.883],10775:[1.361,.861,.967],10776:[1.361,.861,.875],10777:[1.361,.861,.955],10778:[1.361,.861,.967],10779:[1.602,.861,.999],10780:[1.361,1.124,.807]},script:{},"bold-script":{}},Il.defaultStyles=Object.assign(Object.assign({},Oo.defaultStyles),{'mjx-container[jax="CHTML"] > mjx-math.NCM-N[breakable] > *':{"font-family":"MJX-NCM-ZERO, MJX-NCM-N"},".NCM-N":{"font-family":"MJX-NCM-ZERO, MJX-NCM-N"},".NCM-B":{"font-family":"MJX-NCM-ZERO, MJX-NCM-B"},".NCM-I":{"font-family":"MJX-NCM-ZERO, MJX-NCM-I"},".NCM-BI":{"font-family":"MJX-NCM-ZERO, MJX-NCM-BI"},".NCM-DS":{"font-family":"MJX-NCM-ZERO, MJX-NCM-DS"},".NCM-F":{"font-family":"MJX-NCM-ZERO, MJX-NCM-F"},".NCM-FB":{"font-family":"MJX-NCM-ZERO, MJX-NCM-FB"},".NCM-SS":{"font-family":"MJX-NCM-ZERO, MJX-NCM-SS"},".NCM-SSB":{"font-family":"MJX-NCM-ZERO, MJX-NCM-SSB"},".NCM-SSI":{"font-family":"MJX-NCM-ZERO, MJX-NCM-SSI"},".NCM-SSBI":{"font-family":"MJX-NCM-ZERO, MJX-NCM-SSBI"},".NCM-M":{"font-family":"MJX-NCM-ZERO, MJX-NCM-M"},".NCM-SO":{"font-family":"MJX-NCM-ZERO, MJX-NCM-SO"},".NCM-LO":{"font-family":"MJX-NCM-ZERO, MJX-NCM-LO"},".NCM-S3":{"font-family":"MJX-NCM-ZERO, MJX-NCM-S3"},".NCM-S4":{"font-family":"MJX-NCM-ZERO, MJX-NCM-S4"},".NCM-S5":{"font-family":"MJX-NCM-ZERO, MJX-NCM-S5"},".NCM-S6":{"font-family":"MJX-NCM-ZERO, MJX-NCM-S6"},".NCM-S7":{"font-family":"MJX-NCM-ZERO, MJX-NCM-S7"},".NCM-MI":{"font-family":"MJX-NCM-ZERO, MJX-NCM-MI"},".NCM-C":{"font-family":"MJX-NCM-ZERO, MJX-NCM-C"},".NCM-CB":{"font-family":"MJX-NCM-ZERO, MJX-NCM-CB"},".NCM-OS":{"font-family":"MJX-NCM-ZERO, MJX-NCM-OS"},".NCM-OB":{"font-family":"MJX-NCM-ZERO, MJX-NCM-OB"},".NCM-V":{"font-family":"MJX-NCM-ZERO, MJX-NCM-V"},".NCM-LT":{"font-family":"MJX-NCM-ZERO, MJX-NCM-LT"},".NCM-RB":{"font-family":"MJX-NCM-ZERO, MJX-NCM-RB"},".NCM-EM":{"font-family":"MJX-NCM-ZERO, MJX-NCM-EM"},".NCM-Be":{"font-family":"MJX-NCM-ZERO, MJX-NCM-Be"},".NCM-U":{"font-family":"MJX-NCM-ZERO, MJX-NCM-U"},".NCM-Ue":{"font-family":"MJX-NCM-ZERO, MJX-NCM-Ue"},".NCM-S":{"font-family":"MJX-NCM-ZERO, MJX-NCM-S"},".NCM-SB":{"font-family":"MJX-NCM-ZERO, MJX-NCM-SB"}}),Il.defaultFonts=Object.assign(Object.assign({},Oo.defaultFonts),{"@font-face /* MJX-NCM-ZERO */":{"font-family":"MJX-NCM-ZERO",src:'url("%%URL%%/mjx-ncm-zero.woff2") format("woff2")'},"@font-face /* MJX-BRK */":{"font-family":"MJX-BRK",src:'url("%%URL%%/mjx-ncm-brk.woff2") format("woff2")'},"@font-face /* MJX-NCM-N */":{"font-family":"MJX-NCM-N",src:'url("%%URL%%/mjx-ncm-n.woff2") format("woff2")'},"@font-face /* MJX-NCM-B */":{"font-family":"MJX-NCM-B",src:'url("%%URL%%/mjx-ncm-b.woff2") format("woff2")'},"@font-face /* MJX-NCM-I */":{"font-family":"MJX-NCM-I",src:'url("%%URL%%/mjx-ncm-i.woff2") format("woff2")'},"@font-face /* MJX-NCM-BI */":{"font-family":"MJX-NCM-BI",src:'url("%%URL%%/mjx-ncm-bi.woff2") format("woff2")'},"@font-face /* MJX-NCM-DS */":{"font-family":"MJX-NCM-DS",src:'url("%%URL%%/mjx-ncm-ds.woff2") format("woff2")'},"@font-face /* MJX-NCM-F */":{"font-family":"MJX-NCM-F",src:'url("%%URL%%/mjx-ncm-f.woff2") format("woff2")'},"@font-face /* MJX-NCM-FB */":{"font-family":"MJX-NCM-FB",src:'url("%%URL%%/mjx-ncm-fb.woff2") format("woff2")'},"@font-face /* MJX-NCM-SS */":{"font-family":"MJX-NCM-SS",src:'url("%%URL%%/mjx-ncm-ss.woff2") format("woff2")'},"@font-face /* MJX-NCM-SSB */":{"font-family":"MJX-NCM-SSB",src:'url("%%URL%%/mjx-ncm-ssb.woff2") format("woff2")'},"@font-face /* MJX-NCM-SSI */":{"font-family":"MJX-NCM-SSI",src:'url("%%URL%%/mjx-ncm-ssi.woff2") format("woff2")'},"@font-face /* MJX-NCM-SSBI */":{"font-family":"MJX-NCM-SSBI",src:'url("%%URL%%/mjx-ncm-ssbi.woff2") format("woff2")'},"@font-face /* MJX-NCM-M */":{"font-family":"MJX-NCM-M",src:'url("%%URL%%/mjx-ncm-m.woff2") format("woff2")'},"@font-face /* MJX-NCM-SO */":{"font-family":"MJX-NCM-SO",src:'url("%%URL%%/mjx-ncm-so.woff2") format("woff2")'},"@font-face /* MJX-NCM-LO */":{"font-family":"MJX-NCM-LO",src:'url("%%URL%%/mjx-ncm-lo.woff2") format("woff2")'},"@font-face /* MJX-NCM-S3 */":{"font-family":"MJX-NCM-S3",src:'url("%%URL%%/mjx-ncm-s3.woff2") format("woff2")'},"@font-face /* MJX-NCM-S4 */":{"font-family":"MJX-NCM-S4",src:'url("%%URL%%/mjx-ncm-s4.woff2") format("woff2")'},"@font-face /* MJX-NCM-S5 */":{"font-family":"MJX-NCM-S5",src:'url("%%URL%%/mjx-ncm-s5.woff2") format("woff2")'},"@font-face /* MJX-NCM-S6 */":{"font-family":"MJX-NCM-S6",src:'url("%%URL%%/mjx-ncm-s6.woff2") format("woff2")'},"@font-face /* MJX-NCM-S7 */":{"font-family":"MJX-NCM-S7",src:'url("%%URL%%/mjx-ncm-s7.woff2") format("woff2")'},"@font-face /* MJX-NCM-MI */":{"font-family":"MJX-NCM-MI",src:'url("%%URL%%/mjx-ncm-mi.woff2") format("woff2")'},"@font-face /* MJX-NCM-C */":{"font-family":"MJX-NCM-C",src:'url("%%URL%%/mjx-ncm-c.woff2") format("woff2")'},"@font-face /* MJX-NCM-CB */":{"font-family":"MJX-NCM-CB",src:'url("%%URL%%/mjx-ncm-cb.woff2") format("woff2")'},"@font-face /* MJX-NCM-OS */":{"font-family":"MJX-NCM-OS",src:'url("%%URL%%/mjx-ncm-os.woff2") format("woff2")'},"@font-face /* MJX-NCM-OB */":{"font-family":"MJX-NCM-OB",src:'url("%%URL%%/mjx-ncm-ob.woff2") format("woff2")'},"@font-face /* MJX-NCM-V */":{"font-family":"MJX-NCM-V",src:'url("%%URL%%/mjx-ncm-v.woff2") format("woff2")'},"@font-face /* MJX-NCM-LT */":{"font-family":"MJX-NCM-LT",src:'url("%%URL%%/mjx-ncm-lt.woff2") format("woff2")'},"@font-face /* MJX-NCM-RB */":{"font-family":"MJX-NCM-RB",src:'url("%%URL%%/mjx-ncm-rb.woff2") format("woff2")'},"@font-face /* MJX-NCM-EM */":{"font-family":"MJX-NCM-EM",src:'url("%%URL%%/mjx-ncm-em.woff2") format("woff2")'},"@font-face /* MJX-NCM-Be */":{"font-family":"MJX-NCM-Be",src:'url("%%URL%%/mjx-ncm-be.woff2") format("woff2")'},"@font-face /* MJX-NCM-U */":{"font-family":"MJX-NCM-U",src:'url("%%URL%%/mjx-ncm-u.woff2") format("woff2")'},"@font-face /* MJX-NCM-Ue */":{"font-family":"MJX-NCM-Ue",src:'url("%%URL%%/mjx-ncm-ue.woff2") format("woff2")'},"@font-face /* MJX-NCM-S */":{"font-family":"MJX-NCM-S",src:'url("%%URL%%/mjx-ncm-s.woff2") format("woff2")'},"@font-face /* MJX-NCM-SB */":{"font-family":"MJX-NCM-SB",src:'url("%%URL%%/mjx-ncm-sb.woff2") format("woff2")'}}),Il.dynamicFiles=Oo.defineDynamicFiles([["latin",{normal:[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7835],7838,[7840,7929],11377]}],["latin-b",{bold:[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],["latin-i",{italic:[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929]]}],["latin-bi",{"bold-italic":[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929]]}],["double-struck",{normal:[8450,8461,8469,8473,8474,8477,8484,[8508,8512],[8517,8521],120120,120121,[120123,120126],[120128,120132],120134,[120138,120144],[120146,120171],[120792,120801]],"double-struck":[305,567]}],["fraktur",{normal:[8460,8465,8476,8488,8493,120068,120069,[120071,120074],[120077,120084],[120086,120092],[120094,120119],[120172,120223]],fraktur:[305,567],"bold-fraktur":[305,567]}],["script",{normal:[8458,8459,8464,8466,8467,8472,8475,8492,[8495,8497],8499,8500,119964,119966,119967,119970,119973,119974,[119977,119980],[119982,119993],119995,[119997,120003],[120005,120067]],script:[],"bold-script":[]}],["sans-serif",{normal:[[8513,8516],[120224,120431],[120662,120777],[120802,120821]],"sans-serif":[[32,47],[58,64],[91,96],[123,126],160,163,165,167,168,172,[175,177],[180,183],215,240,247,305,567,710,711,[713,715],[728,730],732,[768,776],778,780,[913,929],[931,937],[945,969],977,978,981,982,1008,1009,[1012,1014],[8208,8212],8214,8216,8217,8220,8221,8224,8225,8230,8260,8364,8486,8487,[8592,8595],8722,8734],"bold-sans-serif":[32,33,[35,47],58,59,61,63,64,[91,96],[123,126],160,163,165,167,168,172,[175,177],[180,183],215,240,247,305,567,710,711,[713,715],[728,730],732,[768,776],778,780,978,1014,[8208,8212],8214,8216,8217,8220,8221,8224,8225,8230,8260,8364,8486,8487,[8592,8595],8722,8734],"sans-serif-italic":[[32,64],[91,96],[123,126],160,163,165,167,168,172,[175,177],[180,183],215,240,247,305,567,710,711,[713,715],[728,730],732,[768,776],778,780,[913,929],[931,937],[945,969],977,978,981,982,1008,1009,[1012,1014],[8208,8212],8214,8216,8217,8220,8221,8224,8225,8230,8260,8364,8486,8487,[8592,8595],8722,8734],"sans-serif-bold-italic":[32,33,[35,59],61,63,64,[91,96],[123,126],160,163,165,167,168,172,[175,177],[180,183],215,240,247,305,567,710,711,[713,715],[728,730],732,[768,776],778,780,978,1014,[8208,8212],8214,8216,8217,8220,8221,8224,8225,8230,8260,8364,8486,8487,[8592,8595],8722,8734]}],["sans-serif-r",{"sans-serif":[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],["sans-serif-b",{"bold-sans-serif":[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],["sans-serif-i",{"sans-serif-italic":[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],["sans-serif-bi",{"sans-serif-bold-italic":[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],["sans-serif-ex",{"sans-serif":[161,162,164,166,[169,171],173,174,184,[186,191],[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879],3647,7620,7621,7624,7625,8204,8205,8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,[8592,8595],8730,8738,8960,9001,9002,9250,9251,9474,9553,9702,9773,9792,9834,9901,9902,9906,10013,10214,10215,11800,59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59959,59962,59966,59970,59973,60163,60164,60168,60175,60177,60178,60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198,[64256,64260],65126],"bold-sans-serif":[161,162,164,166,[169,171],173,174,184,[186,191],[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879],3647,7620,7621,7624,7625,8204,8205,8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,[8592,8595],8730,8738,8960,9001,9002,9250,9251,9474,9553,9702,9773,9792,9834,9901,9902,9906,10013,10214,10215,11800,59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198,[64256,64260],65126],"sans-serif-italic":[161,162,164,166,[169,171],173,174,184,[186,191],[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879],3647,7620,7621,7624,7625,8204,8205,8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,[8592,8595],8730,8738,8960,9001,9002,9250,9251,9474,9553,9702,9773,9792,9834,9901,9902,9906,10013,10214,10215,11800,59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198,[64256,64260],65126],"sans-serif-bold-italic":[161,162,164,166,[169,171],173,174,184,[186,191],[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,879],3647,7620,7621,7624,7625,8204,8205,8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,[8592,8595],8730,8738,8960,9001,9002,9250,9251,9474,9553,9702,9773,9792,9834,9901,9902,9906,10013,10214,10215,11800,59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198,[64256,64260],65126]}],["monospace",{normal:[[120432,120483],[120822,120831]],monospace:[[32,47],[58,64],[91,96],[123,126],160,163,165,167,168,172,[175,177],[180,183],215,240,247,305,567,710,711,[728,730],732,[768,776],778,780,[913,929],[931,937],[945,969],977,978,981,982,1008,1009,[1012,1014],[8208,8212],8214,8216,8217,8220,8221,8224,8225,8230,8260,8364,8486,8487,[8592,8595],8722,8734]}],["monospace-l",{monospace:[[192,214],[216,239],[241,246],[248,304],[306,566],[568,591],[7680,7699],[7704,7707],[7710,7719],[7722,7755],[7764,7779],[7784,7799],[7804,7833],7835,7838,[7840,7929],11377]}],["monospace-ex",{monospace:[161,162,164,166,[169,171],173,174,184,[186,191],[592,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,995],1010,1011,[1015,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309],3647,7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575,7620,7621,7624,7625,[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,[8592,8595],8730,8738,8960,9001,9002,9250,9251,9472,9474,9484,9488,9492,9496,9500,9508,9516,9524,9532,[9552,9579],9702,9773,9792,9834,9901,9902,9906,10013,10214,10215,11800,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198,[64256,64262],65126]}],["calligraphic",{"-tex-calligraphic":[[65,90]],"-tex-bold-calligraphic":[[65,90]]}],["math",{normal:[8714,8717,8731,8732,8762,8763,8782,8783,[8785,8787],[8790,8796],8798,8844,[8886,8889],[8891,8895],8903,[8912,8929],[8932,8937],[8946,8959],[10176,10199],[10202,10204],[10207,10213],[10625,10646],[10649,10740],10742,[10746,10751],10762,10763,[10781,10798],[10800,10814],[10816,10876],[10879,10884],[10893,10900],[10903,10926],[10939,10948],[10951,10954],[10957,10973],[10988,10993],[10998,11003],[11005,11007]]}],["symbols",{normal:[127,161,162,164,166,[169,171],173,174,178,179,[185,191],3647,8204,8205,8215,8218,8219,8222,8223,[8226,8229],8233,8240,8241,[8248,8259],[8261,8278],[8280,8286],8319,8320,8353,8358,[8361,8363],8369,8370,8448,8449,[8451,8454],8456,8457,8468,8470,8471,[8478,8483],8485,8489,8494,[8505,8507],[8522,8527],[8960,8966],[8977,8984],8986,8987,[8996,9e3],[9003,9114],9142,[9146,9165],9167,[9169,9179],[9186,9203],[9208,9215],9250,9251,11159,11193,11209,[11216,11241],[11248,11263],11800,12306,12310,12311,12336,[64256,64262],65126,65279]},[8215]],["symbols-b-i",{bold:[161,162,164,166,[169,171],173,174,[186,191],3647,8204,8205,8218,8219,8222,8223,8226,8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8319,8320,8353,8358,[8361,8363],8369,8370,8451,8470,8471,8478,8480,8482,8494,8960,9250,9251,11800,[64256,64262],65126],italic:[[161,167],[169,174],177,[181,183],[186,191],215,240,247,3647,8204,8205,8218,8219,[8222,8226],8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8320,8353,8358,8361,8363,8369,8370,8451,8470,8471,8478,8480,8482,8494,8960,9250,9251,11800,[64256,64262],65126],"bold-italic":[[161,167],[169,174],177,[181,183],[186,191],215,240,247,3647,8204,8205,8218,8219,[8222,8226],8233,8240,8241,[8249,8251],8253,8255,8256,8261,8262,8274,8276,8320,8353,8358,[8361,8363],8369,8370,8451,8470,8471,8478,8480,8482,8494,8960,9250,9251,11800,[64256,64262],65126]}],["greek",{normal:[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[11392,11507],[11513,11519]],bold:[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,987],[990,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[11392,11507],[11513,11519]],italic:[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[11392,11507],[11513,11519]],"bold-italic":[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190],[11392,11507],[11513,11519]]}],["greek-ss",{"sans-serif":[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190]],"bold-sans-serif":[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8121],[8123,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190]],"sans-serif-italic":[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190]],"sans-serif-bold-italic":[[880,887],[890,895],[900,906],908,[910,912],[938,944],[970,976],979,980,[983,1007],1010,1011,[1015,1023],[7936,7957],[7960,7965],[7968,8005],[8008,8013],[8016,8023],8025,8027,8029,[8031,8061],[8064,8116],[8118,8121],[8123,8132],[8134,8147],[8150,8155],[8157,8175],[8178,8180],[8182,8190]]}],["cyrillic",{normal:[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],bold:[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],italic:[[1024,1143],[1146,1158],[1160,1225],[1227,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],"bold-italic":[[1024,1143],[1146,1158],[1160,1225],[1227,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]]}],["cyrillic-ss",{"sans-serif":[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],"bold-sans-serif":[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],"sans-serif-italic":[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]],"sans-serif-bold-italic":[[1024,1143],[1146,1158],[1160,1230],[1232,1273],[1276,1279],1298,1299,[1306,1309]]}],["phonetics",{normal:[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575],bold:[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575],italic:[[592,685],687],"bold-italic":[[592,687]]}],["phonetics-ss",{"sans-serif":[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575],"bold-sans-serif":[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575],"sans-serif-italic":[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575],"sans-serif-bold-italic":[[592,687],7424,7431,7434,7435,7437,7448,7449,7452,[7491,7499],7501,[7503,7507],[7510,7512],7514,7515,7517,7518,7520,7521,7544,[7568,7571],7575]}],["hebrew",{normal:[[1425,1479],[1488,1514],[1519,1525],1527,[64285,64335]],bold:[[1425,1479],[1488,1515],[1519,1525],1527,[64285,64335]],italic:[[1425,1479],[1488,1514],[1519,1525],1527,[64285,64335]],"bold-italic":[[1425,1479],[1488,1515],[1519,1525],1527,[64285,64335]]}],["devanagari",{normal:[[2304,2431]],bold:[],italic:[],"bold-italic":[]}],["cherokee",{normal:[[5024,5109],[5112,5117]],bold:[[5024,5109],[5112,5117]],italic:[[5024,5115]],"bold-italic":[[5024,5115]]}],["arabic",{normal:[[126464,126498],126500,126503,[126505,126514],[126516,126519],126521,126523,126530,126535,126537,126539,[126541,126543],126545,126546,126548,126551,126553,126555,126557,126559,126561,126562,126564,[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],126704,126705],bold:[],italic:[],"bold-italic":[]}],["braille-d",{normal:[[10240,10495]]}],["braille",{"sans-serif":[[10240,10495]]}],["arrows",{normal:[8604,8605,8607,8609,8613,8615,8616,8621,[8623,8629],8632,8633,[8662,8665],[8668,8671],[8678,8692],[8695,8703],9166,10145,[10224,10228],10239,[10496,10505],[10508,10569],10572,10573,10575,10577,10580,10581,10584,10585,10588,10589,[10592,10601],[10608,10619],[11008,11026],[11056,11087],[11098,11123],[11126,11157],[11160,11192],[11244,11247]],"-largeop":[8593,8595,[8597,8603],[8606,8611],8613,8615,[8617,8622],[8624,8627],8630,8631,[8636,8655],8657,8659,[8661,8667],[8678,8681],8691,8693,8694,[11012,11015],11020,11021,11057],"-lf-tp":[[8678,8681],10503,11013,11014],"-rt-bt":[[8678,8681],10502,11015,11020],"-ex-md":[8678,8679,11013,11014]},[8607,8609,8613,8615,8621,8622,[8624,8627],[8662,8665],8668,8669,[8678,8681],8691,10145,10237,10238,10502,10503,10572,10573,10575,10577,10588,10589,10592,10593,[11012,11015],11020,11021,11057]],["marrows",{normal:[[129024,129035],[129040,129095],[129104,129113],[129120,129159],[129168,129197],129200,129201]}],["accents",{normal:[184,[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,879],7620,7621,7624,7625,[8403,8405],8408,[8413,8415],[8420,8427],8432],"-smallop":[785,[812,816],818,819,831,845],"-largeop":[785,[812,816]],"-size3":[785,[812,816]],"-size4":[785,[812,816]],"-size5":[785,[812,816]],"-size6":[785,[812,816]],"-size7":[785,[812,816]],"-ex-md":[818,819,831,845]},[785,[812,816],818,819,831,845,8425]],["accents-b-i",{bold:[184,[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879],7620,7621,7624,7625],italic:[184,[688,700],[702,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879]],"bold-italic":[184,[688,709],712,716,[718,727],731,[733,766],777,779,[781,823],[825,846],[848,879]]}],["shapes",{normal:[8962,[8998,9e3],9003,[9211,9214],[9472,9631],[9634,9641],[9644,9649],9672,9673,[9676,9678],[9680,9701],[9703,9710],[9712,9719],9728,9733,9734,9737,9761,9773,[9785,9790],9792,9794,[9824,9831],[9833,9835],[9837,9839],9854,[9856,9865],9893,[9898,9902],9906,10003,10013,10016,10026,10038,10045,10098,10099,10139,10145,[11026,11055],[11088,11097],[11194,11208],[11210,11215],11242,11243],bold:[9474,9553,9773,9792,9834,9901,9902,9906,10013],italic:[9773,9834,9901,9902,10013],"bold-italic":[9773,9834,9901,9902,10013]}],["mshapes",{normal:[[128896,128984],[128992,129003]]}],["variants",{"-tex-variant":[34,39,42,96,126,170,176,178,179,185,186,8212,8289,8304,8305,[8308,8334]]}],["PUA",{normal:[[57344,57395],[57409,57458],[59264,59274],59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198],bold:[59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,[61761,61766],[61771,61788],[61791,61797],61800,[61804,61810],61813,[61817,61819],[61822,61824],61826,61828,61829,[61832,61839],61842,61850,61854,61855,61857,61859,61860,[61863,61877],62082,62083,62110,62113,62116,[62119,62121],62124,62126,62127,[62560,62568],[62570,62578],63166,[63187,63190],63198],italic:[59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,61867,61868,[61873,61877],62082,62083,62110,62113,62116,62119,62120,[62560,62568],[62570,62578],63166,63172,[63174,63176],[63187,63190],63198],"bold-italic":[59395,[59908,59910],59913,59915,59917,59920,59927,59930,59932,59934,59935,59942,59946,59948,59951,59957,59962,59966,59970,59973,60163,60164,60168,[60175,60178],60182,60185,60190,60191,60200,60201,60203,60209,60213,60214,60218,60219,60224,60232,60233,60237,60257,60259,60261,60270,60271,[60424,60430],60432,60433,61699,61700,61705,[61719,61726],[61729,61731],[61734,61741],61743,[61747,61752],61757,61867,61868,[61873,61877],62082,62083,62110,62113,62116,62119,62120,[62560,62568],[62570,62578],63166,63172,[63174,63176],[63187,63190],63198]}]]);const Sl={fontName:"mathjax-newcm",DefaultFont:Il},Rl=Sl.fontName,kl=Sl.DefaultFont;class Ml extends vo{constructor(t={}){super(t,Ll,kl),this.chtmlStyles=null,this.font.adaptiveCSS(this.options.adaptiveCSS),this.wrapperUsage=new Ao}addExtension(t,e=""){t=super.addExtension(t,e);return t.length&&this.options.adaptiveCSS&&this.chtmlStyles&&this.adaptor.insertRules(this.chtmlStyles,t),[]}escaped(t,e){return this.setDocument(e),this.html("span",{},[this.text(t.math)])}styleSheet(t){if(this.chtmlStyles){const t=new $n;return this.options.adaptiveCSS&&(this.addWrapperStyles(t),this.updateFontStyles(t)),t.addStyles(this.font.updateDynamicStyles()),this.adaptor.insertRules(this.chtmlStyles,t.getStyleRules()),this.chtmlStyles}t=this.chtmlStyles=super.styleSheet(t);return this.adaptor.setAttribute(t,"id",Ml.STYLESHEETID),this.wrapperUsage.update(),t}updateFontStyles(t){t.addStyles(this.font.updateStyles({}))}addWrapperStyles(t){if(this.options.adaptiveCSS)for(const s of this.wrapperUsage.update()){var e=this.factory.getNodeClass(s);e&&this.addClassStyles(e,t)}else super.addWrapperStyles(t)}addClassStyles(t,e){var s=t;s.autoStyle&&"unknown"!==s.kind&&e.addStyles({["mjx-"+s.kind]:{display:"inline-block","text-align":"left"}}),this.wrapperUsage.add(s.kind),super.addClassStyles(t,e)}insertStyles(t){this.chtmlStyles&&this.adaptor.insertRules(this.chtmlStyles,new $n(t).getStyleRules())}processMath(t,e){t.toCHTML([e])}clearCache(){this.styleJson.clear(),this.font.clearCache(),this.wrapperUsage.clear(),this.chtmlStyles=null}reset(){this.clearCache()}unknownText(t,e,s=null){const i={},r=100/this.math.metrics.scale;if(100!=r&&(i["font-size"]=this.fixed(r,1)+"%",i.padding=l(75/r)+" 0 "+l(20/r)+" 0"),"-explicitFont"!==e){const s=br(t);(1!==s.length||s[0]<119808||120831<s[0])&&this.cssFontStyles(this.font.getCssFont(e),i)}return null!==s&&(i.width=this.fixed(s*this.math.metrics.scale)+"em"),this.html("mjx-utext",{variant:e,style:i},[this.text(t)])}measureTextNode(t){const e=this.adaptor,s=e.clone(t);e.setStyle(s,"font-family",e.getStyle(s,"font-family").replace(/MJXZERO, /g,""));var t=this.math.metrics.em,i={position:"absolute",top:0,left:0,"white-space":"nowrap","font-size":this.fixed(t,3)+"px"},i=this.html("mjx-measure-text",{style:i},[s]),t=(e.append(e.parent(this.math.start.node),this.container),e.append(this.container,i),e.nodeSize(s,t)[0]);return e.remove(this.container),e.remove(i),{w:t,h:.75,d:.2}}}Ml.NAME="CHTML",Ml.OPTIONS=Object.assign(Object.assign({},vo.OPTIONS),{adaptiveCSS:!0,matchFontHeight:!0}),Ml.commonStyles=Object.assign(Object.assign({},vo.commonStyles),{'mjx-container[jax="CHTML"]':{"white-space":"nowrap"},[["mjx-mo > mjx-c","mjx-mi > mjx-c","mjx-mn > mjx-c","mjx-ms > mjx-c","mjx-mtext > mjx-c"].join(", ")]:{"clip-path":"padding-box xywh(-1em -2px calc(100% + 2em) calc(100% + 4px))"},"mjx-stretchy-h":{"clip-path":"padding-box xywh(0 -2px 100% calc(100% + 4px))"},"mjx-stretchy-v":{"clip-path":"padding-box xywh(-2px 0 calc(100% + 4px) 100%)"},'mjx-container [space="1"]':{"margin-left":".111em"},'mjx-container [space="2"]':{"margin-left":".167em"},'mjx-container [space="3"]':{"margin-left":".222em"},'mjx-container [space="4"]':{"margin-left":".278em"},'mjx-container [space="5"]':{"margin-left":".333em"},'mjx-container [rspace="1"]':{"margin-right":".111em"},'mjx-container [rspace="2"]':{"margin-right":".167em"},'mjx-container [rspace="3"]':{"margin-right":".222em"},'mjx-container [rspace="4"]':{"margin-right":".278em"},'mjx-container [rspace="5"]':{"margin-right":".333em"},'mjx-container [size="s"]':{"font-size":"70.7%"},'mjx-container [size="ss"]':{"font-size":"50%"},'mjx-container [size="Tn"]':{"font-size":"60%"},'mjx-container [size="sm"]':{"font-size":"85%"},'mjx-container [size="lg"]':{"font-size":"120%"},'mjx-container [size="Lg"]':{"font-size":"144%"},'mjx-container [size="LG"]':{"font-size":"173%"},'mjx-container [size="hg"]':{"font-size":"207%"},'mjx-container [size="HG"]':{"font-size":"249%"},'mjx-container [width="full"]':{width:"100%"},"mjx-box":{display:"inline-block"},"mjx-block":{display:"block"},"mjx-itable":{display:"inline-table"},"mjx-row":{display:"table-row"},"mjx-row > *":{display:"table-cell"},"mjx-container [inline-breaks]":{display:"inline"},"mjx-mtext":{display:"inline-block"},"mjx-mstyle":{display:"inline-block"},"mjx-merror":{display:"inline-block",color:"red","background-color":"yellow"},"mjx-mphantom":{visibility:"hidden"}}),Ml.STYLESHEETID="MJX-CHTML-styles",MathJax.loader&&MathJax.loader.checkVersion("output/chtml",Ys,"output"),ei({_:{output:{chtml_ts:Ts,chtml:{DefaultFont:_s,DynamicFonts:Ls,FontData:_e,Notation:je,Usage:Ce,Wrapper:be,WrapperFactory:Cs,Wrappers_ts:vs,Wrappers:{HtmlNode:ys,TeXAtom:Es,TextNode:xs,maction:ds,math:Ne,menclose:Ue,mfenced:We,mfrac:Ve,mglyph:ps,mi:ye,mmultiscripts:is,mn:we,mo:Te,mpadded:De,mroot:Ke,mrow:He,ms:Se,mspace:Ae,msqrt:Je,msubsup:Ze,mtable:ns,mtd:hs,mtext:ke,mtr:as,munderover:es,scriptbase:Qe,semantics:gs}},common_ts:me,common:{Direction:ce,FontData:de,LineBBox:ue,LinebreakVisitor:pe,Notation:Pe,Wrapper:ge,WrapperFactory:fe,Wrappers:{TeXAtom:bs,TextNode:Ns,XmlNode:fs,maction:cs,math:Ee,menclose:Be,mfenced:qe,mfrac:ze,mglyph:us,mi:xe,mmultiscripts:ss,mn:Le,mo:ve,mpadded:Oe,mroot:Ge,mrow:Fe,ms:Ie,mspace:Me,msqrt:Xe,msubsup:Ye,mtable:rs,mtd:ls,mtext:Re,mtr:os,munderover:ts,scriptbase:$e,semantics:ms}}}}});const Al=ii?"https://cdn.jsdelivr.net/npm/@mathjax/%%FONT%%-font":"@mathjax/%%FONT%%-font",Ol={config(s,i,r,n){if(MathJax.loader){ti(MathJax.config,s,MathJax.config.output||{});let t=MathJax.config[s],e=t.font||t.fontData||r;if("string"!=typeof e&&(t.fontData=e,t.font=e=e.NAME),"["!==e.charAt(0)){const r=t.fontPath||Al,n=e.match(/^[a-z]+:/)?(e.match(/[^/:\\]*$/)||[s])[0]:e;ti(MathJax.config.loader,"paths",{[n]:n===e?r.replace(/%%FONT%%/g,e):e}),e=`[${n}]`}var o=e.substring(1,e.length-1);if(o===r&&n){const i=MathJax.config.loader[e+"/"+s]?.extraLoads;i&&MathJax.loader.addPackageData("output/"+s,{extraLoads:i}),ei({_:{output:{fonts:{[o]:{[s+"_ts"]:{[n.NAME+"Font"]:n}}}}}}),ti(MathJax,"config",{output:{font:e},[s]:{fontData:n,dynamicPrefix:e+`/${s}/dynamic`}}),"chtml"===s&&ti(MathJax.config,s,{fontURL:oi.resolvePath(e+`/${s}/woff2`,!1)})}else MathJax.loader.addPackageData("output/"+s,{extraLoads:[e+"/"+s]})}MathJax.startup&&(MathJax.startup.registerConstructor(s,i),MathJax.startup.useOutput(s))},loadFont:(t,e,s,i)=>MathJax.loader?(i&&MathJax.loader.preLoaded(`[${s}]/`+e),oi.loadPromise("output/"+e).then(t)):t};Ol.config("chtml",Ml,Rl,kl),(dt=wl=wl||{})[dt.RETURN=13]="RETURN",dt[dt.ESCAPE=27]="ESCAPE",dt[dt.SPACE=32]="SPACE",dt[dt.LEFT=37]="LEFT",dt[dt.UP=38]="UP",dt[dt.RIGHT=39]="RIGHT",dt[dt.DOWN=40]="DOWN";class Dl extends class{constructor(){this.bubble=!1}bubbleKey(){this.bubble=!0}keydown(t){switch(t.keyCode){case wl.ESCAPE:this.escape(t);break;case wl.RIGHT:this.right(t);break;case wl.LEFT:this.left(t);break;case wl.UP:this.up(t);break;case wl.DOWN:this.down(t);break;case wl.RETURN:case wl.SPACE:this.space(t);break;default:return}this.bubble?this.bubble=!1:this.stop(t)}escape(t){}space(t){}left(t){}right(t){}up(t){}down(t){}stop(t){t&&(t.stopPropagation(),t.preventDefault(),t.cancelBubble=!0)}mousedown(t){return this.stop(t)}mouseup(t){return this.stop(t)}mouseover(t){return this.stop(t)}mouseout(t){return this.stop(t)}click(t){return this.stop(t)}addEvents(t){t.addEventListener("mousedown",this.mousedown.bind(this)),t.addEventListener("mouseup",this.mouseup.bind(this)),t.addEventListener("mouseover",this.mouseover.bind(this)),t.addEventListener("mouseout",this.mouseout.bind(this)),t.addEventListener("click",this.click.bind(this)),t.addEventListener("keydown",this.keydown.bind(this)),t.addEventListener("dragstart",this.stop.bind(this)),t.addEventListener("selectstart",this.stop.bind(this)),t.addEventListener("contextmenu",this.stop.bind(this)),t.addEventListener("dblclick",this.stop.bind(this))}}{addAttributes(t){for(const e in t)this.html.setAttribute(e,t[e])}get html(){return this._html||this.generateHtml(),this._html}set html(t){this._html=t,this.addEvents(t)}generateHtml(){const t=document.createElement("div");t.classList.add(this.className),t.setAttribute("role",this.role),this.html=t}focus(){const t=this.html;t.setAttribute("tabindex","0"),t.focus()}unfocus(){const t=this.html;t.hasAttribute("tabindex")&&t.setAttribute("tabindex","-1");try{t.blur()}catch(t){}t.blur()}}class Pl extends Dl{constructor(){super(...arguments),this.posted=!1}isPosted(){return this.posted}post(t,e){this.posted||(void 0!==t&&void 0!==e&&this.html.setAttribute("style","left: "+t+"px; top: "+e+"px;"),this.display(),this.posted=!0)}unpost(){if(this.posted){const t=this.html;t.parentNode&&t.parentNode.removeChild(t),this.posted=!1}}}function b(t){return"CtxtMenu_"+t}const E={ATTACHED:b("Attached"),CONTEXTMENU:b("ContextMenu"),MENU:b("Menu"),MENUARROW:b("MenuArrow"),MENUACTIVE:b("MenuActive"),MENUCHECK:b("MenuCheck"),MENUCLOSE:b("MenuClose"),MENUCOMBOBOX:b("MenuComboBox"),MENUDISABLED:b("MenuDisabled"),MENUFRAME:b("MenuFrame"),MENUITEM:b("MenuItem"),MENULABEL:b("MenuLabel"),MENURADIOCHECK:b("MenuRadioCheck"),MENUINPUTBOX:b("MenuInputBox"),MENURULE:b("MenuRule"),MENUSLIDER:b("MenuSlider"),MOUSEPOST:b("MousePost"),RTL:b("RTL"),INFO:b("Info"),INFOCLOSE:b("InfoClose"),INFOCONTENT:b("InfoContent"),INFOSIGNATURE:b("InfoSignature"),INFOTITLE:b("InfoTitle"),SLIDERVALUE:b("SliderValue"),SLIDERBAR:b("SliderBar"),SELECTION:b("Selection"),SELECTIONBOX:b("SelectionBox"),SELECTIONMENU:b("SelectionMenu"),SELECTIONDIVIDER:b("SelectionDivider"),SELECTIONITEM:b("SelectionItem")},Bl={COUNTER:b("Counter"),KEYDOWNFUNC:b("keydownFunc"),CONTEXTMENUFUNC:b("contextmenuFunc"),OLDTAB:b("Oldtabindex"),TOUCHFUNC:b("TouchFunc")};class jl extends Dl{constructor(t,e){super(),this._menu=t,this._type=e,this.className=E.MENUITEM,this.role="menuitem",this.hidden=!1}get menu(){return this._menu}set menu(t){this._menu=t}get type(){return this._type}hide(){this.hidden=!0,this.menu.generateMenu()}show(){this.hidden=!1,this.menu.generateMenu()}isHidden(){return this.hidden}}function Ul(t){const e=t.menu;(e.baseMenu||e).unpost()}function Fl(t){t=t.menu;return(t.baseMenu||t).store.active}function Hl(t,e){console.error("ContextMenu Error: "+e)}let ql=0;class Wl extends jl{constructor(t,e,s,i){super(t,e),this._content=s,this.disabled=!1,this.callbacks=[],this._id=i||s}get content(){return this._content}set content(t){this._content=t,this.generateHtml(),this.menu&&this.menu.generateHtml()}get id(){return this._id}press(){this.disabled||(this.executeAction(),this.executeCallbacks_())}executeAction(){}registerCallback(t){-1===this.callbacks.indexOf(t)&&this.callbacks.push(t)}unregisterCallback(t){t=this.callbacks.indexOf(t);-1!==t&&this.callbacks.splice(t,1)}mousedown(t){this.press(),this.stop(t)}mouseover(t){this.focus(),this.stop(t)}mouseout(t){this.deactivate(),this.stop(t)}generateHtml(){super.generateHtml();const t=this.html;t.setAttribute("aria-disabled","false"),t.textContent=this.content}activate(){this.disabled||this.html.classList.add(E.MENUACTIVE)}deactivate(){this.html.classList.remove(E.MENUACTIVE)}focus(){this.menu.focused=this,super.focus(),this.activate()}unfocus(){this.deactivate(),super.unfocus()}escape(t){Ul(this)}up(t){this.menu.up(t)}down(t){this.menu.down(t)}left(t){this.menu.left(t)}right(t){this.menu.right(t)}space(t){this.press()}disable(){this.disabled=!0;const t=this.html;t.classList.add(E.MENUDISABLED),t.setAttribute("aria-disabled","true")}enable(){this.disabled=!1;const t=this.html;t.classList.remove(E.MENUDISABLED),t.removeAttribute("aria-disabled")}executeCallbacks_(){for(const t of this.callbacks)try{t(this)}catch(t){Hl(0,"Callback for menu entry "+this.id+" failed.")}}}class zl extends Wl{static fromJson(t,{content:e,menu:s,id:i},r){const n=new this(r,e,i),o=t.get("subMenu")(t,s,n);return n.submenu=o,n}constructor(t,e,s){super(t,"submenu",e,s),this._submenu=null}set submenu(t){this._submenu=t}get submenu(){return this._submenu}mouseover(t){this.focus(),this.stop(t)}mouseout(t){this.stop(t)}unfocus(){if(this.submenu.isPosted()){if(this.menu.focused!==this)return super.unfocus(),void this.menu.unpostSubmenus();this.html.setAttribute("tabindex","-1"),this.html.blur()}else super.unfocus()}focus(){super.focus(),this.submenu.isPosted()||this.disabled||this.submenu.post()}executeAction(){this.submenu.isPosted()?this.submenu.unpost():this.submenu.post()}generateHtml(){super.generateHtml();const t=this.html;this.span=document.createElement("span"),this.span.textContent="â–º",this.span.classList.add(E.MENUARROW),t.appendChild(this.span),t.setAttribute("aria-haspopup","true")}left(t){this.submenu.isPosted()?this.submenu.unpost():super.left(t)}right(t){this.submenu.isPosted()?this.submenu.down(t):this.submenu.post()}toJson(){return{type:""}}}class Vl extends Pl{constructor(){super(...arguments),this.className=E.CONTEXTMENU,this.role="menu",this._items=[],this._baseMenu=null}set baseMenu(t){this._baseMenu=t}get baseMenu(){return this._baseMenu}get items(){return this._items}set items(t){this._items=t}get pool(){return this.variablePool}get focused(){return this._focused}set focused(t){if(this._focused!==t){this._focused||this.unfocus();const e=this._focused;this._focused=t,e&&e.unfocus()}}up(t){const e=this.items.filter(t=>t instanceof Wl&&!t.isHidden());if(0!==e.length)if(this.focused){let t=e.indexOf(this.focused);-1!==t&&(t=t?--t:e.length-1,e[t].focus())}else e[e.length-1].focus()}down(t){const e=this.items.filter(t=>t instanceof Wl&&!t.isHidden());if(0!==e.length)if(this.focused){let t=e.indexOf(this.focused);-1!==t&&(t=++t===e.length?0:t,e[t].focus())}else e[0].focus()}generateHtml(){super.generateHtml(),this.generateMenu()}generateMenu(){const t=this.html;t.classList.add(E.MENU);for(const e of this.items)if(e.isHidden()){const s=e.html;s.parentNode&&s.parentNode.removeChild(s)}else t.appendChild(e.html)}post(t,e){this.variablePool.update(),super.post(t,e)}unpostSubmenus(){for(const t of this.items.filter(t=>t instanceof zl))t.submenu.unpost(),t!==this.focused&&t.unfocus()}unpost(){super.unpost(),this.unpostSubmenus(),this.focused=null}find(t){for(const s of this.items)if("rule"!==s.type){if(s.id===t)return s;if("submenu"===s.type){var e=s.submenu.find(t);if(e)return e}}return null}}class Xl{constructor(t){this.menu=t,this.store=[],this._active=null,this.counter=0,this.attachedClass=E.ATTACHED+"_"+ql++,this.taborder=!0,this.attrMap={}}set active(t){do{if(-1!==this.store.indexOf(t)){this._active=t;break}}while(t=t.parentNode)}get active(){return this._active}next(){var t=this.store.length;if(0===t)return this.active=null;let e=this.store.indexOf(this.active);return e=-1!==e&&e<t-1?e+1:0,this.active=this.store[e],this.active}previous(){var t=this.store.length;if(0===t)return this.active=null;t-=1;let e=this.store.indexOf(this.active);return e=-1===e||0===e?t:e-1,this.active=this.store[e],this.active}clear(){this.remove(this.store)}insert(t){var e=t instanceof HTMLElement?[t]:t;for(const t of e)this.insertElement(t);this.sort()}remove(t){var e=t instanceof HTMLElement?[t]:t;for(const t of e)this.removeElement(t);this.sort()}inTaborder(t){this.taborder&&!t&&this.removeTaborder(),!this.taborder&&t&&this.insertTaborder(),this.taborder=t}insertTaborder(){this.taborder&&this.insertTaborder_()}removeTaborder(){this.taborder&&this.removeTaborder_()}insertElement(t){t.classList.contains(this.attachedClass)||(t.classList.add(this.attachedClass),this.taborder&&this.addTabindex(t),this.addEvents(t))}removeElement(t){t.classList.contains(this.attachedClass)&&(t.classList.remove(this.attachedClass),this.taborder&&this.removeTabindex(t),this.removeEvents(t))}sort(){var t=document.getElementsByClassName(this.attachedClass);this.store=[].slice.call(t)}insertTaborder_(){this.store.forEach(t=>t.setAttribute("tabindex","0"))}removeTaborder_(){this.store.forEach(t=>t.setAttribute("tabindex","-1"))}addTabindex(t){t.hasAttribute("tabindex")&&t.setAttribute(Bl.OLDTAB,t.getAttribute("tabindex")),t.setAttribute("tabindex","0")}removeTabindex(t){t.hasAttribute(Bl.OLDTAB)?(t.setAttribute("tabindex",t.getAttribute(Bl.OLDTAB)),t.removeAttribute(Bl.OLDTAB)):t.removeAttribute("tabindex")}addEvents(t){t.hasAttribute(Bl.COUNTER)||(this.addEvent(t,"contextmenu",this.menu.post.bind(this.menu)),this.addEvent(t,"keydown",this.keydown.bind(this)),t.setAttribute(Bl.COUNTER,this.counter.toString()),this.counter++)}addEvent(t,e,s){var i=Bl[e.toUpperCase()+"FUNC"];this.attrMap[i+this.counter]=s,t.addEventListener(e,s)}removeEvents(t){var e;t.hasAttribute(Bl.COUNTER)&&(e=t.getAttribute(Bl.COUNTER),this.removeEvent(t,"contextmenu",e),this.removeEvent(t,"keydown",e),t.removeAttribute(Bl.COUNTER))}removeEvent(t,e,s){var i=Bl[e.toUpperCase()+"FUNC"],i=this.attrMap[i+s];t.removeEventListener(e,i)}keydown(t){t.keyCode===wl.SPACE&&(this.menu.post(t),t.preventDefault(),t.stopImmediatePropagation())}}class Jl{constructor(){this.pool={}}insert(t){this.pool[t.name]=t}lookup(t){return this.pool[t]}remove(t){delete this.pool[t]}update(){for(const t in this.pool)this.pool[t].update()}}class Gl extends Vl{static fromJson(e,{pool:t,items:s,id:i=""}){const r=new this(e),n=(r.id=i,e.get("variable"));t.forEach(t=>n(e,t,r.pool));i=e.get("items")(e,s,r);return r.items=i,r}constructor(t){super(),this.factory=t,this.id="",this.moving=!1,this._store=new Xl(this),this.widgets=[],this.variablePool=new Jl}generateHtml(){this.isPosted()&&this.unpost(),super.generateHtml(),this._frame=document.createElement("div"),this._frame.classList.add(E.MENUFRAME);var t="left: 0px; top: 0px; z-index: 200; width: 100%; height: 100%; border: 0px; padding: 0px; margin: 0px;";this._frame.setAttribute("style","position: absolute; "+t);const e=document.createElement("div");e.setAttribute("style","position: fixed; "+t),this._frame.appendChild(e),e.addEventListener("mousedown",function(t){this.unpost(),this.unpostWidgets(),this.stop(t)}.bind(this))}display(){document.body.appendChild(this.frame),this.frame.appendChild(this.html),this.focus()}escape(t){this.unpost(),this.unpostWidgets()}unpost(){if(super.unpost(),!(0<this.widgets.length)){this.frame.parentNode.removeChild(this.frame);const t=this.store;this.moving||t.insertTaborder(),t.active.focus()}}left(t){this.move_(this.store.previous())}right(t){this.move_(this.store.next())}get frame(){return this._frame}get store(){return this._store}post(t,e){if(void 0!==e)return this.moving||this.store.removeTaborder(),void super.post(t,e);const s=t;let i,r,n;if(s instanceof Event?(i=s.target,this.stop(s)):i=s,s instanceof MouseEvent&&(r=s.pageX,n=s.pageY,r||n||!s.clientX||(r=s.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=s.clientY+document.body.scrollTop+document.documentElement.scrollTop)),!r&&!n&&i){const t=window.pageXOffset||document.documentElement.scrollLeft,e=window.pageYOffset||document.documentElement.scrollTop,s=i.getBoundingClientRect();r=(s.right+s.left)/2+t,n=(s.bottom+s.top)/2+e}this.store.active=i,this.anchor=this.store.active;e=this.html;r+e.offsetWidth>document.body.offsetWidth-5&&(r=document.body.offsetWidth-e.offsetWidth-5),this.post(r,n)}registerWidget(t){this.widgets.push(t)}unregisterWidget(t){t=this.widgets.indexOf(t);-1<t&&this.widgets.splice(t,1),0===this.widgets.length&&this.unpost()}unpostWidgets(){this.widgets.forEach(t=>t.unpost())}toJson(){return{type:""}}move_(t){this.anchor&&t!==this.anchor&&(this.moving=!0,this.unpost(),this.post(t),this.moving=!1)}}class Kl extends Vl{static fromJson(t,{items:e},s){const i=new this(s),r=t.get("items")(t,e,i);return i.items=r,i}constructor(t){super(),this._anchor=t,this.variablePool=this.anchor.menu.pool,this.setBaseMenu()}get anchor(){return this._anchor}post(){if(this.anchor.menu.isPosted()){let t=this.anchor.html;var i=this.html,r=this.baseMenu.frame,n=t.offsetWidth;let e=n-2,s=0;for(;t&&t!==r;)e+=t.offsetLeft,s+=t.offsetTop,t=t.parentNode;e+i.offsetWidth>document.body.offsetWidth-5&&(e=Math.max(5,e-n-i.offsetWidth+6)),super.post(e,s)}}display(){this.baseMenu.frame.appendChild(this.html)}setBaseMenu(){let t=this;for(;(t=t.anchor.menu)instanceof Kl;);this.baseMenu=t}left(t){this.focused=null,this.anchor.focus()}toJson(){return{type:""}}}class Yl extends Pl{constructor(t){super(),this.element=t,this.className=E.MENUCLOSE,this.role="button"}generateHtml(){const t=document.createElement("span"),e=(t.classList.add(this.className),t.setAttribute("role",this.role),t.setAttribute("tabindex","0"),document.createElement("span"));e.textContent="Ã—",t.appendChild(e),this.html=t}display(){}unpost(){super.unpost(),this.element.unpost()}keydown(t){this.bubbleKey(),super.keydown(t)}space(t){this.unpost(),this.stop(t)}mousedown(t){this.unpost(),this.stop(t)}}class $l extends Pl{constructor(t,e,s){super(),this.title=t,this.signature=s,this.className=E.INFO,this.role="dialog",this.contentDiv=this.generateContent(),this.close=this.generateClose(),this.content=e||function(){return""}}attachMenu(t){this.menu=t}generateHtml(){super.generateHtml();const t=this.html;t.appendChild(this.generateTitle()),t.appendChild(this.contentDiv),t.appendChild(this.generateSignature()),t.appendChild(this.close.html),t.setAttribute("tabindex","0")}post(){super.post();const t=document.documentElement,e=this.html,s=window.innerHeight||t.clientHeight||t.scrollHeight||0,i=Math.floor(-e.offsetWidth/2),r=Math.floor((s-e.offsetHeight)/3);e.setAttribute("style","margin-left: "+i+"px; top: "+r+"px;"),window.event instanceof MouseEvent&&e.classList.add(E.MOUSEPOST),e.focus()}display(){this.menu.registerWidget(this),this.contentDiv.innerHTML=this.content();const t=this.menu.html;t.parentNode&&t.parentNode.removeChild(t),this.menu.frame.appendChild(this.html)}click(t){}keydown(t){this.bubbleKey(),super.keydown(t)}escape(t){this.unpost()}unpost(){super.unpost(),this.html.classList.remove(E.MOUSEPOST),this.menu.unregisterWidget(this)}generateClose(){const t=new Yl(this),e=t.html;return e.classList.add(E.INFOCLOSE),e.setAttribute("aria-label","Close Dialog Box"),t}generateTitle(){const t=document.createElement("span");return t.innerHTML=this.title,t.classList.add(E.INFOTITLE),t}generateContent(){const t=document.createElement("div");return t.classList.add(E.INFOCONTENT),t.setAttribute("tabindex","0"),t}generateSignature(){const t=document.createElement("span");return t.innerHTML=this.signature,t.classList.add(E.INFOSIGNATURE),t}toJson(){return{type:""}}}class Ql extends Wl{generateHtml(){super.generateHtml();const t=this.html;this.span||this.generateSpan(),t.appendChild(this.span),this.update()}register(){this.variable.register(this)}unregister(){this.variable.unregister(this)}update(){this.updateAria(),this.span&&this.updateSpan()}}class Zl extends Ql{static fromJson(t,{content:e,variable:s,id:i},r){return new this(r,e,s,i)}constructor(t,e,s,i){super(t,"radio",e,i),this.role="menuitemradio",this.variable=t.pool.lookup(s),this.register()}executeAction(){this.variable.setValue(this.id),Ul(this)}generateSpan(){this.span=document.createElement("span"),this.span.textContent="âœ“",this.span.classList.add(E.MENURADIOCHECK)}updateAria(){this.html.setAttribute("aria-checked",this.variable.getValue()===this.id?"true":"false")}updateSpan(){this.span.style.display=this.variable.getValue()===this.id?"":"none"}toJson(){return{type:""}}}class th extends jl{static fromJson(t,e,s){return new this(s)}constructor(t){super(t,"rule"),this.className=E.MENUITEM,this.role="separator"}generateHtml(){super.generateHtml();const t=this.html;t.classList.add(E.MENURULE),t.setAttribute("aria-orientation","vertical")}addEvents(t){}toJson(){return{type:"rule"}}}class eh extends Wl{static fromJson(t,{content:e,action:s,id:i},r){return new this(r,e,s,i)}constructor(t,e,s,i){super(t,"command",e,i),this.command=s}executeAction(){try{this.command(Fl(this))}catch(t){Hl(0,"Illegal command callback.")}Ul(this)}toJson(){return{type:""}}}class sh{static fromJson(t,{name:e,getter:s,setter:i},r){e=new this(e,s,i);r.insert(e)}constructor(t,e,s){this._name=t,this.getter=e,this.setter=s,this.items=[]}get name(){return this._name}getValue(t){try{return this.getter(t)}catch(t){return Hl(0,"Command of variable "+this.name+" failed."),null}}setValue(t,e){try{this.setter(t,e)}catch(t){Hl(0,"Command of variable "+this.name+" failed.")}this.update()}register(t){-1===this.items.indexOf(t)&&this.items.push(t)}unregister(t){t=this.items.indexOf(t);-1!==t&&this.items.splice(t,1)}update(){this.items.forEach(t=>t.update())}registerCallback(e){this.items.forEach(t=>t.registerCallback(e))}unregisterCallback(e){this.items.forEach(t=>t.unregisterCallback(e))}toJson(){return{type:"variable",name:this.name,getter:this.getter.toString(),setter:this.setter.toString()}}}class ih extends Ql{static fromJson(t,{content:e,variable:s,id:i},r){return new this(r,e,s,i)}constructor(t,e,s,i){super(t,"checkbox",e,i),this.role="menuitemcheckbox",this.variable=t.pool.lookup(s),this.register()}executeAction(){this.variable.setValue(!this.variable.getValue()),Ul(this)}generateSpan(){this.span=document.createElement("span"),this.span.textContent="âœ“",this.span.classList.add(E.MENUCHECK)}updateAria(){this.html.setAttribute("aria-checked",this.variable.getValue()?"true":"false")}updateSpan(){this.span.style.display=this.variable.getValue()?"":"none"}toJson(){return{type:""}}}class rh extends Ql{static fromJson(t,{content:e,variable:s,id:i},r){return new this(r,e,s,i)}constructor(t,e,s,i){super(t,"combobox",e,i),this.role="combobox",this.inputEvent=!1,this.variable=t.pool.lookup(s),this.register()}executeAction(){this.variable.setValue(this.input.value,Fl(this))}space(t){super.space(t),Ul(this)}focus(){super.focus(),this.input.focus()}unfocus(){super.unfocus(),this.updateSpan()}generateHtml(){super.generateHtml(),this.html.classList.add(E.MENUCOMBOBOX)}generateSpan(){this.span=document.createElement("span"),this.span.classList.add(E.MENUINPUTBOX),this.input=document.createElement("input"),this.input.addEventListener("keydown",this.inputKey.bind(this)),this.input.setAttribute("size","10em"),this.input.setAttribute("type","text"),this.input.setAttribute("tabindex","-1"),this.span.appendChild(this.input)}inputKey(t){this.bubbleKey(),this.inputEvent=!0}keydown(t){if(this.inputEvent&&t.keyCode!==wl.ESCAPE&&t.keyCode!==wl.RETURN)return this.inputEvent=!1,void t.stopPropagation();super.keydown(t),t.stopPropagation()}updateAria(){}updateSpan(){let e;try{e=this.variable.getValue(Fl(this))}catch(t){e=""}this.input.value=e}toJson(){return{type:""}}}class nh extends Wl{static fromJson(t,{content:e,id:s},i){return new this(i,e,s)}constructor(t,e,s){super(t,"label",e,s)}generateHtml(){super.generateHtml(),this.html.classList.add(E.MENULABEL)}toJson(){return{type:""}}}class oh extends Ql{static fromJson(t,{content:e,variable:s,id:i},r){return new this(r,e,s,i)}constructor(t,e,s,i){super(t,"slider",e,i),this.role="slider",this.labelId="ctx_slideLabel"+ql++,this.valueId="ctx_slideValue"+ql++,this.inputEvent=!1,this.variable=t.pool.lookup(s),this.register()}executeAction(){this.variable.setValue(this.input.value,Fl(this)),this.update()}space(t){super.space(t),Ul(this)}focus(){super.focus(),this.input.focus()}unfocus(){super.unfocus(),this.updateSpan()}generateHtml(){super.generateHtml(),this.html.classList.add(E.MENUSLIDER),this.valueSpan=document.createElement("span"),this.valueSpan.setAttribute("id",this.valueId),this.valueSpan.classList.add(E.SLIDERVALUE),this.html.appendChild(this.valueSpan)}generateSpan(){this.span=document.createElement("span"),this.labelSpan=document.createElement("span"),this.labelSpan.setAttribute("id",this.labelId),this.labelSpan.appendChild(this.html.childNodes[0]),this.html.appendChild(this.labelSpan),this.input=document.createElement("input"),this.input.setAttribute("type","range"),this.input.setAttribute("min","0"),this.input.setAttribute("max","100"),this.input.setAttribute("aria-valuemin","0"),this.input.setAttribute("aria-valuemax","100"),this.input.setAttribute("aria-labelledby",this.labelId),this.input.addEventListener("keydown",this.inputKey.bind(this)),this.input.addEventListener("input",this.executeAction.bind(this)),this.input.classList.add(E.SLIDERBAR),this.span.appendChild(this.input)}inputKey(t){this.inputEvent=!0}mousedown(t){t.stopPropagation()}mouseup(t){event.stopPropagation()}keydown(t){var e=t.keyCode;return e===wl.UP||e===wl.DOWN?(t.preventDefault(),void super.keydown(t)):(this.inputEvent&&e!==wl.ESCAPE&&e!==wl.RETURN?this.inputEvent=!1:super.keydown(t),void t.stopPropagation())}updateAria(){var t=this.variable.getValue();t&&this.input&&(this.input.setAttribute("aria-valuenow",t),this.input.setAttribute("aria-valuetext",t+"%"))}updateSpan(){let e;try{e=this.variable.getValue(Fl(this)),this.valueSpan.innerHTML=e+"%"}catch(t){e=""}this.input.value=e}toJson(){return{type:""}}}class ah extends Vl{static fromJson(e,{title:t,values:s,variable:i},r){const n=new this(r),o=e.get("label")(e,{content:t||"",id:t||"id"},n),a=e.get("rule")(e,{},n),l=s.map(t=>e.get("radio")(e,{content:t,variable:i,id:t},n)),h=[o,a].concat(l);return n.items=h,n}constructor(t){super(),this.anchor=t,this.className=E.SELECTIONMENU,this.variablePool=this.anchor.menu.pool,this.baseMenu=this.anchor.menu}generateHtml(){super.generateHtml(),this.items.forEach(t=>t.html.classList.add(E.SELECTIONITEM))}display(){}right(t){this.anchor.right(t)}left(t){this.anchor.left(t)}}class lh extends $l{static fromJson(e,{title:t,signature:s,selections:i,order:r,grid:n},o){const a=new this(t,s,r,n);a.attachMenu(o);t=i.map(t=>e.get("selectionMenu")(e,t,a));return a.selections=t,a}constructor(t,e,s="none",i="vertical"){super(t,null,e),this.style=s,this.grid=i,this._selections=[],this.prefix="ctxt-selection",this._balanced=!0}attachMenu(t){this.menu=t}get selections(){return this._selections}set selections(t){this._selections=[],t.forEach(t=>this.addSelection(t))}addSelection(t){(t.anchor=this)._selections.push(t)}rowDiv(t){const e=document.createElement("div"),s=(this.contentDiv.appendChild(e),t.map(t=>(e.appendChild(t.html),t.html.id||(t.html.id=this.prefix+ql++),t.html.getBoundingClientRect()))),i=s.map(t=>t.width),r=i.reduce((t,e)=>t+e,0),n=s.reduce((t,e)=>Math.max(t,e.height),0);return e.classList.add(E.SELECTIONDIVIDER),e.setAttribute("style","height: "+n+"px;"),[e,r,n,i]}display(){if(super.display(),this.order(),this.selections.length){const r=[];let e=0,s=[];var i=this.getChunkSize(this.selections.length);for(let t=0;t<this.selections.length;t+=i){const n=this.selections.slice(t,t+i),[o,a,l,h]=this.rowDiv(n);r.push(o),e=Math.max(e,a),n.forEach(t=>t.html.style.height=l+"px"),s=this.combineColumn(s,h)}this._balanced&&(this.balanceColumn(r,s),e=s.reduce((t,e)=>t+e,20)),r.forEach(t=>t.style.width=e+"px")}}getChunkSize(t){switch(this.grid){case"square":return Math.floor(Math.sqrt(t));case"horizontal":return Math.floor(t/lh.chunkSize);default:return lh.chunkSize}}balanceColumn(t,i){t.forEach(t=>{var s=Array.from(t.children);for(let t,e=0;t=s[e];e++)t.style.width=i[e]+"px"})}combineColumn(t,e){let s=[],i=0;for(;t[i]||e[i];){if(!t[i]){s=s.concat(e.slice(i));break}if(!e[i]){s=s.concat(t.slice(i));break}s.push(Math.max(t[i],e[i])),i++}return s}left(t){this.move(t,t=>(0===t?this.selections.length:t)-1)}right(t){this.move(t,t=>t===this.selections.length-1?0:t+1)}generateHtml(){super.generateHtml(),this.html.classList.add(E.SELECTION)}generateContent(){const t=super.generateContent();return t.classList.add(E.SELECTIONBOX),t.removeAttribute("tabindex"),t}findSelection(e){const s=e.target;let t=null;if(!(t=s.id?this.selections.find(t=>t.html.id===s.id):t)){const e=s.parentElement.id;t=this.selections.find(t=>t.html.id===e)}return t}move(t,e){const s=this.findSelection(t);s.focused&&s.focused.unfocus();t=e(this.selections.indexOf(s));this.selections[t].focus()}order(){this.selections.sort(lh.orderMethod.get(this.style))}toJson(){return{type:""}}}lh.chunkSize=4,lh.orderMethod=new Map([["alphabetical",(t,e)=>t.items[0].content.localeCompare(e.items[0].content)],["none",(t,e)=>1],["decreasing",(t,e)=>{t=t.items.length,e=e.items.length;return t<e?1:e<t?-1:0}],["increasing",(t,e)=>{t=t.items.length,e=e.items.length;return t<e?-1:e<t?1:0}]]);class hh{constructor(t){this._parser=new Map(t)}get(t){return this._parser.get(t)}add(t,e){this._parser.set(t,e)}}var ch,dh,uh,ph,mh;class fh{constructor(t=[]){this._initList=[["command",eh.fromJson.bind(eh)],["checkbox",ih.fromJson.bind(ih)],["combo",rh.fromJson.bind(rh)],["slider",oh.fromJson.bind(oh)],["label",nh.fromJson.bind(nh)],["radio",Zl.fromJson.bind(Zl)],["rule",th.fromJson.bind(th)],["submenu",zl.fromJson.bind(zl)],["contextMenu",Gl.fromJson.bind(Gl)],["subMenu",Kl.fromJson.bind(Kl)],["variable",sh.fromJson.bind(sh)],["items",this.items.bind(this)],["selectionMenu",ah.fromJson.bind(ah)],["selectionBox",lh.fromJson.bind(lh)]],this._factory=new hh(this._initList),t.forEach(([t,e])=>this.factory.add(t,e))}get factory(){return this._factory}items(t,e,s){const i=[];for(const t of e){const e=this.parse(t,s);e&&(s.items.push(e),t.disabled&&e.disable(),t.hidden&&i.push(e))}return i.forEach(t=>t.hide()),s.items}parse(t,...e){var s=t["type"],t=function(t,e){var s={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s}(t,["type"]);const i=this.factory.get(s);return i?i(this.factory,t,...e):null}}function N(t){return"."+(E[t]||t)}const gh={},x=(gh[N("INFOCLOSE")]="{  top:.2em; right:.2em;}",gh[N("INFOCONTENT")]="{  overflow:auto; text-align:left; font-size:80%;  padding:.4em .6em; border:1px inset; margin:1em 0px;  max-height:20em; max-width:30em; background-color:#EEEEEE;  white-space:normal;}",gh[N("INFO")+N("MOUSEPOST")]="{outline:none;}",gh[N("INFO")]='{  position:fixed; left:50%; width:auto; text-align:center;  border:3px outset; padding:1em 2em; background-color:#DDDDDD;  color:black;  cursor:default; font-family:message-box; font-size:120%;  font-style:normal; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 15px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius:15px;               /* Safari and Chrome */  -moz-border-radius:15px;                  /* Firefox */  -khtml-border-radius:15px;                /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */  filter:progid:DXImageTransform.Microsoft.dropshadow(OffX=2, OffY=2, Color="gray", Positive="true"); /* IE */}',{}),bh=(x[N("MENU")]="{  position:absolute;  background-color:white;  color:black;  width:auto; padding:5px 0px;  border:1px solid #CCCCCC; margin:0; cursor:default;  font: menu; text-align:left; text-indent:0; text-transform:none;  line-height:normal; letter-spacing:normal; word-spacing:normal;  word-wrap:normal; white-space:nowrap; float:none; z-index:201;  border-radius: 5px;                     /* Opera 10.5 and IE9 */  -webkit-border-radius: 5px;             /* Safari and Chrome */  -moz-border-radius: 5px;                /* Firefox */  -khtml-border-radius: 5px;              /* Konqueror */  box-shadow:0px 10px 20px #808080;         /* Opera 10.5 and IE9 */  -webkit-box-shadow:0px 10px 20px #808080; /* Safari 3 & Chrome */  -moz-box-shadow:0px 10px 20px #808080;    /* Forefox 3.5 */  -khtml-box-shadow:0px 10px 20px #808080;  /* Konqueror */}",x[N("MENUITEM")]="{  padding: 1px 2em;  background:transparent;}",x[N("MENUARROW")]="{  position:absolute; right:.5em; padding-top:.25em; color:#666666;  font-family: null; font-size: .75em}",x[N("MENUACTIVE")+" "+N("MENUARROW")]="{color:white}",x[N("MENUARROW")+N("RTL")]="{left:.5em; right:auto}",x[N("MENUCHECK")]="{  position:absolute; left:.7em;  font-family: null}",x[N("MENUCHECK")+N("RTL")]="{ right:.7em; left:auto }",x[N("MENURADIOCHECK")]="{  position:absolute; left: .7em;}",x[N("MENURADIOCHECK")+N("RTL")]="{  right: .7em; left:auto}",x[N("MENUINPUTBOX")]="{  padding-left: 1em; right:.5em; color:#666666;  font-family: null;}",x[N("MENUINPUTBOX")+N("RTL")]="{  left: .1em;}",x[N("MENUCOMBOBOX")]="{  left:.1em; padding-bottom:.5em;}",x[N("MENUSLIDER")]="{  left: .1em;}",x[N("SLIDERVALUE")]="{  position:absolute; right:.1em; padding-top:.25em; color:#333333;  font-size: .75em}",x[N("SLIDERBAR")]="{  outline: none; background: #d3d3d3}",x[N("MENULABEL")]="{  padding: 1px 2em 3px 1.33em;  font-style:italic}",x[N("MENURULE")]="{  border-top: 1px solid #DDDDDD;  margin: 4px 3px;}",x[N("MENUDISABLED")]="{  color:GrayText}",x[N("MENUACTIVE")]="{  background-color: #606872;  color: white;}",x[N("MENUDISABLED")+":focus"]="{  background-color: #E8E8E8}",x[N("MENULABEL")+":focus"]="{  background-color: #E8E8E8}",x[N("CONTEXTMENU")+":focus"]="{  outline:none}",x[N("CONTEXTMENU")+" "+N("MENUITEM")+":focus"]="{  outline:none}",x[N("SELECTIONMENU")]="{  position:relative; float:left;  border-bottom: none; -webkit-box-shadow:none; -webkit-border-radius:0px; }",x[N("SELECTIONITEM")]="{  padding-right: 1em;}",x[N("SELECTION")]="{  right: 40%; width:50%; }",x[N("SELECTIONBOX")]="{  padding: 0em; max-height:20em; max-width: none;  background-color:#FFFFFF;}",x[N("SELECTIONDIVIDER")]="{  clear: both; border-top: 2px solid #000000;}",x[N("MENU")+" "+N("MENUCLOSE")]="{  top:-10px; left:-10px}",{});bh[N("MENUCLOSE")]='{  position:absolute;  cursor:pointer;  display:inline-block;  border:2px solid #AAA;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  font-family: "Courier New", Courier;  font-size:24px;  color:#F0F0F0}',bh[N("MENUCLOSE")+" span"]="{  display:block; background-color:#AAA; border:1.5px solid;  border-radius:18px;  -webkit-border-radius: 18px;             /* Safari and Chrome */  -moz-border-radius: 18px;                /* Firefox */  -khtml-border-radius: 18px;              /* Konqueror */  line-height:0;  padding:8px 0 6px     /* may need to be browser-specific */}",bh[N("MENUCLOSE")+":hover"]="{  color:white!important;  border:2px solid #CCC!important}",bh[N("MENUCLOSE")+":hover span"]="{  background-color:#CCC!important}";let Eh=!(bh[N("MENUCLOSE")+":hover:focus"]="{  outline:none}"),Nh=!1,xh=!1;function yh(t){xh||(vh(bh,t),xh=!0)}function vh(t,e){const s=e||document,i=s.createElement("style");i.type="text/css";let r="";for(const e in t)r+=e,r+=" ",r+=t[e],r+="\n";i.innerHTML=r,s.head.appendChild(i)}class Ch extends Gl{constructor(){super(...arguments),this.mathItem=null,this.nofocus=!1,this.errorMsg=""}post(t,e){var s;if(this.mathItem){const i=null==(s=null==(s=this.mathItem)?void 0:s.explorers)?void 0:s.speech;null!=i&&i.active&&(i.restarted=i.semanticFocus()),void 0!==e&&(this.getOriginalMenu(),this.getSemanticsMenu(),this.getSpeechMenu(),this.getBrailleMenu(),this.getSvgMenu(),this.getErrorMessage(),this.dynamicSubmenus()),super.post(t,e)}}unpost(){super.unpost(),this.mathItem&&(this.mathItem.outputData.nofocus=this.nofocus),this.mathItem=null,this.nofocus=!1}findID(...t){let e=this,s=null;for(const i of t){if(!e)return null;for(s of e.items){if(s.id===i){e=s instanceof zl?s.submenu:null;break}e=s=null}}return s}setJax(t){this.jax=t}getOriginalMenu(){const t=this.mathItem.inputJax.name,e=this.findID("Show","Original");e.content="MathML"===t?"Original MathML":t+" Commands",this.findID("Copy","Original").content=e.content}getSemanticsMenu(){const t=this.findID("Settings","MathmlIncludes","semantics");"MathML"===this.mathItem.inputJax.name?t.disable():t.enable()}getSpeechMenu(){var t=this.mathItem.outputData.speech;this.findID("Show","Speech")[t?"enable":"disable"](),this.findID("Copy","Speech")[t?"enable":"disable"]()}getBrailleMenu(){var t=this.mathItem.outputData.braille;this.findID("Show","Braille")[t?"enable":"disable"](),this.findID("Copy","Braille")[t?"enable":"disable"]()}getSvgMenu(){var t=this.jax.SVG;this.findID("Show","SVG")[t?"enable":"disable"](),this.findID("Copy","SVG")[t?"enable":"disable"]()}getErrorMessage(){const t=this.mathItem.root.childNodes[0].childNodes;let e=!0;if(this.errorMsg="",1===t.length&&t[0].isKind("merror")){const s=t[0].attributes;this.errorMsg=s.get("data-mjx-error")||s.get("data-mjx-message")||"",e=!this.errorMsg}this.findID("Show","Error")[e?"disable":"enable"](),this.findID("Copy","Error")[e?"disable":"enable"]()}dynamicSubmenus(){for(const[t,[e,s]]of Ch.DynamicSubmenus){const i=this.find(t);i&&e(this,i,t=>{null==(t=null==(i.submenu=t)?void 0:t.items)||!t.length||s&&!this.settings[s]?i.disable():i.enable()})}}}Ch.DynamicSubmenus=new Map,(ct=ch=ch||{}).DOMAIN="domain",ct.STYLE="style",ct.LOCALE="locale",ct.TOPIC="topic",ct.MODALITY="modality";class _h{static createProp(...i){const r=y.DEFAULT_ORDER,n={};for(let t=0,e=i.length,s=r.length;t<e&&t<s;t++)n[r[t]]=i[t];return new _h(n)}constructor(t,e=Object.keys(t)){this.properties=t,this.order=e}getProperties(){return this.properties}getOrder(){return this.order}getAxes(){return this.order}getProperty(t){return this.properties[t]}updateProperties(t){this.properties=t}allProperties(){const e=[];return this.order.forEach(t=>e.push(this.getProperty(t).slice())),e}toString(){const e=[];return this.order.forEach(t=>e.push(t+": "+this.getProperty(t).toString())),e.join("\n")}}class y extends _h{static createCstr(...i){const r=y.DEFAULT_ORDER,n={};for(let t=0,e=i.length,s=r.length;t<e&&t<s;t++)n[r[t]]=i[t];return new y(n)}static defaultCstr(){return y.createCstr.apply(null,y.DEFAULT_ORDER.map(function(t){return y.DEFAULT_VALUES[t]}))}static validOrder(t){const e=y.DEFAULT_ORDER.slice();return t.every(t=>{t=e.indexOf(t);return-1!==t&&e.splice(t,1)})}constructor(t,e){const s={};for(const[e,i]of Object.entries(t))s[e]=[i];super(s,e),this.components=t}getComponents(){return this.components}getValue(t){return this.components[t]}getValues(){return this.order.map(t=>this.getValue(t))}allProperties(){const i=super.allProperties();for(let t,e,s=0;t=i[s],e=this.order[s];s++){const i=this.getValue(e);-1===t.indexOf(i)&&t.unshift(i)}return i}toString(){return this.getValues().join(".")}equal(s){const i=s.getAxes();if(this.order.length!==i.length)return!1;for(let t,e=0;t=i[e];e++){const i=this.getValue(t);if(!i||s.getValue(t)!==i)return!1}return!0}}y.DEFAULT_ORDER=[ch.LOCALE,ch.MODALITY,ch.DOMAIN,ch.STYLE,ch.TOPIC],y.BASE_LOCALE="base",y.DEFAULT_VALUE="default",y.DEFAULT_VALUES={[ch.LOCALE]:"en",[ch.DOMAIN]:y.DEFAULT_VALUE,[ch.STYLE]:y.DEFAULT_VALUE,[ch.TOPIC]:y.DEFAULT_VALUE,[ch.MODALITY]:"speech"};class Th{constructor(t){this.order=t}parse(t){const s=t.split("."),i={};if(s.length>this.order.length)throw new Error("Invalid dynamic constraint: "+i);let r=0;for(let t,e=0;t=this.order[e],s.length;e++,r++){const r=s.shift();i[t]=r}return new y(i,this.order.slice(0,r))}}class Lh{constructor(t,e=new _h(t.getProperties(),t.getOrder())){this.reference=t,this.fallback=e,this.order=this.reference.getOrder()}getReference(){return this.reference}setReference(t,e){this.reference=t,this.fallback=e||new _h(t.getProperties(),t.getOrder()),this.order=this.reference.getOrder()}match(s){const t=s.getAxes();return t.length===this.reference.getAxes().length&&t.every(t=>{var e=s.getValue(t);return e===this.reference.getValue(t)||-1!==this.fallback.getProperty(t).indexOf(e)})}compare(s,i){let r=!1;for(let t,e=0;t=this.order[e];e++){var n=s.getValue(t),o=i.getValue(t);if(!r){const s=this.reference.getValue(t);if(s===n&&s!==o)return-1;if(s===o&&s!==n)return 1;if(s===n&&s===o)continue;s!==n&&s!==o&&(r=!0)}const a=this.fallback.getProperty(t),l=a.indexOf(n),h=a.indexOf(o);if(l<h)return-1;if(h<l)return 1}return 0}toString(){return this.reference.toString()+"\n"+this.fallback.toString()}}(mt=dh=dh||{}).SYNC="sync",mt.ASYNC="async",mt.HTTP="http",(gt=uh=uh||{}).PITCH="pitch",gt.RATE="rate",gt.VOLUME="volume",gt.PAUSE="pause",gt.JOIN="join",gt.LAYOUT="layout",uh.PITCH,uh.RATE,uh.VOLUME,uh.PAUSE,uh.JOIN,(Ct=ph=ph||{}).NONE="none",Ct.SHALLOW="shallow",Ct.DEEP="deep",(Lt=mh=mh||{}).NONE="none",Lt.LAYOUT="layout",Lt.COUNTING="counting",Lt.PUNCTUATION="punctuation",Lt.SSML="ssml",Lt.ACSS="acss",Lt.SABLE="sable",Lt.VOICEXML="voicexml";var wh=__webpack_require__(74);class v{static getInstance(){return v.instance=v.instance||new v,v.instance}init(t){return t&&this.startDebugFile_(t),this.isActive_=!0,this.fileHandle}output(...t){this.isActive_&&this.output_(t)}generate(t){this.isActive_&&this.output_(t.apply(t,[]))}exit(t=()=>{}){this.fileHandle.then(()=>{this.isActive_&&this.stream_&&this.stream_.end("","",t)})}constructor(){this.isActive_=!1,this.fileHandle=Promise.resolve(),this.stream_=null}startDebugFile_(e){this.fileHandle=wh.f.fs.promises.open(e,"w"),this.fileHandle=this.fileHandle.then(t=>{this.stream_=t.createWriteStream(e),this.outputFunction=function(...t){this.stream_.write(t.join(" ")),this.stream_.write("\n")}.bind(this),this.stream_.on("error",function(t){console.info("Invalid log file. Debug information sent to console."),this.outputFunction=console.info}.bind(this)),this.stream_.on("finish",function(){console.info("Finalizing debug file.")})})}output_(t){this.stream_?this.fileHandle.then(()=>this.outputFunction.apply(this.outputFunction,["Speech Rule Engine Debugger:"].concat(t))):console.info.apply(console,["Speech Rule Engine Debugger:"].concat(t))}}var Ih,C,Sh,_,Rh,kh,Mh,Ah,Oh=__webpack_require__(714);class Dh{constructor(t={}){this.delay=!1,this.domain="clearspeak",this.style=y.DEFAULT_VALUES[ch.STYLE],this.locale=y.DEFAULT_VALUES[ch.LOCALE],this.subiso="",this.modality=y.DEFAULT_VALUES[ch.MODALITY],this.speech=ph.NONE,this.markup=mh.NONE,this.mark=!0,this.automark=!1,this.character=!0,this.cleanpause=!0,this.cayleyshort=!0,this.linebreaks=!1,this.rate="100",this.walker="Table",this.structure=!1,this.aria=!1,this.tree=!1,this.strict=!1,this.pprint=!1,this.rules="",this.prune="",this.set(t)}set(t){this.ensureDomain(t);for(var[e,s]of Object.entries(t))(Dh.BINARY_FEATURES.includes(e)||Dh.STRING_FEATURES.includes(e))&&(this[e]=s)}json(){const e={};return[].concat(Dh.STRING_FEATURES,Dh.BINARY_FEATURES).forEach(t=>e[t]=this[t]),e}ensureDomain(t){var e,s;t.modality&&"speech"!==t.modality||!t.modality&&"speech"!==this.modality||(t.domain||t.locale)&&("default"===t.domain?t.domain="mathspeak":(e=t.locale||this.locale,s=t.domain||this.domain,-1===Ph.indexOf(e)||"mathspeak"===s?"en"!==e?"mathspeak"!==s&&"clearspeak"!==s&&(t.domain="mathspeak"):-1===Bh.indexOf(s)&&(t.domain="mathspeak"):t.domain="mathspeak"))}}Dh.BINARY_FEATURES=["automark","mark","character","cleanpause","strict","structure","aria","pprint","cayleyshort","linebreaks","tree"],Dh.STRING_FEATURES=["markup","style","domain","speech","walker","locale","delay","modality","rate","rules","subiso","prune"];const Ph=["ca","da","es"],Bh=["chromevox","clearspeak","mathspeak","emacspeak","html"];class jh extends Error{constructor(t=""){super(),this.message=t,this.name="SRE Error"}}class Uh{set defaultLocale(t){this._defaultLocale=Oh.u.ensureLocale(t,this._defaultLocale)}get defaultLocale(){return this._defaultLocale}static getInstance(){return Uh.instance=Uh.instance||new Uh,Uh.instance}static defaultEvaluator(t,e){return t}static evaluateNode(t){return Uh.nodeEvaluator(t)}getRate(){var t=parseInt(this.options.rate,10);return isNaN(t)?100:t}setDynamicCstr(e){if(this.defaultLocale&&(y.DEFAULT_VALUES[ch.LOCALE]=this.defaultLocale),e){const s=Object.keys(e);for(let t=0;t<s.length;t++){const i=s[t];if(-1!==y.DEFAULT_ORDER.indexOf(i)){const s=e[i];this.options[i]=s}}}const s=[this.options.locale,this.options.modality,this.options.domain,this.options.style].join("."),t=_h.createProp([y.DEFAULT_VALUES[ch.LOCALE]],[y.DEFAULT_VALUES[ch.MODALITY]],[y.DEFAULT_VALUES[ch.DOMAIN]],[y.DEFAULT_VALUES[ch.STYLE]]),i=this.comparators[this.options.domain],r=this.parsers[this.options.domain];this.parser=r||this.defaultParser,this.dynamicCstr=this.parser.parse(s),this.dynamicCstr.updateProperties(t.getProperties()),this.comparator=i?i():new Lh(this.dynamicCstr)}constructor(){this.options=new Dh,this.config=!1,this.customLoader=null,this.parsers={},this.comparator=null,this.mode=dh.SYNC,this.init=!0,this.comparators={},this._defaultLocale=y.DEFAULT_VALUES[ch.LOCALE],this.options.locale=this.defaultLocale,this.evaluator=Uh.defaultEvaluator,this.defaultParser=new Th(y.DEFAULT_ORDER),this.parser=this.defaultParser,this.dynamicCstr=y.defaultCstr()}configurate(t){if(this.mode===dh.HTTP&&!wh.f.webworker&&!this.config){{var s=t;const o=document.documentElement.querySelectorAll('script[type="text/x-sre-config"]');for(let e=0,t=o.length;e<t;e++){let t;try{t=o[e].innerHTML;var i=JSON.parse(t);for(const[o,a]of Object.entries(i))s[o]=a}catch(s){v.getInstance().output("Illegal configuration ",t)}}}this.config=!0}var e=t;if("undefined"!=typeof SREfeature)for(var[r,n]of Object.entries(SREfeature))e[r]=n}setCustomLoader(t){t&&(this.customLoader=t)}setup(t){var e;void 0!==t.mode&&(this.mode=t.mode),this.configurate(t),this.options.set(t),t.json&&(wh.f.jsonPath=(e=t.json).match("/$")?e:e+"/"),this.setCustomLoader(t.custom)}json(){return Object.assign({mode:this.mode},this.options.json())}reset(){this.options=new Dh}}Uh.nodeEvaluator=function(t){return[]};class Fh{static get(t=Uh.getInstance().options.locale){return Fh.promises[t]||Promise.resolve("")}static getall(){return Promise.all(Object.values(Fh.promises))}}Fh.loaded={},Fh.promises={};const Hh=wh.f.xpath,qh={xhtml:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",mml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function Wh(t){return qh[t]||null}class zh{constructor(){this.lookupNamespaceURI=Wh}}function Vh(s){const i=[];for(let t=0,e=s.length;t<e;t++)i.push(s[t]);return i}function Xh(t){const e=new wh.f.xmldom.DOMParser,s=t.replace(/&nbsp;/g,"Â ").replace(/>[ \f\n\r\t\v\u200b]+</g,"><").trim(),i=!!s.match(/&(?!lt|gt|amp|quot|apos)\w+;/g);if(!s)throw new Error("Empty input!");try{const t=e.parseFromString(s,i?"text/html":"text/xml");return Uh.getInstance().mode===dh.HTTP?(Hh.currentDocument=t,i?t.body.childNodes[0]:t.documentElement):t.documentElement}catch(t){throw new jh("Illegal input: "+t.message)}}function Jh(t,e){t.parentNode&&(t.parentNode.insertBefore(e,t),t.parentNode.removeChild(t))}function Gh(t){return wh.f.document.createElement(t)}function Kh(t){let s="",i=/(>)(<)(\/*)/g,r=0,n=(t=t.replace(i,"$1\r\n$2$3")).split("\r\n");for(i=/(\.)*(<)(\/*)/g,n=n.map(t=>t.replace(i,"$1\r\n$2$3").split("\r\n")).reduce((t,e)=>t.concat(e),[]);n.length;){let e=n.shift();if(e){let t=0;if(e.match(/^<\w[^>/]*>[^>]+$/)){const s=function(t,e){if(!e)return[!1,""];t=t.match(/^<([^> ]+).*>/),e=e.match(/^<\/([^>]+)>(.*)/);return t&&e&&t[1]===e[1]?[!0,e[2]]:[!1,""]}(e,n[0]);s[0]?s[1]?(e+=n.shift().slice(0,-s[1].length),s[1].trim()&&n.unshift(s[1])):e+=n.shift():t=1}else if(e.match(/^<\/\w/))0!==r&&--r;else if(e.match(/^<\w[^>]*[^/]>.*$/))t=1;else if(e.match(/^<\w[^>]*\/>.+$/)){const s=e.indexOf(">")+1,i=e.slice(s);i.trim()&&n.unshift(),e=e.slice(0,s)+i}else t=0;s+=new Array(r+1).join("  ")+e+"\r\n",r+=t}}return s}function T(t){return t.tagName.toUpperCase()}function Yh(t){return(new wh.f.xmldom.XMLSerializer).serializeToString(t)}(It=Ih=Ih||{})[It.ELEMENT_NODE=1]="ELEMENT_NODE",It[It.ATTRIBUTE_NODE=2]="ATTRIBUTE_NODE",It[It.TEXT_NODE=3]="TEXT_NODE",It[It.CDATA_SECTION_NODE=4]="CDATA_SECTION_NODE",It[It.ENTITY_REFERENCE_NODE=5]="ENTITY_REFERENCE_NODE",It[It.ENTITY_NODE=6]="ENTITY_NODE",It[It.PROCESSING_INSTRUCTION_NODE=7]="PROCESSING_INSTRUCTION_NODE",It[It.COMMENT_NODE=8]="COMMENT_NODE",It[It.DOCUMENT_NODE=9]="DOCUMENT_NODE",It[It.DOCUMENT_TYPE_NODE=10]="DOCUMENT_TYPE_NODE",It[It.DOCUMENT_FRAGMENT_NODE=11]="DOCUMENT_FRAGMENT_NODE",It[It.NOTATION_NODE=12]="NOTATION_NODE";class $h{constructor(t,e,s){this.domain=t,this.name=e,this.func=s,this.active=!1}annotate(t){t.childNodes.forEach(this.annotate.bind(this)),t.contentNodes.forEach(this.annotate.bind(this)),t.addAnnotation(this.domain,this.func(t))}}class Qh{constructor(t,e,s,i={}){this.domain=t,this.name=e,this.func=s,this.def=i,this.active=!1}visit(s,t){let i=this.func(s,t);s.addAnnotation(this.domain,i[0]);for(let t,e=0;t=s.childNodes[e];e++)i=this.visit(t,i[1]);for(let t,e=0;t=s.contentNodes[e];e++)i=this.visit(t,i[1]);return i}}const Zh=new Map,tc=new Map;function ec(t){var e=t.domain+":"+t.name;(t instanceof $h?Zh:tc).set(e,t)}function sc(t,e){const s=t+":"+e,i=Zh.get(s)||tc.get(s);i&&(i.active=!0)}function ic([t,e],s){const i=parseInt(t,16),r=parseInt(e,16),n=[];for(let e=i;e<=r;e++){let t=3<(o=(o=e).toString(16).toUpperCase()).length?o:("000"+o).slice(-4);!1!==s[t]&&(t=s[t]||t,n.push(t))}var o;return n}function rc(t,e={}){return ic(t,e).map(t=>String.fromCodePoint(parseInt(t,16)))}(ht=C=C||{}).BOLD="bold",ht.BOLDFRAKTUR="bold-fraktur",ht.BOLDITALIC="bold-italic",ht.BOLDSCRIPT="bold-script",ht.DOUBLESTRUCK="double-struck",ht.DOUBLESTRUCKITALIC="double-struck-italic",ht.FULLWIDTH="fullwidth",ht.FRAKTUR="fraktur",ht.ITALIC="italic",ht.MONOSPACE="monospace",ht.NORMAL="normal",ht.SCRIPT="script",ht.SANSSERIF="sans-serif",ht.SANSSERIFITALIC="sans-serif-italic",ht.SANSSERIFBOLD="sans-serif-bold",ht.SANSSERIFBOLDITALIC="sans-serif-bold-italic",(wt=Sh=Sh||{}).SUPER="super",wt.SUB="sub",wt.CIRCLED="circled",wt.PARENTHESIZED="parenthesized",wt.PERIOD="period",wt.NEGATIVECIRCLED="negative-circled",wt.DOUBLECIRCLED="double-circled",wt.CIRCLEDSANSSERIF="circled-sans-serif",wt.NEGATIVECIRCLEDSANSSERIF="negative-circled-sans-serif",wt.COMMA="comma",wt.SQUARED="squared",wt.NEGATIVESQUARED="negative-squared",(_t=_=_||{}).LATINCAP="latinCap",_t.LATINSMALL="latinSmall",_t.GREEKCAP="greekCap",_t.GREEKSMALL="greekSmall",_t.DIGIT="digit";const nc=[{interval:["1D400","1D419"],base:_.LATINCAP,subst:{},capital:!0,category:"Lu",font:C.BOLD},{interval:["1D41A","1D433"],base:_.LATINSMALL,subst:{},capital:!1,category:"Ll",font:C.BOLD},{interval:["1D56C","1D585"],base:_.LATINCAP,subst:{},capital:!0,category:"Lu",font:C.BOLDFRAKTUR},{interval:["1D586","1D59F"],base:_.LATINSMALL,subst:{},capital:!1,category:"Ll",font:C.BOLDFRAKTUR},{interval:["1D468","1D481"],base:_.LATINCAP,subst:{},capital:!0,category:"Lu",font:C.BOLDITALIC},{interval:["1D482","1D49B"],base:_.LATINSMALL,subst:{},capital:!1,category:"Ll",font:C.BOLDITALIC},{interval:["1D4D0","1D4E9"],base:_.LATINCAP,subst:{},capital:!0,category:"Lu",font:C.BOLDSCRIPT},{interval:["1D4EA","1D503"],base:_.LATINSMALL,subst:{},capital:!1,category:"Ll",font:C.BOLDSCRIPT},{interval:["1D538","1D551"],base:_.LATINCAP,subst:{"1D53A":"2102","1D53F":"210D","1D545":"2115","1D547":"2119","1D548":"211A","1D549":"211D","1D551":"2124"},capital:!0,category:"Lu",font:C.DOUBLESTRUCK},{interval:["1D552","1D56B"],base:_.LATINSMALL,subst:{},capital:!1,category:"Ll",font:C.DOUBLESTRUCK},{interval:["1D504","1D51D"],base:_.LATINCAP,subst:{"1D506":"212D","1D50B":"210C","1D50C":"2111","1D515":"211C","1D51D":"2128"},capital:!0,category:"Lu",font:C.FRAKTUR},{interval:["1D51E","1D537"],base:_.LATINSMALL,subst:{},capital:!1,category:"Ll",font:C.FRAKTUR},{interval:["FF21","FF3A"],base:_.LATINCAP,subst:{},capital:!0,category:"Lu",font:C.FULLWIDTH},{interval:["FF41","FF5A"],base:_.LATINSMALL,subst:{},capital:!1,category:"Ll",font:C.FULLWIDTH},{interval:["1D434","1D44D"],base:_.LATINCAP,subst:{},capital:!0,category:"Lu",font:C.ITALIC},{interval:["1D44E","1D467"],base:_.LATINSMALL,subst:{"1D455":"210E"},capital:!1,category:"Ll",font:C.ITALIC},{interval:["1D670","1D689"],base:_.LATINCAP,subst:{},capital:!0,category:"Lu",font:C.MONOSPACE},{interval:["1D68A","1D6A3"],base:_.LATINSMALL,subst:{},capital:!1,category:"Ll",font:C.MONOSPACE},{interval:["0041","005A"],base:_.LATINCAP,subst:{},capital:!0,category:"Lu",font:C.NORMAL},{interval:["0061","007A"],base:_.LATINSMALL,subst:{},capital:!1,category:"Ll",font:C.NORMAL},{interval:["1D49C","1D4B5"],base:_.LATINCAP,subst:{"1D49D":"212C","1D4A0":"2130","1D4A1":"2131","1D4A3":"210B","1D4A4":"2110","1D4A7":"2112","1D4A8":"2133","1D4AD":"211B"},capital:!0,category:"Lu",font:C.SCRIPT},{interval:["1D4B6","1D4CF"],base:_.LATINSMALL,subst:{"1D4BA":"212F","1D4BC":"210A","1D4C4":"2134"},capital:!1,category:"Ll",font:C.SCRIPT},{interval:["1D5A0","1D5B9"],base:_.LATINCAP,subst:{},capital:!0,category:"Lu",font:C.SANSSERIF},{interval:["1D5BA","1D5D3"],base:_.LATINSMALL,subst:{},capital:!1,category:"Ll",font:C.SANSSERIF},{interval:["1D608","1D621"],base:_.LATINCAP,subst:{},capital:!0,category:"Lu",font:C.SANSSERIFITALIC},{interval:["1D622","1D63B"],base:_.LATINSMALL,subst:{},capital:!1,category:"Ll",font:C.SANSSERIFITALIC},{interval:["1D5D4","1D5ED"],base:_.LATINCAP,subst:{},capital:!0,category:"Lu",font:C.SANSSERIFBOLD},{interval:["1D5EE","1D607"],base:_.LATINSMALL,subst:{},capital:!1,category:"Ll",font:C.SANSSERIFBOLD},{interval:["1D63C","1D655"],base:_.LATINCAP,subst:{},capital:!0,category:"Lu",font:C.SANSSERIFBOLDITALIC},{interval:["1D656","1D66F"],base:_.LATINSMALL,subst:{},capital:!1,category:"Ll",font:C.SANSSERIFBOLDITALIC},{interval:["0391","03A9"],base:_.GREEKCAP,subst:{"03A2":"03F4"},capital:!0,category:"Lu",font:C.NORMAL},{interval:["03B0","03D0"],base:_.GREEKSMALL,subst:{"03B0":"2207","03CA":"2202","03CB":"03F5","03CC":"03D1","03CD":"03F0","03CE":"03D5","03CF":"03F1","03D0":"03D6"},capital:!1,category:"Ll",font:C.NORMAL},{interval:["1D6A8","1D6C0"],base:_.GREEKCAP,subst:{},capital:!0,category:"Lu",font:C.BOLD},{interval:["1D6C1","1D6E1"],base:_.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:C.BOLD},{interval:["1D6E2","1D6FA"],base:_.GREEKCAP,subst:{},capital:!0,category:"Lu",font:C.ITALIC},{interval:["1D6FB","1D71B"],base:_.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:C.ITALIC},{interval:["1D71C","1D734"],base:_.GREEKCAP,subst:{},capital:!0,category:"Lu",font:C.BOLDITALIC},{interval:["1D735","1D755"],base:_.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:C.BOLDITALIC},{interval:["1D756","1D76E"],base:_.GREEKCAP,subst:{},capital:!0,category:"Lu",font:C.SANSSERIFBOLD},{interval:["1D76F","1D78F"],base:_.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:C.SANSSERIFBOLD},{interval:["1D790","1D7A8"],base:_.GREEKCAP,subst:{},capital:!0,category:"Lu",font:C.SANSSERIFBOLDITALIC},{interval:["1D7A9","1D7C9"],base:_.GREEKSMALL,subst:{},capital:!1,category:"Ll",font:C.SANSSERIFBOLDITALIC},{interval:["0030","0039"],base:_.DIGIT,subst:{},offset:0,category:"Nd",font:C.NORMAL},{interval:["2070","2079"],base:_.DIGIT,subst:{2071:"00B9",2072:"00B2",2073:"00B3"},offset:0,category:"No",font:Sh.SUPER},{interval:["2080","2089"],base:_.DIGIT,subst:{},offset:0,category:"No",font:Sh.SUB},{interval:["245F","2473"],base:_.DIGIT,subst:{"245F":"24EA"},offset:0,category:"No",font:Sh.CIRCLED},{interval:["3251","325F"],base:_.DIGIT,subst:{},offset:21,category:"No",font:Sh.CIRCLED},{interval:["32B1","32BF"],base:_.DIGIT,subst:{},offset:36,category:"No",font:Sh.CIRCLED},{interval:["2474","2487"],base:_.DIGIT,subst:{},offset:1,category:"No",font:Sh.PARENTHESIZED},{interval:["2487","249B"],base:_.DIGIT,subst:{2487:"1F100"},offset:0,category:"No",font:Sh.PERIOD},{interval:["2775","277F"],base:_.DIGIT,subst:{2775:"24FF"},offset:0,category:"No",font:Sh.NEGATIVECIRCLED},{interval:["24EB","24F4"],base:_.DIGIT,subst:{},offset:11,category:"No",font:Sh.NEGATIVECIRCLED},{interval:["24F5","24FE"],base:_.DIGIT,subst:{},offset:1,category:"No",font:Sh.DOUBLECIRCLED},{interval:["277F","2789"],base:_.DIGIT,subst:{"277F":"1F10B"},offset:0,category:"No",font:Sh.CIRCLEDSANSSERIF},{interval:["2789","2793"],base:_.DIGIT,subst:{2789:"1F10C"},offset:0,category:"No",font:Sh.NEGATIVECIRCLEDSANSSERIF},{interval:["FF10","FF19"],base:_.DIGIT,subst:{},offset:0,category:"Nd",font:C.FULLWIDTH},{interval:["1D7CE","1D7D7"],base:_.DIGIT,subst:{},offset:0,category:"Nd",font:C.BOLD},{interval:["1D7D8","1D7E1"],base:_.DIGIT,subst:{},offset:0,category:"Nd",font:C.DOUBLESTRUCK},{interval:["1D7E2","1D7EB"],base:_.DIGIT,subst:{},offset:0,category:"Nd",font:C.SANSSERIF},{interval:["1D7EC","1D7F5"],base:_.DIGIT,subst:{},offset:0,category:"Nd",font:C.SANSSERIFBOLD},{interval:["1D7F6","1D7FF"],base:_.DIGIT,subst:{},offset:0,category:"Nd",font:C.MONOSPACE},{interval:["1F101","1F10A"],base:_.DIGIT,subst:{},offset:0,category:"No",font:Sh.COMMA},{interval:["24B6","24CF"],base:_.LATINCAP,subst:{},capital:!0,category:"So",font:Sh.CIRCLED},{interval:["24D0","24E9"],base:_.LATINSMALL,subst:{},capital:!1,category:"So",font:Sh.CIRCLED},{interval:["1F110","1F129"],base:_.LATINCAP,subst:{},capital:!0,category:"So",font:Sh.PARENTHESIZED},{interval:["249C","24B5"],base:_.LATINSMALL,subst:{},capital:!1,category:"So",font:Sh.PARENTHESIZED},{interval:["1F130","1F149"],base:_.LATINCAP,subst:{},capital:!0,category:"So",font:Sh.SQUARED},{interval:["1F170","1F189"],base:_.LATINCAP,subst:{},capital:!0,category:"So",font:Sh.NEGATIVESQUARED},{interval:["1F150","1F169"],base:_.LATINCAP,subst:{},capital:!0,category:"So",font:Sh.NEGATIVECIRCLED}],oc=new Map;function ac(t,e){return t+e.split("-").map(t=>t[0].toUpperCase()+t.slice(1)).join("")}for(const P of nc){const B=ac(P.base,P.font),j=rc(P.interval,P.subst);let t=oc.get(B);t?t.unicode=t.unicode.concat(j):((t=P).unicode=j,oc.set(B,t))}(e=Rh=Rh||{}).PUNCTUATION="punctuation",e.FENCE="fence",e.NUMBER="number",e.IDENTIFIER="identifier",e.TEXT="text",e.OPERATOR="operator",e.RELATION="relation",e.LARGEOP="largeop",e.FUNCTION="function",e.ACCENT="accent",e.FENCED="fenced",e.FRACTION="fraction",e.PUNCTUATED="punctuated",e.RELSEQ="relseq",e.MULTIREL="multirel",e.INFIXOP="infixop",e.PREFIXOP="prefixop",e.POSTFIXOP="postfixop",e.APPL="appl",e.INTEGRAL="integral",e.BIGOP="bigop",e.SQRT="sqrt",e.ROOT="root",e.LIMUPPER="limupper",e.LIMLOWER="limlower",e.LIMBOTH="limboth",e.SUBSCRIPT="subscript",e.SUPERSCRIPT="superscript",e.UNDERSCORE="underscore",e.OVERSCORE="overscore",e.TENSOR="tensor",e.TABLE="table",e.MULTILINE="multiline",e.MATRIX="matrix",e.VECTOR="vector",e.CASES="cases",e.ROW="row",e.LINE="line",e.CELL="cell",e.ENCLOSE="enclose",e.INFERENCE="inference",e.RULELABEL="rulelabel",e.CONCLUSION="conclusion",e.PREMISES="premises",e.UNKNOWN="unknown",e.EMPTY="empty";const L=Object.assign({},Rh),w=((s=kh=kh||{}).COMMA="comma",s.SEMICOLON="semicolon",s.ELLIPSIS="ellipsis",s.FULLSTOP="fullstop",s.QUESTION="question",s.EXCLAMATION="exclamation",s.QUOTES="quotes",s.DASH="dash",s.TILDE="tilde",s.PRIME="prime",s.DEGREE="degree",s.VBAR="vbar",s.COLON="colon",s.OPENFENCE="openfence",s.CLOSEFENCE="closefence",s.APPLICATION="application",s.DUMMY="dummy",s.UNIT="unit",s.LABEL="label",s.OPEN="open",s.CLOSE="close",s.TOP="top",s.BOTTOM="bottom",s.NEUTRAL="neutral",s.METRIC="metric",s.LATINLETTER="latinletter",s.GREEKLETTER="greekletter",s.OTHERLETTER="otherletter",s.NUMBERSET="numbersetletter",s.INTEGER="integer",s.FLOAT="float",s.OTHERNUMBER="othernumber",s.INFTY="infty",s.MIXED="mixed",s.MULTIACCENT="multiaccent",s.OVERACCENT="overaccent",s.UNDERACCENT="underaccent",s.UNDEROVER="underover",s.SUBSUP="subsup",s.LEFTSUB="leftsub",s.LEFTSUPER="leftsuper",s.RIGHTSUB="rightsub",s.RIGHTSUPER="rightsuper",s.LEFTRIGHT="leftright",s.ABOVEBELOW="abovebelow",s.INTERVAL="interval",s.SETEMPTY="set empty",s.SETEXT="set extended",s.SETSINGLE="set singleton",s.SETCOLLECT="set collection",s.STRING="string",s.SPACE="space",s.ANNOTATION="annotation",s.TEXT="text",s.SEQUENCE="sequence",s.ENDPUNCT="endpunct",s.STARTPUNCT="startpunct",s.NEGATIVE="negative",s.POSITIVE="positive",s.NEGATION="negation",s.MULTIOP="multiop",s.PREFIXOP="prefix operator",s.POSTFIXOP="postfix operator",s.LIMFUNC="limit function",s.INFIXFUNC="infix function",s.PREFIXFUNC="prefix function",s.POSTFIXFUNC="postfix function",s.SIMPLEFUNC="simple function",s.COMPFUNC="composed function",s.SUM="sum",s.INTEGRAL="integral",s.GEOMETRY="geometry",s.BOX="box",s.BLOCK="block",s.ADDITION="addition",s.MULTIPLICATION="multiplication",s.SUBTRACTION="subtraction",s.IMPLICIT="implicit",s.DIVISION="division",s.VULGAR="vulgar",s.EQUALITY="equality",s.INEQUALITY="inequality",s.ARROW="arrow",s.ELEMENT="element",s.NONELEMENT="nonelement",s.REELEMENT="reelement",s.RENONELEMENT="renonelement",s.SET="set",s.DETERMINANT="determinant",s.ROWVECTOR="rowvector",s.BINOMIAL="binomial",s.SQUAREMATRIX="squarematrix",s.CYCLE="cycle",s.MULTILINE="multiline",s.MATRIX="matrix",s.VECTOR="vector",s.CASES="cases",s.TABLE="table",s.CAYLEY="cayley",s.PROOF="proof",s.LEFT="left",s.RIGHT="right",s.UP="up",s.DOWN="down",s.FINAL="final",s.SINGLE="single",s.HYP="hyp",s.AXIOM="axiom",s.LOGIC="logic",s.UNKNOWN="unknown",s.MGLYPH="mglyph",Object.assign({},kh)),I=((ot=Mh=Mh||{}).CALIGRAPHIC="caligraphic",ot.CALIGRAPHICBOLD="caligraphic-bold",ot.OLDSTYLE="oldstyle",ot.OLDSTYLEBOLD="oldstyle-bold",ot.UNKNOWN="unknown",Object.assign(Object.assign(Object.assign({},C),Mh),Sh)),lc=((zt=Ah=Ah||{}).ALLLETTERS="allLetters",zt.D="d",zt.BAR="bar",zt.TILDE="tilde",Object.assign(Object.assign({},_),Ah));const hc={functionApplication:String.fromCodePoint(8289),invisibleTimes:String.fromCodePoint(8290),invisibleComma:String.fromCodePoint(8291),invisiblePlus:String.fromCodePoint(8292)};class cc extends Map{get(t){return super.get(t)||{role:w.UNKNOWN,type:L.UNKNOWN,font:I.UNKNOWN}}}class dc extends Map{set(t,e,s=""){return super.set(this.secKey(e,t),s||e),this}has(t,e){return super.has(this.secKey(e,t))}get(t,e){return super.get(this.secKey(e,t))}secKey(t,e){return e?t+" "+e:""+t}}const uc={Meaning:new cc,Secondary:new dc,FencesHoriz:new Map,FencesVert:new Map,LatexCommands:new Map};function pc(t,e){for(const s of t)uc.Meaning.set(s,{role:e.role||w.UNKNOWN,type:e.type||L.UNKNOWN,font:e.font||I.UNKNOWN}),e.secondary&&uc.Secondary.set(s,e.secondary)}function mc(t,s,e=1){const i={},r=function(){let t=[];for(const e of s)Array.isArray(e)?t=t.concat(ic(e,{}).map(t=>parseInt(t,16))):t.push(parseInt(e,16));return t}();for(const s of r)i[s]||(t.set(String.fromCodePoint(s),String.fromCodePoint(s+e)),i[s]=!0,i[s+e]=!0)}var S,fc,R,gc,bc,Ec,K=["cos","cot","csc","sec","sin","tan","arccos","arccot","arccsc","arcsec","arcsin","arctan"].concat(["cosh","coth","csch","sech","sinh","tanh","arcosh","arcoth","arcsch","arsech","arsinh","artanh"],["deg","det","dim","hom","ker","Tr"],["log","ln","lg","exp","gcd","lcm","arg","im","re","Pr"]);function Nc(t,s,i,e,r,n=[],o={},a={}){const l=oc.get(ac(t,e));if(l){l.unicode.forEach(e=>{uc.Meaning.set(e,{type:s,role:i,font:r}),n.forEach(t=>uc.Secondary.set(e,t))});var h,c,d=l.unicode,u=o;for([h,c]of Object.entries(u)){const u=d[h];void 0!==u&&uc.Meaning.set(u,c)}var p,m,f=l.unicode,g=a;for([p,m]of Object.entries(g)){const g=f[p];void 0!==g&&uc.Secondary.set(g,m)}}}[{set:["23","26","40","5c","a1","a7","b6","bf","2017",["2022","2025"],"2027","203b","203c",["2041","2043"],["2047","2049"],["204b","204d"],"2050","2055","2056",["2058","205e"],"2234","2235","fe45","fe46","fe5f","fe60","fe68","fe6b","ff03","ff06","ff0f","ff20","ff3c"],type:L.PUNCTUATION,role:w.UNKNOWN},{set:["22","ab","bb","2dd",["2018","201f"],"2039","203a",["301d","301f"],"fe10","ff02","ff07"],type:L.PUNCTUATION,role:w.QUOTES},{set:["3b","204f","2a1f","2a3e","fe14","fe54","ff1b"],type:L.PUNCTUATION,role:w.SEMICOLON},{set:["3f","203d","fe16","fe56","ff1f"],type:L.PUNCTUATION,role:w.QUESTION},{set:["21","fe15","fe57","ff01"],type:L.PUNCTUATION,role:w.EXCLAMATION},{set:["5e","60","a8","aa","b4","ba","2c7",["2d8","2da"],"2040","207a","207d","207e","ff3e","ff40"],type:L.PUNCTUATION,role:w.OVERACCENT},{set:["b8","2db","2038","203f","2054","208a","208d","208e"],type:L.PUNCTUATION,role:w.UNDERACCENT},{set:["3a","2982","fe13","fe30","fe55","ff1a"],type:L.PUNCTUATION,role:w.COLON},{set:["2c","2063","fe50","ff0c"],type:L.PUNCTUATION,role:w.COMMA},{set:["2026",["22ee","22f1"],"fe19"],type:L.PUNCTUATION,role:w.ELLIPSIS},{set:["2e","fe52","ff0e"],type:L.PUNCTUATION,role:w.FULLSTOP},{set:["2d","207b","208b","2212","2796","fe63","ff0d"],type:L.OPERATOR,role:w.DASH,secondary:lc.BAR},{set:["5f","af",["2010","2015"],"203e","208b",["fe49","fe4f"],"fe58","ff3f","ffe3"],type:L.PUNCTUATION,role:w.DASH,secondary:lc.BAR},{set:["7e","2dc","2f7","303","330","334","2053","223c","223d","301c","ff5e"],type:L.OPERATOR,role:w.TILDE,secondary:lc.TILDE},{set:["27","2b9","2ba",["2032","2037"],"2057"],type:L.PUNCTUATION,role:w.PRIME},{set:["b0"],type:L.PUNCTUATION,role:w.DEGREE},{set:["2b","b1","2064","2213","2214","2228","222a",["228c","228e"],"2294","2295","229d","229e","22bb","22bd","22c4","22ce","22d3","2304","271b","271c","2795","27cf","29fa","29fb","29fe",["2a22","2a28"],"2a2d","2a2e","2a39","2a42","2a45","2a46","2a48","2a4a","2a4c","2a4f","2a50","2a52","2a54","2a56","2a57","2a59","2a5b","2a5d",["2a61","2a63"],"2adc","2add","fe62","ff0b"],type:L.OPERATOR,role:w.ADDITION},{set:["2a","b7","d7","2020","2021","204e","2051","2062",["2217","2219"],"2227","2229","2240","2293","2297",["2299","229b"],"22a0","22a1","22b9","22bc",["22c5","22cc"],"22cf","22d2","22d4","2303","2305","2306","25cb","2715","2716","27ce","27d1",["29d1","29d7"],"29e2","2a1d",["2a2f","2a37"],["2a3b","2a3d"],"2a40","2a43","2a44","2a47","2a49","2a4b","2a4d","2a4e","2a51","2a53","2a55","2a58","2a5a","2a5c",["2a5e","2a60"],"2ada","2adb","fe61","ff0a"],type:L.OPERATOR,role:w.MULTIPLICATION},{set:["2d","af","2010","2011","2052","207b","208b","2212","2216","2238","2242","2296","229f","2796","29ff",["2a29","2a2c"],"2a3a","2a41","fe63","ff0d"],type:L.OPERATOR,role:w.SUBTRACTION},{set:["2f","f7","2044","2215","2298","2797","27cc","29bc",["29f5","29f9"],"2a38"],type:L.OPERATOR,role:w.DIVISION},{set:["25","2030","2031","ff05","fe6a"],type:L.OPERATOR,role:w.POSTFIXOP},{set:["ac","2200","2201","2203","2204","2206",["221a","221c"],"2310","ffe2"],type:L.OPERATOR,role:w.PREFIXOP},{set:["2320","2321","23aa","23ae","23af","23b2","23b3","23b6","23b7"],type:L.OPERATOR,role:w.PREFIXOP},{set:["1d7ca","1d7cb"],type:L.OPERATOR,role:w.PREFIXOP,font:I.BOLD},{set:["3d","7e","207c","208c","221d","2237",["223a","223f"],"2243","2245","2248",["224a","224e"],["2251","225f"],"2261","2263","229c","22cd","22d5","29e4","29e6","2a66","2a67",["2a6a","2a6c"],["2a6c","2a78"],"fe66","ff1d"],type:L.RELATION,role:w.EQUALITY},{set:["3c","3e","2241","2242","2244","2246","2247","2249","224f","2250","2260","2262",["2264","2281"],"22b0","22b1",["22d6","22e1"],["22e6","22e9"],["2976","2978"],"29c0","29c1","29e1","29e3","29e5",["2a79","2abc"],["2af7","2afa"],"fe64","fe65","ff1c","ff1e"],type:L.RELATION,role:w.INEQUALITY},{set:[["2282","228b"],["228f","2292"],["22b2","22b8"],"22d0","22d1",["22e2","22e5"],["22ea","22ed"],"27c3","27c4",["27c7","27c9"],["27d5","27d7"],"27dc",["2979","297b"],"29df",["2abd","2ad8"]],type:L.RELATION,role:w.SET},{set:["2236",["27e0","27e5"],"292b","292c",["29b5","29bb"],"29be","29bf",["29c2","29d0"]],type:L.RELATION,role:w.UNKNOWN},{set:["2205",["29b0","29b4"]],type:L.IDENTIFIER,role:w.SETEMPTY},{set:["1ab2","221e",["29dc","29de"]],type:L.IDENTIFIER,role:w.INFTY},{set:["22a2","22a3",["22a6","22af"],"27da","27db","27dd","27de","2ade",["2ae2","2ae6"],"2aec","2aed"],type:L.RELATION,role:w.LOGIC},{set:["22a4","22a5","22ba","27d8","27d9","27df","2adf","2ae0",["2ae7","2aeb"],"2af1"],type:L.IDENTIFIER,role:w.LOGIC},{set:[["2190","21ff"],"2301","2324","238b","2794",["2798","27af"],["27b1","27be"],["27f0","27ff"],["2900","292a"],["292d","2975"],["297c","297f"],["2b00","2b11"],["2b30","2b4c"],["ffe9","ffec"]],type:L.RELATION,role:w.ARROW},{set:["2208","220a",["22f2","22f9"],"22ff","27d2","2ad9"],type:L.OPERATOR,role:w.ELEMENT},{set:["2209"],type:L.OPERATOR,role:w.NONELEMENT},{set:["220b","220d",["22fa","22fe"]],type:L.OPERATOR,role:w.REELEMENT},{set:["220c"],type:L.OPERATOR,role:w.RENONELEMENT},{set:[["220f","2211"],["22c0","22c3"],["2a00","2a0b"],"2a3f","2afc","2aff"],type:L.LARGEOP,role:w.SUM},{set:["2140"],type:L.LARGEOP,role:w.SUM,font:I.DOUBLESTRUCK},{set:[["222b","2233"],["2a0c","2a17"],["2a17","2a1c"]],type:L.LARGEOP,role:w.INTEGRAL},{set:[["2500","257F"]],type:L.RELATION,role:w.BOX},{set:[["2580","259F"]],type:L.IDENTIFIER,role:w.BLOCK},{set:[["25A0","25FF"],["2B12","2B2F"],["2B50","2B59"]],type:L.RELATION,role:w.GEOMETRY},{set:["220e","2300","2302","2311","29bd","29e0",["29e8","29f3"],"2a1e","2afe","ffed","ffee"],type:L.OPERATOR,role:w.GEOMETRY},{set:[["221f","2222"],"22be","22bf",["2312","2314"],"237c","27c0",["299b","29af"]],type:L.OPERATOR,role:w.GEOMETRY},{set:["24",["a2","a5"],"b5","2123",["2125","2127"],"212a","212b","fe69","ff04","ffe0","ffe1","ffe5","ffe6"],type:L.IDENTIFIER,role:w.UNKNOWN},{set:["a9","ae","210f","2114","2116","2117",["211e","2122"],"212e","2132",["2139","213b"],["2141","2144"],"214d","214e",["1f12a","1f12c"],"1f18a"],type:L.IDENTIFIER,role:w.OTHERLETTER},{set:["2224","2226","2239","2307","27b0","27bf","27c1","27c2","27ca","27cb","27cd","27d0","27d3","27d4","2981","2999","299a","29e7","29f4","2a20","2a21","2a64","2a65","2a68","2a69","2ae1",["2aee","2af0"],"2af2","2af3","2af5","2af6","2afb","2afd"],type:L.OPERATOR,role:w.UNKNOWN},{set:["2605","2606","26aa","26ab",["2720","274d"]],type:L.OPERATOR,role:w.UNKNOWN},{set:[["2145","2149"]],type:L.IDENTIFIER,role:w.LATINLETTER,font:I.DOUBLESTRUCKITALIC,secondary:lc.ALLLETTERS},{set:[["213c","213f"]],type:L.IDENTIFIER,role:w.GREEKLETTER,font:I.DOUBLESTRUCK,secondary:lc.ALLLETTERS},{set:["3d0","3d7","3f6",["1d26","1d2a"],"1d5e","1d60",["1d66","1d6a"]],type:L.IDENTIFIER,role:w.GREEKLETTER,font:I.NORMAL,secondary:lc.ALLLETTERS},{set:[["2135","2138"]],type:L.IDENTIFIER,role:w.OTHERLETTER,font:I.NORMAL,secondary:lc.ALLLETTERS},{set:["131","237"],type:L.IDENTIFIER,role:w.LATINLETTER,font:I.NORMAL},{set:["1d6a4","1d6a5"],type:L.IDENTIFIER,role:w.LATINLETTER,font:I.ITALIC},{set:["2113","2118"],type:L.IDENTIFIER,role:w.LATINLETTER,font:I.SCRIPT},{set:[["c0","d6"],["d8","f6"],["f8","1bf"],["1c4","2af"],["1d00","1d25"],["1d6b","1d9a"],["1e00","1ef9"],["363","36f"],["1dd3","1de6"],["1d62","1d65"],"1dca","2071","207f",["2090","209c"],"2c7c"],type:L.IDENTIFIER,role:w.LATINLETTER,font:I.NORMAL},{set:[["00bc","00be"],["2150","215f"],"2189"],type:L.NUMBER,role:w.FLOAT},{set:["23E8",["3248","324f"]],type:L.NUMBER,role:w.INTEGER},{set:[["214A","214C"],"2705","2713","2714","2717","2718"],type:L.IDENTIFIER,role:w.UNKNOWN},{set:["20","a0","ad",["2000","200f"],["2028","202f"],["205f","2060"],"206a","206b","206e","206f","feff",["fff9","fffb"]],type:L.TEXT,role:w.SPACE},{set:["7c","a6","2223","23b8","23b9","23d0","2758",["fe31","fe34"],"ff5c","ffe4","ffe8"],type:L.FENCE,role:w.NEUTRAL},{set:["2016","2225","2980","2af4"],type:L.FENCE,role:w.METRIC}].forEach(t=>{var s=t["set"],t=function(t,e){var s={};for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(s[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(s[r[i]]=t[r[i]]);return s}(t,["set"]);return pc(function(){let t=[];for(const e of s)Array.isArray(e)?t=t.concat(rc(e)):t.push(String.fromCodePoint(parseInt(e,16)));return t}(),t)}),mc(uc.FencesVert,["23b4",["23dc","23e1"],["fe35","fe44"],"fe47"]),mc(uc.FencesHoriz,["28","2045","207D","208D",["2308","230f"],["231c","231f"],"2329","23b0",["2768","2775"],"27c5",["27e6","27ef"],["2983","2998"],["29d8","29db"],"29fc",["2e22","2e29"],["3008","3011"],["3014","301b"],"fd3e","fe17",["fe59","fe5e"],"ff08","ff5f","ff62"]),mc(uc.FencesHoriz,["5b","7b","ff3b","ff5b"],2),mc(uc.FencesHoriz,[["239b","23a6"]],3),mc(uc.FencesHoriz,[["23a7","23a9"]],4),pc([...uc.FencesHoriz.keys()],{type:L.FENCE,role:w.OPEN}),pc([...uc.FencesHoriz.values()],{type:L.FENCE,role:w.CLOSE}),pc([...uc.FencesVert.keys()],{type:L.FENCE,role:w.TOP}),pc([...uc.FencesVert.values()],{type:L.FENCE,role:w.BOTTOM});for([bc,Ec]of Object.entries(I)){bc=Sh[bc]?I.UNKNOWN:Ec===I.FULLWIDTH?I.NORMAL:Ec;Nc(_.LATINCAP,L.IDENTIFIER,w.LATINLETTER,Ec,bc,[lc.ALLLETTERS]),Nc(_.LATINSMALL,L.IDENTIFIER,w.LATINLETTER,Ec,bc,[lc.ALLLETTERS],{},{3:lc.D}),Nc(_.GREEKCAP,L.IDENTIFIER,w.GREEKLETTER,Ec,bc,[lc.ALLLETTERS]),Nc(_.GREEKSMALL,L.IDENTIFIER,w.GREEKLETTER,Ec,bc,[lc.ALLLETTERS],{0:{type:L.OPERATOR,role:w.PREFIXOP,font:bc},26:{type:L.OPERATOR,role:w.PREFIXOP,font:bc}}),Nc(_.DIGIT,L.NUMBER,w.INTEGER,Ec,bc)}pc(["inf","lim","liminf","limsup","max","min","sup","injlim","projlim"],{type:L.FUNCTION,role:w.LIMFUNC}),pc(K,{type:L.FUNCTION,role:w.PREFIXFUNC}),pc(["mod","rem"],{type:L.OPERATOR,role:w.PREFIXFUNC});const xc=[];function yc(s,i){for(let t,e=0;t=xc[e];e++){var r=t.compare(s,i);if(0!==r)return r}return 0}function vc(t,e){return t.match(/^.+:.+$/)||!e?t:t+":"+e}new class{constructor(t,e=null){this.comparator=t,this.type=e,t=this,xc.push(t)}compare(t,e){return this.type&&this.type===t.type&&this.type===e.type?this.comparator(t,e):0}}(function(t,e){return t.role===w.SIMPLEFUNC?1:e.role===w.SIMPLEFUNC?-1:0},L.IDENTIFIER);class Cc extends Map{set(t,e){return super.set(vc(t,e.font),e),this}setNode(t){this.set(t.textContent,t.meaning())}get(t,e=null){return super.get(vc(t,e))}getNode(t){return this.get(t.textContent,t.font)}}class _c extends Map{add(t,e){const s=this.get(t);s?s.push(e):super.set(t,[e])}get(t,e=null){return super.get(vc(t,e))}getNode(t){return this.get(t.textContent,t.font)}minimize(){for(var[t,e]of this)1===e.length&&this.delete(t)}isMultiValued(){for(const t of this.values())if(1<t.length)return!0;return!1}}class Tc extends _c{add(t,e){super.add(vc(t,e.font),e)}addNode(t){this.add(t.textContent,t)}toString(){const t=[];for(var[e,s]of this){var i=Array(e.length+3).join(" "),s=s.map(t=>t.toString()).join("\n"+i);t.push(e+": "+s)}return t.join("\n")}collateMeaning(){const t=new Lc;for(var[e,s]of this)t.set(e,s.map(t=>t.meaning()));return t}}class Lc extends _c{add(t,e){const s=this.get(t,e.font);s&&s.find(function(t){return t.type===e.type&&t.role===e.role&&t.font===e.font})||super.add(vc(t,e.font),e)}addNode(t){this.add(t.textContent,t.meaning())}toString(){const t=[];for(var[e,s]of this){var i=Array(e.length+3).join(" "),s=s.map(t=>`{type: ${t.type}, role: ${t.role}, font: ${t.font}}`).join("\n"+i);t.push(e+": "+s)}return t.join("\n")}reduce(){for(var[t,e]of this)1!==e.length&&this.set(t,function(t){if(t.length<=1)return t;const e=t.slice(),s=(e.sort(yc),[]);for(var i;i=e.pop(),s.push(i),i&&e.length&&0===yc(e[e.length-1],i););return s}(e))}default(){const t=new Cc;for(var[e,s]of this)1===s.length&&t.set(e,s[0]);return t}newDefault(){var t=this.default(),e=(this.reduce(),this.default());return t.size!==e.size?e:null}}(t=S=S||{}).ANNOTATION="ANNOTATION",t.ANNOTATIONXML="ANNOTATION-XML",t.MACTION="MACTION",t.MALIGNGROUP="MALIGNGROUP",t.MALIGNMARK="MALIGNMARK",t.MATH="MATH",t.MENCLOSE="MENCLOSE",t.MERROR="MERROR",t.MFENCED="MFENCED",t.MFRAC="MFRAC",t.MGLYPH="MGLYPH",t.MI="MI",t.MLABELEDTR="MLABELEDTR",t.MMULTISCRIPTS="MMULTISCRIPTS",t.MN="MN",t.MO="MO",t.MOVER="MOVER",t.MPADDED="MPADDED",t.MPHANTOM="MPHANTOM",t.MPRESCRIPTS="MPRESCRIPTS",t.MROOT="MROOT",t.MROW="MROW",t.MS="MS",t.MSPACE="MSPACE",t.MSQRT="MSQRT",t.MSTYLE="MSTYLE",t.MSUB="MSUB",t.MSUBSUP="MSUBSUP",t.MSUP="MSUP",t.MTABLE="MTABLE",t.MTD="MTD",t.MTEXT="MTEXT",t.MTR="MTR",t.MUNDER="MUNDER",t.MUNDEROVER="MUNDEROVER",t.NONE="NONE",t.SEMANTICS="SEMANTICS";const wc=Object.values(S),Ic=[S.MO,S.MI,S.MN,S.MTEXT,S.MS,S.MSPACE],Sc=[S.MERROR,S.MPHANTOM,S.MALIGNGROUP,S.MALIGNMARK,S.MPRESCRIPTS,S.ANNOTATION,S.ANNOTATIONXML],Rc=[S.MATH,S.MROW,S.MPADDED,S.MACTION,S.NONE,S.MSTYLE,S.SEMANTICS],kc=[S.MROOT,S.MSQRT],Mc=["aria-label","exact-speech","alt"];function Ac(t){return t&&T(t)===S.MATH}function Oc(t){return t&&(Sc.includes(T(t))||!wc.includes(T(t)))}function Dc(t){return t&&Rc.includes(T(t))}function Pc(s){const i=[];for(let t,e=0;t=s[e];e++)if(t.nodeType===Ih.ELEMENT_NODE){const s=T(t);Sc.includes(s)||Rc.includes(s)&&0===t.childNodes.length||i.push(t)}return i}function Bc(e,t){var s;if(null!=(s=t.attributes)&&s.length){const s=t.attributes;for(let t=s.length-1;0<=t;t--){const i=s[t].name;i.match(/^ext/)&&(e.attributes[i]=s[t].value,e.nobreaking=!0),Mc.includes(i)&&(e.attributes["ext-speech"]=s[t].value,e.nobreaking=!0),i.match(/texclass$/)&&(e.attributes.texclass=s[t].value),"data-latex"===i.toLowerCase()&&(e.attributes.latex=s[t].value),"href"===i&&(e.attributes.href=s[t].value,e.nobreaking=!0)}}}function jc(t){return t&&t.embellished&&0<t.childNodes.length?jc(t.childNodes[0]):t}function Uc(s,i,r){r&&s.reverse();const n=[];for(let t,e=0;t=s[e];e++){if(i(t))return r?{head:s.slice(e+1).reverse(),div:t,tail:n.reverse()}:{head:n,div:t,tail:s.slice(e+1)};n.push(t)}return r?{head:[],div:null,tail:n.reverse()}:{head:n,div:null,tail:[]}}function Fc(t,e){let s=t;const i=[],r=[];for(var n;n=Uc(s,e),r.push(n.head),i.push(n.div),s=n.tail,n.div;);return i.pop(),{rel:i,comp:r}}(et=fc=fc||{}).EMBELLISHED="embellished",et.FENCEPOINTER="fencepointer",et.FONT="font",et.ID="id",et.ANNOTATION="annotation",et.ROLE="role",et.TYPE="type",et.CHILDREN="children",et.CONTENT="content",et.TEXT="$t";class Hc{static fromXml(t){const e=parseInt(t.getAttribute("id"),10),s=new Hc(e);return s.type=t.tagName,Hc.setAttribute(s,t,"role"),Hc.setAttribute(s,t,"font"),Hc.setAttribute(s,t,"embellished"),Hc.setAttribute(s,t,"fencepointer","fencePointer"),t.getAttribute("annotation")&&s.parseAnnotation(t.getAttribute("annotation")),Bc(s,t),Hc.processChildren(s,t),s}static setAttribute(t,e,s,i){i=i||s;e=e.getAttribute(s);e&&(t[i]=e)}static processChildren(e,t){for(const s of Vh(t.childNodes))if(s.nodeType===Ih.TEXT_NODE)e.textContent=s.textContent;else{const t=Vh(s.childNodes).map(Hc.fromXml);t.forEach(t=>t.parent=e),"CONTENT"===T(s)?e.contentNodes=t:e.childNodes=t}}constructor(t){this.id=t,this.mathml=[],this.parent=null,this.type=L.UNKNOWN,this.role=w.UNKNOWN,this.font=I.UNKNOWN,this.embellished=null,this.fencePointer="",this.childNodes=[],this.textContent="",this.mathmlTree=null,this.contentNodes=[],this.annotation={},this.attributes={},this.nobreaking=!1}querySelectorAll(s){let i=[];for(let t,e=0;t=this.childNodes[e];e++)i=i.concat(t.querySelectorAll(s));for(let t,e=0;t=this.contentNodes[e];e++)i=i.concat(t.querySelectorAll(s));return s(this)&&i.unshift(this),i}xml(r,n){function t(t,e){const s=e.map(function(t){return t.xml(r,n)}),i=r.createElementNS("",t);for(let t,e=0;t=s[e];e++)i.appendChild(t);return i}const e=r.createElementNS("",this.type);return n||this.xmlAttributes(e),e.textContent=this.textContent,0<this.contentNodes.length&&e.appendChild(t(fc.CONTENT,this.contentNodes)),0<this.childNodes.length&&e.appendChild(t(fc.CHILDREN,this.childNodes)),e}toString(t=!1){var e=Xh("<snode/>");return Yh(this.xml(e.ownerDocument,t))}allAttributes(){const t=[];return t.push([fc.ROLE,this.role]),this.font!==I.UNKNOWN&&t.push([fc.FONT,this.font]),Object.keys(this.annotation).length&&t.push([fc.ANNOTATION,this.annotationXml()]),this.embellished&&t.push([fc.EMBELLISHED,this.embellished]),this.fencePointer&&t.push([fc.FENCEPOINTER,this.fencePointer]),t.push([fc.ID,this.id.toString()]),t}annotationXml(){const e=[];for(const[s,t]of Object.entries(this.annotation))t.forEach(t=>e.push(s+":"+t));return e.join(";")}attributesXml(){const t=[];for(var[e,s]of Object.entries(this.attributes))t.push(e+":"+Hc.escapeValue(s));return t.join(";")}toJson(){const s={};s[fc.TYPE]=this.type;var i=this.allAttributes();for(let t,e=0;t=i[e];e++)s[t[0]]=t[1].toString();return this.textContent&&(s[fc.TEXT]=this.textContent),this.childNodes.length&&(s[fc.CHILDREN]=this.childNodes.map(function(t){return t.toJson()})),this.contentNodes.length&&(s[fc.CONTENT]=this.contentNodes.map(function(t){return t.toJson()})),s}updateContent(t,e){var e=e?t.replace(/^[ \f\n\r\t\v\u200b]*/,"").replace(/[ \f\n\r\t\v\u200b]*$/,""):t.trim();this.textContent!==(t=t&&!e?t:e)&&(e=uc.Meaning.get(t.replace(/\s/g," ")),this.textContent=t,this.role=e.role,this.type=e.type,this.font=e.font)}addMathmlNodes(s){for(let t,e=0;t=s[e];e++)-1===this.mathml.indexOf(t)&&this.mathml.push(t)}appendChild(t){this.childNodes.push(t),this.addMathmlNodes(t.mathml),t.parent=this}replaceChild(e,s){var t,i=this.childNodes.indexOf(e);-1!==i&&(e.parent=null,(s.parent=this).childNodes[i]=s,i=e.mathml.filter(function(t){return-1===s.mathml.indexOf(t)}),t=s.mathml.filter(function(t){return-1===e.mathml.indexOf(t)}),this.removeMathmlNodes(i),this.addMathmlNodes(t))}appendContentNode(t){t&&(this.contentNodes.push(t),this.addMathmlNodes(t.mathml),t.parent=this)}removeContentNode(t){t&&-1!==(t=this.contentNodes.indexOf(t))&&this.contentNodes.slice(t,1)}equals(i){if(!i)return!1;if(this.type!==i.type||this.role!==i.role||this.textContent!==i.textContent||this.childNodes.length!==i.childNodes.length||this.contentNodes.length!==i.contentNodes.length)return!1;for(let t,e,s=0;t=this.childNodes[s],e=i.childNodes[s];s++)if(!t.equals(e))return!1;for(let t,e,s=0;t=this.contentNodes[s],e=i.contentNodes[s];s++)if(!t.equals(e))return!1;return!0}displayTree(){console.info(this.displayTree_(0))}addAnnotation(t,e){e&&this.addAnnotation_(t,e)}getAnnotation(t){return this.annotation[t]||[]}hasAnnotation(t,e){const s=this.annotation[t];return!!s&&-1!==s.indexOf(e)}parseAnnotation(t){const s=t.split(";");for(let t=0,e=s.length;t<e;t++){var i=s[t].split(":");this.addAnnotation(i[0],i[1])}}meaning(){return{type:this.type,role:this.role,font:this.font}}xmlAttributes(s){var i=this.allAttributes();for(let t,e=0;t=i[e];e++)s.setAttribute(t[0],t[1]);this.addExternalAttributes(s)}addExternalAttributes(t){for(var[e,s]of Object.entries(this.attributes))t.setAttribute(e,s)}static escapeValue(t){return t.replace(/;/g,"\\0003B")}parseAttributes(t){if(t){const s=t.split(";");for(let t=0,e=s.length;t<e;t++){const[i,...r]=s[t].split(":");i&&(this.attributes[i]=r.join("").replace(/\\0003B/g,";"))}}}removeMathmlNodes(s){const i=this.mathml;for(let t,e=0;t=s[e];e++){const s=i.indexOf(t);-1!==s&&i.splice(s,1)}this.mathml=i}displayTree_(e){e++;var s=Array(e).join("  ");let i="";i=(i=i+("\n"+s+this.toString())+"\n"+s+"MathmlTree:")+"\n"+s+this.mathmlTreeString()+"\n"+s+"MathML:";for(let t,e=0;t=this.mathml[e];e++)i+="\n"+s+t.toString();return i+="\n"+s+"Begin Content",this.contentNodes.forEach(function(t){i+=t.displayTree_(e)}),i=i+("\n"+s+"End Content")+("\n"+s+"Begin Children"),this.childNodes.forEach(function(t){i+=t.displayTree_(e)}),i+="\n"+s+"End Children"}mathmlTreeString(){return this.mathmlTree?this.mathmlTree.toString():"EMPTY"}addAnnotation_(t,e){const s=this.annotation[t];s&&!s.includes(e)?s.push(e):this.annotation[t]=[e]}}class qc{constructor(){this.leafMap=new Tc,this.defaultMap=new Cc,this.idCounter_=-1}makeNode(t){return this.createNode_(t)}makeUnprocessed(t){const e=this.createNode_();return e.mathml=[t],e.mathmlTree=t,e}makeEmptyNode(){const t=this.createNode_();return t.type=L.EMPTY,t}makeContentNode(t){const e=this.createNode_();return e.updateContent(t),e}makeMultipleContentNodes(e,s){const i=[];for(let t=0;t<e;t++)i.push(this.makeContentNode(s));return i}makeLeafNode(t,e){if(!t)return this.makeEmptyNode();const s=this.makeContentNode(t);s.font=e||s.font;t=this.defaultMap.getNode(s);return t&&(s.type=t.type,s.role=t.role,s.font=t.font),this.leafMap.addNode(s),s}makeBranchNode(t,e,s,i){const r=this.createNode_();return i&&r.updateContent(i),r.type=t,r.childNodes=e,r.contentNodes=s,e.concat(s).forEach(function(t){(t.parent=r).addMathmlNodes(t.mathml)}),r}createNode_(t){return void 0!==t?this.idCounter_=Math.max(this.idCounter_,t):t=++this.idCounter_,new Hc(t)}}function k(t,e){return t.type===e}function Wc(t,e){return t.embellished===e}function zc(t,e){return t.role===e}function Vc(t){return k(t,L.FENCE)||k(t,L.PUNCTUATION)||k(t,L.OPERATOR)||k(t,L.RELATION)}function Xc(t){return Qc(t)&&!zc(t,w.DIVISION)||k(t,L.APPL)||Yc(t)}function Jc(t){return Qc(t)||Yc(t)}function Gc(t,e){return e&&k(e,L.IDENTIFIER)&&uc.Secondary.has(t.textContent,lc.D)}function Kc(t){var e;if(k(t,L.IDENTIFIER))return(e=t.textContent[0])&&t.textContent[1]&&uc.Secondary.has(e,lc.D)}function Yc(t){return Zc(t)||td(t)}function $c(t){return t.embellished||((e=t.type)===L.OPERATOR||e===L.RELATION||e===L.FENCE||e===L.PUNCTUATION?t.type:null);var e}function Qc(t){return k(t,L.OPERATOR)||Wc(t,L.OPERATOR)}function Zc(t){return k(t,L.RELATION)||Wc(t,L.RELATION)}function td(t){return k(t,L.PUNCTUATION)||Wc(t,L.PUNCTUATION)}function ed(t){return k(t,L.FENCE)||Wc(t,L.FENCE)}function sd(t){return t&&ed(t)&&(!t.embellished||function t(e){return!e.embellished||!function(t){return k(t,L.TENSOR)&&(!k(t.childNodes[1],L.EMPTY)||!k(t.childNodes[2],L.EMPTY))&&(!k(t.childNodes[3],L.EMPTY)||!k(t.childNodes[4],L.EMPTY))}(e)&&(!zc(e,w.CLOSE)||!k(e,L.TENSOR))&&(!zc(e,w.OPEN)||!k(e,L.SUBSCRIPT)&&!k(e,L.SUPERSCRIPT))&&t(e.childNodes[0])}(t))}function id(t){return!!t&&(k(t,L.TABLE)||k(t,L.MULTILINE))}function rd(t){return!!t&&nd(t)&&id(t.childNodes[0])}function nd(t){return!!t&&k(t,L.FENCED)&&(zc(t,w.LEFTRIGHT)||gd(t))&&1===t.childNodes.length}function od(t){return t.childNodes.every(function(t){return t.childNodes.length<=1})}function ad(t,e,s){return 1===e.length&&(t[s].type===L.PUNCTUATION||t[s].embellished===L.PUNCTUATION)&&t[s]===e[0]}function ld(t){return k(t,L.IDENTIFIER)&&zc(t,w.SIMPLEFUNC)}const hd=[L.PUNCTUATION,L.PUNCTUATED,L.RELSEQ,L.MULTIREL,L.TABLE,L.MULTILINE,L.CASES,L.INFERENCE],cd=[L.LIMUPPER,L.LIMLOWER,L.LIMBOTH,L.SUBSCRIPT,L.SUPERSCRIPT,L.UNDERSCORE,L.OVERSCORE,L.TENSOR];function dd(t){return(e=t).type===L.NUMBER&&(e.role===w.INTEGER||e.role===w.FLOAT)||t.role===w.VULGAR||t.role===w.MIXED;var e}function ud(t){var e=t.childNodes;return t.role===w.UNIT&&(!e.length||e[0].role===w.UNIT)}function pd(t){var e=t.childNodes;return t.type===L.INFIXOP&&(t.role===w.MULTIPLICATION||t.role===w.IMPLICIT)&&e.length&&(ud(e[0])||dd(e[0]))&&t.childNodes.slice(1).every(ud)}function md(t){return t.type===L.INFIXOP&&(t.role===w.IMPLICIT||t.role===w.UNIT&&!!t.contentNodes.length&&t.contentNodes[0].textContent===hc.invisibleTimes)}function fd(t){return t.type===L.INFIXOP&&t.role===w.IMPLICIT}function gd(t){return t.role===w.NEUTRAL||t.role===w.METRIC}function bd(t,e){return gd(t)&&gd(e)&&jc(t).textContent===jc(e).textContent}function Ed(t){return gd(t)&&(!t.embellished||t.type!==L.SUPERSCRIPT&&t.type!==L.SUBSCRIPT&&(t.type!==L.TENSOR||t.childNodes[3].type===L.EMPTY&&t.childNodes[4].type===L.EMPTY))}function Nd(t){return gd(t)&&(!t.embellished||t.type!==L.TENSOR||t.childNodes[1].type===L.EMPTY&&t.childNodes[2].type===L.EMPTY)}function xd(t){return[w.ELEMENT,w.NONELEMENT,w.REELEMENT,w.RENONELEMENT].includes(t.role)}const M={factory:null,options:new Dh,updateFactory:function(t){M.factory=t},heuristics:new Map,flags:{combine_juxtaposition:!0,convert_juxtaposition:!0,multioperator:!0},blacklist:{},add:function(t){var e=t.name;M.heuristics.set(e,t),M.flags[e]||(M.flags[e]=!1)},run:function(t,e,s){const i=M.heuristics.get(t);return i&&!M.blacklist[t]&&(M.flags[t]||i.applicable(e))?i.apply(e):s?s(e):e}};class A{static getInstance(){return A.instance=A.instance||new A,A.instance}static tableToMultiline(s){if(!od(s))return M.run("rewrite_subcases",s,A.classifyTable);s.type=L.MULTILINE;for(let t,e=0;t=s.childNodes[e];e++)A.rowToLine_(t,w.MULTILINE);var t;return 1!==s.childNodes.length||k(t=s.childNodes[0],L.LINE)&&t.contentNodes.length&&zc(t.contentNodes[0],w.LABEL)||!nd(s.childNodes[0].childNodes[0])||A.tableToMatrixOrVector_(A.rewriteFencedLine_(s)),A.binomialForm_(s),A.classifyMultiline(s),s}static number(t){t.type!==L.UNKNOWN&&t.type!==L.IDENTIFIER||(t.type=L.NUMBER),A.meaningFromContent(t,A.numberRole_),A.exprFont_(t)}static classifyMultiline(t){let e=0;var s=t.childNodes.length;let i;for(;e<s&&(!(i=t.childNodes[e])||!i.childNodes.length);)e++;if(!(e>=s)){const r=i.childNodes[0].role;r!==w.UNKNOWN&&t.childNodes.every(function(t){t=t.childNodes[0];return!t||t.role===r&&(k(t,L.RELATION)||k(t,L.RELSEQ))})&&(t.role=r)}}static classifyTable(t){var e=A.computeColumns_(t);return A.classifyByColumns_(t,e,w.EQUALITY)||A.classifyByColumns_(t,e,w.INEQUALITY,[w.EQUALITY])||A.classifyByColumns_(t,e,w.ARROW)||A.detectCaleyTable(t),t}static detectCaleyTable(t){if(!t.mathmlTree)return!1;const e=t.mathmlTree,s=e.getAttribute("columnlines"),i=e.getAttribute("rowlines");return!(!s||!i||!A.cayleySpacing(s)||!A.cayleySpacing(i)||(t.role=w.CAYLEY,0))}static cayleySpacing(t){const e=t.split(" ");return("solid"===e[0]||"dashed"===e[0])&&e.slice(1).every(t=>"none"===t)}static proof(t,e,s){e=A.separateSemantics(e);return A.getInstance().proof(t,e,s)}static findSemantics(t,e,s){s=null==s?null:s,t=A.getSemantics(t);return!(!t||!t[e]||null!=s&&t[e]!==s)}static getSemantics(t){t=t.getAttribute("semantics");return t?A.separateSemantics(t):null}static removePrefix(t){const[,...e]=t.split("_");return e.join("_")}static separateSemantics(t){const s={};return t.split(";").forEach(function(t){var[t,e]=t.split(":");s[A.removePrefix(t)]=e}),s}static matchSpaces_(s,i){for(let t,e=0;t=i[e];e++){const i=s[e].mathmlTree,n=s[e+1].mathmlTree;var r;i&&n&&((r=i.nextSibling)&&r!==n&&(r=A.getSpacer_(r))&&(t.mathml.push(r),t.mathmlTree=r,t.role=w.SPACE))}}static getSpacer_(t){if(T(t)===S.MSPACE)return t;for(;Dc(t)&&1===t.childNodes.length;)if(T(t=t.childNodes[0])===S.MSPACE)return t;return null}static fenceToPunct_(t){var e=A.FENCE_TO_PUNCT_[t.role];if(e){for(;t.embellished;)t.embellished=L.PUNCTUATION,zc(t,w.SUBSUP)||zc(t,w.UNDEROVER)||(t.role=e),t=t.childNodes[0];t.type=L.PUNCTUATION,t.role=e}}static classifyFunction_(e,s){if(e.type===L.APPL||e.type===L.BIGOP||e.type===L.INTEGRAL)return"";if(s[0]&&s[0].textContent===hc.functionApplication){A.getInstance().funcAppls[e.id]=s.shift();let t=w.SIMPLEFUNC;return M.run("simple2prefix",e),e.role!==w.PREFIXFUNC&&e.role!==w.LIMFUNC||(t=e.role),A.propagateFunctionRole_(e,t),"prefix"}return A.CLASSIFY_FUNCTION_[e.role]||((s=e).type===L.IDENTIFIER||s.role===w.LATINLETTER||s.role===w.GREEKLETTER||s.role===w.OTHERLETTER?"simple":"")}static propagateFunctionRole_(t,e){t&&t.type!==L.INFIXOP&&(zc(t,w.SUBSUP)||zc(t,w.UNDEROVER)||(t.role=e),A.propagateFunctionRole_(t.childNodes[0],e))}static getFunctionOp_(s,i){if(i(s))return s;for(let t,e=0;t=s.childNodes[e];e++){const s=A.getFunctionOp_(t,i);if(s)return s}return null}static tableToMatrixOrVector_(t){const s=t.childNodes[0];k(s,L.MULTILINE)?A.tableToVector_(t):A.tableToMatrix_(t),t.contentNodes.forEach(s.appendContentNode.bind(s));for(let t,e=0;t=s.childNodes[e];e++)A.assignRoleToRow_(t,A.getComponentRoles_(s));return s.parent=null,s}static tableToVector_(t){const e=t.childNodes[0];e.type=L.VECTOR,1!==e.childNodes.length?A.binomialForm_(e):A.tableToSquare_(t)}static binomialForm_(t){zc(t,w.UNKNOWN)&&2===t.childNodes.length&&(t.role=w.BINOMIAL,t.childNodes[0].role=w.BINOMIAL,t.childNodes[1].role=w.BINOMIAL)}static tableToMatrix_(t){const e=t.childNodes[0];e.type=L.MATRIX,e.childNodes&&0<e.childNodes.length&&e.childNodes[0].childNodes&&e.childNodes.length===e.childNodes[0].childNodes.length?A.tableToSquare_(t):e.childNodes&&1===e.childNodes.length&&(e.role=w.ROWVECTOR)}static tableToSquare_(t){const e=t.childNodes[0];zc(e,w.UNKNOWN)&&(gd(t)?e.role=w.DETERMINANT:e.role=w.SQUAREMATRIX)}static getComponentRoles_(t){var e=t.role;return e&&e!==w.UNKNOWN?e:t.type.toLowerCase()||w.UNKNOWN}static tableToCases_(s,t){for(let t,e=0;t=s.childNodes[e];e++)A.assignRoleToRow_(t,w.CASES);return s.type=L.CASES,s.appendContentNode(t),od(s)&&A.binomialForm_(s),s}static rewriteFencedLine_(t){const e=t.childNodes[0],s=t.childNodes[0].childNodes[0],i=t.childNodes[0].childNodes[0].childNodes[0];return s.parent=t.parent,t.parent=s,i.parent=e,s.childNodes=[t],e.childNodes=[i],s}static rowToLine_(e,t){t=t||w.UNKNOWN;k(e,L.ROW)&&(e.type=L.LINE,e.role=t,1===e.childNodes.length&&k(e.childNodes[0],L.CELL)&&(e.childNodes=e.childNodes[0].childNodes,e.childNodes.forEach(function(t){t.parent=e})))}static assignRoleToRow_(t,e){k(t,L.LINE)?t.role=e:k(t,L.ROW)&&(t.role=e,t.childNodes.forEach(function(t){k(t,L.CELL)&&(t.role=e)}))}static nextSeparatorFunction_(t){let e;if(t){if(t.match(/^\s+$/))return null;e=t.replace(/\s/g,"").split("").filter(function(t){return t})}else e=[","];return function(){return 1<e.length?e.shift():e[0]}}static meaningFromContent(t,e){const s=[...t.textContent].filter(t=>t.match(/[^\s]/)),i=s.map(t=>uc.Meaning.get(t));e(t,s,i)}static numberRole_(t,e,s){if(t.role===w.UNKNOWN)return s.every(function(t){return t.type===L.NUMBER&&t.role===w.INTEGER||t.type===L.PUNCTUATION&&t.role===w.COMMA})?(t.role=w.INTEGER,void("0"===e[0]&&t.addAnnotation("general","basenumber"))):void(s.every(function(t){return t.type===L.NUMBER&&t.role===w.INTEGER||t.type===L.PUNCTUATION})?t.role=w.FLOAT:t.role=w.OTHERNUMBER)}static exprFont_(t){t.font===I.UNKNOWN&&A.compSemantics(t,"font",I)}static compSemantics(t,s,i){var e=[...t.textContent].map(t=>uc.Meaning.get(t)).reduce(function(t,e){return t&&e[s]&&e[s]!==i.UNKNOWN&&e[s]!==t?t===i.UNKNOWN?e[s]:null:t},i.UNKNOWN);e&&(t[s]=e)}static purgeFences_(e){const s=e.rel,i=e.comp,r=[],n=[];for(;0<s.length;){const e=s.shift();let t=i.shift();sd(e)?(r.push(e),n.push(t)):(A.fenceToPunct_(e),t.push(e),t=t.concat(i.shift()),i.unshift(t))}return n.push(i.shift()),{rel:r,comp:n}}static rewriteFencedNode_(t){var e=t.contentNodes[0],s=t.contentNodes[1];let i=A.rewriteFence_(t,e);return t.contentNodes[0]=i.fence,i=A.rewriteFence_(i.node,s),t.contentNodes[1]=i.fence,(t.contentNodes[0].parent=t).contentNodes[1].parent=t,i.node.parent=null,i.node}static rewriteFence_(t,e){if(!e.embellished)return{node:t,fence:e};const s=e.childNodes[0],i=A.rewriteFence_(t,s);return k(e,L.SUPERSCRIPT)||k(e,L.SUBSCRIPT)||k(e,L.TENSOR)?(zc(e,w.SUBSUP)||(e.role=t.role),s!==i.node&&(e.replaceChild(s,i.node),s.parent=t),A.propagateFencePointer_(e,s),{node:e,fence:i.fence}):(e.replaceChild(s,i.fence),e.mathmlTree&&-1===e.mathml.indexOf(e.mathmlTree)&&e.mathml.push(e.mathmlTree),{node:i.node,fence:e})}static propagateFencePointer_(t,e){t.fencePointer=e.fencePointer||e.id.toString(),t.embellished=null}static classifyByColumns_(t,e,s,i=[]){const r=[s].concat(i);return!!(3===e.length&&A.testColumns_(e,1,t=>A.isPureRelation_(t,r))||2===e.length&&(A.testColumns_(e,1,t=>A.isEndRelation_(t,r)||A.isPureRelation_(t,r))||A.testColumns_(e,0,t=>A.isEndRelation_(t,r,!0)||A.isPureRelation_(t,r))))&&(t.role=s,!0)}static isEndRelation_(e,t,s){s=s?e.childNodes.length-1:0;return k(e,L.RELSEQ)&&t.some(t=>zc(e,t))&&k(e.childNodes[s],L.EMPTY)}static isPureRelation_(e,t){return k(e,L.RELATION)&&t.some(t=>zc(e,t))}static computeColumns_(e){const i=[];for(let s,t=0;s=e.childNodes[t];t++)for(let t,e=0;t=s.childNodes[e];e++)i[e]?i[e].push(t):i[e]=[t];return i}static testColumns_(t,e,s){const i=t[e];return!!i&&i.some(function(t){return t.childNodes.length&&s(t.childNodes[0])})&&i.every(function(t){return!t.childNodes.length||s(t.childNodes[0])})}setNodeFactory(t){A.getInstance().factory_=t,M.updateFactory(A.getInstance().factory_)}getNodeFactory(){return A.getInstance().factory_}identifierNode(t,e,s){if("MathML-Unit"===s)t.type=L.IDENTIFIER,t.role=w.UNIT;else if(!e&&1===t.textContent.length&&(t.role===w.INTEGER||t.role===w.LATINLETTER||t.role===w.GREEKLETTER)&&t.font===I.NORMAL)return t.font=I.ITALIC,M.run("simpleNamedFunction",t);return t.type===L.UNKNOWN&&(t.type=L.IDENTIFIER),A.exprFont_(t),M.run("simpleNamedFunction",t)}implicitNode(t){if(t=A.getInstance().getMixedNumbers_(t),1===(t=A.getInstance().combineUnits_(t)).length)return t[0];t=A.getInstance().implicitNode_(t);return M.run("combine_juxtaposition",t)}text(t,e){return A.exprFont_(t),t.type=L.TEXT,e===S.ANNOTATIONXML?t.role=w.ANNOTATION:e===S.MS?t.role=w.STRING:e===S.MSPACE||t.textContent.match(/^\s*$/)?t.role=w.SPACE:/\s/.exec(t.textContent)?t.role=w.TEXT:t.role=w.UNKNOWN,t}row(t){return 0===(t=t.filter(function(t){return!k(t,L.EMPTY)})).length?A.getInstance().factory_.makeEmptyNode():(t=A.getInstance().getFencesInRow_(t),t=A.getInstance().tablesInRow(t),t=A.getInstance().getPunctuationInRow_(t),t=A.getInstance().getTextInRow_(t),t=A.getInstance().getFunctionsInRow_(t),A.getInstance().relationsInRow_(t))}limitNode(t,e){if(!e.length)return A.getInstance().factory_.makeEmptyNode();let s,i=e[0],r=L.UNKNOWN;if(!e[1])return i;if(M.run("op_with_limits",e),function t(e){return k(e,L.LARGEOP)||k(e,L.LIMBOTH)||k(e,L.LIMLOWER)||k(e,L.LIMUPPER)||k(e,L.FUNCTION)&&zc(e,w.LIMFUNC)||(k(e,L.OVERSCORE)||k(e,L.UNDERSCORE))&&t(e.childNodes[0])}(i)){var n=(s=A.MML_TO_LIMIT_[t]).length;if(r=s.type,e=e.slice(0,s.length+1),1===n&&Vc(e[1])||2===n&&Vc(e[1])&&Vc(e[2]))return s=A.MML_TO_BOUNDS_[t],A.getInstance().accentNode_(i,e,s.type,s.length,s.accent);if(2===n){if(Vc(e[1]))return i=A.getInstance().accentNode_(i,[i,e[1]],{MSUBSUP:L.SUBSCRIPT,MUNDEROVER:L.UNDERSCORE}[t],1,!0),e[2]?A.getInstance().makeLimitNode_(i,[i,e[2]],null,L.LIMUPPER):i;if(e[2]&&Vc(e[2]))return i=A.getInstance().accentNode_(i,[i,e[2]],{MSUBSUP:L.SUPERSCRIPT,MUNDEROVER:L.OVERSCORE}[t],1,!0),A.getInstance().makeLimitNode_(i,[i,e[1]],null,L.LIMLOWER);e[n]||(r=L.LIMLOWER)}return A.getInstance().makeLimitNode_(i,e,null,r)}return s=A.MML_TO_BOUNDS_[t],A.getInstance().accentNode_(i,e,s.type,s.length,s.accent)}tablesInRow(t){let s=Fc(t,rd),i=[];for(let t,e=0;t=s.rel[e];e++)(i=i.concat(s.comp.shift())).push(A.tableToMatrixOrVector_(t));i=i.concat(s.comp.shift()),s=Fc(i,id),i=[];for(let t,e=0;t=s.rel[e];e++){const n=s.comp.shift();0<(r=n).length&&zc(r[r.length-1],w.OPENFENCE)&&A.tableToCases_(t,n.pop()),(i=i.concat(n)).push(t)}var r;return i.concat(s.comp.shift())}mfenced(e,s,t,i){if(t&&0<i.length){const e=A.nextSeparatorFunction_(t),s=[i.shift()];i.forEach(t=>{s.push(A.getInstance().factory_.makeContentNode(e())),s.push(t)}),i=s}return e&&s?A.getInstance().horizontalFencedNode_(A.getInstance().factory_.makeContentNode(e),A.getInstance().factory_.makeContentNode(s),i):(e&&i.unshift(A.getInstance().factory_.makeContentNode(e)),s&&i.push(A.getInstance().factory_.makeContentNode(s)),A.getInstance().row(i))}fractionLikeNode(t,e,s,i){let r;if(i||!function(t){if(t){if(["negativeveryverythinmathspace","negativeverythinmathspace","negativethinmathspace","negativemediummathspace","negativethickmathspace","negativeverythickmathspace","negativeveryverythickmathspace"].includes(t))return 1;t=t.match(/[0-9.]+/);return t&&0===parseFloat(t[0])}}(s))return r=A.getInstance().fractionNode_(t,e),i&&r.addAnnotation("general","bevelled"),r;{const s=A.getInstance().factory_.makeBranchNode(L.LINE,[t],[]),i=A.getInstance().factory_.makeBranchNode(L.LINE,[e],[]);return r=A.getInstance().factory_.makeBranchNode(L.MULTILINE,[s,i],[]),A.binomialForm_(r),A.classifyMultiline(r),r}}tensor(t,e,s,i,r){const n=A.getInstance().factory_.makeBranchNode(L.TENSOR,[t,A.getInstance().scriptNode_(e,w.LEFTSUB),A.getInstance().scriptNode_(s,w.LEFTSUPER),A.getInstance().scriptNode_(i,w.RIGHTSUB),A.getInstance().scriptNode_(r,w.RIGHTSUPER)],[]);return n.role=t.role,n.embellished=$c(t),n}pseudoTensor(t,e,s){var i=t=>!k(t,L.EMPTY),r=e.filter(i).length,i=s.filter(i).length;if(!r&&!i)return t;const n=r?i?S.MSUBSUP:S.MSUB:S.MSUP,o=[t];return r&&o.push(A.getInstance().scriptNode_(e,w.RIGHTSUB,!0)),i&&o.push(A.getInstance().scriptNode_(s,w.RIGHTSUPER,!0)),A.getInstance().limitNode(n,o)}font(t){return A.MATHJAX_FONTS[t]||t}proof(t,e,s){if(e.inference||e.axiom||console.log("Noise"),e.axiom){const e=A.getInstance().cleanInference(t.childNodes),i=e.length?A.getInstance().factory_.makeBranchNode(L.INFERENCE,s(e),[]):A.getInstance().factory_.makeEmptyNode();return i.role=w.AXIOM,i.mathmlTree=t,i}const i=A.getInstance().inference(t,e,s);return e.proof&&(i.role=w.PROOF,i.childNodes[0].role=w.FINAL),i}inference(t,e,s){if(e.inferenceRule){const e=A.getInstance().getFormulas(t,[],s);return A.getInstance().factory_.makeBranchNode(L.INFERENCE,[e.conclusion,e.premises],[])}const i=e.labelledRule,r=Vh(t.childNodes),n=[],o=("left"!==i&&"both"!==i||n.push(A.getInstance().getLabel(t,r,s,w.LEFT)),"right"!==i&&"both"!==i||n.push(A.getInstance().getLabel(t,r,s,w.RIGHT)),A.getInstance().getFormulas(t,r,s)),a=A.getInstance().factory_.makeBranchNode(L.INFERENCE,[o.conclusion,o.premises],n);return a.mathmlTree=t,a}getLabel(t,e,s,i){const r=A.getInstance().findNestedRow(e,"prooflabel",i),n=A.getInstance().factory_.makeBranchNode(L.RULELABEL,s(Vh(r.childNodes)),[]);return n.role=i,n.mathmlTree=r,n}getFormulas(t,e,s){const i=e.length?A.getInstance().findNestedRow(e,"inferenceRule"):t,r="up"===A.getSemantics(i).inferenceRule,n=r?i.childNodes[1]:i.childNodes[0],o=r?i.childNodes[0]:i.childNodes[1],a=n.childNodes[0].childNodes[0],l=Vh(a.childNodes[0].childNodes),h=[];let c=1;for(const t of l)c%2&&h.push(t.childNodes[0]),c++;const d=s(h),u=s(Vh(o.childNodes[0].childNodes))[0],p=A.getInstance().factory_.makeBranchNode(L.PREMISES,d,[]),m=(p.mathmlTree=a,A.getInstance().factory_.makeBranchNode(L.CONCLUSION,[u],[]));return m.mathmlTree=o.childNodes[0].childNodes[0],{conclusion:m,premises:p}}findNestedRow(t,e,s){return A.getInstance().findNestedRow_(t,e,0,s)}cleanInference(t){return Vh(t).filter(function(t){return"MSPACE"!==T(t)})}operatorNode(t){return t.type===L.UNKNOWN&&(t.type=L.OPERATOR),M.run("multioperator",t)}constructor(){this.funcAppls={},this.splitRoles=new Map([[w.SUBTRACTION,w.NEGATIVE],[w.ADDITION,w.POSITIVE]]),this.splitOps=["âˆ’","-","â€","â€‘","+"],this.factory_=new qc,M.updateFactory(this.factory_)}implicitNode_(t){const e=A.getInstance().factory_.makeMultipleContentNodes(t.length-1,hc.invisibleTimes),s=(A.matchSpaces_(t,e),A.getInstance().infixNode_(t,e[0]));return s.role=w.IMPLICIT,e.forEach(function(t){t.parent=s}),s.contentNodes=e,s}infixNode_(t,e){let s=A.getInstance().factory_.makeBranchNode(L.INFIXOP,t,[e],jc(e).textContent);return s.role=e.role,s=M.run("propagateInterval",s),M.run("propagateSimpleFunction",s)}explicitMixed_(s){var i=Fc(s,function(t){return t.textContent===hc.invisiblePlus});if(!i.rel.length)return s;let r=[];for(let t,e=0;t=i.rel[e];e++){const n=i.comp[e],o=i.comp[e+1],a=n.length-1;if(n[a]&&o[0]&&k(n[a],L.NUMBER)&&!zc(n[a],w.MIXED)&&k(o[0],L.FRACTION)){const s=A.getInstance().factory_.makeBranchNode(L.NUMBER,[n[a],o[0]],[]);s.role=w.MIXED,(r=r.concat(n.slice(0,a))).push(s),o.shift()}else(r=r.concat(n)).push(t)}return r.concat(i.comp[i.comp.length-1])}concatNode_(t,e,s){if(0===e.length)return t;const i=e.map(function(t){return jc(t).textContent}).join(" "),r=A.getInstance().factory_.makeBranchNode(s,[t],e,i);return 1<e.length&&(r.role=w.MULTIOP),r}prefixNode_(t,e){const s=this.splitSingles(e);let i=t;for(;0<s.length;){const t=s.pop();i=A.getInstance().concatNode_(i,t,L.PREFIXOP),1===t.length&&-1!==this.splitOps.indexOf(t[0].textContent)&&(i.role=this.splitRoles.get(t[0].role))}return i}splitSingles(t){let e=0;const s=[];let i=0;for(;i<t.length;){var r=t[i];!this.splitRoles.has(r.role)||t[i-1]&&t[i-1].role===r.role||t[i+1]&&t[i+1].role===r.role||-1===this.splitOps.indexOf(r.textContent)||(s.push(t.slice(e,i)),s.push(t.slice(i,i+1)),e=i+1),i++}return e<i&&s.push(t.slice(e,i)),s}postfixNode_(t,e){return e.length?A.getInstance().concatNode_(t,e,L.POSTFIXOP):t}combineUnits_(e){const s=Fc(e,function(t){return!zc(t,w.UNIT)});if(e.length===s.rel.length)return s.rel;const i=[];var r,n;do{const e=s.comp.shift();r=s.rel.shift();let t=null;(n=i.pop())&&(e.length&&dd(n)?e.unshift(n):i.push(n)),1===e.length&&(t=e.pop()),1<e.length&&((t=A.getInstance().implicitNode_(e)).role=w.UNIT),t&&i.push(t),r&&i.push(r)}while(r);return i}getMixedNumbers_(t){const s=Fc(t,function(t){return k(t,L.FRACTION)&&zc(t,w.VULGAR)});if(!s.rel.length)return t;let i=[];for(let t,e=0;t=s.rel[e];e++){const r=s.comp[e],n=r.length-1;if(r[n]&&k(r[n],L.NUMBER)&&(zc(r[n],w.INTEGER)||zc(r[n],w.FLOAT))){const s=A.getInstance().factory_.makeBranchNode(L.NUMBER,[r[n],t],[]);s.role=w.MIXED,(i=i.concat(r.slice(0,n))).push(s)}else(i=i.concat(r)).push(t)}return i.concat(s.comp[s.comp.length-1])}getTextInRow_(t){if(0===t.length)return t;if(1===t.length)return t[0].type===L.TEXT&&t[0].role===w.UNKNOWN&&(t[0].role=w.ANNOTATION),t;const{rel:s,comp:i}=Fc(t,t=>k(t,L.TEXT));if(0===s.length)return t;const r=[];let n=i.shift();for(;0<s.length;){let t=s.shift(),e=i.shift();const a=[];for(;!e.length&&s.length&&t.role!==w.SPACE&&s[0].role!==w.SPACE;)a.push(t),t=s.shift(),e=i.shift();if(a.length){n.length&&r.push(A.getInstance().row(n)),a.push(t);const s=A.getInstance().dummyNode_(a);r.push(s),n=e}else{var o;n=t.role!==w.UNKNOWN?(n.length&&r.push(A.getInstance().row(n)),r.push(t),e):(o=uc.Meaning.get(t.textContent)).type!==L.PUNCTUATION?o.type===L.UNKNOWN?(A.meaningFromContent(t,(t,e,s)=>{if(t.role===w.UNKNOWN){if(A.numberRole_(t,e,s),t.role===w.OTHERNUMBER)return s.some(t=>t.type!==L.NUMBER&&t.type!==L.IDENTIFIER)?(t.type=L.TEXT,void(t.role=w.ANNOTATION)):void(t.role=w.UNKNOWN);t.type=L.NUMBER}}),t.type!==L.TEXT||t.role===w.UNKNOWN?(t.role===w.UNKNOWN&&(s.length||e.length?e.length&&e[0].type===L.FENCED?(t.type=L.FUNCTION,t.role=w.PREFIXFUNC):t.role=w.TEXT:(t.type=L.IDENTIFIER,t.role=w.UNIT)),n.push(t),n.concat(e)):(n.length&&r.push(A.getInstance().row(n)),r.push(t),e)):(t.type=o.type,t.role=o.role,t.font=o.font,t.addAnnotation("general","text"),n.push(t),n.concat(e)):(t.role=o.role,t.font=o.font,n.length&&r.push(A.getInstance().row(n)),r.push(t),e)}}return 0<n.length&&r.push(A.getInstance().row(n)),1<r.length?[A.getInstance().dummyNode_(r)]:r}relationsInRow_(t){const e=Fc(t,Zc),s=e.rel[0];if(!s)return A.getInstance().operationsInRow_(t);if(1===t.length)return t[0];t=e.comp.map(A.getInstance().operationsInRow_);let i;return e.rel.some(function(t){return!t.equals(s)})?(i=A.getInstance().factory_.makeBranchNode(L.MULTIREL,t,e.rel),e.rel.every(function(t){return t.role===s.role})&&(i.role=s.role)):(i=A.getInstance().factory_.makeBranchNode(L.RELSEQ,t,e.rel,jc(s).textContent)).role=s.role,i}operationsInRow_(t){if(0===t.length)return A.getInstance().factory_.makeEmptyNode();if(1===(t=A.getInstance().explicitMixed_(t)).length)return t[0];const e=[];for(;0<t.length&&Qc(t[0]);)e.push(t.shift());if(0===t.length)return A.getInstance().prefixNode_(e.pop(),e);if(1===t.length)return A.getInstance().prefixNode_(t[0],e);var s=Uc(t=M.run("convert_juxtaposition",t),Qc),i=A.getInstance().wrapFactor(e,s);return A.getInstance().addFactor(i,s)}wrapPostfix(t){var e;(null==(e=t.div)?void 0:e.role)===w.POSTFIXOP&&(t.tail.length&&t.tail[0].type!==L.OPERATOR?t.div.role=w.DIVISION:(t.head=[A.getInstance().postfixNode_(A.getInstance().implicitNode(t.head),[t.div])],t.div=t.tail.shift(),A.getInstance().wrapPostfix(t)))}wrapFactor(t,e){return A.getInstance().wrapPostfix(e),A.getInstance().prefixNode_(A.getInstance().implicitNode(e.head),t)}addFactor(t,e){return e.div?A.getInstance().operationsTree_(e.tail,t,e.div):(pd(t)&&(t.role=w.UNIT),t)}operationsTree_(t,e,s,i=[]){if(0===t.length){if(i.unshift(s),e.type!==L.INFIXOP)return A.getInstance().postfixNode_(e,i);{const t=A.getInstance().postfixNode_(e.childNodes.pop(),i);return e.appendChild(t),e}}t=Uc(t,Qc);if(0===t.head.length)return i.push(t.div),A.getInstance().operationsTree_(t.tail,e,s,i);i=A.getInstance().wrapFactor(i,t),e=A.getInstance().appendOperand_(e,s,i);return A.getInstance().addFactor(e,t)}appendOperand_(t,e,s){return t.type!==L.INFIXOP?A.getInstance().infixNode_([t,s],e):A.getInstance().appendDivisionOp_(t,e,s)||(A.getInstance().appendExistingOperator_(t,e,s)?t:e.role===w.MULTIPLICATION?A.getInstance().appendMultiplicativeOp_(t,e,s):A.getInstance().appendAdditiveOp_(t,e,s))}appendDivisionOp_(t,e,s){return e.role===w.DIVISION?md(t)?A.getInstance().infixNode_([t,s],e):A.getInstance().appendLastOperand_(t,e,s):t.role===w.DIVISION?A.getInstance().infixNode_([t,s],e):null}appendLastOperand_(t,e,s){let i=t,r=t.childNodes[t.childNodes.length-1];for(;r&&r.type===L.INFIXOP&&!md(r);)r=(i=r).childNodes[t.childNodes.length-1];s=A.getInstance().infixNode_([i.childNodes.pop(),s],e);return i.appendChild(s),t}appendMultiplicativeOp_(t,e,s){if(md(t))return A.getInstance().infixNode_([t,s],e);let i=t,r=t.childNodes[t.childNodes.length-1];for(;r&&r.type===L.INFIXOP&&!md(r);)r=(i=r).childNodes[t.childNodes.length-1];s=A.getInstance().infixNode_([i.childNodes.pop(),s],e);return i.appendChild(s),t}appendAdditiveOp_(t,e,s){return A.getInstance().infixNode_([t,s],e)}appendExistingOperator_(t,e,s){return!(!t||t.type!==L.INFIXOP||md(t))&&(t.contentNodes[0].equals(e)?(t.appendContentNode(e),t.appendChild(s),!0):A.getInstance().appendExistingOperator_(t.childNodes[t.childNodes.length-1],e,s))}getFencesInRow_(t){let e=Fc(t,ed);t=(e=A.purgeFences_(e)).comp.shift();return A.getInstance().fences_(e.rel,e.comp,[],[t])}fences_(t,e,s,i){if(0===t.length&&0===s.length)return i[0];const r=M.run("bracketed_interval",[t[0],t[1],...e[0]||[]],()=>null);if(r){t.shift(),t.shift(),e.shift();const n=i.pop()||[];return i.push([...n,r,...e.shift()]),A.getInstance().fences_(t,e,s,i)}const n=t=>zc(t,w.OPEN);if(0===t.length){const t=i.shift();for(;0<s.length;){if(n(s[0])){const e=s.shift();A.fenceToPunct_(e),t.push(e)}else{const e=Uc(s,n),r=e.head.length-1,o=A.getInstance().neutralFences_(e.head,i.slice(0,r));i=i.slice(r),t.push(...o),e.div&&e.tail.unshift(e.div),s=e.tail}t.push(...i.shift())}return t}const o=s[s.length-1],a=t[0].role;if(a===w.OPEN||gd(t[0])&&(!o||!bd(t[0],o))){s.push(t.shift());const r=e.shift();return r&&i.push(r),A.getInstance().fences_(t,e,s,i)}if(o&&a===w.CLOSE&&o.role===w.OPEN){const r=A.getInstance().horizontalFencedNode_(s.pop(),t.shift(),i.pop());return i.push(i.pop().concat([r],e.shift())),A.getInstance().fences_(t,e,s,i)}if(o&&bd(t[0],o)){if(!Ed(o)||!Nd(t[0])){s.push(t.shift());const r=e.shift();return r&&i.push(r),A.getInstance().fences_(t,e,s,i)}const r=A.getInstance().horizontalFencedNode_(s.pop(),t.shift(),i.pop());return i.push(i.pop().concat([r],e.shift())),A.getInstance().fences_(t,e,s,i)}if(o&&a===w.CLOSE&&gd(o)&&s.some(n)){const r=Uc(s,n,!0),o=i.pop(),a=i.length-r.tail.length+1,h=A.getInstance().neutralFences_(r.tail,i.slice(a));i=i.slice(0,a);var l=A.getInstance().horizontalFencedNode_(r.div,t.shift(),i.pop().concat(h,o));return i.push(i.pop().concat([l],e.shift())),A.getInstance().fences_(t,e,r.head,i)}const h=t.shift();return A.fenceToPunct_(h),i.push(i.pop().concat([h],e.shift())),A.getInstance().fences_(t,e,s,i)}neutralFences_(t,e){if(0===t.length)return t;if(1===t.length)return A.fenceToPunct_(t[0]),t;const s=t.shift();if(!Ed(s)){A.fenceToPunct_(s);const i=e.shift();return i.unshift(s),i.concat(A.getInstance().neutralFences_(t,e))}const i=Uc(t,function(t){return bd(t,s)});if(!i.div){A.fenceToPunct_(s);const i=e.shift();return i.unshift(s),i.concat(A.getInstance().neutralFences_(t,e))}if(!Nd(i.div))return A.fenceToPunct_(i.div),t.unshift(s),A.getInstance().neutralFences_(t,e);const r=A.getInstance().combineFencedContent_(s,i.div,i.head,e);if(0<i.tail.length){const t=r.shift(),e=A.getInstance().neutralFences_(i.tail,r);return t.concat(e)}return r[0]}combineFencedContent_(t,e,s,i){if(0===s.length){const s=A.getInstance().horizontalFencedNode_(t,e,i.shift());return 0<i.length?i[0].unshift(s):i=[[s]],i}const r=i.shift(),n=s.length-1,o=i.slice(0,n),a=(i=i.slice(n)).shift(),l=A.getInstance().neutralFences_(s,o);r.push(...l),r.push(...a);s=A.getInstance().horizontalFencedNode_(t,e,r);return 0<i.length?i[0].unshift(s):i=[[s]],i}horizontalFencedNode_(t,e,s){s=A.getInstance().row(s);let i=A.getInstance().factory_.makeBranchNode(L.FENCED,[s],[t,e]);return t.role===w.OPEN?(A.getInstance().classifyHorizontalFence_(i),i=M.run("propagateComposedFunction",i)):i.role=t.role,i=M.run("detect_cycle",i),A.rewriteFencedNode_(i)}classifyHorizontalFence_(t){if(M.run("interval_heuristic",t),t.role!==w.INTERVAL){t.role=w.LEFTRIGHT;var e=t.childNodes;if((i=(s=t).contentNodes[0])&&-1!==["{","ï¹›","ï½›"].indexOf(i.textContent)&&(i=s.contentNodes[1])&&-1!==["}","ï¹œ","ï½"].indexOf(i.textContent)&&!(1<e.length))if(0===e.length||e[0].type===L.EMPTY)t.role=w.SETEMPTY;else{var s=e[0].type;if(1===e.length&&function t(e){var s=e.type;return-1===hd.indexOf(s)&&(s!==L.INFIXOP||e.role===w.IMPLICIT)&&(s===L.FENCED?e.role!==w.LEFTRIGHT||t(e.childNodes[0]):-1===cd.indexOf(s)||t(e.childNodes[0]))}(e[0]))t.role=w.SETSINGLE;else{var i=e[0].role;if(s===L.PUNCTUATED&&i===w.SEQUENCE){if(e[0].contentNodes[0].role!==w.COMMA)return 1!==e[0].contentNodes.length||e[0].contentNodes[0].role!==w.VBAR&&e[0].contentNodes[0].role!==w.COLON?void 0:(t.role=w.SETEXT,void A.getInstance().setExtension_(t));t.role=w.SETCOLLECT}}}}}setExtension_(t){const e=t.childNodes[0].childNodes[0];e&&e.type===L.INFIXOP&&1===e.contentNodes.length&&xd(e.contentNodes[0])&&(e.addAnnotation("set","intensional"),e.contentNodes[0].addAnnotation("set","intensional"))}getPunctuationInRow_(s){if(s.length<=1)return s;const i=t=>{t=t.type;return"punctuation"===t||"text"===t||"operator"===t||"relation"===t},e=Fc(s,function(t){if(!td(t))return!1;if(td(t)&&!zc(t,w.ELLIPSIS))return!0;t=s.indexOf(t);if(0===t)return!s[1]||!i(s[1]);var e=s[t-1];if(t===s.length-1)return!i(e);t=s[t+1];return!i(e)||!i(t)});if(0===e.rel.length)return s;let r=[],n=e.comp.shift(),o=(0<n.length&&r.push(A.getInstance().row(n)),0);for(;0<e.comp.length;){let t=[];const i=o;for(;t.push(e.rel[o++]),n=e.comp.shift(),e.rel[o]&&n&&0===n.length;);t=M.run("ellipses",t),e.rel.splice(i,o-i,...t),o=i+t.length,r=r.concat(t),n&&0<n.length&&r.push(A.getInstance().row(n))}return 1===r.length&&1===e.rel.length?r:[A.getInstance().punctuatedNode_(r,e.rel)]}punctuatedNode_(e,t){const s=A.getInstance().factory_.makeBranchNode(L.PUNCTUATED,e,t);if(t.length===e.length){const e=t[0].role;if(e!==w.UNKNOWN&&t.every(function(t){return t.role===e}))return s.role=e,s}var i=t[0];return ad(e,t,0)?s.role=i.childNodes.length&&!i.embellished?i.role:w.STARTPUNCT:ad(e,t,e.length-1)?s.role=i.childNodes.length&&!i.embellished?i.role:w.ENDPUNCT:t.every(t=>zc(t,w.DUMMY))?s.role=w.TEXT:t.every(t=>zc(t,w.SPACE))?s.role=w.SPACE:s.role=w.SEQUENCE,s}dummyNode_(t){const e=A.getInstance().factory_.makeMultipleContentNodes(t.length-1,hc.invisibleComma);return e.forEach(function(t){t.role=w.DUMMY}),A.getInstance().punctuatedNode_(t,e)}accentRole_(t,e){if(!Vc(t))return!1;var s=t.textContent,s=uc.Secondary.get(s,lc.BAR)||uc.Secondary.get(s,lc.TILDE)||t.role;return t.role=e===L.UNDERSCORE?w.UNDERACCENT:w.OVERACCENT,t.addAnnotation("accent",s),!0}accentNode_(t,e,s,i,r){var n=(e=e.slice(0,i+1))[1],o=e[2];let a;if(!r&&o&&((a=A.getInstance().factory_.makeBranchNode(L.SUBSCRIPT,[t,n],[])).role=w.SUBSUP,e=[a,o],s=L.SUPERSCRIPT),r){const i=A.getInstance().accentRole_(n,s);o&&(s=A.getInstance().accentRole_(o,L.OVERSCORE)&&!i?(e=[a=A.getInstance().factory_.makeBranchNode(L.OVERSCORE,[t,o],[]),n],L.UNDERSCORE):(e=[a=A.getInstance().factory_.makeBranchNode(L.UNDERSCORE,[t,n],[]),o],L.OVERSCORE),a.role=w.UNDEROVER)}return A.getInstance().makeLimitNode_(t,e,a,s)}makeLimitNode_(t,e,s,i){if(i===L.LIMUPPER&&t.type===L.LIMLOWER)return t.childNodes.push(e[1]),(e[1].parent=t).type=L.LIMBOTH,t;if(i===L.LIMLOWER&&t.type===L.LIMUPPER)return t.childNodes.splice(1,-1,e[1]),(e[1].parent=t).type=L.LIMBOTH,t;const r=A.getInstance().factory_.makeBranchNode(i,e,[]),n=$c(t);return s&&(s.embellished=n),r.embellished=n,r.role=t.role,r}getFunctionsInRow_(t,e){const s=e||[];if(0===t.length)return s;var e=t.shift(),i=A.classifyFunction_(e,t);if(!i)return s.push(e),A.getInstance().getFunctionsInRow_(t,s);t=A.getInstance().getFunctionsInRow_(t,[]),e=A.getInstance().getFunctionArgs_(e,t,i);return s.concat(e)}getFunctionArgs_(t,e,s){let i,r,n;switch(s){case"integral":{const s=A.getInstance().getIntegralArgs_(e);if(!s.intvar&&!s.integrand.length)return s.rest.unshift(t),s.rest;const i=A.getInstance().row(s.integrand);return n=A.getInstance().integralNode_(t,i,s.intvar),M.run("intvar_from_fraction",n),s.rest.unshift(n),s.rest}case"prefix":if(e[0]&&e[0].type===L.FENCED){const s=e.shift();return gd(s)||(s.role=w.LEFTRIGHT),n=A.getInstance().functionNode_(t,s),e.unshift(n),e}if((i=Uc(e,Xc)).head.length)r=A.getInstance().row(i.head),i.div&&i.tail.unshift(i.div);else{if(!i.div||!k(i.div,L.APPL))return e.unshift(t),e;r=i.div}return n=A.getInstance().functionNode_(t,r),i.tail.unshift(n),i.tail;case"bigop":return(i=Uc(e,Jc)).head.length?(r=A.getInstance().row(i.head),n=A.getInstance().bigOpNode_(t,r),i.div&&i.tail.unshift(i.div),i.tail.unshift(n),i.tail):(e.unshift(t),e);default:{if(0===e.length)return[t];const s=e[0];return s.type===L.FENCED&&!gd(s)&&function(){var t=s.childNodes;if(0===t.length)return 1;if(!(1<t.length)){const e=t[0];if(e.type===L.INFIXOP){if(e.role!==w.IMPLICIT)return;if(e.childNodes.some(t=>k(t,L.INFIXOP)))return}return 1}}()?(s.role=w.LEFTRIGHT,A.propagateFunctionRole_(t,w.SIMPLEFUNC),n=A.getInstance().functionNode_(t,e.shift()),e.unshift(n)):e.unshift(t),e}}}getIntegralArgs_(t,e=[]){if(0===t.length){const t=Uc(e,Jc);return t.div&&t.tail.unshift(t.div),{integrand:t.head,intvar:null,rest:t.tail}}M.run("intvar_from_implicit",t);const s=t[0];if(Yc(s)){const{integrand:s,rest:i}=A.getInstance().getIntegralArgs_(e);return{integrand:s,intvar:null,rest:i.concat(t)}}if(Kc(s))return s.role=w.INTEGRAL,{integrand:e,intvar:s,rest:t.slice(1)};if(t[1]&&Gc(s,t[1])){const r=A.getInstance().prefixNode_(t[1],[s]);return r.role=w.INTEGRAL,{integrand:e,intvar:r,rest:t.slice(2)}}return e.push(t.shift()),A.getInstance().getIntegralArgs_(t,e)}functionNode_(t,e){const s=A.getInstance().factory_.makeContentNode(hc.functionApplication),i=A.getInstance().funcAppls[t.id];i&&(s.mathmlTree=i.mathmlTree,s.mathml=i.mathml,s.annotation=i.annotation,s.attributes=i.attributes,delete A.getInstance().funcAppls[t.id]),s.type=L.PUNCTUATION,s.role=w.APPLICATION;var r=A.getFunctionOp_(t,function(t){return k(t,L.FUNCTION)||k(t,L.IDENTIFIER)&&zc(t,w.SIMPLEFUNC)});return A.getInstance().functionalNode_(L.APPL,[t,e],r,[s])}bigOpNode_(t,e){var s=A.getFunctionOp_(t,t=>k(t,L.LARGEOP));return A.getInstance().functionalNode_(L.BIGOP,[t,e],s,[])}integralNode_(t,e,s){e=e||A.getInstance().factory_.makeEmptyNode(),s=s||A.getInstance().factory_.makeEmptyNode();var i=A.getFunctionOp_(t,t=>k(t,L.LARGEOP));return A.getInstance().functionalNode_(L.INTEGRAL,[t,e,s],i,[])}functionalNode_(t,e,s,i){var r=e[0];let n;s&&(n=s.parent,i.push(s));const o=A.getInstance().factory_.makeBranchNode(t,e,i);return o.role=r.role,n&&(s.parent=n),o}fractionNode_(t,e){const s=A.getInstance().factory_.makeBranchNode(L.FRACTION,[t,e],[]);return s.role=s.childNodes.every(function(t){return k(t,L.NUMBER)&&zc(t,w.INTEGER)})?w.VULGAR:s.childNodes.every(ud)?w.UNIT:w.DIVISION,M.run("propagateSimpleFunction",s)}scriptNode_(t,e,s){let i;switch(t.length){case 0:i=A.getInstance().factory_.makeEmptyNode();break;case 1:if(i=t[0],s)return i;break;default:i=A.getInstance().dummyNode_(t)}return i.role=e,i}findNestedRow_(s,i,r,n){if(3<r)return null;for(let t,e=0;t=s[e];e++){const s=T(t);if(s!==S.MSPACE){if(s===S.MROW)return A.getInstance().findNestedRow_(Vh(t.childNodes),i,r+1,n);if(A.findSemantics(t,i,n))return t}}return null}}A.FENCE_TO_PUNCT_={[w.METRIC]:w.METRIC,[w.NEUTRAL]:w.VBAR,[w.OPEN]:w.OPENFENCE,[w.CLOSE]:w.CLOSEFENCE},A.MML_TO_LIMIT_={[S.MSUB]:{type:L.LIMLOWER,length:1},[S.MUNDER]:{type:L.LIMLOWER,length:1},[S.MSUP]:{type:L.LIMUPPER,length:1},[S.MOVER]:{type:L.LIMUPPER,length:1},[S.MSUBSUP]:{type:L.LIMBOTH,length:2},[S.MUNDEROVER]:{type:L.LIMBOTH,length:2}},A.MML_TO_BOUNDS_={[S.MSUB]:{type:L.SUBSCRIPT,length:1,accent:!1},[S.MSUP]:{type:L.SUPERSCRIPT,length:1,accent:!1},[S.MSUBSUP]:{type:L.SUBSCRIPT,length:2,accent:!1},[S.MUNDER]:{type:L.UNDERSCORE,length:1,accent:!0},[S.MOVER]:{type:L.OVERSCORE,length:1,accent:!0},[S.MUNDEROVER]:{type:L.UNDERSCORE,length:2,accent:!0}},A.CLASSIFY_FUNCTION_={[w.INTEGRAL]:"integral",[w.SUM]:"bigop",[w.PREFIXFUNC]:"prefix",[w.LIMFUNC]:"prefix",[w.SIMPLEFUNC]:"prefix",[w.COMPFUNC]:"prefix"},A.MATHJAX_FONTS={"-tex-caligraphic":I.CALIGRAPHIC,"-tex-caligraphic-bold":I.CALIGRAPHICBOLD,"-tex-calligraphic":I.CALIGRAPHIC,"-tex-calligraphic-bold":I.CALIGRAPHICBOLD,"-tex-oldstyle":I.OLDSTYLE,"-tex-oldstyle-bold":I.OLDSTYLEBOLD,"-tex-mathit":I.ITALIC};class yd extends class{constructor(t){this.type=t,this.factory_=new qc}getFactory(){return this.factory_}setFactory(t){this.factory_=t}getType(){return this.type}parseList(s){const i=[];for(let t,e=0;t=s[e];e++)i.push(this.parse(t));return i}}{static getAttribute_(t,e,s){if(!t.hasAttribute(e))return s;const i=t.getAttribute(e);return i.match(/^\s*$/)?null:i}constructor(t){super("MathML"),this.options=t,M.options=t,this.parseMap_=new Map([[S.SEMANTICS,this.semantics_.bind(this)],[S.MATH,this.rows_.bind(this)],[S.MROW,this.rows_.bind(this)],[S.MPADDED,this.rows_.bind(this)],[S.MSTYLE,this.rows_.bind(this)],[S.MFRAC,this.fraction_.bind(this)],[S.MSUB,this.limits_.bind(this)],[S.MSUP,this.limits_.bind(this)],[S.MSUBSUP,this.limits_.bind(this)],[S.MOVER,this.limits_.bind(this)],[S.MUNDER,this.limits_.bind(this)],[S.MUNDEROVER,this.limits_.bind(this)],[S.MROOT,this.root_.bind(this)],[S.MSQRT,this.sqrt_.bind(this)],[S.MTABLE,this.table_.bind(this)],[S.MLABELEDTR,this.tableLabeledRow_.bind(this)],[S.MTR,this.tableRow_.bind(this)],[S.MTD,this.tableCell_.bind(this)],[S.MS,this.text_.bind(this)],[S.MTEXT,this.text_.bind(this)],[S.MSPACE,this.space_.bind(this)],[S.ANNOTATIONXML,this.text_.bind(this)],[S.MI,this.identifier_.bind(this)],[S.MN,this.number_.bind(this)],[S.MO,this.operator_.bind(this)],[S.MFENCED,this.fenced_.bind(this)],[S.MENCLOSE,this.enclosed_.bind(this)],[S.MMULTISCRIPTS,this.multiscripts_.bind(this)],[S.ANNOTATION,this.empty_.bind(this)],[S.NONE,this.empty_.bind(this)],[S.MACTION,this.action_.bind(this)]]);const e={type:L.IDENTIFIER,role:w.NUMBERSET,font:I.DOUBLESTRUCK};["C","H","N","P","Q","R","Z","â„‚","â„","â„•","â„™","â„š","â„","â„¤"].forEach((t=>this.getFactory().defaultMap.set(t,e)).bind(this))}parse(t){A.getInstance().setNodeFactory(this.getFactory());const e=Vh(t.childNodes),s=T(t),i=this.parseMap_.get(s),r=(i||this.dummy_.bind(this))(t,e);return Bc(r,t),-1===[S.MATH,S.MROW,S.MPADDED,S.MSTYLE,S.SEMANTICS,S.MACTION].indexOf(s)&&(r.mathml.unshift(t),r.mathmlTree=t),r}semantics_(t,e){return e.length?this.parse(e[0]):this.getFactory().makeEmptyNode()}rows_(t,e){const s=t.getAttribute("semantics");if(s&&s.match("bspr_"))return A.proof(t,s,this.parseList.bind(this));let i;if(1===(e=Pc(e)).length)(i=this.parse(e[0])).type!==L.EMPTY||i.mathmlTree||(i.mathmlTree=t);else{const s=M.run("function_from_identifiers",t);i=s&&s!==t?s:A.getInstance().row(this.parseList(e))}return i.mathml.unshift(t),i}fraction_(t,e){if(!e.length)return this.getFactory().makeEmptyNode();var s=this.parse(e[0]),e=e[1]?this.parse(e[1]):this.getFactory().makeEmptyNode();return A.getInstance().fractionLikeNode(s,e,t.getAttribute("linethickness"),"true"===t.getAttribute("bevelled"))}limits_(t,e){return A.getInstance().limitNode(T(t),this.parseList(e))}root_(t,e){return e[1]?this.getFactory().makeBranchNode(L.ROOT,[this.parse(e[1]),this.parse(e[0])],[]):this.sqrt_(t,e)}sqrt_(t,e){e=this.parseList(Pc(e));return this.getFactory().makeBranchNode(L.SQRT,[A.getInstance().row(e)],[])}table_(t,e){const s=t.getAttribute("semantics");if(s&&s.match("bspr_"))return A.proof(t,s,this.parseList.bind(this));const i=this.getFactory().makeBranchNode(L.TABLE,this.parseList(e),[]);return i.mathmlTree=t,A.tableToMultiline(i)}tableRow_(t,e){const s=this.getFactory().makeBranchNode(L.ROW,this.parseList(e),[]);return s.role=w.TABLE,s}tableLabeledRow_(t,e){if(!e.length)return this.tableRow_(t,e);const s=this.parse(e[0]),i=(s.role=w.LABEL,(null==(t=s.childNodes[0])?void 0:t.type)===L.TEXT&&(s.childNodes[0].role=w.LABEL),this.getFactory().makeBranchNode(L.ROW,this.parseList(e.slice(1)),[s]));return i.role=w.TABLE,i}tableCell_(t,e){e=this.parseList(Pc(e)),e=e.length?1===e.length&&k(e[0],L.EMPTY)?e:[A.getInstance().row(e)]:[];const s=this.getFactory().makeBranchNode(L.CELL,e,[]);return s.role=w.TABLE,s}space_(t,e){const s=t.getAttribute("width"),i=s&&s.match(/[a-z]*$/);if(!i)return this.empty_(t,e);var r=i[0],n=parseFloat(s.slice(0,i.index)),r={cm:.4,pc:.5,em:.5,ex:1,in:.15,pt:5,mm:5}[r];if(!r||isNaN(n)||n<r)return this.empty_(t,e);n=this.getFactory().makeUnprocessed(t);return A.getInstance().text(n,T(t))}text_(t,e){const s=this.leaf_(t,e);return t.textContent?(s.updateContent(t.textContent,!0),A.getInstance().text(s,T(t))):s}identifier_(t,e){e=this.leaf_(t,e);return A.getInstance().identifierNode(e,A.getInstance().font(t.getAttribute("mathvariant")),t.getAttribute("class"))}number_(t,e){t=this.leaf_(t,e);return A.number(t),t}operator_(t,e){t=this.leaf_(t,e);return A.getInstance().operatorNode(t),t}fenced_(t,e){var e=this.parseList(Pc(e)),s=yd.getAttribute_(t,"separators",","),i=yd.getAttribute_(t,"open","("),t=yd.getAttribute_(t,"close",")"),i=A.getInstance().mfenced(i,t,s,e);return A.getInstance().tablesInRow([i])[0]}enclosed_(t,e){const s=this.parseList(Pc(e)),i=this.getFactory().makeBranchNode(L.ENCLOSE,[A.getInstance().row(s)],[]);return i.role=t.getAttribute("notation")||w.UNKNOWN,i}multiscripts_(t,s){if(!s.length)return this.getFactory().makeEmptyNode();var e=this.parse(s.shift());if(!s.length)return e;const i=[],r=[],n=[],o=[];let a=!1,l=0;for(let t,e=0;t=s[e];e++)T(t)!==S.MPRESCRIPTS?((a?1&l?i:r:1&l?n:o).push(t),l++):(a=!0,l=0);return Pc(i).length||Pc(r).length?A.getInstance().tensor(e,this.parseList(r),this.parseList(i),this.parseList(o),this.parseList(n)):A.getInstance().pseudoTensor(e,this.parseList(o),this.parseList(n))}empty_(t,e){return this.getFactory().makeEmptyNode()}action_(t,e){const s=e[t.hasAttribute("selection")?parseInt(t.getAttribute("selection"),10)-1:0],i=this.parse(s);return i.mathmlTree=s,i}dummy_(t,e){const s=this.getFactory().makeUnprocessed(t);return s.role=t.tagName,s.textContent=t.textContent,s}leaf_(t,e){if(1===e.length&&e[0].nodeType!==Ih.TEXT_NODE){const s=this.getFactory().makeUnprocessed(t);return s.role=e[0].tagName,Bc(s,e[0]),s}const s=this.getFactory().makeLeafNode(t.textContent,A.getInstance().font(t.getAttribute("mathvariant")));return t.hasAttribute("data-latex")&&uc.LatexCommands.set(t.getAttribute("data-latex"),t.textContent),s}}class vd{constructor(t,e,s=t=>!1){this.name=t,this.apply=e,this.applicable=s}}class Cd extends vd{}class _d extends vd{}function Td(t,e){const s=[];for(;t.length||e.length;)t.length&&s.push(t.shift()),e.length&&s.push(e.shift());return s}const Ld="data-semantic-",wd=((Z=R=R||{}).ADDED="data-semantic-added",Z.ALTERNATIVE="data-semantic-alternative",Z.CHILDREN="data-semantic-children",Z.COLLAPSED="data-semantic-collapsed",Z.CONTENT="data-semantic-content",Z.EMBELLISHED="data-semantic-embellished",Z.FENCEPOINTER="data-semantic-fencepointer",Z.FONT="data-semantic-font",Z.ID="data-semantic-id",Z.ANNOTATION="data-semantic-annotation",Z.ATTRIBUTES="data-semantic-attributes",Z.OPERATOR="data-semantic-operator",Z.OWNS="data-semantic-owns",Z.PARENT="data-semantic-parent",Z.POSTFIX="data-semantic-postfix",Z.PREFIX="data-semantic-prefix",Z.ROLE="data-semantic-role",Z.SPEECH="data-semantic-speech",Z.STRUCTURE="data-semantic-structure",Z.SUMMARY="data-semantic-summary",Z.TYPE="data-semantic-type",[R.ADDED,R.ALTERNATIVE,R.CHILDREN,R.COLLAPSED,R.CONTENT,R.EMBELLISHED,R.FENCEPOINTER,R.FONT,R.ID,R.ANNOTATION,R.ATTRIBUTES,R.OPERATOR,R.OWNS,R.PARENT,R.POSTFIX,R.PREFIX,R.ROLE,R.SPEECH,R.STRUCTURE,R.SUMMARY,R.TYPE]);function Id(t){return t.map(function(t){return t.id}).join(",")}function Sd(s,t){s.setAttribute(R.TYPE,t.type);var i=t.allAttributes();for(let t,e=0;t=i[e];e++)s.setAttribute(Ld+t[0].toLowerCase(),t[1]);t.childNodes.length&&s.setAttribute(R.CHILDREN,Id(t.childNodes)),t.contentNodes.length&&s.setAttribute(R.CONTENT,Id(t.contentNodes)),t.parent&&s.setAttribute(R.PARENT,t.parent.id.toString());var e=t.attributesXml();e&&s.setAttribute(R.ATTRIBUTES,e);{e=s;const r=[];return t.role===w.MGLYPH&&r.push("image"),t.attributes.href&&r.push("link"),void(r.length&&e.setAttribute(R.POSTFIX,r.join(" ")))}}function Rd(){const t=Gh("mrow");return t.setAttribute(R.ADDED,"true"),t}class O{static fromTree(t){return O.fromNode(t.root)}static fromNode(t){return new O(O.fromNode_(t))}static fromString(t){return new O(O.fromString_(t))}static simpleCollapseStructure(t){return"number"==typeof t}static contentCollapseStructure(t){return!!t&&!O.simpleCollapseStructure(t)&&"c"===t[0]}static interleaveIds(t,e){return Td(O.collapsedLeafs(t),O.collapsedLeafs(e))}static collapsedLeafs(...t){return t.reduce((t,e)=>{return t.concat((t=e,O.simpleCollapseStructure(t)?[t]:O.contentCollapseStructure(t[1])?t.slice(2):t.slice(1)))},[])}static fromStructure(t,e,s){return new O(O.tree_(t,e.root,s))}static combineContentChildren(t,e,s,i){switch(t){case L.RELSEQ:case L.INFIXOP:case L.MULTIREL:return Td(i,s);case L.PREFIXOP:return s.concat(i);case L.POSTFIXOP:return i.concat(s);case L.MATRIX:case L.VECTOR:case L.FENCED:return i.unshift(s[0]),i.push(s[1]),i;case L.CASES:return i.unshift(s[0]),i;case L.APPL:return[i[0],s[0],i[1]];case L.ROOT:return[i[0],i[1]];case L.ROW:case L.LINE:return s.length&&i.unshift(s[0]),i;default:return i}}static makeSexp_(t){return O.simpleCollapseStructure(t)?t.toString():O.contentCollapseStructure(t)?"(c "+t.slice(1).map(O.makeSexp_).join(" ")+")":"("+t.map(O.makeSexp_).join(" ")+")"}static fromString_(t){let e=t.replace(/\(/g,"[");return e=(e=(e=e.replace(/\)/g,"]")).replace(/ /g,",")).replace(/c/g,'"c"'),JSON.parse(e)}static fromNode_(t){if(!t)return[];const e=t.contentNodes;let s;e.length&&(s=e.map(O.fromNode_)).unshift("c");const i=t.childNodes;if(!i.length)return e.length?[t.id,s]:t.id;const r=i.map(O.fromNode_);return e.length&&r.unshift(s),r.unshift(t.id),r}static tree_(i,t,r,n=0,e=1,s=1){if(!t)return[];const o=t.id,a=[o];var l=i;if(Uh.getInstance().mode===dh.HTTP){let t=l;for(;t&&!t.evaluate;)t=t.parentNode;t&&t.evaluate?Hh.currentDocument=t:l.ownerDocument&&(Hh.currentDocument=l.ownerDocument)}l=function(t,e){let s;try{s=(i=t,r=e,n=Hh.result.ORDERED_NODE_ITERATOR_TYPE,Hh.evaluate(i,r,new zh,n,null))}catch(t){return[]}var i,r,n;const o=[];for(let t=s.iterateNext();t;t=s.iterateNext())o.push(t);return o}(`.//self::*[@${R.ID}=${o}]`,i)[0];if(!t.childNodes.length)return O.addAria(l,n,e,s,r),t.id;var h=O.combineContentChildren(t.type,t.role,t.contentNodes.map(function(t){return t}),t.childNodes.map(function(t){return t}));l&&O.addOwns_(l,h);for(let t,e=0,s=h.length;t=h[e];e++)a.push(O.tree_(i,t,r,n+1,e+1,s));return O.addAria(l,n,e,s,r),a}static addAria(t,e,s,i,r){var n=!r.tree||e?"treeitem":"tree";r.aria&&t&&(t.setAttribute("aria-level",e.toString()),t.setAttribute("aria-posinset",s.toString()),t.setAttribute("aria-setsize",i.toString()),t.setAttribute("role",n),t.hasAttribute(R.OWNS)&&t.setAttribute("aria-owns",t.getAttribute(R.OWNS)))}static addOwns_(t,e){const s=t.getAttribute(R.COLLAPSED),i=s?O.realLeafs_(O.fromString(s).array):e.map(t=>t.id);t.setAttribute(R.OWNS,i.join(" "))}static realLeafs_(e){if(O.simpleCollapseStructure(e))return[e];if(O.contentCollapseStructure(e))return[];let s=[];for(let t=1;t<e.length;t++)s=s.concat(O.realLeafs_(e[t]));return s}constructor(t){this.parents=null,this.levelsMap=null,this.array=t=0===t?t:t||[]}populate(){this.parents&&this.levelsMap||(this.parents={},this.levelsMap={},this.populate_(this.array,this.array,[]))}toString(){return O.makeSexp_(this.array)}populate_(s,t,i){if(O.simpleCollapseStructure(s))return this.levelsMap[s]=t,void(this.parents[s]=s===i[0]?i.slice(1):i);const r=O.contentCollapseStructure(s)?s.slice(1):s,n=[r[0]].concat(i);for(let t=0,e=r.length;t<e;t++){const i=r[t];this.populate_(i,s,n)}}isRoot(t){return t===this.levelsMap[t][0]}directChildren(t){return this.isRoot(t)?this.levelsMap[t].slice(1).map(t=>O.simpleCollapseStructure(t)?t:O.contentCollapseStructure(t)?t[1]:t[0]):[]}subtreeNodes(t){if(!this.isRoot(t))return[];const s=(t,e)=>{O.simpleCollapseStructure(t)?e.push(t):(t=O.contentCollapseStructure(t)?t.slice(1):t).forEach(t=>s(t,e))},e=this.levelsMap[t],i=[];return s(e.slice(1),i),i}}function kd(t,e,s){let i=null;if(!t.length)return i;const r=s[s.length-1],n=r&&r.length,o=e&&e.length,a=A.getInstance();if(n&&o){if(e[0].type===L.INFIXOP&&e[0].role===w.IMPLICIT)return i=t.pop(),r.push(a.postfixNode_(r.pop(),t)),i;i=t.shift();const s=a.prefixNode_(e.shift(),t);return e.unshift(s),i}return n?r.push(a.postfixNode_(r.pop(),t)):o&&e.unshift(a.prefixNode_(e.shift(),t)),i}function Md(t){return t.childNodes[0]&&t.childNodes[0].childNodes[0]&&T(t.childNodes[0])===S.MPADDED&&T(t.childNodes[0].childNodes[0])===S.MPADDED&&T(t.childNodes[0].childNodes[t.childNodes[0].childNodes.length-1])===S.MPHANTOM}M.add(new Cd("combine_juxtaposition",function(s){for(let t,e=s.childNodes.length-1;t=s.childNodes[e];e--)fd(t)&&!t.nobreaking&&(s.childNodes.splice(e,1,...t.childNodes),s.contentNodes.splice(e,0,...t.contentNodes),t.childNodes.concat(t.contentNodes).forEach(function(t){t.parent=s}),s.addMathmlNodes(t.mathml));return s})),M.add(new Cd("propagateSimpleFunction",t=>(t.type!==L.INFIXOP&&t.type!==L.FRACTION||!t.childNodes.every(ld)||(t.role=w.COMPFUNC),t),t=>"clearspeak"===M.options.domain)),M.add(new Cd("simpleNamedFunction",t=>(t.role!==w.UNIT&&-1!==["f","g","h","F","G","H"].indexOf(t.textContent)&&(t.role=w.SIMPLEFUNC),t),t=>"clearspeak"===M.options.domain)),M.add(new Cd("propagateComposedFunction",t=>(t.type===L.FENCED&&t.childNodes[0].role===w.COMPFUNC&&(t.role=w.COMPFUNC),t),t=>"clearspeak"===M.options.domain)),M.add(new Cd("multioperator",t=>{t.role!==w.UNKNOWN||t.textContent.length<=1||(A.compSemantics(t,"role",w),A.compSemantics(t,"type",L))})),M.add(new _d("convert_juxtaposition",i=>{let r=Fc(i,function(t){return t.textContent===hc.invisibleTimes&&t.type===L.OPERATOR});i=(r=r.rel.length?function(t){const e=[],s=[];let i=t.comp.shift(),r=null,n=[];for(;t.comp.length;)if(n=[],i.length)r&&e.push(r),s.push(i),r=t.rel.shift(),i=t.comp.shift();else{for(r&&n.push(r);!i.length&&t.comp.length;)i=t.comp.shift(),n.push(t.rel.shift());r=kd(n,i,s)}return n.length||i.length?(e.push(r),s.push(i)):(n.push(r),kd(n,i,s)),{rel:e,comp:s}}(r):r).comp[0];for(let t,e,s=1;t=r.comp[s],e=r.rel[s-1];s++)i.push(e),i=i.concat(t);return(r=Fc(i,function(t){return t.textContent===hc.invisibleTimes&&(t.type===L.OPERATOR||t.type===L.INFIXOP)})).rel.length?function t(e,s,i){if(!s.length)return e;const r=e.pop(),n=s.shift(),o=i.shift();if(n.type===L.INFIXOP&&(n.role===w.IMPLICIT||n.role===w.UNIT)){v.getInstance().output("Juxta Heuristic Case 2");const a=(r?[r,n]:[n]).concat(o);return t(e.concat(a),s,i)}if(!r)return v.getInstance().output("Juxta Heuristic Case 3"),t([n].concat(o),s,i);const a=o.shift();if(!a){v.getInstance().output("Juxta Heuristic Case 9");const o=M.factory.makeBranchNode(L.INFIXOP,[r,s.shift()],[n],n.textContent);return o.role=w.IMPLICIT,M.run("combine_juxtaposition",o),s.unshift(o),t(e,s,i)}if(Qc(r)||Qc(a))return v.getInstance().output("Juxta Heuristic Case 4"),t(e.concat([r,n,a]).concat(o),s,i);let l=null;return fd(r)&&fd(a)?(v.getInstance().output("Juxta Heuristic Case 5"),r.contentNodes.push(n),r.contentNodes=r.contentNodes.concat(a.contentNodes),r.childNodes.push(a),r.childNodes=r.childNodes.concat(a.childNodes),a.childNodes.forEach(t=>t.parent=r),(n.parent=r).addMathmlNodes(n.mathml),r.addMathmlNodes(a.mathml),l=r):fd(r)?(v.getInstance().output("Juxta Heuristic Case 6"),r.contentNodes.push(n),r.childNodes.push(a),a.parent=r,(n.parent=r).addMathmlNodes(n.mathml),r.addMathmlNodes(a.mathml),l=r):fd(a)?(v.getInstance().output("Juxta Heuristic Case 7"),a.contentNodes.unshift(n),a.childNodes.unshift(r),r.parent=a,(n.parent=a).addMathmlNodes(n.mathml),a.addMathmlNodes(r.mathml),l=a):(v.getInstance().output("Juxta Heuristic Case 8"),(l=M.factory.makeBranchNode(L.INFIXOP,[r,a],[n],n.textContent)).role=w.IMPLICIT),e.push(l),t(e.concat(o),s,i)}(r.comp.shift(),r.rel,r.comp):i})),M.add(new Cd("simple2prefix",t=>(1<t.textContent.length&&!t.textContent[0].match(/[A-Z]/)&&(t.role=w.PREFIXFUNC),t),t=>"braille"===M.options.modality&&t.type===L.IDENTIFIER)),M.add(new Cd("detect_cycle",t=>{t.type=L.MATRIX,t.role=w.CYCLE;const e=t.childNodes[0];return e.type=L.ROW,e.role=w.CYCLE,e.textContent="",e.contentNodes=[],t},t=>t.type===L.FENCED&&t.childNodes[0].type===L.INFIXOP&&t.childNodes[0].role===w.IMPLICIT&&t.childNodes[0].childNodes.every(function(t){return t.type===L.NUMBER})&&t.childNodes[0].contentNodes.every(function(t){return t.role===w.SPACE}))),M.add(new _d("intvar_from_implicit",function(t){var e=t[0].childNodes;t.splice(0,1,...e)},t=>t[0]&&md(t[0]))),M.add(new Cd("intvar_from_fraction",function(t){const e=t.childNodes[1],s=e.childNodes[0];if(Kc(s))s.role=w.INTEGRAL;else if(md(s)){const i=s.childNodes.length,r=s.childNodes[i-2],n=s.childNodes[i-1];if(Kc(n))n.role=w.INTEGRAL;else if(Gc(r,n)){const t=A.getInstance().prefixNode_(n,[r]);t.role=w.INTEGRAL,2===i?e.childNodes[0]=t:(s.childNodes.pop(),s.contentNodes.pop(),(s.childNodes[i-2]=t).parent=s)}}},t=>{if(t.type!==L.INTEGRAL)return!1;var[,t,e]=t.childNodes;return e.type===L.EMPTY&&t.type===L.FRACTION})),M.add(new Cd("rewrite_subcases",function(s){s.addAnnotation("Emph","top");let t=[];if(s.hasAnnotation("Emph","left")){const e=Od(s.childNodes[0].childNodes[0].childNodes[0],!0);e.forEach(t=>t.addAnnotation("Emph","left")),t=t.concat(e);for(let t,e=0;t=s.childNodes[e];e++)t.childNodes.shift()}if(t.push(s),s.hasAnnotation("Emph","right")){const e=Od(s.childNodes[0].childNodes[s.childNodes[0].childNodes.length-1].childNodes[0]);e.forEach(t=>t.addAnnotation("Emph","left")),t=t.concat(e),s.childNodes[0].childNodes.pop()}A.tableToMultiline(s);const e=A.getInstance().row(t),i=s.annotation.Emph;return s.annotation.Emph=["table"],i.forEach(t=>e.addAnnotation("Emph",t)),e},s=>{let i=!0,r=!0;if(Md(s.childNodes[0].childNodes[0].mathmlTree)){for(let t,e=1;t=s.childNodes[e];e++)if(t.childNodes[0].childNodes.length){i=!1;break}}else i=!1;if(i&&s.addAnnotation("Emph","left"),Md(s.childNodes[0].childNodes[s.childNodes[0].childNodes.length-1].mathmlTree)){const i=s.childNodes[0].childNodes.length;for(let t,e=1;t=s.childNodes[e];e++)if(t.childNodes.length>=i){r=!1;break}}else r=!1;return r&&s.addAnnotation("Emph","right"),i||r}));const Ad=[L.PUNCTUATED,L.RELSEQ,L.MULTIREL,L.INFIXOP,L.PREFIXOP,L.POSTFIXOP];function Od(t,e){if(!t.childNodes.length)return Pd(t),[t];let s=null;if(t.type!==L.PUNCTUATED||(e?t.role!==w.ENDPUNCT:t.role!==w.STARTPUNCT)||Pd((i=t.childNodes)[e?i.length-1:0])&&(t=i[e?0:i.length-1],s=i[e?i.length-1:0]),-1===Ad.indexOf(t.type))return s?e?[t,s]:[s,t]:[t];{var i=t.childNodes;Pd(i[e?i.length-1:0]);const r=O.combineContentChildren(t.type,t.role,t.contentNodes,t.childNodes);return s&&(e?r.push(s):r.unshift(s)),r}}const Dd={[w.METRIC]:w.METRIC,[w.VBAR]:w.NEUTRAL,[w.OPENFENCE]:w.OPEN,[w.CLOSEFENCE]:w.CLOSE};function Pd(t){var e;if(t.type===L.PUNCTUATION)return e=Dd[t.role],e&&(t.role=e,t.type=L.FENCE,t.addAnnotation("Emph","fence"),1)}function Bd(t,e,s,i=s){const r=[];for(;t&&t.role===s;)r.push(t),t=e.shift();return r.length?(t&&e.unshift(t),[1===r.length?r[0]:function(t,e){const s=M.factory.makeBranchNode(L.PUNCTUATION,t,[]);return s.role=e,s}(r,i),e]):[t,e]}function jd(t){return["[","ï¼»"].includes(t)}function Ud(t){return["]","ï¼½"].includes(t)}function Fd(t){return["(","â½","â‚"].includes(t)}function Hd(t){return[")","â¾","â‚"].includes(t)}function qd(t){return t.role===w.INFTY||t.type===L.PREFIXOP&&t.childNodes[0].role===w.INFTY}function Wd(t){var e=t.childNodes[0];if(t.type!==L.FENCED||(null==e?void 0:e.type)!==L.PUNCTUATED||3!==(null==e?void 0:e.childNodes.length)||1!==(null==e?void 0:e.contentNodes.length)||(null==e?void 0:e.childNodes[1].role)!==w.COMMA)return!1;var e=t.childNodes[0].childNodes[0],s=t.childNodes[0].childNodes[2],i=t.contentNodes[0].textContent,t=t.contentNodes[1].textContent;return!!(jd(i)&&Hd(t)||Fd(i)&&Ud(t))||!(!Fd(i)||!Hd(t)||!qd(e)&&!qd(s))}function zd(t){return t.hasAnnotation("clearspeak","simple")}function Vd(t){return t.type===L.IDENTIFIER&&(t.role===w.LATINLETTER||t.role===w.GREEKLETTER||t.role===w.OTHERLETTER||t.role===w.SIMPLEFUNC)}function Xd(t){return t.type===L.NUMBER&&(t.role===w.INTEGER||t.role===w.FLOAT)}function Jd(t){return Xd(t)||function(t){if(Gd("Fraction_Over")||Gd("Fraction_FracOver"))return!1;if(t.type!==L.FRACTION||t.role!==w.VULGAR)return!1;if(Gd("Fraction_Ordinal"))return!0;var e=parseInt(t.childNodes[0].textContent,10),t=parseInt(t.childNodes[1].textContent,10);return 0<e&&e<20&&0<t&&t<11}(t)}function Gd(t){return Uh.getInstance().options.style===t}M.add(new _d("ellipses",t=>{const e=[];let s=t.shift();for(;s;)[s,t]=Bd(s,t,w.FULLSTOP,w.ELLIPSIS),[s,t]=Bd(s,t,w.DASH),e.push(s),s=t.shift();return e},t=>1<t.length)),M.add(new _d("op_with_limits",t=>{const e=t[0];return e.type=L.LARGEOP,e.role=w.SUM,t},t=>t[0].type===L.OPERATOR&&t.slice(1).some(t=>t.type===L.RELSEQ||t.type===L.MULTIREL||t.type===L.INFIXOP&&t.role===w.ELEMENT||t.type===L.PUNCTUATED&&t.role===w.SEQUENCE))),M.add(new class extends vd{}("function_from_identifiers",t=>{var e=Vh(t.childNodes).map(t=>t.textContent.trim()).join("");if(uc.Meaning.get(e).type===L.UNKNOWN)return t;const s=M.factory.makeLeafNode(e,A.getInstance().font(t.getAttribute("mathvariant")));return s.mathmlTree=t,s},t=>{const e=Vh(t.childNodes);return!(e.length<2)&&e.every(t=>T(t)===S.MI&&uc.Meaning.get(t.textContent.trim()).role===w.LATINLETTER)})),M.add(new _d("bracketed_interval",t=>{const e=t[0],s=t[1],i=t.slice(2),r=A.getInstance().row(i),n=M.factory.makeBranchNode(L.FENCED,[r],[e,s]);return n.role=w.INTERVAL,n},t=>{var e=t[0],s=t[1],t=t.slice(2);if(!(e&&s&&(Ud(e.textContent)&&(jd(s.textContent)||Ud(s.textContent))||jd(s.textContent)&&(jd(e.textContent)||Ud(e.textContent)))))return!1;if(1===t.length&&t[0].type===L.PUNCTUATED&&1===t[0].contentNodes.length)return!0;s=Fc(t,td);return!(1!==s.rel.length||!s.comp[0].length||!s.comp[1].length)})),M.add(new Cd("interval_heuristic",t=>(t.role=w.INTERVAL,t),t=>Wd(t))),M.add(new Cd("propagateInterval",t=>(t.childNodes.forEach(t=>{Wd(t)&&(t.role=w.INTERVAL)}),t),t=>xd(t))),ec(new $h("clearspeak","simple",function(t){return Jd(t=t)||(Vd(e=t)||e.type===L.INFIXOP&&e.role===w.IMPLICIT&&(2===e.childNodes.length&&(Vd(e.childNodes[0])||Jd(e.childNodes[0]))&&Vd(e.childNodes[1])||3===e.childNodes.length&&Jd(e.childNodes[0])&&Vd(e.childNodes[1])&&Vd(e.childNodes[2])))||(e=t).type===L.PUNCTUATED&&e.role===w.ENDPUNCT&&2===e.childNodes.length&&e.childNodes[1].role===w.DEGREE&&(Vd(e.childNodes[0])||Xd(e.childNodes[0])||e.childNodes[0].type===L.PREFIXOP&&e.childNodes[0].role===w.NEGATIVE&&(Vd(e.childNodes[0].childNodes[0])||Xd(e.childNodes[0].childNodes[0])))||(e=t).type===L.PREFIXOP&&e.role===w.NEGATIVE&&zd(e.childNodes[0])&&e.childNodes[0].type!==L.PREFIXOP&&e.childNodes[0].type!==L.APPL&&e.childNodes[0].type!==L.PUNCTUATED||(e=t).type===L.APPL&&(e.childNodes[0].role===w.PREFIXFUNC||e.childNodes[0].role===w.SIMPLEFUNC)&&(zd(e.childNodes[1])||e.childNodes[1].type===L.FENCED&&zd(e.childNodes[1].childNodes[0]))?"simple":"";var e})),sc("clearspeak","simple"),ec(new $h("clearspeak","unit",function(t){return(t=t).type===L.TEXT&&t.role!==w.LABEL||t.type===L.PUNCTUATED&&t.role===w.TEXT&&Xd(t.childNodes[0])&&function(e){for(let t=0;t<e.length-1;t++)if(e[t].type!==L.TEXT||""!==e[t].textContent)return;return e[e.length-1].type===L.TEXT}(t.childNodes.slice(1))||t.type===L.IDENTIFIER&&t.role===w.UNIT||t.type===L.INFIXOP&&(t.role===w.IMPLICIT||t.role===w.UNIT)?"unit":""})),sc("clearspeak","unit");const Kd=[L.MULTIREL,L.RELSEQ,L.APPL,L.ROW,L.LINE],Yd=[L.SUBSCRIPT,L.SUPERSCRIPT,L.OVERSCORE,L.UNDERSCORE];function $d(t,e){var s,t=t.parent;if(t)return s=t.type,-1!==Kd.indexOf(s)||s===L.PREFIXOP&&t.role===w.NEGATIVE&&!e.script&&!e.enclosed||s===L.PREFIXOP&&t.role===w.GEOMETRY||!(s!==L.PUNCTUATED||e.enclosed&&t.role!==w.TEXT)}ec(new Qh("nemeth","number",function(t,e){return t.childNodes.length?(-1!==Yd.indexOf(t.type)&&(e.script=!0),t.type===L.FENCED?(e.number=!1,e.enclosed=!0):t.type===L.PREFIXOP&&t.role!==w.GEOMETRY&&t.role!==w.NEGATIVE?e.number=!1:$d(t,e)&&(e.number=!0,e.enclosed=!1),["",e]):($d(t,e)&&(e.number=!0,e.script=!1,e.enclosed=!1),[e.number?"number":"",{number:!1,enclosed:e.enclosed,script:e.script}])},{number:!0})),sc("nemeth","number"),ec(new Qh("depth","depth",function(t){return t.parent?[parseInt(t.parent.annotation.depth[0])+1]:[1]})),sc("depth","depth");class Qd{static empty(){const t=Xh("<math/>"),e=new Qd(t,new Dh);return e.mathml=t,e}static fromNode(t,e){const s=Qd.empty();return s.root=t,e&&(s.mathml=e),s}static fromRoot(t,e){let s=t;for(;s.parent;)s=s.parent;const i=Qd.fromNode(s);return e&&(i.mathml=e),i}static fromXml(t){const e=Qd.empty();return t.childNodes[0]&&(e.root=Hc.fromXml(t.childNodes[0])),e}constructor(t,e){this.mathml=t,this.options=e,this.parser=new yd(e),this.root=this.parser.parse(t),this.collator=this.parser.getFactory().leafMap.collateMeaning();var s=this.collator.newDefault(),i=(s&&(this.parser=new yd(e),this.parser.getFactory().defaultMap=s,this.root=this.parser.parse(t)),Zd.visit(this.root,{}),this.root);for(const r of Zh.values())r.active&&r.annotate(i);for(const n of tc.values())n.active&&n.visit(i,Object.assign({},n.def))}xml(t){const e=Xh("<stree></stree>"),s=this.root.xml(e.ownerDocument,t);return e.appendChild(s),e}toString(t){return Yh(this.xml(t))}formatXml(t){return Kh(this.toString(t))}displayTree(){this.root.displayTree()}replaceNode(t,e){const s=t.parent;s?s.replaceChild(t,e):this.root=e}toJson(){const t={};return t.stree=this.root.toJson(),t}}const Zd=new Qh("general","unit",(t,e)=>(pd(t)&&(t.role=w.UNIT),!1));const tu=[],eu=!0,su=new Map;function iu(t){v.getInstance().generate(()=>["WALKING START: ",t.toString()]);const e=function(s){for(let t,e=0;t=tu[e];e++)if(t.test(s))return t.constr(s);return null}(t);let s;if(e)return s=e.getMathml(),v.getInstance().generate(()=>["WALKING END: ",t.toString()]),lu(s);if(1===t.mathml.length){if(v.getInstance().output("Walktree Case 0"),!t.childNodes.length)return v.getInstance().output("Walktree Case 0.1"),Sd(s=t.mathml[0],t),v.getInstance().generate(()=>["WALKING END: ",t.toString()]),lu(s);const e=t.childNodes[0];if(1===t.childNodes.length&&e.type===L.EMPTY)return v.getInstance().output("Walktree Case 0.2"),Sd(s=t.mathml[0],t),s.appendChild(iu(e)),v.getInstance().generate(()=>["WALKING END: ",t.toString()]),lu(s);t.childNodes.forEach(t=>{t.mathml.length||(t.mathml=[mu(t)])})}var i=t.contentNodes.map(uu),r=(fu(t,i),t.childNodes.map(iu)),i=O.combineContentChildren(t.type,t.role,i,r);if(null===(s=t.mathmlTree))v.getInstance().output("Walktree Case 1"),s=ru(i,t);else{const t=ou(i);v.getInstance().output("Walktree Case 2"),s=t?(v.getInstance().output("Walktree Case 2.1"),cu(t)):(v.getInstance().output("Walktree Case 2.2"),gu(s))}return function(s,e,i){if(e.length&&(1!==e.length||s!==e[0])){const l=i.role===w.IMPLICIT&&M.flags.combine_juxtaposition?function(t,e,s){const i=[];let r=Vh(t.childNodes),n=!1;for(;r.length;){const t=r.shift();if(t.hasAttribute(R.TYPE))i.push(t);else{const s=function(t,e){const s=[];let i=Vh(t.childNodes);for(;i.length;){const t=i.shift();t.nodeType===Ih.ELEMENT_NODE&&(t.hasAttribute(R.TYPE)||-1!==e.indexOf(t)?s.push(t):i=Vh(t.childNodes).concat(i))}return s}(t,e);0!==s.length&&(1!==s.length?(n?t.setAttribute("AuxiliaryImplicit",!0):n=!0,r=s.concat(r)):i.push(t))}}const o=[],a=s.childNodes.map(function(t){return t.mathmlTree});for(;a.length;){const t=a.pop();if(t){if(-1!==i.indexOf(t))break;-1!==e.indexOf(t)&&o.unshift(t)}}return i.concat(o)}(s,e,i):Vh(s.childNodes);if(!l.length)return e.forEach(function(t){s.appendChild(t)});let t=0;for(;e.length;){const i=e[0];if(l[t]===i||function(s,i){var t=hc.functionApplication;if(s&&i&&s.textContent&&i.textContent&&s.textContent===t&&i.textContent===t&&"true"===i.getAttribute(R.ADDED)){for(let t,e=0;t=s.attributes[e];e++)i.hasAttribute(t.nodeName)||i.setAttribute(t.nodeName,t.nodeValue);return Jh(s,i),1}return}(l[t],i))e.shift(),t++;else if(l[t]&&-1===e.indexOf(l[t]))t++;else if(function(t,e){if(!t)return;do{if((t=cu(t))===e)return 1}while(t);return}(i,s))e.shift();else{var r=l[t];if(r){{n=void 0;o=void 0;a=void 0;var n=s;var o=r;var a=i;let t=o,e=cu(t);for(;e&&e.firstChild===t&&!t.hasAttribute("AuxiliaryImplicit")&&e!==n;)e=cu(t=e);e&&(e.insertBefore(a,t),t.removeAttribute("AuxiliaryImplicit"))}e.shift()}else if(i.parentNode)s=cu(i),e.shift();else{const l=e[1];l&&l.parentNode?((s=cu(l)).insertBefore(i,l),e.shift()):s.insertBefore(i,null),e.shift()}}}}}(s=pu(s),i,t),su.has(t.id)||(su.set(t.id,!0),Sd(s,t)),v.getInstance().generate(()=>["WALKING END: ",t.toString()]),lu(s)}function ru(t,e){const s=function(t){var e=ou(t);if(!e)return{type:gc.INVALID,node:null};var s=ou(t.slice().reverse());if(e===s)return{type:gc.VALID,node:e};const i=au(e),r=function(t,e){let s=0;for(;t[s]&&-1===e.indexOf(t[s]);)s++;return t.slice(0,s+1)}(i,t),n=au(s,function(t){return-1!==r.indexOf(t)}),o=n[0],a=r.indexOf(o);return-1===a?{type:gc.INVALID,node:null}:{type:r.length!==i.length?gc.PRUNED:(e=r[a+1],t=n[1],e&&t&&!e.previousSibling&&!t.nextSibling?gc.VALID:gc.INVALID),node:o}}(t);let i=s.node;var r=s.type;if(r!==gc.VALID||!Dc(i)||!i.parentNode&&e.parent)if(v.getInstance().output("Walktree Case 1.1"),i=Rd(),r===gc.PRUNED)v.getInstance().output("Walktree Case 1.1.0"),i=function(e,t,s){let i=function t(e){const s=Vh(e.childNodes);if(!s)return e;const i=s.filter(function(t){return t.nodeType===Ih.ELEMENT_NODE&&!Oc(t)});return 1===i.length&&Dc(i[0])&&!i[0].hasAttribute(R.TYPE)?t(i[0]):e}(t);if(Ac(i)){v.getInstance().output("Walktree Case 1.1.0.0"),nu(i,e),Vh(i.childNodes).forEach(function(t){e.appendChild(t)});const t=e;e=i,i=t}t=s.indexOf(t);return Jh(s[t]=i,e),e.appendChild(i),s.forEach(function(t){e.appendChild(t)}),e}(i,s.node,t);else if(t[0]){v.getInstance().output("Walktree Case 1.1.1");const e=ou(t);if(e){const s=function(t,e){const s=Vh(t.childNodes);let i=1/0,r=-1/0;return e.forEach(function(t){t=s.indexOf(t);-1!==t&&(i=Math.min(i,t),r=Math.max(r,t))}),s.slice(i,r+1)}(cu(e),t);Jh(e,i),s.forEach(function(t){i.appendChild(t)})}else nu(i,t[0]),i=t[0]}return e.mathmlTree||(e.mathmlTree=i),i}function nu(t,e){for(const s of wd)t.hasAttribute(s)&&(e.setAttribute(s,t.getAttribute(s)),t.removeAttribute(s))}function ou(t){let e=0,s=null;for(;!s&&e<t.length;)t[e].parentNode&&(s=t[e]),e++;return s}function au(t,e){const s=e||(t=>!1),i=[t];for(;!s(t)&&!Ac(t)&&t.parentNode;)t=cu(t),i.unshift(t);return i}function lu(t){for(;!Ac(t)&&function(e){var t=cu(e);return t&&Dc(t)&&Vh(t.childNodes).every(function(t){return t===e||hu(t)})}(t);)t=cu(t);return t}function hu(t){if(t.nodeType!==Ih.ELEMENT_NODE)return!0;if(!t||Oc(t))return!0;var e=Vh(t.childNodes);return!(!Dc(t)&&e.length||(e=t)&&kc.includes(T(e))||t.hasAttribute(R.TYPE)||(e=t)&&T(e)===S.MGLYPH&&(!(e=e.parentNode)||!Ic.includes(T(e))))&&Vh(t.childNodes).every(hu)}function cu(t){return t.parentNode}function du(t,e){const s=new O(e);t.setAttribute(R.COLLAPSED,s.toString())}function uu(t){if(t.mathml.length)return iu(t);var e=eu?mu(t):Rd();return t.mathml=[e],e}function pu(s){if(T(s)!==S.MFENCED)return s;const i=Rd();for(let t,e=0;t=s.attributes[e];e++)-1===["open","close","separators"].indexOf(t.name)&&i.setAttribute(t.name,t.value);return Vh(s.childNodes).forEach(function(t){i.appendChild(t)}),Jh(s,i),i}function mu(t){const e=Gh("mo"),s=(i=t.textContent,wh.f.document.createTextNode(i));var i;return e.appendChild(s),Sd(e,t),e.setAttribute(R.ADDED,"true"),e}function fu(t,e){const s=t.type+(t.textContent?","+t.textContent:"");e.forEach(function(t){gu(t).setAttribute(R.OPERATOR,s)})}function gu(t){const s=Vh(t.childNodes);if(!s)return t;const i=s.filter(function(t){return!hu(t)}),r=[];for(let t,e=0;t=i[e];e++)if(Dc(t)&&t.getAttribute(R.TYPE)!==L.PUNCTUATION){const s=gu(t);s&&s!==t&&r.push(s)}else r.push(t);return 1===r.length?r[0]:t}function bu(t){return Kh(t.toString()).toString().replace(new RegExp(Ld,"g"),"")}function Eu(s,t){const i=!!t,r=t||[],n=s.parent,o=s.contentNodes.map(function(t){return t.id}),a=(o.unshift("c"),[s.id,o]);for(let t,e=0;t=s.childNodes[e];e++){const s=iu(t),o=(r.push(s),gu(s));n&&!i&&o.setAttribute(R.PARENT,n.id.toString()),a.push(t.id)}return a}(qt=gc=gc||{}).VALID="valid",qt.INVALID="invalid",qt.PRUNED="pruned";class Nu{constructor(t){this.semantic=t}}class xu extends Nu{static test(t){return!t.mathmlTree&&t.type===L.LINE&&t.role===w.BINOMIAL}constructor(t){super(t),this.mml=t.mathmlTree}getMathml(){if(!this.semantic.childNodes.length)return this.mml;const t=this.semantic.childNodes[0];if(this.mml=iu(t),this.mml.hasAttribute(R.TYPE)){const t=Rd();Jh(this.mml,t),t.appendChild(this.mml),this.mml=t}return Sd(this.mml,this.semantic),this.mml}}class yu extends Nu{static test(t){if(!t.mathmlTree||!t.childNodes.length)return!1;var e=T(t.mathmlTree),t=t.childNodes[0].role;return e===S.MSUBSUP&&t===w.SUBSUP||e===S.MUNDEROVER&&t===w.UNDEROVER}constructor(t){super(t),this.mml=t.mathmlTree}getMathml(){const t=this.semantic.childNodes[0],e=t.childNodes[0],s=this.semantic.childNodes[1],i=t.childNodes[1],r=iu(s),n=iu(e),o=iu(i);return Sd(this.mml,this.semantic),this.mml.setAttribute(R.CHILDREN,Id([e,i,s])),[n,o,r].forEach(t=>gu(t).setAttribute(R.PARENT,this.mml.getAttribute(R.ID))),this.mml.setAttribute(R.TYPE,t.role),du(this.mml,[this.semantic.id,[t.id,e.id,i.id],s.id]),this.mml}}class vu extends Nu{static multiscriptIndex(t){return t.type===L.PUNCTUATED&&t.contentNodes[0].role===w.DUMMY?Eu(t):(iu(t),t.id)}static createNone_(t){const e=Gh("none");return t&&Sd(e,t),e.setAttribute(R.ADDED,"true"),e}constructor(t){super(t),this.mml=t.mathmlTree}completeMultiscript(t,e){const s=Vh(this.mml.childNodes).slice(1);let i=0;var r=t=>{for(const e of t){const t=s[i];if(t&&e===parseInt(t.getAttribute(R.ID)))t.setAttribute(R.PARENT,this.semantic.id.toString()),i++;else if(t&&e===parseInt(gu(t).getAttribute(R.ID)))gu(t).setAttribute(R.PARENT,this.semantic.id.toString()),i++;else{const s=this.semantic.querySelectorAll(t=>t.id===e);this.mml.insertBefore(vu.createNone_(s[0]),t||null)}}};r(t),s[i]&&T(s[i])!==S.MPRESCRIPTS?this.mml.insertBefore(s[i],Gh("mprescripts")):i++,r(e)}}class Cu extends vu{static test(t){return!!t.mathmlTree&&(T(t.mathmlTree)===S.MMULTISCRIPTS&&(t.type===L.SUPERSCRIPT||t.type===L.SUBSCRIPT))}constructor(t){super(t)}getMathml(){let t,e,s;if(Sd(this.mml,this.semantic),this.semantic.childNodes[0]&&this.semantic.childNodes[0].role===w.SUBSUP){const r=this.semantic.childNodes[0];t=r.childNodes[0],e=vu.multiscriptIndex(this.semantic.childNodes[1]),s=vu.multiscriptIndex(r.childNodes[1]);var i=[this.semantic.id,[r.id,t.id,s],e];du(this.mml,i),this.mml.setAttribute(R.TYPE,r.role),this.completeMultiscript(O.interleaveIds(s,e),[])}else{t=this.semantic.childNodes[0],e=vu.multiscriptIndex(this.semantic.childNodes[1]);const s=[this.semantic.id,t.id,e];du(this.mml,s)}const r=O.collapsedLeafs(s||[],e);return gu(iu(t)).setAttribute(R.PARENT,this.semantic.id.toString()),r.unshift(t.id),this.mml.setAttribute(R.CHILDREN,r.join(",")),this.mml}}class _u extends vu{static test(t){return!!t.mathmlTree&&t.type===L.TENSOR}constructor(t){super(t)}getMathml(){iu(this.semantic.childNodes[0]);var t=vu.multiscriptIndex(this.semantic.childNodes[1]),e=vu.multiscriptIndex(this.semantic.childNodes[2]),s=vu.multiscriptIndex(this.semantic.childNodes[3]),i=vu.multiscriptIndex(this.semantic.childNodes[4]),r=(Sd(this.mml,this.semantic),[this.semantic.id,this.semantic.childNodes[0].id,t,e,s,i]);du(this.mml,r);const n=O.collapsedLeafs(t,e,s,i);return n.unshift(this.semantic.childNodes[0].id),this.mml.setAttribute(R.CHILDREN,n.join(",")),this.completeMultiscript(O.interleaveIds(s,i),O.interleaveIds(t,e)),this.mml}}class Tu extends Nu{static test(t){return!(!t.mathmlTree||!t.fencePointer||t.mathmlTree.getAttribute("data-semantic-type"))}static makeEmptyNode_(t){const e=Rd(),s=new Hc(t);return s.type=L.EMPTY,s.mathmlTree=e,s}static fencedMap_(t,e){e[t.id]=t.mathmlTree,t.embellished&&Tu.fencedMap_(t.childNodes[0],e)}constructor(t){super(t),this.fenced=null,this.fencedMml=null,this.fencedMmlNodes=[],this.ofence=null,this.ofenceMml=null,this.ofenceMap={},this.cfence=null,this.cfenceMml=null,this.cfenceMap={},this.parentCleanup=[]}getMathml(){return this.getFenced_(),this.fencedMml=iu(this.fenced),this.getFencesMml_(),this.fenced.type!==L.EMPTY||this.fencedMml.parentNode||(this.fencedMml.setAttribute(R.ADDED,"true"),this.cfenceMml.parentNode.insertBefore(this.fencedMml,this.cfenceMml)),this.getFencedMml_(),this.rewrite_()}fencedElement(t){return t.type===L.FENCED||t.type===L.MATRIX||t.type===L.VECTOR}getFenced_(){let t=this.semantic;for(;!this.fencedElement(t);)t=t.childNodes[0];this.fenced=t.childNodes[0],this.ofence=t.contentNodes[0],this.cfence=t.contentNodes[1],Tu.fencedMap_(this.ofence,this.ofenceMap),Tu.fencedMap_(this.cfence,this.cfenceMap)}getFencedMml_(){let t=this.ofenceMml.nextSibling;for(t=t===this.fencedMml?t:this.fencedMml;t&&t!==this.cfenceMml;)this.fencedMmlNodes.push(t),t=t.nextSibling}getFencesMml_(){let t=this.semantic;const e=Object.keys(this.ofenceMap),s=Object.keys(this.cfenceMap);for(;!(this.ofenceMml&&this.cfenceMml||t===this.fenced);)-1===e.indexOf(t.fencePointer)||this.ofenceMml||(this.ofenceMml=t.mathmlTree),-1===s.indexOf(t.fencePointer)||this.cfenceMml||(this.cfenceMml=t.mathmlTree),t=t.childNodes[0];this.ofenceMml||(this.ofenceMml=this.ofence.mathmlTree),this.cfenceMml||(this.cfenceMml=this.cfence.mathmlTree),this.ofenceMml&&(this.ofenceMml=lu(this.ofenceMml)),this.cfenceMml&&(this.cfenceMml=lu(this.cfenceMml))}rewrite_(){let s=this.semantic,i=null;var t=this.introduceNewLayer_();for(Sd(t,this.fenced.parent);!this.fencedElement(s);){var e=s.mathmlTree,r=this.specialCase_(s,e);if(r)s=r;else{Sd(e,s);const i=[];for(let t,e=1;t=s.childNodes[e];e++)i.push(iu(t));s=s.childNodes[0]}var r=Gh("dummy"),n=e.childNodes[0];Jh(e,r),Jh(t,e),Jh(e.childNodes[0],t),Jh(r,n),i=i||e}return iu(this.ofence),iu(this.cfence),this.cleanupParents_(),i||t}specialCase_(t,e){var s=T(e);let i,r=null;if(s===S.MSUBSUP?(r=t.childNodes[0],i=yu):s===S.MMULTISCRIPTS&&(t.type===L.SUPERSCRIPT||t.type===L.SUBSCRIPT?i=Cu:t.type===L.TENSOR&&(i=_u),r=i&&t.childNodes[0]&&t.childNodes[0].role===w.SUBSUP?t.childNodes[0]:t),!r)return null;var s=r.childNodes[0],n=Tu.makeEmptyNode_(s.id);return r.childNodes[0]=n,e=new i(t).getMathml(),r.childNodes[0]=s,this.parentCleanup.push(e),r.childNodes[0]}introduceNewLayer_(){const t=this.fullFence(this.ofenceMml),e=this.fullFence(this.cfenceMml);let s=Rd();if(Jh(this.fencedMml,s),this.fencedMmlNodes.forEach(t=>s.appendChild(t)),s.insertBefore(t,this.fencedMml),s.appendChild(e),!s.parentNode){const t=Rd();for(;0<s.childNodes.length;)t.appendChild(s.childNodes[0]);s.appendChild(t),s=t}return s}fullFence(t){var e=this.fencedMml.parentNode;let s=t;for(;s.parentNode&&s.parentNode!==e;)s=s.parentNode;return s}cleanupParents_(){this.parentCleanup.forEach(function(t){var e=t.childNodes[1].getAttribute(R.PARENT);t.childNodes[0].setAttribute(R.PARENT,e)})}}class Lu extends Nu{static test(t){return!!t.mathmlTree&&t.hasAnnotation("Emph","top")}constructor(t){super(t),this.mrows=[],this.mml=t.mathmlTree}getMathml(){if(this.recurseToTable(this.semantic),this.mrows.length){const t=Rd();this.mml.parentNode.insertBefore(t,this.mml);for(const e of this.mrows)t.appendChild(e);t.appendChild(this.mml)}return this.mml}recurseToTable(t){var e;if(t.hasAnnotation("Emph","top")||t.hasAnnotation("Emph","fence")||!t.hasAnnotation("Emph","left")&&!t.hasAnnotation("Emph","right")){if(!t.mathmlTree||T(t.mathmlTree)===S.MTABLE&&null!=(e=t.annotation.Emph)&&e.length&&"table"!==t.annotation.Emph[0]){const e=Rd();Sd(e,t),this.mrows.unshift(e)}else{if(T(t.mathmlTree)===S.MTABLE&&null!=(e=t.annotation.Emph)&&e.length&&"table"===t.annotation.Emph[0])return void this.finalizeTable(t);Sd(t.mathmlTree,t)}if(t.childNodes.forEach(this.recurseToTable.bind(this)),t.textContent||"punctuated"===t.type){const e=t.contentNodes.map(t=>{const e=uu(t);return e.hasAttribute("data-semantic-added")?this.mrows.unshift(e):this.recurseToTable(t),e});fu(t,e)}else t.contentNodes.forEach(this.recurseToTable.bind(this))}else iu(t)}finalizeTable(t){Sd(t.mathmlTree,t),t.contentNodes.forEach(t=>{iu(t)}),t.childNodes.forEach(t=>{iu(t)})}}class wu extends Nu{static test(t){if(!t.mathmlTree||!t.childNodes.length)return!1;var e=T(t.mathmlTree),t=t.type;return(t===L.LIMUPPER||t===L.LIMLOWER)&&(e===S.MSUBSUP||e===S.MUNDEROVER)||t===L.LIMBOTH&&(e===S.MSUB||e===S.MUNDER||e===S.MSUP||e===S.MOVER)}static walkTree_(t){t&&iu(t)}constructor(t){super(t),this.mml=t.mathmlTree}getMathml(){const t=this.semantic.childNodes;return this.semantic.type!==L.LIMBOTH&&3<=this.mml.childNodes.length&&(this.mml=ru([this.mml],this.semantic)),Sd(this.mml,this.semantic),t[0].mathmlTree||(t[0].mathmlTree=this.semantic.mathmlTree),t.forEach(wu.walkTree_),this.mml}}class Iu extends Nu{static test(t){return!!t.mathmlTree&&t.type===L.LINE}constructor(t){super(t),this.mml=t.mathmlTree}getMathml(){return this.semantic.contentNodes.length&&iu(this.semantic.contentNodes[0]),this.semantic.childNodes.length&&iu(this.semantic.childNodes[0]),Sd(this.mml,this.semantic),this.mml}}class Su extends Nu{static test(t){return!!t.mathmlTree&&(t.type===L.INFERENCE||t.type===L.PREMISES)}constructor(t){super(t),this.mml=t.mathmlTree}getMathml(){return this.semantic.childNodes.length&&(this.semantic.contentNodes.forEach(function(t){iu(t),Sd(t.mathmlTree,t)}),this.semantic.childNodes.forEach(function(t){iu(t)}),Sd(this.mml,this.semantic),this.mml.getAttribute("data-semantic-id")===this.mml.getAttribute("data-semantic-parent")&&this.mml.removeAttribute("data-semantic-parent")),this.mml}}class Ru extends Nu{static test(t){return t.type===L.MATRIX||t.type===L.VECTOR||t.type===L.CASES}constructor(t){super(t),this.inner=[],this.mml=t.mathmlTree}getMathml(){const t=uu(this.semantic.contentNodes[0]),e=this.semantic.contentNodes[1]?uu(this.semantic.contentNodes[1]):null;if(this.inner=this.semantic.childNodes.map(iu),this.mml)if(T(this.mml)===S.MFENCED){var s=this.mml.childNodes;this.mml.insertBefore(t,s[0]||null),e&&this.mml.appendChild(e),this.mml=pu(this.mml)}else{const i=[t,this.mml];e&&i.push(e),this.mml=ru(i,this.semantic)}else this.mml=ru([t].concat(this.inner,[e]),this.semantic);return Sd(this.mml,this.semantic),this.mml}}class ku extends Nu{static test(t){return t.type===L.PUNCTUATED&&(t.role===w.TEXT||t.contentNodes.every(t=>t.role===w.DUMMY))}constructor(t){super(t),this.mml=t.mathmlTree}getMathml(){var t=[],e=Eu(this.semantic,t);return this.mml=ru(t,this.semantic),Sd(this.mml,this.semantic),this.mml.removeAttribute(R.CONTENT),du(this.mml,e),this.mml}}function Mu(t,e){var s,i,r,t=t.cloneNode(!0);return t=s=t,r=e,i=new Qd(t,r),t=e,v.getInstance().generate(()=>["Original MathML",bu(s)]),su.clear(),iu(i.root),t.structure&&s.setAttribute(R.STRUCTURE,O.fromStructure(s,i,t).toString()),v.getInstance().generate(()=>["Semantic Tree\n",bu(i),"Semantically enriched MathML\n",bu(s)]),s}tu.push({test:wu.test,constr:t=>new wu(t)},{test:Tu.test,constr:t=>new Tu(t)},{test:yu.test,constr:t=>new yu(t)},{test:_u.test,constr:t=>new _u(t)},{test:Cu.test,constr:t=>new Cu(t)},{test:Iu.test,constr:t=>new Iu(t)},{test:xu.test,constr:t=>new xu(t)},{test:Su.test,constr:t=>new Su(t)},{test:Lu.test,constr:t=>new Lu(t)},{test:Ru.test,constr:t=>new Ru(t)},{test:ku.test,constr:t=>new ku(t)});const Au=new _h({AbsoluteValue:["Auto","AbsEnd","Cardinality","Determinant"],Bar:["Auto","Conjugate"],Caps:["Auto","SayCaps"],CombinationPermutation:["Auto","ChoosePermute"],Currency:["Auto","Position","Prefix"],Ellipses:["Auto","AndSoOn"],Enclosed:["Auto","EndEnclose"],Exponent:["Auto","AfterPower","Ordinal","OrdinalPower","Exponent"],Fraction:["Auto","EndFrac","FracOver","General","GeneralEndFrac","Ordinal","Over","OverEndFrac","Per"],Functions:["Auto","None","Reciprocal"],Inference:["Auto","Long"],ImpliedTimes:["Auto","MoreImpliedTimes","None"],Log:["Auto","LnAsNaturalLog"],Matrix:["Auto","Combinatoric","EndMatrix","EndVector","SilentColNum","SpeakColNum","Vector"],MultiLineLabel:["Auto","Case","Constraint","Equation","Line","None","Row","Step"],MultiLineOverview:["Auto","None"],MultiLinePausesBetweenColumns:["Auto","Long","Short"],MultsymbolDot:["Auto","Dot"],MultsymbolX:["Auto","By","Cross"],Paren:["Auto","CoordPoint","Interval","Silent","Speak","SpeakNestingLevel"],Prime:["Auto","Angle","Length"],Roots:["Auto","PosNegSqRoot","PosNegSqRootEnd","RootEnd"],SetMemberSymbol:["Auto","Belongs","Element","Member","In"],Sets:["Auto","SilentBracket","woAll"],TriangleSymbol:["Auto","Delta"],Trig:["Auto","ArcTrig","TrigInverse","Reciprocal"],VerticalLine:["Auto","Divides","Given","SuchThat"]}),Ou="Auto";function Du(t){const s=t.split(":"),i={},r=Au.getProperties(),n=Object.keys(r);for(let t,e=0;t=s[e];e++){const s=t.split("_");var o;-1!==n.indexOf(s[0])&&((o=s[1])&&o!==Ou&&-1!==r[s[0]].indexOf(o)&&(i[s[0]]=s[1]))}return i}function Pu(e){const s=Object.keys(e),i=[];for(let t=0;t<s.length;t++)i.push(s[t]+"_"+e[s[t]]);return i.length?i.join(":"):y.DEFAULT_VALUE}const Bu=Oh.u.LOCALES,ju=t=>Uh.getInstance().setup(t),Uu=()=>Uh.getInstance().json(),Fu=t=>{var e=t,t=Uh.getInstance().options,s=Xh(e);try{return Mu(s,t)}catch(e){return console.error(e),s}},Hu=Xh,qu=function(t,e,s){if("default"===t)return e+"_"+s;const i=Du(t);return i[e]=s,Pu(i)},Wu=Du,zu=Pu;var Vu=function(t,o,a,l){return new(a=a||Promise)(function(s,e){function i(t){try{n(l.next(t))}catch(t){e(t)}}function r(t){try{n(l.throw(t))}catch(t){e(t)}}function n(t){var e;t.done?s(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(i,r)}n((l=l.apply(t,o||[])).next())})};let Xu={},Ju=null;function Gu(t){var t=null==t?void 0:t.match(/^clearspeak-(.*)/);return Ju=null!=(t=null!=(t=t&&t[1])?t:Ju)?t:"default"}const Ku=new Map,Yu=new Map;let $u=0;function Qu(a,l,h){return Vu(this,void 0,void 0,function*(){const e=t=>{h(a.factory.get("subMenu")(a.factory,{items:t,id:"Clearspeak"},l))};if(a.settings.speech&&a.settings.enrich){var s=a.pool.lookup("locale").getValue();if(yield function(t,e){return Vu(this,void 0,void 0,function*(){Ku.has(e)||(yield t.mathItem.generatorPool.getLocalePreferences(Ku))})}(a,s),Ku.get(s)){const r=function(e,t){const s=Ku.get(t);{var i=e;t=Object.keys(s);const o=i.pool.lookup("speechRules"),a=Gu(i.settings.speechRules);Xu=Wu(a);for(const a of t)i.factory.get("variable")(i.factory,{name:"csprf_"+a,setter:t=>{Xu[a]=t,o.setValue("clearspeak-"+zu(Xu))},getter:()=>Xu[a]||"Auto"},i.pool)}const r=[];for(const e of Object.getOwnPropertyNames(s))r.push({title:e,values:s[e].map(t=>t.replace(RegExp("^"+e+"_"),"")),variable:"csprf_"+e});const n=e.factory.get("selectionBox")(e.factory,{title:"Clearspeak Preferences",signature:"",order:"alphabetic",grid:"square",selections:r},e);return{type:"command",id:"ClearspeakPreferences",content:"Select Preferences",action:()=>n.post(0,0)}}(a,s);let t=[];if(a.settings.speech){const l=a.mathItem,h=null==(i=null==l?void 0:l.explorers)?void 0:i.speech,e=Gu(a.settings.speechRules),r=(t=t.concat([{type:"radio",content:"No Preferences",id:"clearspeak-default",variable:"speechRules"},{type:"radio",content:"Current Preferences",id:"clearspeak-"+e,variable:"speechRules"},{type:"rule"}]),null==h?void 0:h.refocus),n=null!=(i=null==r?void 0:r.getAttribute("data-semantic-id"))?i:null,o=$u++;yield l.generatorPool.getRelevantPreferences(l,n,Yu,o);var i=Yu.get(o);if(Yu.delete(o),i){const a=function(e,t,s){const i=Ku.get(s);return[{type:"label",content:"Preferences for "+t},{type:"rule"}].concat(i[t].map(function(t){const[i,r]=t.split("_");return{type:"radioCompare",content:r,id:"clearspeak-"+qu(e,i,r),variable:"speechRules",comparator:(t,e)=>{if(t===e)return!0;if("Auto"!==r)return!1;var[t,s]=t.split("-"),[e]=e.split("-");return t===e&&!Wu(s)[i]}}}))}(e,i,s);t=t.concat(a)}}t.splice(2,0,r),e(t)}else e([])}else e([])})}Ch.DynamicSubmenus.set("Clearspeak",[Qu,"speech"]);let Zu=null;function t1(t,e,s){if(Zu)s(Zu);else{const i=[];for(const t of Bu.keys())"nemeth"!==t&&"euro"!==t&&i.push({type:"radio",id:t,content:Bu.get(t)||t,variable:"locale"});i.sort((t,e)=>t.content.localeCompare(e.content,"en")),s(Zu=t.factory.get("subMenu")(t.factory,{items:i,id:"Language"},e))}}Ch.DynamicSubmenus.set("A11yLanguage",[t1,"speech"]);const e1="MacOS"===ri.os;function s1(t){const e=ri.document,s=e.createElement("textarea");s.value=t,s.setAttribute("readonly",""),s.style.cssText="height: 1px; width: 1px; padding: 1px; position: absolute; left: -10px",e.body.appendChild(s),s.select();try{e.execCommand("copy")}catch(t){alert("Can't copy to clipboard: "+t.message)}e.body.removeChild(s)}function i1(o,a,l){return(s,t)=>{var e=function(){var t;let e=null==(t=s.mathItem)?void 0:t.root;for(;e&&!e.isKind("semantics");){if(e.isToken||1!==e.childNodes.length)return null;e=e.childNodes[0]}return e}(),i=a,r=l;if(e)for(const n of e.childNodes)if(n.isKind("annotation")){const e=function(t,e){var s=t.attributes.get("encoding");for(const t of Object.keys(e))if(e[t].includes(s))return t;return null}(n,i);if(e){const i=n.childNodes.reduce((t,e)=>t+e.toString(),"");r.push([e,i])}}return o.attachMenu(s),o1(s,t,l,()=>o.post())}}function r1(i){return(t,e)=>{var s=i.slice();return i.length=0,o1(t,e,s,()=>s1(n1.trim()))}}let n1="";function o1(t,e,s,i){return t.factory.get("subMenu")(t.factory,{items:s.map(([t,e])=>({type:"command",id:t,content:t,action:()=>{n1=e,i()}})),id:"annotations"},e)}class a1 extends Zl{static fromJson(t,{content:e,variable:s,id:i,comparator:r},n){return new this(n,e,s,i,r)}constructor(t,e,s,i,r){super(t,e,s,i),this.comparator=r,this.role="menuitemradiocompare"}updateAria(){this.html.setAttribute("aria-checked",this.comparator(this.variable.getValue(),this.id)?"true":"false")}updateSpan(){this.span.style.display=this.comparator(this.variable.getValue(),this.id)?"":"none"}}class l1 extends In{constructor(){super(...arguments),this.options={filterSRE:!0,filterTex:!0,texHints:!0,semantics:!1},this.mathItem=null}visitTree(t,e=null,s={}){return this.mathItem=e,wi(this.options,s),this.visitNode(t,"")}visitTeXAtomNode(t,e){return this.options.texHints?super.visitDefault(t,e):t.childNodes[0]&&1===t.childNodes[0].childNodes.length?this.visitNode(t.childNodes[0],e):`${e}<mrow${this.getAttributes(t)}>\n`+this.childNodeMml(t,e+"  ","\n")+e+"</mrow>"}visitMathNode(t,e){if(!this.options.semantics||"TeX"!==this.mathItem.inputJax.name)return super.visitDefault(t,e);var s=t.childNodes.length&&1<t.childNodes[0].childNodes.length;return""+e+`<math${this.getAttributes(t)}>
${e}  <semantics>
`+(s?e+"    <mrow>\n":"")+this.childNodeMml(t,e+(s?"      ":"    "),"\n")+(s?e+"    </mrow>\n":"")+e+'    <annotation encoding="application/x-tex">'+this.mathItem.math+`</annotation>
${e}  </semantics>
${e}</math>`}getAttributeList(t){const e=super.getAttributeList(t);if(this.options.filterTex&&(delete e["data-latex"],delete e["data-latex-item"]),this.options.filterSRE){const t=Object.keys(e).filter(t=>t.match(/^(?:data-semantic-.*?|data-speech-node|role|aria-(?:level|posinset|setsize|owns))$/));for(const s of t)delete e[s]}return e}}class h1 extends $l{keydown(t){if("a"===t.key&&(t.ctrlKey||t.metaKey))return this.selectAll(),void this.stop(t);super.keydown(t)}selectAll(){document.getSelection().selectAllChildren(this.html.querySelector(".CtxtMenu_InfoContent").firstChild)}copyToClipboard(){this.selectAll();try{document.execCommand("copy")}catch(t){alert("Can't copy to clipboard: "+t.message)}document.getSelection().removeAllRanges()}generateHtml(){super.generateHtml();const t=this.html.querySelector("span."+E.INFOSIGNATURE).appendChild(document.createElement("input"));t.type="button",t.value="Copy to Clipboard",t.addEventListener("click",t=>this.copyToClipboard())}}function c1(t,o,a,l){return new(a=a||Promise)(function(s,e){function i(t){try{n(l.next(t))}catch(t){e(t)}}function r(t){try{n(l.throw(t))}catch(t){e(t)}}function n(t){var e;t.done?s(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(i,r)}n((l=l.apply(t,o||[])).next())})}var d1,u1;const p1=si;class D{get isLoading(){return 0<D.loading}get loadingPromise(){return this.isLoading?(D._loadingPromise||(D._loadingPromise=new Promise((t,e)=>{D._loadingOK=t,D._loadingFailed=e})),D._loadingPromise):Promise.resolve()}postInfo(t){this.menu.mathItem&&(this.menu.nofocus=!!this.menu.mathItem.outputData.nofocus),t.post()}constructor(t,e={}){this.settings=null,this.defaultSettings=null,this.menu=null,this.current=null,this.MmlVisitor=new l1,this.jax={CHTML:null,SVG:null},this.rerenderStart=u.LAST,this.requiredExtensions=[],this.about=new $l('<b style="font-size:120%;">MathJax</b> v'+kn.version,()=>{const t=[];return t.push("Input Jax: "+this.document.inputJax.map(t=>t.name).join(", ")),t.push("Output Jax: "+this.document.outputJax.name),t.push("Document Type: "+this.document.kind),t.join("<br/>")},'<a href="https://www.mathjax.org">www.mathjax.org</a>'),this.help=new $l("<b>MathJax Help</b>",()=>["<p><b>MathJax</b> is a JavaScript library that allows page"," authors to include mathematics within their web pages."," As a reader, you don't need to do anything to make that happen.</p>","<p><b>Browsers</b>: MathJax works with all modern browsers including"," Edge, Firefox, Chrome, Safari, Opera, and most mobile browsers.</p>","<p><b>Math Menu</b>: MathJax adds a contextual menu to equations."," Right-click or CTRL-click on any mathematics to access the menu.</p>",'<div style="margin-left: 1em;">',"<p><b>Show Math As:</b> These options allow you to view the formula's"," source markup (as MathML or in its original format).</p>","<p><b>Copy to Clipboard:</b> These options copy the formula's source markup,"," as MathML or in its original format, to the clipboard"," (in browsers that support that).</p>","<p><b>Math Settings:</b> These give you control over features of MathJax,"," such the size of the mathematics, the mechanism used to display equations,"," how to handle equations that are too wide, and the language to use for"," MathJax's menus and error messages (not yet implemented in v4).","</p>","<p><b>Accessibility</b>: MathJax can work with screen"," readers to make mathematics accessible to the visually impaired."," Turn on speech or braille generation to enable creation of speech strings"," and the ability to investigate expressions interactively.  You can control"," the style of the explorer in its menu.</p>","</div>","<p><b>Math Zoom</b>: If you are having difficulty reading an"," equation, MathJax can enlarge it to help you see it better, or"," you can scale all the math on the page to make it larger."," Turn these features on in the <b>Math Settings</b> menu.</p>","<p><b>Preferences</b>: MathJax uses your browser's localStorage database"," to save the preferences set via this menu locally in your browser.  These"," are not used to track you, and are not transferred or used remotely by"," MathJax in any way.</p>"].join("\n"),'<a href="https://www.mathjax.org">www.mathjax.org</a>'),this.mathmlCode=new h1("MathJax MathML Expression",()=>{if(!this.menu.mathItem)return"";var t=this.toMML(this.menu.mathItem);return"<pre>"+this.formatSource(t)+"</pre>"},""),this.originalText=new h1("MathJax Original Source",()=>{if(!this.menu.mathItem)return"";var t=this.menu.mathItem.math;return'<pre style="font-size:125%; margin:0">'+this.formatSource(t)+"</pre>"},""),this.annotationBox=new h1("MathJax Annotation Text",()=>{var t=n1;return'<pre style="font-size:125%; margin:0">'+this.formatSource(t)+"</pre>"},""),this.svgImage=new h1("MathJax SVG Image",()=>'<div id="svg-image" style="font-family: monospace; font-size:125%; margin:0">Generative SVG Image...</div>',""),this.speechText=new h1("MathJax Speech Text",()=>this.menu.mathItem?'<div style="font-size:125%; margin:0">'+this.formatSource(this.menu.mathItem.outputData.speech)+"</div>":"",""),this.brailleText=new h1("MathJax Braille Code",()=>this.menu.mathItem?'<div style="font-size:125%; margin:0">'+this.formatSource(this.menu.mathItem.outputData.braille)+"</div>":"",""),this.errorMessage=new h1("MathJax Error Message",()=>this.menu.mathItem?'<pre style="font-size:125%; margin:0">'+this.formatSource(this.menu.errorMsg)+"</pre>":"",""),this.zoomBox=new $l("MathJax Zoomed Expression",()=>{if(!this.menu.mathItem)return"";const t=this.menu.mathItem.typesetRoot.cloneNode(!0);return t.style.margin="0",'<div style="font-size: '+1.25*parseFloat(this.settings.zscale)+'%">'+t.outerHTML+"</div>"},""),this.document=t,this.options=wi(Li({},this.constructor.OPTIONS),e),this.initSettings(),this.mergeUserSettings(),this.initMenu(),this.applySettings()}initSettings(){var t;this.settings=this.options.settings,this.jax=this.options.jax;const e=this.document.outputJax;this.jax[e.name]=e,this.settings.renderer=e.name,this.settings.scale=e.options.scale,e.options.displayOverflow&&(this.settings.overflow=e.options.displayOverflow.substring(0,1).toUpperCase()+e.options.displayOverflow.substring(1).toLowerCase()),this.settings.breakInline=null==(t=e.options.linebreaks)?void 0:t.inline,this.defaultSettings=Object.assign({},this.document.options.a11y,this.settings),this.setA11y({roleDescription:this.settings.roleDescription})}initMenu(){const t=new fh([["contextMenu",Ch.fromJson.bind(Ch)],["radioCompare",a1.fromJson.bind(a1)]]),e=(this.menu=t.parse({type:"contextMenu",id:"MathJax_Menu",pool:[this.variable("showSRE"),this.variable("showTex"),this.variable("texHints"),this.variable("semantics"),this.variable("zoom"),this.variable("zscale"),this.variable("renderer",t=>this.setRenderer(t)),this.variable("overflow",t=>this.setOverflow(t)),this.variable("breakInline",t=>this.setInlineBreaks(t)),this.variable("alt"),this.variable("cmd"),this.variable("ctrl"),this.variable("shift"),this.variable("scale",t=>this.setScale(t)),this.a11yVar("speech",t=>this.setSpeech(t)),this.a11yVar("braille",t=>this.setBraille(t)),this.variable("brailleCode",t=>this.setBrailleCode(t)),this.a11yVar("highlight",t=>this.setHighlight(t)),this.a11yVar("backgroundColor"),this.a11yVar("backgroundOpacity"),this.a11yVar("foregroundColor"),this.a11yVar("foregroundOpacity"),this.a11yVar("subtitles"),this.a11yVar("viewBraille"),this.a11yVar("voicing"),this.a11yVar("roleDescription",()=>this.setRoleDescription()),this.a11yVar("help"),this.a11yVar("locale",t=>this.setLocale(t)),this.variable("speechRules",t=>{var[t,e]=t.split("-");this.document.options.sre.domain=t,this.document.options.sre.style=e,this.rerender(u.COMPILED)}),this.a11yVar("magnification"),this.a11yVar("magnify"),this.a11yVar("treeColoring"),this.a11yVar("infoType"),this.a11yVar("infoRole"),this.a11yVar("infoPrefix"),this.variable("autocollapse"),this.variable("collapsible",t=>this.setCollapsible(t)),this.variable("enrich",t=>this.setEnrichment(t)),this.variable("inTabOrder",t=>this.setTabOrder(t)),this.a11yVar("tabSelects"),this.variable("assistiveMml",t=>this.setAssistiveMml(t))],items:[this.submenu("Show","Show Math As",[this.command("MathMLcode","MathML Code",()=>this.postInfo(this.mathmlCode)),this.command("Original","Original Form",()=>this.postInfo(this.originalText)),this.rule(),this.command("Speech","Speech Text",()=>this.postInfo(this.speechText),{disabled:!0}),this.command("Braille","Braille Code",()=>this.postInfo(this.brailleText),{disabled:!0}),this.command("SVG","SVG Image",()=>this.postSvgImage(),{disabled:!0}),this.submenu("ShowAnnotation","Annotation"),this.rule(),this.command("Error","Error Message",()=>this.postInfo(this.errorMessage),{disabled:!0})]),this.submenu("Copy","Copy to Clipboard",[this.command("MathMLcode","MathML Code",()=>this.copyMathML()),this.command("Original","Original Form",()=>this.copyOriginal()),this.rule(),this.command("Speech","Speech Text",()=>this.copySpeechText(),{disabled:!0}),this.command("Braille","Braille Code",()=>this.copyBrailleText(),{disabled:!0}),this.command("SVG","SVG Image",()=>this.copySvgImage(),{disabled:!0}),this.submenu("CopyAnnotation","Annotation"),this.rule(),this.command("Error","Error Message",()=>this.copyErrorMessage(),{disabled:!0})]),this.rule(),this.submenu("Settings","Math Settings",[this.submenu("Renderer","Math Renderer",this.radioGroup("renderer",[["CHTML"],["SVG"]])),this.submenu("Overflow","Wide Expressions",[this.radioGroup("overflow",[["Overflow"],["Scroll"],["Linebreak"],["Scale"],["Truncate"],["Elide"]]),this.rule(),this.checkbox("BreakInline","Allow In-line Breaks","breakInline")]),this.rule(),this.submenu("MathmlIncludes","MathML/SVG has",[this.checkbox("showSRE","Semantic attributes","showSRE"),this.checkbox("showTex","LaTeX attributes","showTex"),this.checkbox("texHints","TeX hints","texHints"),this.checkbox("semantics","Original as annotation","semantics")]),this.submenu("Language","Language"),this.rule(),this.submenu("ZoomTrigger","Zoom Trigger",[this.command("ZoomNow","Zoom Once Now",()=>this.zoom(null,"",this.menu.mathItem)),this.rule(),this.radioGroup("zoom",[["Click"],["DoubleClick","Double-Click"],["NoZoom","No Zoom"]]),this.rule(),this.label("TriggerRequires","Trigger Requires:"),this.checkbox(e1?"Option":"Alt",e1?"Option":"Alt","alt"),this.checkbox("Command","Command","cmd",{hidden:!e1}),this.checkbox("Control","Control","ctrl",{hiddne:e1}),this.checkbox("Shift","Shift","shift")]),this.submenu("ZoomFactor","Zoom Factor",this.radioGroup("zscale",[["150%"],["175%"],["200%"],["250%"],["300%"],["400%"]])),this.rule(),this.command("Scale","Scale All Math...",()=>this.scaleAllMath()),this.rule(),this.command("Reset","Reset to defaults",()=>this.resetDefaults())]),this.rule(),this.label("Accessibility","Â Â  Accessibility:"),this.submenu("Speech","Â  Â  Speech",[this.checkbox("Generate","Generate","speech"),this.checkbox("Subtitles","Show Subtitles","subtitles"),this.checkbox("Auto Voicing","Auto Voicing","voicing"),this.rule(),this.label("Rules","Rules:"),this.submenu("Mathspeak","Mathspeak",this.radioGroup("speechRules",[["mathspeak-default","Verbose"],["mathspeak-brief","Brief"],["mathspeak-sbrief","Superbrief"]])),this.submenu("Clearspeak","Clearspeak",this.radioGroup("speechRules",[["clearspeak-default","Auto"]])),this.rule(),this.submenu("A11yLanguage","Language")]),this.submenu("Braille","Â  Â  Braille",[this.checkbox("Generate","Generate","braille"),this.checkbox("Subtitles","Show Subtitles","viewBraille"),this.rule(),this.label("Code","Code Format:"),this.radioGroup("brailleCode",[["nemeth","Nemeth"],["ueb","UEB"],["euro","Euro"]])]),this.submenu("Explorer","Â  Â  Explorer",[this.submenu("Highlight","Highlight",[this.submenu("Background","Background",this.radioGroup("backgroundColor",[["Blue"],["Red"],["Green"],["Yellow"],["Cyan"],["Magenta"],["White"],["Black"]])),{type:"slider",variable:"backgroundOpacity",content:" "},this.submenu("Foreground","Foreground",this.radioGroup("foregroundColor",[["Black"],["White"],["Magenta"],["Cyan"],["Yellow"],["Green"],["Red"],["Blue"]])),{type:"slider",variable:"foregroundOpacity",content:" "},this.rule(),this.radioGroup("highlight",[["None"],["Hover"],["Flame"]]),this.rule(),this.checkbox("TreeColoring","Tree Coloring","treeColoring")]),this.submenu("Magnification","Magnification",[this.radioGroup("magnification",[["None"],["Keyboard"],["Mouse"]]),this.rule(),this.radioGroup("magnify",[["200%"],["300%"],["400%"],["500%"]])]),this.submenu("Semantic Info","Semantic Info",[this.checkbox("Type","Type","infoType"),this.checkbox("Role","Role","infoRole"),this.checkbox("Prefix","Prefix","infoPrefix")]),this.rule(),this.submenu("Role Description","Describe math as",[this.radioGroup("roleDescription",[["MathJax expression"],["MathJax"],["math"],["clickable math"],["explorable math"],["none"]])]),this.checkbox("Math Help","Help message on focus","help")]),this.submenu("Options","Â  Â  Options",[this.checkbox("Enrich","Semantic Enrichment","enrich"),this.checkbox("Collapsible","Collapsible Math","collapsible"),this.checkbox("AutoCollapse","Auto Collapse","autocollapse",{disabled:!0}),this.rule(),this.checkbox("InTabOrder","Include in Tab Order","inTabOrder"),this.submenu("TabSelects","Tabbing Focuses on",[this.radioGroup("tabSelects",[["all","Whole Expression"],["last","Last Explored Node"]])]),this.rule(),this.checkbox("AssistiveMml","Include Hidden MathML","assistiveMml")]),this.rule(),this.command("About","About MathJax",()=>this.postInfo(this.about)),this.command("Help","MathJax Help",()=>this.postInfo(this.help))]}),this.menu);e.settings=this.settings,e.findID("Settings","Overflow","Elide").disable(),e.findID("Braille","ueb").hide(),e.setJax(this.jax),this.attachDialogMenus(e),this.checkLoadableItems();var s=[];Ch.DynamicSubmenus.set("ShowAnnotation",[i1(this.annotationBox,this.options.annotationTypes,s),""]),Ch.DynamicSubmenus.set("CopyAnnotation",[r1(s),""]),s=this.document.document,Eh||(vh(gh,s),Eh=!0,yh(s)),s=this.document.document,Nh||(vh(x,s),Nh=!0,yh(s))}attachDialogMenus(t){this.about.attachMenu(t),this.help.attachMenu(t),this.originalText.attachMenu(t),this.mathmlCode.attachMenu(t),this.originalText.attachMenu(t),this.svgImage.attachMenu(t),this.speechText.attachMenu(t),this.brailleText.attachMenu(t),this.errorMessage.attachMenu(t),this.zoomBox.attachMenu(t)}checkLoadableItems(){var t,e;if(p1&&p1._&&p1.loader&&p1.startup){var s=this.settings,i=this.document.options;!(s.enrich||s.speech&&i.enableSpeech||s.braille&&i.enableBraille)||null!=(e=null==(t=p1._)?void 0:t.a11y)&&e.explorer||this.loadA11y("explorer"),!s.collapsible||null!=(t=null==(i=p1._)?void 0:i.a11y)&&t.complexity||this.loadA11y("complexity"),!s.assistiveMml||null!=(i=null==(e=p1._)?void 0:e.a11y)&&i["assistive-mml"]||this.loadA11y("assistive-mml")}else{const t=this.menu;for(const e of Object.keys(this.jax))this.jax[e]||t.findID("Settings","Renderer",e).disable();t.findID("Speech").disable(),t.findID("Braille").disable(),t.findID("Explorer").disable(),t.findID("Options","AutoCollapse").disable(),t.findID("Options","Collapsible").disable(),t.findID("Options","Enrich").disable(),t.findID("Options","AssistiveMml").disable()}}enableAccessibilityItems(t,e){const s=this.menu.findID(t).submenu;for(const t of s.items.slice(1))t instanceof th||(!e||t instanceof zl&&!t.submenu.items.length?t.disable():t.enable())}mergeUserSettings(){try{var t=localStorage.getItem(D.MENU_STORAGE);if(!t)return;Object.assign(this.settings,JSON.parse(t)),this.setA11y(this.settings)}catch(t){console.log("MathJax localStorage error: "+t.message)}}saveUserSettings(){const t={};for(const e of Object.keys(this.settings))this.settings[e]!==this.defaultSettings[e]&&(t[e]=this.settings[e]);try{Object.keys(t).length?localStorage.setItem(D.MENU_STORAGE,JSON.stringify(t)):localStorage.removeItem(D.MENU_STORAGE)}catch(t){console.log("MathJax localStorage error: "+t.message)}}setA11y(t){var e;null!=(e=null==(e=p1._)?void 0:e.a11y)&&e.explorer&&p1._.a11y.explorer_ts.setA11yOptions(this.document,t)}getA11y(t){var e;if(null!=(e=null==(e=p1._)?void 0:e.a11y)&&e.explorer)return(void 0!==this.document.options.a11y[t]?this.document.options.a11y:this.document.options.sre)[t]}applySettings(){this.setTabOrder(this.settings.inTabOrder),this.document.options.enableAssistiveMml=this.settings.assistiveMml,this.enableAccessibilityItems("Speech",this.settings.speech),this.enableAccessibilityItems("Braille",this.settings.braille),this.setAccessibilityMenus();const s=this.settings.renderer.replace(/[^a-zA-Z0-9]/g,"")||"CHTML";(D._loadingPromise||Promise.resolve()).then(()=>{const t=this.settings,e=this.document.outputJax.options;if(e.scale=parseFloat(t.scale),e.displayOverflow=t.overflow.toLowerCase(),e.linebreaks&&(e.linebreaks.inline=t.breakInline),!t.speechRules){const s=this.document.options.sre;t.speechRules=`${s.domain||"clearspeak"}-`+(s.style||"default")}s!==this.defaultSettings.renderer&&this.document.whenReady(()=>this.setRenderer(s,!1))})}setOverflow(t){this.document.outputJax.options.displayOverflow=t.toLowerCase(),D.loading||this.document.rerenderPromise()}setInlineBreaks(t){this.document.outputJax.options.linebreaks.inline=t,D.loading||this.document.rerenderPromise()}setScale(t){this.document.outputJax.options.scale=parseFloat(t),D.loading||this.document.rerenderPromise()}setRenderer(i,r=!0){if(Object.hasOwn(this.jax,i)&&this.jax[i])return this.setOutputJax(i,r);const n=i.toLowerCase();return new Promise((e,s)=>{this.loadComponent("output/"+n,()=>{const t=p1.startup;if(!(n in t.constructors))return s(new Error(`Component ${n} not loaded`));t.useOutput(n,!0),t.output=t.getOutputJax(),t.output.setAdaptor(this.document.adaptor),t.output.initialize(),this.jax[i]=t.output,this.setOutputJax(i,r).then(()=>e()).catch(t=>s(t))})})}setOutputJax(t,e=!0){this.jax[t].setAdaptor(this.document.adaptor),this.document.outputJax=this.jax[t];const s=this.loadRequiredExtensions();return e?s.then(()=>kn.handleRetriesFor(()=>this.rerender())):s.then(()=>{})}loadRequiredExtensions(){const t=this.document.outputJax.name.toLowerCase(),e=[];for(const s of this.requiredExtensions)e.push(p1.loader.load(`[${s}]/`+t));return this.requiredExtensions=[],Promise.all(e)}addRequiredExtensions(t){t&&(t=new Set([...this.requiredExtensions,...t]),this.requiredExtensions=[...t])}setTabOrder(t){const e=this.menu.findID("Options","TabSelects");t?e.enable():e.disable(),this.menu.store.inTaborder(t)}setAssistiveMml(t){!(this.document.options.enableAssistiveMml=t)||null!=(t=null==(t=p1._)?void 0:t.a11y)&&t["assistive-mml"]?this.rerender():this.loadA11y("assistive-mml")}setAccessibilityMenus(){const t=this.settings.enrich,e=t?"enable":"disable",s=(["Speech","Braille","Explorer"].forEach(t=>this.menu.findID(t)[e]()),this.document.options);(s.enableSpeech=s.enableBraille=s.enableExplorer=t)||(this.settings.collapsible=!1,this.document.options.enableCollapsible=!1)}setSpeech(t){this.enableAccessibilityItems("Speech",t),!(this.document.options.enableSpeech=t)||null!=(t=null==(t=p1._)?void 0:t.a11y)&&t.explorer?this.rerender(u.COMPILED):this.loadA11y("explorer")}setBraille(t){this.enableAccessibilityItems("Braille",t),!(this.document.options.enableBraille=t)||null!=(t=null==(t=p1._)?void 0:t.a11y)&&t.explorer?this.rerender(u.COMPILED):this.loadA11y("explorer")}setBrailleCode(t){this.document.options.sre.braille=t,this.rerender(u.COMPILED)}setLocale(t){this.document.options.sre.locale=t,this.rerender(u.COMPILED)}setRoleDescription(){this.rerender(u.COMPILED)}setEnrichment(t){this.document.options.enableEnrichment=t,this.setAccessibilityMenus(),!t||null!=(t=null==(t=p1._)?void 0:t.a11y)&&t.explorer?this.rerender(u.COMPILED):this.loadA11y("explorer")}setCollapsible(t){(this.document.options.enableComplexity=t)&&!this.settings.enrich&&(this.settings.enrich=this.document.options.enableEnrichment=!0,this.setAccessibilityMenus()),t||this.menu.pool.lookup("highlight").setValue("None"),!t||null!=(t=null==(t=p1._)?void 0:t.a11y)&&t.complexity?this.rerender(u.COMPILED):(this.loadA11y("complexity"),null!=(t=null==(t=p1._)?void 0:t.a11y)&&t.explorer||this.loadA11y("explorer"))}setHighlight(t){var e,s;if("None"!==t){if(!this.settings.collapsible){const t=this.menu.pool.lookup("collapsible");t.setValue(!0),null!=(s=null==(e=t.items[0])?void 0:e.executeCallbacks_)&&s.call(e)}D.loadingPromises.has("a11y/complexity")||this.rerender(u.COMPILED)}}scaleAllMath(){const t=(100*parseFloat(this.settings.scale)).toFixed(1).replace(/.0$/,""),e=prompt("Scale all mathematics (compared to surrounding text) by",t+"%");if(this.current){const t=this.menu.mathItem.explorers.speech;t.refocus=this.current,t.focus()}if(e)if(e.match(/^\s*\d+(\.\d*)?\s*%?\s*$/)){const t=parseFloat(e)/100;t?this.menu.pool.lookup("scale").setValue(String(t)):alert("The scale should not be zero")}else alert("The scale should be a percentage (e.g., 120%)")}resetDefaults(){D.loading++;const t=this.menu.pool,e=this.defaultSettings;for(const s of Object.keys(e)){const i=t.lookup(s);if(i){if(i.getValue()!==e[s]){i.setValue(e[s]);const t=i.items[0];t&&t.executeCallbacks_()}}else Object.hasOwn(this.settings,s)&&(this.settings[s]=e[s])}D.loading--,this.rerender(u.COMPILED)}checkComponent(t){t=D.loadingPromises.get(t);t&&kn.retryAfter(t)}loadComponent(t,e){if(!D.loadingPromises.has(t)){const i=p1.loader;var s;i&&(D.loading++,s=i.load(t).then(()=>{D.loading--,D.loadingPromises.delete(t),0===D.loading&&D._loadingPromise&&(D._loadingPromise=null,D._loadingOK()),e()}).catch(t=>{D._loadingPromise?(D._loadingPromise=null,D._loadingFailed(t)):console.log(t)}),D.loadingPromises.set(t,s))}}loadA11y(i){const r=!u.ENRICHED;this.loadComponent("a11y/"+i,()=>{var t;const e=p1.startup;kn.handlers.unregister(e.handler),e.handler=e.getHandler(),kn.handlers.register(e.handler);var s=this.document;this.document=e.document=e.getDocument(),this.document.processed=s.processed,this.document.menu=this,s.webworker&&(this.document.webworker=s.webworker),this.setA11y(this.settings),this.defaultSettings=Object.assign({},this.document.options.a11y,(null==(t=null==(t=p1.config)?void 0:t.options)?void 0:t.a11y)||{},this.defaultSettings),this.document.outputJax.reset(),this.transferMathList(s),this.document.processed=s.processed,D._loadingPromise||(this.document.outputJax.reset(),kn.handleRetriesFor(()=>{this.rerender("complexity"===i||r?u.COMPILED:u.TYPESET)}))})}transferMathList(t){const e=this.document.options.MathItem;for(const s of t.math){const t=new e;Object.assign(t,s),this.document.math.push(t)}}formatSource(t){return t.trim().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}toMML(t){return this.MmlVisitor.visitTree(t.root,t,{filterSRE:!this.settings.showSRE,filterTex:!this.settings.showTex,texHints:this.settings.texHints,semantics:this.settings.semantics&&"MathML"!==t.inputJax.name})}toSVG(t){const e=this.jax.SVG;if(!e)return Promise.resolve("SVG can't be produced.<br>Try switching to SVG output first.");const s=e.adaptor,i=e.options.fontCache,r=!!t.root.getProperty("process-breaks");if("global"!==i&&(t.display||!r)&&"SVG"===s.getAttribute(t.typesetRoot,"jax"))for(const e of s.childNodes(t.typesetRoot))if("svg"===s.kind(e))return Promise.resolve(this.formatSvg(s.serializeXML(e)));return this.typesetSVG(t,i,r)}typesetSVG(i,r,n){return c1(this,void 0,void 0,function*(){const t=this.jax.SVG,e=t.html("div"),s=("global"===r&&(t.options.fontCache="local"),i.root);return i.root=s.copy(!0),i.root.setInheritedAttributes({},i.display,0,!1),n&&(t.unmarkInlineBreaks(i.root),i.root.setProperty("inlineMarked",!1)),kn.handleRetriesFor(()=>{t.toDOM(i,e,t.document)}).then(()=>(i.root=s,t.options.fontCache=r,this.formatSvg(t.adaptor.innerHTML(e))))})}formatSvg(t){var e=this.constructor.SvgCss;return t=(t=t.match(/^<svg.*?><defs>/)?t.replace(/<defs>/,`<defs><style>${e}</style>`):t.replace(/^(<svg.*?>)/,`$1<defs><style>${e}</style></defs>`)).replace(/ (?:role|focusable)=".*?"/g,"").replace(/"currentColor"/g,'"black"'),this.settings.showSRE||(t=t.replace(/ (?:data-semantic-.*?|data-speech-node|role|aria-(?:level|posinset|setsize|owns))=".*?"/g,"")),this.settings.showTex||(t=t.replace(/ data-latex(?:-item)?=".*?"/g,"")),`<?xml version="1.0" encoding="UTF-8" standalone="no"?>
`+(t=this.settings.texHints?t:t.replace(/ data-mjx-(?:texclass|alternate|variant|pseudoscript|smallmatrix|mathaccent|auto-op|script-align|vbox)=".*?"/g,"").replace(/ data-mml-node="TeXAtom"/g,""))}postSvgImage(){this.postInfo(this.svgImage),this.toSVG(this.menu.mathItem).then(t=>{this.svgImage.html.querySelector("#svg-image").innerHTML=this.formatSource(t).replace(/\n/g,"<br>")})}zoom(t,e,s){t&&!this.isZoomEvent(t,e)||(this.menu.mathItem=s,t&&this.menu.post(t),this.postInfo(this.zoomBox))}isZoomEvent(t,e){return this.settings.zoom===e&&(!this.settings.alt||t.altKey)&&(!this.settings.ctrl||t.ctrlKey)&&(!this.settings.cmd||t.metaKey)&&(!this.settings.shift||t.shiftKey)}rerender(t=u.TYPESET){this.rerenderStart=Math.min(t,this.rerenderStart);const e=p1.startup;!D.loading&&e.hasTypeset&&e.document.whenReady(()=>c1(this,void 0,void 0,function*(){this.rerenderStart<=u.COMPILED&&this.document.reset({inputJax:[]}),yield this.document.rerenderPromise(this.rerenderStart),this.rerenderStart=u.LAST}))}copyMathML(){s1(this.toMML(this.menu.mathItem))}copyOriginal(){s1(this.menu.mathItem.math.trim())}copySvgImage(){this.toSVG(this.menu.mathItem).then(t=>{s1(t)})}copySpeechText(){s1(this.menu.mathItem.outputData.speech)}copyBrailleText(){s1(this.menu.mathItem.outputData.braille)}copyErrorMessage(){s1(this.menu.errorMsg.trim())}addMenu(t){this.addEvents(t),this.menu.store.insert(t.typesetRoot),t.typesetRoot.tabIndex=this.settings.inTabOrder?0:-1}addEvents(s){const t=s.typesetRoot;t.addEventListener("mousedown",()=>{var t;this.menu.mathItem=s,this.current=null==(t=null==(t=s.explorers)?void 0:t.speech)?void 0:t.current},!0),t.addEventListener("contextmenu",()=>{var t;const e=null==(t=(this.menu.mathItem=s).explorers)?void 0:t.speech;e&&(s.outputData.nofocus=!this.current,e.refocus=this.current)},!0),t.addEventListener("keydown",()=>this.menu.mathItem=s,!0),t.addEventListener("click",t=>this.zoom(t,"Click",s),!0),t.addEventListener("dblclick",t=>this.zoom(t,"DoubleClick",s),!0)}clear(){this.menu.store.clear()}variable(e,s){return{name:e,getter:()=>this.settings[e],setter:t=>{this.settings[e]=t,s&&s(t),this.saveUserSettings()}}}a11yVar(e,s){return{name:e,getter:()=>this.getA11y(e),setter:t=>{this.settings[e]=t,this.setA11y({[e]:t}),s&&s(t),this.saveUserSettings()}}}submenu(t,e,s=[],i=!1){let r=[];for(const t of s)Array.isArray(t)?r=r.concat(t):r.push(t);return{type:"submenu",id:t,content:e,menu:{items:r},disabled:0===r.length||i}}command(t,e,s,i={}){return Object.assign({type:"command",id:t,content:e,action:s},i)}checkbox(t,e,s,i={}){return Object.assign({type:"checkbox",id:t,content:e,variable:s},i)}radioGroup(e,t){return t.map(t=>this.radio(t[0],t[1]||t[0],e))}radio(t,e,s,i={}){return Object.assign({type:"radio",id:t,content:e,variable:s},i)}label(t,e){return{type:"label",id:t,content:e}}rule(){return{type:"rule"}}}function m1(t){return class extends t{addMenu(t,e=!1){this.state()>=u.CONTEXT_MENU||(this.isEscaped||!t.options.enableMenu&&!e||t.menu.addMenu(this),this.state(u.CONTEXT_MENU))}getMenus(t){t.menu.menu.store.sort()}checkLoading(t){t.checkLoading()}}}function f1(t){var e=class extends t{constructor(...t){super(...t),this.menu=new this.options.MenuClass(this,this.options.menuOptions);const e=this.constructor.ProcessBits,s=(e.has("context-menu")||e.allocate("context-menu"),this.options.MathItem=m1(this.options.MathItem),this.menu.settings),i=this.options,r=i.enableEnrichment=s.enrich;i.enableSpeech=s.speech&&r,i.enableBraille=s.braille&&r,i.enableComplexity=s.collapsible&&r,i.enableExplorer=r}addMenu(){if(!this.processed.isSet("context-menu")){for(const t of this.math)t.addMenu(this);this.processed.set("context-menu")}return this}getMenus(){this.menu.menu.store.sort()}checkLoading(){let t=!0;try{this._checkLoading(),t=!1}catch(t){if(!t.retry)throw t}return t}_checkLoading(){return this.menu.isLoading&&kn.retryAfter(this.menu.loadingPromise.catch(t=>console.log(t))),this.options.enableComplexity&&this.menu.checkComponent("a11y/complexity"),this.options.enableExplorer&&this.menu.checkComponent("a11y/explorer"),this}state(t,e=!1){return super.state(t,e),t<u.CONTEXT_MENU&&this.processed.clear("context-menu"),this}};return e.OPTIONS=Object.assign(Object.assign({enableEnrichment:!0,enableComplexity:!0,enableSpeech:!0,enableBraille:!0,enableExplorer:!0,enrichSpeech:"none",enrichError:(t,e,s)=>console.warn("Enrichment Error:",s)},t.OPTIONS),{MenuClass:D,menuOptions:D.OPTIONS,enableMenu:!0,sre:t.OPTIONS.sre||yi({}),a11y:t.OPTIONS.a11y||yi({}),renderActions:yi(Object.assign(Object.assign({},t.OPTIONS.renderActions),{addMenu:[u.CONTEXT_MENU],getMenus:[u.INSERTED+5,!1],checkLoading:[u.UNPROCESSED+1,t=>t.checkLoading(),"",!1]}))}),e}function g1(t){return t.documentClass=f1(t.documentClass),t}D.MENU_STORAGE="MathJax-Menu-Settings",D.OPTIONS={settings:{showSRE:!1,showTex:!1,texHints:!0,semantics:!1,zoom:"NoZoom",zscale:"200%",renderer:"CHTML",alt:!1,cmd:!1,ctrl:!1,shift:!1,scale:1,overflow:"Scroll",breakInline:!0,autocollapse:!1,collapsible:!1,enrich:!0,inTabOrder:!0,assistiveMml:!1,speech:!0,braille:!0,brailleCode:"nemeth",speechRules:"clearspeak-default",roleDescription:"math",tabSelects:"all"},jax:{CHTML:null,SVG:null},annotationTypes:yi({TeX:["TeX","LaTeX","application/x-tex"],StarMath:["StarMath 5.0"],Maple:["Maple"],ContentMathML:["MathML-Content","application/mathml-content+xml"],OpenMath:["OpenMath"]})},D.SvgCss=["svg a{fill:blue;stroke:blue}",'[data-mml-node="merror"]>g{fill:red;stroke:red}','[data-mml-node="merror"]>rect[data-background]{fill:yellow;stroke:none}',"[data-frame],[data-line]{stroke-width:70px;fill:none}",".mjx-dashed{stroke-dasharray:140}",".mjx-dotted{stroke-linecap:round;stroke-dasharray:0,140}","use[data-c]{stroke-width:3px}"].join(""),D.loading=0,D.loadingPromises=new Map,D._loadingPromise=null,D._loadingOK=null,D._loadingFailed=null,Xi("CONTEXT_MENU",170),MathJax.loader&&MathJax.loader.checkVersion("ui/menu",Ys,"ui"),ei({_:{a11y:{speech:{SpeechMenu:Ss}},ui:{menu:{AnnotationMenu:ks,MJContextMenu:ws,Menu:Ds,MenuHandler:Ps,MenuUtil:Rs,MmlVisitor:As,RadioCompare:Ms,SelectableInfo:Os}}}}),MathJax.startup&&ii&&MathJax.startup.extendHandler(t=>g1(t),20),MathJax.loader&&MathJax.loader.checkVersion("a11y/sre",Ys,"a11y"),ei({_:{a11y:{sre_ts:Is}}}),Xi("ENRICHED",u.COMPILED+10);class b1 extends In{visitTree(t,e){this.mactionId=0;t=super.visitTree(t);return this.mactionId&&(e.inputData.hasMaction=!0),t}visitHtmlNode(t,e){return t.getSerializedXML()}visitMactionNode(t,e){const[s,i]=0===t.childNodes.length?["",""]:["\n",e],r=this.childNodeMml(t,e+"  ",s);let n=this.getAttributes(t);if("toggle"===t.attributes.get("actiontype")){const e=++this.mactionId;t.setProperty("mactionId",e),n=` data-maction-id="${e}" selection="${t.attributes.get("selection")}"`+n.replace(/ selection="\d+"/,"").replace(/ data-maction-id="\d+"/,"")}return`${e}<maction${n}>`+(r.match(/\S/)?s+r+i:"")+"</maction>"}}function E1(t,r,e){return class extends t{constructor(){super(...arguments),this.toMathML=e}serializeMml(t){if("outerHTML"in t)return t.outerHTML;if("undefined"!=typeof Element&&"undefined"!=typeof window&&t instanceof Element){const e=window.document.createElement("div");return e.appendChild(t),e.innerHTML}return t.toString()}enrich(e,t=!1){if(!(this.state()>=u.ENRICHED)){if(!this.isEscaped&&(e.options.enableEnrichment||t)){const t=new e.options.MathItem("",r);try{var s=this.inputData.originalMml?this.adjustSelections():this.inputData.originalMml=this.toMathML(this.root,this),i=Fu(s);this.inputData.enrichedMml=t.math=this.serializeMml(i),t.math=t.math.replace(/ role="treeitem"/g,' data-speech-node="true"').replace(/ aria-(?:posinset|owns|setsize)=".*?"/g,""),t.display=this.display,t.compile(e),this.root=t.root}catch(t){e.options.enrichError(e,this,t)}}this.state(u.ENRICHED)}}toEnriched(t){return this.serializeMml(Fu(t))}unEnrich(t){var e=this.inputData.originalMml;if(e){const s=new t.options.MathItem("",r);s.math=e,s.display=this.display,s.compile(t),this.root=s.root}}adjustSelections(){const t=this.inputData.originalMml;if(!this.inputData.hasMaction)return t;const i=[];return this.root.walkTree(t=>{t.isKind("maction")&&(i[t.attributes.get("data-maction-id")]=t)}),t.replace(/(data-maction-id="(\d+)" selection=)"\d+"/g,(t,e,s)=>`${e}"${i[s].attributes.get("selection")}"`)}}}function N1(t,i){var e;return(e=class extends t{constructor(...t){super(...t),i.setMmlFactory(this.mmlFactory);const e=this.constructor.ProcessBits,s=(e.has("enriched")||e.allocate("enriched"),new b1(this.mmlFactory));this.options.MathItem=E1(this.options.MathItem,i,(t,e)=>s.visitTree(t,e))}enrich(){if(!this.processed.isSet("enriched")){if(this.options.enableEnrichment){ju(this.options.sre);for(const t of this.math)t.enrich(this)}this.processed.set("enriched")}return this}enrichError(t,e,s){console.warn("Enrichment error:",s)}state(t,e=!1){if(super.state(t,e),t<u.ENRICHED&&(this.processed.clear("enriched"),t>=u.COMPILED))for(const t of this.math)t.unEnrich(this);return this}}).OPTIONS=Object.assign(Object.assign({},t.OPTIONS),{enableEnrichment:!0,enrichError:(t,e,s)=>t.enrichError(t,e,s),renderActions:yi(Object.assign(Object.assign({},t.OPTIONS.renderActions),{enrich:[u.ENRICHED]})),sre:yi({speech:"none",locale:"en",domain:"clearspeak",style:"default",braille:"nemeth",structure:!0,aria:!0})}),e}function x1(t,e){return e.setAdaptor(t.adaptor),t.documentClass=N1(t.documentClass,e),t}MathJax.loader&&MathJax.loader.checkVersion("a11y/semantic-enrich",Ys,"a11y"),ei({_:{a11y:{"semantic-enrich":Bs}}}),MathJax.startup&&MathJax.startup.extendHandler(t=>x1(t,new mo({allowHtmlInTokenNodes:!0})));const y1=["pitch","rate","volume"];function v1(t){const e=Hu(t),s=[],i=[];return function t(e,s,i,r={}){for(const n of e)if(3!==n.nodeType){if(1===n.nodeType){const e=n,o=e.tagName;if("speak"===o)continue;if("prosody"===o){t(Array.from(n.childNodes),s,i,_1(e,r));continue}switch(o){case"break":s.push({pause:e.getAttribute("time")});break;case"mark":s.push({mark:e.getAttribute("name")});break;case"say-as":{const a=e.textContent;s.push(Object.assign({text:a,character:!0},r)),i.push(a);break}}}}else{const e=n.textContent.trim();e&&(i.push(e),s.push(Object.assign({text:e},r)))}}(Array.from(e.childNodes),s,i),[i.join(" "),s]}const C1={pitch:(t,e)=>t/100*1,volume:(t,e)=>t/100*.5,rate:(t,e)=>t/100*1};function _1(t,e){const s={};for(const o of y1)if(t.hasAttribute(o)){var[i,r]=function(t){t=t.match(T1);return t?[t[1],t[2]]:(console.warn("Something went wrong with the prosody matching."),["","100"])}(t.getAttribute(o));if(!i){s[o]="volume"===o?.5:1;continue}var n=e[o]||("volume"===o?.5:1),r=C1[o](parseInt(r,10),i);s[o]="-"===i?n-r:n+r}return s}const T1=/([+-]?)([0-9]+)%/;function L1(t,e,s,i=" "){if(!t)return"";const r=[t];return e&&r.unshift(e),s&&r.push(s),r.join(i)}function w1(t,e="en",s="100"){return v1(`<?xml version="1.0"?><speak version="1.1" xmlns="http://www.w3.org/2001/10/synthesis" xml:lang="${e}"><prosody rate="${s}%">${t}</prosody></speak>`)}function I1(){const t=new AudioContext,e=t.createOscillator();e.frequency.value=300,e.connect(t.destination),e.start(t.currentTime),e.stop(t.currentTime+.05)}(Vt=d1=d1||{})[Vt.NONE=0]="NONE",Vt[Vt.DEPTH=1]="DEPTH",Vt[Vt.SUMMARY=2]="SUMMARY",(Xt=u1=u1||{}).SPEECH="data-semantic-speech-none",Xt.SPEECH_SSML="data-semantic-speech",Xt.SUMMARY="data-semantic-summary-none",Xt.SUMMARY_SSML="data-semantic-summary",Xt.PREFIX="data-semantic-prefix-none",Xt.PREFIX_SSML="data-semantic-prefix",Xt.POSTFIX="data-semantic-postfix-none",Xt.POSTFIX_SSML="data-semantic-postfix",Xt.BRAILLE="data-semantic-braille";class S1{constructor(){this.promise=Promise.resolve(),this.adaptor=null,this._options={},this._init=!1}set element(t){this._element=t}get element(){return this._element}set options(t){this._options=Object.assign({},(null==t?void 0:t.sre)||{},{enableSpeech:t.enableSpeech,enableBraille:t.enableBraille}),delete this._options.custom}get options(){return this._options}init(t,e,s){this.options=t,this._init||(this.adaptor=e,this.webworker=s,this._init=!0)}update(t){Object.assign(this.options,t)}Speech(t){var e=t.outputData.mml,s=Object.assign({},this.options,{modality:"speech"});return this.promise=this.webworker.Speech(e,s,t)}SpeechFor(t,e){var s=Object.assign({},this.options,{modality:"speech"});return this.webworker.speechFor(e,s,t)}cancel(t){var e;null!=(e=this.webworker)&&e.Cancel(t)}updateRegions(t,e,s){e.Update(this.getLabel(t)),s.Update(this.getBraille(t))}getOptions(t){var e;return{locale:null!=(e=this.adaptor.getAttribute(t,"data-semantic-locale"))?e:"",domain:null!=(e=this.adaptor.getAttribute(t,"data-semantic-domain"))?e:"",style:null!=(e=this.adaptor.getAttribute(t,"data-semantic-style"))?e:"",domain2style:null!=(e=this.adaptor.getAttribute(t,"data-semantic-domain2style"))?e:""}}nextRules(t){var e=this.getOptions(t.typesetRoot);return this.update(e),this.promise=this.webworker.nextRules(t.outputData.mml,Object.assign({},this.options,{modality:"speech"}),t)}nextStyle(t,e){var s=this.getOptions(e.typesetRoot);return this.update(s),this.promise=this.webworker.nextStyle(e.outputData.mml,Object.assign({},this.options,{modality:"speech"}),this.adaptor.getAttribute(t,"data-semantic-id"),e)}getLabel(t,e=0,s=" "){const i=this.adaptor;return L1(i.getAttribute(t,u1.SPEECH_SSML),i.getAttribute(t,u1.PREFIX_SSML),i.getAttribute(t,u1.POSTFIX_SSML),s)||i.getAttribute(t,"aria-label")}getBraille(t){const e=this.adaptor;return e.getAttribute(t,"aria-braillelabel")||e.getAttribute(t,u1.BRAILLE)}getLocalePreferences(t){return this.promise=this.webworker.clearspeakLocalePreferences(this.options,t)}getRelevantPreferences(t,e,s,i){t=t.outputData.mml;return this.promise=this.webworker.clearspeakRelevantPreferences(t,e,s,i)}}function R1(t,o,a,l){return new(a=a||Promise)(function(s,e){function i(t){try{n(l.next(t))}catch(t){e(t)}}function r(t){try{n(l.throw(t))}catch(t){e(t)}}function n(t){var e;t.done?s(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(i,r)}n((l=l.apply(t,o||[])).next())})}class k1{constructor(t,e,s,i){this.cmd=t,this.item=e,this.resolve=s,this.reject=i}}class M1{constructor(t,e){this.adaptor=t,this.options=e,this.ready=!1,this.tasks=[],this.Commands={Ready(t,e){t.ready=!0,t.postNext()},Finished(t,e){const s=t.tasks.shift();e.success?s.resolve(e.result):s.reject(e.error),t.postNext()},Log(t,e){t.options.debug&&console.log("Log:",e)}}}Start(){return R1(this,void 0,void 0,function*(){if(this.ready)throw Error("Worker already started");this.worker=yield this.adaptor.createWorker(this.Listener.bind(this),this.options)})}debug(t,...e){this.options.debug&&console.info(t,...e)}Listener(t){this.debug("Worker  >>>  Client:",t.data),Object.hasOwn(this.Commands,t.data.cmd)?this.Commands[t.data.cmd](this,t.data.data):this.debug("Invalid command from worker: "+t.data.cmd)}Post(s,i){var t=new Promise((t,e)=>{this.tasks.push(new k1(s,i,t,e))});return this.ready&&1===this.tasks.length&&this.postNext(),t}postNext(){var t;this.tasks.length&&(t=Object.assign({},this.tasks[0].cmd,{debug:this.options.debug}),this.worker.postMessage(t))}Cancel(e){var t=this.tasks.findIndex(t=>t.item===e);0<t&&(this.tasks[t].reject(`Task ${this.tasks[t].cmd.cmd} cancelled`),this.tasks.splice(t,1))}Setup(t){return this.Post({cmd:"setup",data:{domain:t.domain,style:t.style,locale:t.locale,modality:t.modality}})}Speech(t,e,s){return R1(this,void 0,void 0,function*(){this.Attach(s,e.enableSpeech,e.enableBraille,yield this.Post({cmd:"speech",data:{mml:t,options:e}},s))})}nextRules(t,e,s){return R1(this,void 0,void 0,function*(){this.Attach(s,e.enableSpeech,e.enableBraille,yield this.Post({cmd:"nextRules",data:{mml:t,options:e}},s))})}nextStyle(t,e,s,i){return R1(this,void 0,void 0,function*(){this.Attach(i,e.enableSpeech,e.enableBraille,yield this.Post({cmd:"nextStyle",data:{mml:t,options:e,nodeId:s}},i))})}speechFor(e,s,i){return R1(this,void 0,void 0,function*(){var t=yield this.Post({cmd:"speech",data:{mml:e,options:s}},i);return JSON.parse(t)})}Attach(e,s,t,i){var i=JSON.parse(i),r=e.typesetRoot;if(r){this.setSpecialAttributes(r,i.options,"data-semantic-",["locale","domain","style","domain2style"]);const n=this.adaptor;this.setSpecialAttributes(r,i.translations,"data-semantic-");for(const[e,s]of Object.entries(i.mactions)){let t=n.getElement("#"+e,r);t&&n.childNodes(t)[0]&&(t=n.childNodes(t)[0],n.setAttribute(t,"data-semantic-type","dummy"),this.setSpecialAttributes(t,s,""))}this.setSpeechAttributes(n.childNodes(r)[0],"",i,s,t),s&&(i.label&&(n.setAttribute(r,u1.SPEECH,i.label),n.setAttribute(r,u1.SPEECH_SSML,i.ssml),e.outputData.speech=i.label),n.setAttribute(r,"data-speech-attached","true")),t&&(i.braillelabel&&(n.setAttribute(r,u1.BRAILLE,i.braillelabel),e.outputData.braille=i.braillelabel),i.braille&&n.setAttribute(r,"data-braille-attached","true"))}}setSpeechAttribute(t,e,s,i){const r=this.adaptor,n=r.getAttribute(t,"data-semantic-id");if(r.removeAttribute(t,"data-speech-node"),s&&e.speech[n]["speech-none"]){r.setAttribute(t,"data-speech-node","true");for(var[o,a]of Object.entries(e.speech[n]))o=o.replace(/-ssml$/,""),a&&r.setAttribute(t,"data-semantic-"+o,a)}if(i&&null!=(i=null==(s=e.braille)?void 0:s[n])&&i["braille-none"]){r.setAttribute(t,"data-speech-node","true");const s=e.braille[n]["braille-none"];r.setAttribute(t,u1.BRAILLE,s)}}setSpeechAttributes(t,e,s,i,r){const n=this.adaptor;if(!t||"#text"===n.kind(t)||"#comment"===n.kind(t))return e;n.hasAttribute(t,"data-semantic-id")&&(this.setSpeechAttribute(t,s,i,r),e||n.hasAttribute(t,"data-semantic-parent")||(e=n.getAttribute(t,"data-semantic-id")));for(const o of Array.from(n.childNodes(t)))e=this.setSpeechAttributes(o,e,s,i,r);return e}setSpecialAttributes(t,e,s,i){if(e)for(const r of i=i||Object.keys(e)){const i=e[r];i&&this.adaptor.setAttribute(t,""+s+r.toLowerCase(),i)}}Detach(t){t=t.typesetRoot;this.adaptor.removeAttribute(t,"data-speech-attached"),this.adaptor.removeAttribute(t,"data-braille-attached"),this.detachSpeech(t)}detachSpeech(t){const e=this.adaptor,s=e.childNodes(t);if(s){if("#text"!==e.kind(t))for(const s of["none","summary-none","speech","speech-none","summary","braille"])e.removeAttribute(t,"data-semantic-"+s);for(const t of s)this.detachSpeech(t)}}Terminate(){this.debug("Terminating pending tasks");for(const t of this.tasks)t.reject(t.cmd.data.cmd+" cancelled by WorkerHandler termination");return this.tasks=[],this.debug("Terminating worker"),this.worker.terminate()}Stop(){return R1(this,void 0,void 0,function*(){if(!this.worker)throw Error("Worker has not been started");yield this.Terminate(),this.worker=null,this.ready=!1})}clearspeakLocalePreferences(e,s){return R1(this,void 0,void 0,function*(){yield this.Post({cmd:"localePreferences",data:{options:e}}).then(t=>{s.set(e.locale,JSON.parse(t))})})}clearspeakRelevantPreferences(t,e,s,i){return R1(this,void 0,void 0,function*(){yield this.Post({cmd:"relevantPreferences",data:{mml:t,id:e}}).then(t=>{s.set(i,t)})})}}const A1=si.config||{},O1=()=>(A1?.loader?.paths?.mathjax||A1?.__dirname||"/")+"/sre";var D1=function(t,o,a,l){return new(a=a||Promise)(function(s,e){function i(t){try{n(l.next(t))}catch(t){e(t)}}function r(t){try{n(l.throw(t))}catch(t){e(t)}}function n(t){var e;t.done?s(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(i,r)}n((l=l.apply(t,o||[])).next())})};function P1(t){return class extends t{constructor(){super(...arguments),this.generatorPool=new S1}attachSpeech(e){var t;this.outputData.speechPromise=null,this.state()>=u.ATTACHSPEECH||(this.state(u.ATTACHSPEECH),!this.isEscaped&&(e.options.enableSpeech||e.options.enableBraille)&&e.options.enableEnrichment&&(e.getWebworker(),this.generatorPool.init(e.options,e.adaptor,e.webworker),this.outputData.mml=this.toMathML(this.root,this),t=this.generatorPool.Speech(this).catch(t=>e.options.speechError(e,this,t)),e.savePromise(t),this.outputData.speechPromise=t))}detachSpeech(t){t.webworker.Detach(this)}speechFor(e){return D1(this,void 0,void 0,function*(){e=this.toEnriched(e);var t=yield this.generatorPool.SpeechFor(this,e);return[t.label,t.braillelabel]})}clear(){this.generatorPool.cancel(this)}}}function B1(t){var e=class extends t{constructor(...t){super(...t),this.webworker=null;const e=this.constructor.ProcessBits;e.has("attach-speech")||e.allocate("attach-speech"),this.options.MathItem=P1(this.options.MathItem)}getWebworker(){this.webworker||(this.webworker=new M1(this.adaptor,this.options.worker),this.webworker.Start())}attachSpeech(){if(!this.processed.isSet("attach-speech")){var t=this.options;if(t.enableEnrichment&&(t.enableSpeech||t.enableBraille)){this.getWebworker();for(const e of this.math)e.attachSpeech(this)}this.processed.set("attach-speech")}return this}speechError(t,e,s){console.warn("Speech generation error:",s)}state(t,e=!1){if(super.state(t,e),t<u.ATTACHSPEECH&&(this.processed.clear("attach-speech"),t>=u.TYPESET))for(const t of this.math)t.detachSpeech(this);return this}done(){const e=Object.create(null,{done:{get:()=>super.done}});return D1(this,void 0,void 0,function*(){var t;return yield null==(t=this.webworker)?void 0:t.Stop(),e.done.call(this)})}};return e.OPTIONS=Object.assign(Object.assign({},t.OPTIONS),{enableSpeech:!0,enableBraille:!0,speechError:(t,e,s)=>t.speechError(t,e,s),renderActions:yi(Object.assign(Object.assign({},t.OPTIONS.renderActions),{attachSpeech:[u.ATTACHSPEECH]})),worker:{path:O1(),maps:O1().replace(/[cm]js\/a11y\/sre$/,"bundle/sre/mathmaps"),worker:"speech-worker.js",debug:!1},a11y:yi({speech:!0,braille:!0})}),e}function j1(t,e){return(t=!t.documentClass.prototype.enrich&&e?x1(t,e):t).documentClass=B1(t.documentClass),t}if(Xi("ATTACHSPEECH",u.INSERTED+10),MathJax.loader&&MathJax.loader.checkVersion("a11y/speech",Ys,"a11y"),ei({_:{a11y:{speech_ts:Hs,speech:{GeneratorPool:Us,SpeechUtil:js,WebWorker:Fs}}}}),MathJax.loader){let t=oi.resolvePath("[sre]",!1),e=oi.resolvePath("[mathmaps]",!1);if(ii)t=new URL(t,location).href,e=new URL(e,location).href;else{const j="undefined"!=typeof require?require:MathJax.config.loader.require;j?.resolve?(t=j.resolve(t+"/require.mjs").replace(/\/[^\/]*$/,""),e=j.resolve(e+"/base.json").replace(/\/[^\/]*$/,"")):t=e=""}t&&ti(MathJax.config,"options",{worker:{path:t,maps:e}})}MathJax.startup&&MathJax.startup.extendHandler(t=>j1(t));const U1={red:{red:255,green:0,blue:0},green:{red:0,green:255,blue:0},blue:{red:0,green:0,blue:255},yellow:{red:255,green:255,blue:0},cyan:{red:0,green:255,blue:255},magenta:{red:255,green:0,blue:255},white:{red:255,green:255,blue:255},black:{red:0,green:0,blue:0}};function F1(t,e){const s=U1[t.color]||U1[e.color];return s.alpha=null!=(t=t.alpha)?t:e.alpha,`rgba(${(t=s).red},${t.green},${t.blue},${null!=(t=t.alpha)?t:1})`}const H1={color:"blue",alpha:1},q1={color:"black",alpha:1};let W1=0;class z1{constructor(){this.counter=W1++,this.ATTR="sre-highlight-"+this.counter.toString(),this.mactionName="",this.currentHighlights=[]}highlight(t){this.currentHighlights.push(t.map(t=>{var e=this.highlightNode(t);return this.setHighlighted(t),e}))}highlightAll(t){var s=this.getMactionNodes(t);for(let t,e=0;t=s[e];e++)this.highlight([t])}unhighlight(){const t=this.currentHighlights.pop();t&&t.forEach(t=>{this.isHighlighted(t.node)&&(this.unhighlightNode(t),this.unsetHighlighted(t.node))})}unhighlightAll(){for(;0<this.currentHighlights.length;)this.unhighlight()}setColor(t,e){this._foreground=F1(e,q1),this._background=F1(t,H1)}get foreground(){return this._foreground}get background(){return this._background}getMactionNodes(t){return Array.from(t.getElementsByClassName(this.mactionName))}isMactionNode(t){const e=t.className||t.getAttribute("class");return!!e&&!!e.match(new RegExp(this.mactionName))}isHighlighted(t){return t.hasAttribute(this.ATTR)}setHighlighted(t){t.setAttribute(this.ATTR,"true")}unsetHighlighted(t){t.removeAttribute(this.ATTR)}}class V1 extends z1{constructor(){super(),this.mactionName="mjx-maction"}highlightNode(t){var e={node:t,background:t.style.backgroundColor,foreground:t.style.color};return this.isHighlighted(t)||(t.style.backgroundColor=this.background,t.style.color=this.foreground),e}unhighlightNode(t){t.node.style.backgroundColor=t.background,t.node.style.color=t.foreground}isMactionNode(t){return(null==(t=t.tagName)?void 0:t.toUpperCase())===this.mactionName.toUpperCase()}getMactionNodes(t){return Array.from(t.getElementsByTagName(this.mactionName))}}function X1(t,e,s){const i=new J1[s];return i.setColor(t,e),i}const J1={SVG:class extends z1{constructor(){super(),this.mactionName="maction"}highlightNode(t){let e;if(this.isHighlighted(t))return e={node:t,background:this.background,foreground:this.foreground};if("svg"===t.tagName||"MJX-CONTAINER"===t.tagName)return e={node:t,background:t.style.backgroundColor,foreground:t.style.color},t.style.backgroundColor=this.background,t.style.color=this.foreground,e;const s=document.createElementNS("http://www.w3.org/2000/svg","rect");s.setAttribute("sre-highlighter-added","true");var i=t.getBBox(),i=(s.setAttribute("x",(i.x-40).toString()),s.setAttribute("y",(i.y-40).toString()),s.setAttribute("width",(i.width+80).toString()),s.setAttribute("height",(i.height+80).toString()),t.getAttribute("transform"));return i&&s.setAttribute("transform",i),s.setAttribute("fill",this.background),t.setAttribute(this.ATTR,"true"),t.parentNode.insertBefore(s,t),e={node:t,foreground:t.getAttribute("fill")},"rect"!==t.nodeName&&t.setAttribute("fill",this.foreground),e}setHighlighted(t){"svg"===t.tagName&&super.setHighlighted(t)}unhighlightNode(t){const e=t.node.previousSibling;if(e&&e.hasAttribute("sre-highlighter-added"))return t.foreground?t.node.setAttribute("fill",t.foreground):t.node.removeAttribute("fill"),void t.node.parentNode.removeChild(e);t.node.style.backgroundColor=t.background,t.node.style.color=t.foreground}isMactionNode(t){return t.getAttribute("data-mml-node")===this.mactionName}getMactionNodes(t){return Array.from(t.querySelectorAll(`[data-mml-node="${this.mactionName}"]`))}},CHTML:V1,generic:V1};class G1{constructor(t){this.document=t,this.CLASS=this.constructor,this.AddStyles()}AddStyles(){if(!this.CLASS.styleAdded){const t=this.document.adaptor.node("style");t.innerHTML=this.CLASS.style.cssText,this.document.adaptor.head(this.document.adaptor.document).appendChild(t),this.CLASS.styleAdded=!0}}AddElement(){if(!this.div){const t=this.document.adaptor.node("div");t.classList.add(this.CLASS.className),this.div=t,this.inner=this.document.adaptor.node("div"),this.div.appendChild(this.inner),this.document.adaptor.body(this.document.adaptor.document).appendChild(this.div)}}Show(t,e){this.AddElement(),this.position(t),this.highlight(e),this.div.classList.add(this.CLASS.className+"_Show")}Hide(){this.div&&(this.div.parentNode.removeChild(this.div),this.div=null,this.inner=null)}stackRegions(t){t=t.getBoundingClientRect();let s=0,i=Number.POSITIVE_INFINITY;var r=this.document.adaptor.document.getElementsByClassName(this.CLASS.className+"_Show");for(let t,e=0;t=r[e];e++)t!==this.div&&(s=Math.max(t.getBoundingClientRect().bottom,s),i=Math.min(t.getBoundingClientRect().left,i));var e=(s||t.bottom+10)+window.scrollY,t=(i<Number.POSITIVE_INFINITY?i:t.left)+window.scrollX;this.div.style.top=e+"px",this.div.style.left=t+"px"}}G1.styleAdded=!1;class K1 extends G1{Clear(){}Update(){}Hide(){}Show(){}AddElement(){}AddStyles(){}position(){}highlight(t){}}class Y1 extends G1{Clear(){this.div&&(this.Update(""),this.inner.style.top="",this.inner.style.backgroundColor="")}Update(t){t&&this.AddElement(),this.inner&&(this.inner.textContent="",this.inner.textContent=t||"Â ")}position(t){this.stackRegions(t)}highlight(t){this.div&&(this.inner.style.backgroundColor=t.background,this.inner.style.color=t.foreground)}}class $1 extends Y1{}$1.className="MJX_ToolTip",$1.style=new $n({["."+$1.className]:{width:"auto",height:"auto",opacity:1,"text-align":"center","border-radius":"4px",padding:0,"border-bottom":"1px dotted black",position:"absolute",display:"inline-block","background-color":"white","z-index":202},["."+$1.className+" > div"]:{"border-radius":"inherit",padding:"0 2px"}});class Q1 extends Y1{}Q1.className="MJX_LiveRegion",Q1.style=new $n({["."+Q1.className]:{position:"absolute",top:0,display:"none",width:"auto",height:"auto",padding:0,opacity:1,"z-index":"202",left:0,right:0,margin:"0 auto","background-color":"white","box-shadow":"0px 5px 20px #888",border:"2px solid #CCCCCC"},["."+Q1.className+"_Show"]:{display:"block"}});class Z1 extends Q1{constructor(){super(...arguments),this.active=!1,this.node=null,this.clear=!1,this.highlighter=X1({color:"red"},{color:"black"},this.document.outputJax.name),this.voiceRequest=!1,this.voiceCancelled=!1}Show(t,e){super.Update("Â "),this.node=t,super.Show(t,e)}Update(t){this.voiceRequest?this.makeVoice(t):(speechSynthesis.onvoiceschanged=(()=>this.voiceRequest=!0).bind(this),new Promise(t=>{setTimeout(()=>{this.voiceRequest?t(!0):setTimeout(()=>{this.voiceRequest=!0,t(!0)},100)},100)}).then(()=>this.makeVoice(t)))}makeVoice(t){this.active=this.document.options.a11y.voicing&&!!speechSynthesis.getVoices().length,speechSynthesis.cancel(),this.clear=!0;var[t,e]=w1(t,this.document.options.sre.locale,this.document.options.sre.rate);super.Update(t),this.active&&t&&this.makeUtterances(e,this.document.options.sre.locale)}makeUtterances(e,t){this.voiceCancelled=!1;let s=null;for(const i of e)if(i.mark){if(!s){this.highlightNode(i.mark,!0);continue}s.addEventListener("end",t=>{this.voiceCancelled||this.highlightNode(i.mark)})}else if(i.pause){const e=parseInt(i.pause.match(/^[0-9]+/)[0]);if(isNaN(e)||!s)continue;s.addEventListener("end",t=>{speechSynthesis.pause(),setTimeout(()=>{speechSynthesis.resume()},e)})}else s=new SpeechSynthesisUtterance(i.text),i.rate&&(s.rate=i.rate),i.pitch&&(s.pitch=i.pitch),s.lang=t,speechSynthesis.speak(s);s&&s.addEventListener("end",t=>{this.highlighter.unhighlight()})}Hide(){this.cancelVoice(),super.Hide()}cancelVoice(){this.voiceCancelled=!0,speechSynthesis.cancel(),this.highlighter.unhighlight()}highlightNode(t,e=!1){this.highlighter.unhighlight();t=Array.from(this.node.querySelectorAll(`[data-semantic-id="${t}"]`));this.clear&&!e||this.highlighter.highlight(t),this.clear=!1}}class t0 extends G1{position(t){var e=t.getBoundingClientRect(),s=this.div.getBoundingClientRect();let i,r=e.left+e.width/2-s.width/2;switch(r=r<0?0:r,r+=window.scrollX,this.document.options.a11y.align){case"top":i=e.top-s.height-10;break;case"bottom":i=e.bottom+10;break;default:i=e.top+e.height/2-s.height/2}i=(i+=window.scrollY)<0?0:i,this.div.style.top=i+"px",this.div.style.left=r+"px"}highlight(t){!this.div||this.inner.firstChild&&!this.inner.firstChild.hasAttribute("sre-highlight")||(this.inner.style.backgroundColor=t.background,this.inner.style.color=t.foreground)}Show(t,e){this.AddElement(),this.div.style.fontSize=this.document.options.a11y.magnify,this.Update(t),super.Show(t,e)}Clear(){this.div&&(this.inner.textContent="",this.inner.style.top="",this.inner.style.backgroundColor="")}Update(t){if(this.div){this.Clear();const e=this.cloneNode(t),s=e.querySelector("[data-mjx-clone]");this.inner.style.backgroundColor=t.style.backgroundColor,s.style.backgroundColor="",s.classList.remove("mjx-selected"),this.inner.appendChild(e),this.position(t)}}cloneNode(e){let s=e.cloneNode(!0);if(s.setAttribute("data-mjx-clone","true"),"MJX-CONTAINER"!==s.nodeName){"g"!==s.nodeName&&(s.style.marginLeft=s.style.marginRight="0");let t=e;for(;t&&"MJX-CONTAINER"!==t.nodeName;)t=t.parentNode;if("MJX-MATH"!==s.nodeName&&"svg"!==s.nodeName&&"svg"===(s=t.firstChild.cloneNode(!1).appendChild(s).parentNode).nodeName){s.firstChild.setAttribute("transform","matrix(1 0 0 -1 0 0)");const i=parseFloat(s.getAttribute("viewBox").split(/ /)[2]),r=parseFloat(s.getAttribute("width")),{x:n,y:o,width:a,height:l}=e.getBBox();s.setAttribute("viewBox",[n,-(o+l),a,l].join(" ")),s.removeAttribute("style"),s.setAttribute("width",r/i*a+"ex"),s.setAttribute("height",r/i*l+"ex"),t.setAttribute("sre-highlight","false")}(s=t.cloneNode(!1).appendChild(s).parentNode).style.margin="0"}return s}}t0.className="MJX_HoverRegion",t0.style=new $n({["."+t0.className]:{display:"block",position:"absolute",width:"max-content",height:"auto",padding:0,opacity:1,"z-index":"202",margin:"0 auto","background-color":"white","line-height":0,"box-shadow":"0px 10px 20px #888",border:"2px solid #CCCCCC"},["."+t0.className+" > div"]:{overflow:"hidden"}});class e0{get highlighter(){return this.pool.highlighter}static stopEvent(t){t.preventDefault?t.preventDefault():t.returnValue=!1,t.stopImmediatePropagation?t.stopImmediatePropagation():t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0}static create(t,e,s,i,...r){return new this(t,e,s,i,...r)}constructor(t,e,s,i){this.document=t,this.pool=e,this.region=s,this.node=i,this.stoppable=!0,this.events=[],this._active=!1}Events(){return this.events}get active(){return this._active}set active(t){this._active=t}Attach(){this.AddEvents()}Detach(){this.RemoveEvents()}Start(){this.active=!0}Stop(){this.active&&(this.region.Clear(),this.region.Hide(),this.active=!1)}AddEvents(){for(var[t,e]of this.events)this.node.addEventListener(t,e)}RemoveEvents(){for(var[t,e]of this.events)this.node.removeEventListener(t,e)}Update(t=0){}stopEvent(t){this.stoppable&&e0.stopEvent(t)}}function s0(t,o,a,l){return new(a=a||Promise)(function(s,e){function i(t){try{n(l.next(t))}catch(t){e(t)}}function r(t){try{n(l.throw(t))}catch(t){e(t)}}function n(t){var e;t.done?s(t.value):((e=t.value)instanceof a?e:new a(function(t){t(e)})).then(i,r)}n((l=l.apply(t,o||[])).next())})}const i0="[data-speech-node]";function r0(t,e=!0){return t.shiftKey&&e||t.metaKey||t.altKey||t.ctrlKey}const n0=new Map([["MacOS",["on MacOS and iOS using VoiceOver",", or the VoiceOver arrow keys to select an expression"]],["Windows",["in Windows using NVDA or JAWS",". The screen reader should enter focus or forms mode automatically\nwhen the expression gets the browser focus, but if not, you can toggle\nfocus mode using NVDA+space in NVDA; for JAWS, Enter should start\nforms mode while Numpad Plus leaves it.  Also note that you can use\nthe NVDA or JAWS key plus the arrow keys to explore the expression\neven in browse mode, and you can use NVDA+shift+arrow keys to\nnavigate out of an expression that has the focus in NVDA"]],["Unix",["in Unix using Orca",", and Orca should enter focus mode automatically.  If not, use the\nOrca+a key to toggle focus mode on or off.  Also note that you can use\nOrca+arrow keys to explore expressions even in browse mode"]],["unknown",["with a Screen Reader.",""]]]);class o0 extends e0{get generators(){var t;return null==(t=this.item)?void 0:t.generatorPool}get role(){return this.item.ariaRole}get description(){return this.item.roleDescription}get none(){return this.item.none}FocusIn(t){this.item.outputData.nofocus?this.item.outputData.nofocus=!1:(this.clicked||this.Start(),this.clicked=null)}FocusOut(t){this.current&&!this.focusSpeech&&(this.setCurrent(null),this.Stop(),document.hasFocus()||this.focusTop())}KeyDown(t){if(this.pendingIndex.shift(),this.region.cancelVoice(),!r0(t,!1)){const e=this.constructor,s=1===t.key.length?t.key.toLowerCase():t.key,[i,r]=e.keyMap.get(s)||[],n=i?void 0===r||this.active?i(this,t):r:this.undefinedKey(t);n||(this.stopEvent(t),!1===n&&this.sound&&this.NoMove())}}MouseDown(t){var e,s;this.pendingIndex=[],this.region.cancelVoice(),r0(t)||2===t.buttons?this.item.outputData.nofocus=!0:(s=this.findClicked(t.target,t.x,t.y))!==this.document.infoIcon?(null!=(e=document.getSelection())&&e.removeAllRanges(),t.target.getAttribute("sre-highlighter-added")?this.refocus=s:this.clicked=s):this.stopEvent(t)}Click(t){var e;{if(!r0(t)&&2!==t.buttons&&"Range"!==document.getSelection().type)return(e=this.findClicked(t.target,t.x,t.y))===this.document.infoIcon?(this.stopEvent(t),void this.help()):void(e&&!this.node.contains(e)||(this.stopEvent(t),this.refocus=e,this.triggerLinkMouse()||this.Start()));this.FocusOut(null)}}DblClick(t){var e=null!=(e=document.getSelection().direction)?e:"none";r0(t)||2===t.buttons||"none"!==e?this.FocusOut(null):(this.stopEvent(t),this.refocus=this.rootNode(),this.Start())}spaceKey(){return this.refocus=this.current,!0}hKey(){this.refocus=this.current,this.help()}escapeKey(){return this.Stop(),this.focusTop(),!0}enterKey(t){if(this.active)if(this.triggerLinkKeyboard(t))this.Stop();else{const t=this.actionable(this.current);if(!t)return!1;(this.refocus=t).dispatchEvent(new Event("click"))}else this.Start()}homeKey(){this.setCurrent(this.rootNode())}moveDown(t){return t?this.moveToNeighborCell(1,0):this.moveTo(this.firstNode(this.current))}moveUp(t){return t?this.moveToNeighborCell(-1,0):this.moveTo(this.getParent(this.current))}moveRight(t){return t?this.moveToNeighborCell(0,1):this.moveTo(this.nextSibling(this.current))}moveLeft(t){return t?this.moveToNeighborCell(0,-1):this.moveTo(this.prevSibling(this.current))}moveTo(t){if(!t)return!1;this.setCurrent(t)}moveToNeighborCell(t,e){var s=this.tableCell(this.current);if(!s)return!1;var[i,r]=this.cellPosition(s);return null!=i&&(!!(s=this.cellAt(this.cellTable(s),i+t,r+e))&&void this.setCurrent(s))}undefinedKey(t){return!this.active||r0(t)}addMark(){this.current===this.marks[this.marks.length-1]?this.setCurrent(this.current):(this.currentMark=this.marks.length-1,this.marks.push(this.current),this.speak("Position marked"))}prevMark(){if(this.currentMark<0){if(0===this.marks.length)return void this.setCurrent(this.lastMark||this.rootNode());this.currentMark=this.marks.length-1}var t=this.currentMark;this.setCurrent(this.marks[t]),this.currentMark=t-1}clearMarks(){this.marks=[],this.currentMark=-1,this.prevMark()}autoVoice(){var t=!this.document.options.a11y.voicing;this.document.menu?this.document.menu.menu.pool.lookup("voicing").setValue(t):this.document.options.a11y.voicing=t,this.Update()}numberKey(t){if(!this.tableCell(this.current))return!1;if(0===t&&(t=10),this.pendingIndex.length){const e=this.cellTable(this.tableCell(this.current)),s=this.cellAt(e,this.pendingIndex[0]-1,t-1);if(this.pendingIndex=[],this.speak(String(t)),!s)return!1;setTimeout(()=>this.setCurrent(s),500)}else this.pendingIndex=[null,t],this.speak(`Jump to row ${t} and column`)}depth(){var t;if("d"===this.speechType)this.setCurrent(this.current);else{this.speechType="d";const e=[[null!=(t=this.node.getAttribute("data-semantic-level"))?t:"Level",null!=(t=this.current.getAttribute("aria-level"))?t:"0"].join(" ").trim()],s=this.actionable(this.current);s&&e.unshift(null!=(t=this.node.getAttribute("1"===s.getAttribute("toggle")?"data-semantic-expandable":"data-semantic-collapsible"))?t:""),this.speak(e.join(" "),this.current.getAttribute(u1.BRAILLE))}}summary(){var t;"x"===this.speechType?this.setCurrent(this.current):(this.speechType="x",t=this.current.getAttribute(u1.SUMMARY),this.speak(t,this.current.getAttribute(u1.BRAILLE),this.SsmlAttributes(this.current,u1.SUMMARY_SSML)))}nextRules(){this.node.removeAttribute("data-speech-attached"),this.restartAfter(this.generators.nextRules(this.item))}nextStyle(){this.node.removeAttribute("data-speech-attached"),this.restartAfter(this.generators.nextStyle(this.current,this.item))}details(){const t=this.actionable(this.current);if(t&&t.getAttribute("data-collapsible")&&"1"===t.getAttribute("toggle")&&"z"!==this.speechType){this.speechType="z";const s=this.nodeId(this.current);let e,t=(this.item.root.walkTree(t=>{t.attributes.get("data-semantic-id")===s&&(e=t)}),this.item.toMathML(e,this.item));t=(t=e.isKind("math")?t:`<math>${t}</math>`).replace(/ (?:data-semantic-|aria-|data-speech-|data-latex).*?=".*?"/g,""),this.item.speechFor(t).then(([t,e])=>this.speak(t,e))}else this.setCurrent(this.current)}help(){const t=this.document.adaptor,e=t.node("mjx-help-background"),s=t=>{e.remove(),this.node.focus(),this.stopEvent(t)};e.addEventListener("click",s);var i=t.node("mjx-help-sizer",{},[t.node("mjx-help-dialog",{tabindex:0,role:"dialog","aria-labeledby":"mjx-help-label"},[t.node("h1",{id:"mjx-help-label"},[t.text("MathJax Expression Explorer Help")]),t.node("div"),t.node("input",{type:"button",value:"Close"})])]);e.append(i);const r=i.firstChild;r.addEventListener("click",t=>this.stopEvent(t)),r.lastChild.addEventListener("click",s),r.addEventListener("keydown",t=>{"Escape"===t.code&&s(t)});var[i,n]=n0.get(ri.os);r.childNodes[1].innerHTML=`
<H2>Exploring expressions ${i}</h2>

<p>The mathematics on this page is being rendered by <a
href="https://www.mathjax.org/" target="_blank">MathJax</a>, which
generates both the text spoken by screen readers, as well as the
visual layout for sighted users.</p>

<p>Expressions typeset by MathJax can be explored interactively, and
are focusable.  You can use the <kbd>Tab</kbd> key to move to a typeset
expression${n}.  Initially, the expression will be read in full,
but you can use the following keys to explore the expression
further:<p>

<ul>

<li><kbd>Down Arrow</kbd> moves one level deeper into the expression to
allow you to explore the current subexpression term by term.</li>

<li><kbd>Up Arrow</kbd> moves back up a level within the expression.</li>

<li><kbd>Right Arrow</kbd> moves to the next term in the current
subexpression.</li>

<li><kbd>Left Arrow</kbd> moves to the next term in the current
subexpression.</li>

<li><kbd>Shift</kbd>+<kbd>Arrow</kbd> moves to a neighboring cell within a table.

<li><kbd>0-9</kbd>+<kbd>0-9</kbd> jumps to a cell by its index in the table, where 0 = 10.

<li><kbd>Home</kbd> takes you to the top of the expression.</li>

<li><kbd>Enter</kbd> or <kbd>Return</kbd> clicks a link or activates an active
subexpression.</li>

<li><kbd>Space</kbd> opens the MathJax contextual menu where you can view
or copy the source format of the expression, or modify MathJax's
settings.</li>

<li><kbd>Escape</kbd> exits the expression explorer.</li>

<li><kbd>x</kbd> gives a summary of the current subexpression.</li>

<li><kbd>z</kbd> gives the full text of a collapsed expression.</li>

<li><kbd>d</kbd> gives the current depth within the expression.</li>

<li><kbd>s</kbd> starts or stops auto-voicing with synchronized highlighting.</li>

<li><kbd>v</kbd> marks the current position in the expression.</li>

<li><kbd>p</kbd> cycles through the marked positions in the expression.</li>

<li><kbd>u</kbd> clears all marked positions and returns to the starting position.</li>

<li><kbd>&gt;</kbd> cycles through the available speech rule sets
(MathSpeak, ClearSpeak).</li>

<li><kbd>&lt;</kbd> cycles through the verbosity levels for the current
rule set.</li>

<li><kbd>h</kbd> produces this help listing.</li>
</ul>

<p>The MathJax contextual menu allows you to enable or disable speech
or Braille generation for mathematical expressions, the language to
use for the spoken mathematics, and other features of MathJax.  In
particular, the Explorer submenu allows you to specify how the
mathematics should be identified in the page (e.g., by saying "math"
when the expression is spoken), and whether or not to include a
message about the letter "h" bringing up this dialog box.</p>

<p>The contextual menu also provides options for viewing or copying a
MathML version of the expression or its original source format,
creating an SVG version of the expression, and viewing various other
information.</p>

<p>For more help, see the <a
href="https://docs.mathjax.org/en/latest/basic/accessibility.html"
targe="_blank">MathJax accessibility documentation.</a></p>
`,document.body.append(e),r.focus()}setCurrent(t,e=!1){if(this.speechType="",document.hasFocus()||(this.refocus=this.current),this.node.setAttribute("aria-busy","true"),this.current){for(const t of this.getSplitNodes(this.current))t.classList.remove("mjx-selected");this.pool.unhighlight(),"last"===this.document.options.a11y.tabSelects&&(this.refocus=this.current),t||(this.lastMark=this.current,this.removeSpeech()),this.current=null}if(this.current=t,this.currentMark=-1,this.current){var s=this.getSplitNodes(this.current);for(const t of s)t.classList.add("mjx-selected");this.pool.highlight(s),this.addSpeech(t,e)}this.node.removeAttribute("aria-busy")}getSplitNodes(t){var e=this.nodeId(t);return e?Array.from(this.node.querySelectorAll(`[data-semantic-id="${e}"]`)):[t]}addSpeech(t,e){var s;null!=(s=this.img)&&s.remove();let i=[t.getAttribute(u1.PREFIX),t.getAttribute(u1.SPEECH),t.getAttribute(u1.POSTFIX)].join(" ").trim();if(e){let t=this.description===this.none?"":", "+this.description;this.document.options.a11y.help&&(t+=", press h for help"),i+=t}this.speak(i,t.getAttribute(u1.BRAILLE),this.SsmlAttributes(t,u1.SPEECH_SSML)),this.node.setAttribute("tabindex","-1")}removeSpeech(){this.speech&&(this.speech.remove(),this.speech=null,this.img&&this.node.append(this.img),this.node.setAttribute("tabindex","0"))}speak(t,e="",s=null,i=this.none){const r=this.speech;this.speech=document.createElement("mjx-speech"),this.speech.setAttribute("role",this.role),this.speech.setAttribute("aria-label",t),this.speech.setAttribute(u1.SPEECH,t),s&&(this.speech.setAttribute(u1.PREFIX_SSML,s[0]||""),this.speech.setAttribute(u1.SPEECH_SSML,s[1]||""),this.speech.setAttribute(u1.POSTFIX_SSML,s[2]||"")),e&&this.speech.setAttribute("aria-braillelabel",e),this.speech.setAttribute("aria-roledescription",i),this.speech.setAttribute("tabindex","0"),this.node.append(this.speech),this.focusSpeech=!0,this.speech.focus(),this.focusSpeech=!1,this.Update(),r&&setTimeout(()=>r.remove(),100)}attachSpeech(){var t;const e=this.item,s=this.node;if(!s.hasAttribute("has-speech")){for(const t of Array.from(s.childNodes))t.setAttribute("aria-hidden","true");s.setAttribute("has-speech","true")}var i=e.roleDescription,i=(s.getAttribute(u1.SPEECH)||"")+(i?", "+i:"");null!=(t=this.img)&&t.remove(),this.img=this.document.adaptor.node("mjx-speech",{"aria-label":i,role:"img","aria-roledescription":e.none}),s.appendChild(this.img)}detachSpeech(){var t;const e=this.node;null!=(t=this.img)&&t.remove(),e.removeAttribute("has-speech");for(const t of Array.from(e.childNodes))t.removeAttribute("aria-hidden")}focus(){this.node.focus()}nodeId(t){return t.getAttribute("data-semantic-id")}parentId(t){return t.getAttribute("data-semantic-parent")}getNode(t){return t?this.node.querySelector(`[data-semantic-id="${t}"]`):null}getParent(t){return this.getNode(this.parentId(t))}childArray(t){return t?t.getAttribute("data-semantic-children").split(/,/):[]}isCell(t){return!!t&&this.cellTypes.includes(t.getAttribute("data-semantic-type"))}isRow(t){return!!t&&"row"===t.getAttribute("data-semantic-type")}tableCell(t){for(;t&&t!==this.node;){if(this.isCell(t))return t;t=t.parentNode}return null}cellTable(t){t=this.getParent(t);return this.isRow(t)?this.getParent(t):t}cellPosition(t){var e=this.getParent(t),t=this.childArray(e).indexOf(this.nodeId(t));if(!this.isRow(e))return[t,1];var s=this.getParent(e);return[this.childArray(s).indexOf(this.nodeId(e)),t]}cellAt(t,e,s){t=this.getNode(this.childArray(t)[e]);return this.isRow(t)?this.getNode(this.childArray(t)[s]):1===s?t:null}firstNode(t){const e=t.getAttribute("data-semantic-owns");if(!e)return t.querySelector(i0);for(const t of e.split(/ /)){const e=this.getNode(t);if(null!=e&&e.hasAttribute("data-speech-node"))return e}return t.querySelector(i0)}rootNode(){const t=this.node.querySelector("[data-semantic-structure]");if(!t)return this.node.querySelector(i0);var e=t.getAttribute("data-semantic-structure").split(/ /)[0].replace("(","");return this.getNode(e)}nextSibling(t){var e=this.parentId(t);if(!e)return null;const s=null==(e=this.getNode(e).getAttribute("data-semantic-owns"))?void 0:e.split(/ /);if(!s)return null;let i,r=s.indexOf(this.nodeId(t));for(;(i=this.getNode(s[++r]))&&!i.hasAttribute("data-speech-node"););return i}prevSibling(t){var e=this.parentId(t);if(!e)return null;const s=null==(e=this.getNode(e).getAttribute("data-semantic-owns"))?void 0:e.split(/ /);if(!s)return null;let i,r=s.indexOf(this.nodeId(t));for(;(i=this.getNode(s[--r]))&&!i.hasAttribute("data-speech-node"););return i}findClicked(t,e,s){const i=this.document.infoIcon;if(i===t||i.contains(t))return i;if("SVG"!==this.node.getAttribute("jax"))return t.closest(i0);let r=null,n=this.node;for(;n;){n.matches(i0)&&(r=n);const t=Array.from(n.childNodes);n=null;for(const i of t)if(i!==this.speech&&i!==this.img&&"rect"!==i.tagName.toLowerCase()){const{left:t,right:r,top:o,bottom:a}=i.getBoundingClientRect();if(t<=e&&e<=r&&o<=s&&s<=a){n=i;break}}}return r}focusTop(){this.focusSpeech=!0,this.node.focus(),this.focusSpeech=!1}SsmlAttributes(t,e){return[t.getAttribute(u1.PREFIX_SSML),t.getAttribute(e),t.getAttribute(u1.POSTFIX_SSML)]}restartAfter(e){return s0(this,void 0,void 0,function*(){yield e,this.attachSpeech();var t=this.current;this.current=null,this.pool.unhighlight(),this.setCurrent(t)})}constructor(t,e,s,i,r,n,o,a){super(t,e,null,i),this.document=t,this.pool=e,this.region=s,this.node=i,this.brailleRegion=r,this.magnifyRegion=n,this.item=a,this.sound=!1,this.current=null,this.clicked=null,this.refocus=null,this.focusSpeech=!1,this.restarted=null,this.speech=null,this.speechType="",this.img=null,this.attached=!1,this.eventsAttached=!1,this.marks=[],this.currentMark=-1,this.lastMark=null,this.pendingIndex=[],this.cellTypes=["cell","line"],this.events=super.Events().concat([["focusin",this.FocusIn.bind(this)],["focusout",this.FocusOut.bind(this)],["keydown",this.KeyDown.bind(this)],["mousedown",this.MouseDown.bind(this)],["click",this.Click.bind(this)],["dblclick",this.DblClick.bind(this)]])}findStartNode(){let t=this.refocus||this.current;return!t&&this.restarted&&(t=this.node.querySelector(this.restarted)),this.refocus=this.restarted=null,t}Start(){const s=Object.create(null,{Start:{get:()=>super.Start}});return s0(this,void 0,void 0,function*(){var t,e;this.attached&&!this.active&&(this.document.activeItem=this.item,this.item.state()<u.ATTACHSPEECH&&(this.item.attachSpeech(this.document),yield this.generators.promise),this.focusSpeech||(this.node.classList.add("mjx-explorer-active"),this.node.append(this.document.infoIcon),t=this.findStartNode(),this.setCurrent(t||this.rootNode(),!t),s.Start.call(this),(e=(t=this.document.options).a11y).subtitles&&e.speech&&t.enableSpeech&&this.region.Show(this.node,this.highlighter),e.viewBraille&&e.braille&&t.enableBraille&&this.brailleRegion.Show(this.node,this.highlighter),e.keyMagnifier&&this.magnifyRegion.Show(this.current,this.highlighter),this.Update()))})}Stop(){var t;this.active&&(t=this.description,this.node.getAttribute("aria-roledescription")!==t&&this.node.setAttribute("aria-roledescription",t),this.node.classList.remove("mjx-explorer-active"),this.document.infoIcon.remove(),this.pool.unhighlight(),this.magnifyRegion.Hide(),this.region.Hide(),this.brailleRegion.Hide()),super.Stop()}Update(){this.active&&(this.region.node=this.node,this.generators.updateRegions(this.speech||this.node,this.region,this.brailleRegion),this.magnifyRegion.Update(this.current))}Attach(){this.attached||(super.Attach(),this.node.setAttribute("tabindex","0"),this.attached=!0)}Detach(){var t;super.RemoveEvents(),this.node.removeAttribute("role"),this.node.removeAttribute("aria-roledescription"),this.node.removeAttribute("aria-label"),null!=(t=this.img)&&t.remove(),this.active&&this.node.setAttribute("tabindex","0"),this.attached=!1}NoMove(){I1()}AddEvents(){this.eventsAttached||(super.AddEvents(),this.eventsAttached=!0)}actionable(t){t=null==t?void 0:t.parentNode;return t&&this.highlighter.isMactionNode(t)?t:null}triggerLinkKeyboard(t){return this.current?this.triggerLink(this.current):t.target instanceof HTMLAnchorElement&&(t.target.dispatchEvent(new MouseEvent("click")),!0)}triggerLink(t){var e;if(null!=(e=null==t?void 0:t.getAttribute("data-semantic-postfix"))&&e.match(/(^| )link($| )/))for(;t&&t!==this.node;){if(t instanceof HTMLAnchorElement)return t.dispatchEvent(new MouseEvent("click")),setTimeout(()=>this.FocusOut(null),50),!0;t=t.parentNode}return!1}triggerLinkMouse(){let t=this.refocus;for(;t&&t!==this.node;){if(this.triggerLink(t))return!0;t=t.parentNode}return!1}semanticFocus(){const t=[];let e="data-semantic-id",s=this.current||this.refocus||this.node;const i=this.actionable(s);i&&(e=i.hasAttribute("data-maction-id")?"data-maction-id":"id",s=i,t.push(i0));var r=s.getAttribute(e);return r&&t.unshift(`[${e}="${r}"]`),t.join(" ")}}o0.keyMap=new Map([["Tab",[()=>!0]],["Escape",[t=>t.escapeKey()]],["Enter",[(t,e)=>t.enterKey(e)]],["Home",[t=>t.homeKey()]],["ArrowDown",[(t,e)=>t.moveDown(e.shiftKey),!0]],["ArrowUp",[(t,e)=>t.moveUp(e.shiftKey),!0]],["ArrowLeft",[(t,e)=>t.moveLeft(e.shiftKey),!0]],["ArrowRight",[(t,e)=>t.moveRight(e.shiftKey),!0]],[" ",[t=>t.spaceKey()]],["h",[t=>t.hKey()]],[">",[t=>t.nextRules(),!1]],["<",[t=>t.nextStyle(),!1]],["x",[t=>t.summary(),!1]],["z",[t=>t.details(),!1]],["d",[t=>t.depth(),!1]],["v",[t=>t.addMark(),!1]],["p",[t=>t.prevMark(),!1]],["u",[t=>t.clearMarks(),!1]],["s",[t=>t.autoVoice(),!1]],...[..."0123456789"].map(e=>[e,[t=>t.numberKey(parseInt(e)),!1]])]);class a0 extends e0{constructor(){super(...arguments),this.events=super.Events().concat([["mouseover",this.MouseOver.bind(this)],["mouseout",this.MouseOut.bind(this)]])}MouseOver(t){this.Start()}MouseOut(t){this.Stop()}}class l0 extends a0{constructor(t,e,s,i,r,n){super(t,e,s,i),this.document=t,this.pool=e,this.region=s,this.node=i,this.nodeQuery=r,this.nodeAccess=n}MouseOut(t){this.highlighter.unhighlight(),this.region.Hide(),super.MouseOut(t)}MouseOver(t){super.MouseOver(t);var t=t.target,[t,e]=this.getNode(t);t&&(this.highlighter.unhighlight(),this.highlighter.highlight([t]),this.region.Update(e),this.region.Show(t,this.highlighter))}getNode(t){const e=t;for(;t&&t!==this.node;){if(this.nodeQuery(t))return[t,this.nodeAccess(t)];t=t.parentNode}for(t=e;t;){if(this.nodeQuery(t))return[t,this.nodeAccess(t)];const e=t.childNodes[0];t=e&&"defs"===e.tagName?t.childNodes[1]:e}return[null,null]}}class h0 extends l0{}class c0 extends l0{}class d0 extends l0{constructor(t,e,s,i){super(t,e,new K1(t),i,t=>this.highlighter.isMactionNode(t),()=>{}),this.document=t,this.pool=e,this.node=i}}class u0 extends e0{constructor(t,e,s,i,r){super(t,e,null,i),this.document=t,this.pool=e,this.region=s,this.node=i,this.mml=r,this.stoppable=!1}Attach(){super.Attach(),this.Start()}Detach(){this.Stop(),super.Detach()}}class p0 extends u0{Start(){this.active||(this.active=!0,this.highlighter.highlightAll(this.node))}Stop(){this.active&&this.highlighter.unhighlightAll(),this.active=!1}}class m0 extends u0{constructor(){super(...arguments),this.contrast=new f0,this.leaves=[],this.modality="data-semantic-foreground"}Start(){this.active||(this.active=!0,this.node.hasAttribute("hasforegroundcolor")||(this.colorLeaves(),this.node.setAttribute("hasforegroundcolor","true")),this.leaves.forEach(t=>this.colorize(t)))}Stop(){this.active&&this.leaves.forEach(t=>this.uncolorize(t)),this.active=!1}colorLeaves(){this.leaves=Array.from(this.node.querySelectorAll("[data-semantic-id]:not([data-semantic-children])"));for(const t of this.leaves)t.setAttribute(this.modality,this.contrast.generate()),this.contrast.increment()}colorize(t){t.hasAttribute(this.modality)&&(t.setAttribute(this.modality+"-old",t.style.color),t.style.color=t.getAttribute(this.modality))}uncolorize(t){var e=this.modality+"-old";t.hasAttribute(e)&&(t.style.color=t.getAttribute(e))}}class f0{constructor(){this.hue=10,this.sat=100,this.light=50,this.incr=53}generate(){return f0.hsl2rgb(this.hue,this.sat,this.light)}increment(){this.hue=(this.hue+this.incr)%360}static hsl2rgb(t,e,s){e=1<e?e/100:e,s=1<s?s/100:s;var e=(1-Math.abs(2*s-1))*e,i=e*(1-Math.abs(t/60%2-1)),s=s-e/2;let r=0,n=0,o=0;return 0<=t&&t<60?[r,n,o]=[e,i,0]:60<=t&&t<120?[r,n,o]=[i,e,0]:120<=t&&t<180?[r,n,o]=[0,e,i]:180<=t&&t<240?[r,n,o]=[0,i,e]:240<=t&&t<300?[r,n,o]=[i,0,e]:300<=t&&t<360&&([r,n,o]=[e,0,i]),`rgb(${255*(r+s)}, ${255*(n+s)}, ${255*(o+s)})`}}class g0{constructor(t){this.document=t,this.speechRegion=new Z1(this.document),this.brailleRegion=new Q1(this.document),this.magnifier=new t0(this.document),this.tooltip1=new $1(this.document),this.tooltip2=new $1(this.document),this.tooltip3=new $1(this.document)}}const b0={speech:(t,e,s,...i)=>{const r=o0.create(t,e,t.explorerRegions.speechRegion,s,t.explorerRegions.brailleRegion,t.explorerRegions.magnifier,i[0],i[1]);return r.sound=!0,r},mouseMagnifier:(t,e,s)=>c0.create(t,e,t.explorerRegions.magnifier,s,t=>t.hasAttribute("data-semantic-type"),t=>t),hover:(t,e,s)=>d0.create(t,e,null,s),infoType:(t,e,s)=>h0.create(t,e,t.explorerRegions.tooltip1,s,t=>t.hasAttribute("data-semantic-type"),t=>t.getAttribute("data-semantic-type")),infoRole:(t,e,s)=>h0.create(t,e,t.explorerRegions.tooltip2,s,t=>t.hasAttribute("data-semantic-role"),t=>t.getAttribute("data-semantic-role")),infoPrefix:(t,e,s)=>h0.create(t,e,t.explorerRegions.tooltip3,s,t=>{var e;return null==(e=t.hasAttribute)?void 0:e.call(t,"data-semantic-prefix-none")},t=>{var e;return null==(e=t.getAttribute)?void 0:e.call(t,"data-semantic-prefix-none")}),flame:(t,e,s)=>p0.create(t,e,null,s),treeColoring:(t,e,s,...i)=>m0.create(t,e,null,s,...i)};class E0{constructor(){this.explorers={},this.attached=[],this._restart=[],this.speechExplorerKeys=["speech","braille","keyMagnifier"]}get highlighter(){if(this._renderer!==this.document.outputJax.name)return this._renderer=this.document.outputJax.name,this.setPrimaryHighlighter(),this._highlighter;var[t,e]=this.colorOptions();return this._highlighter.setColor(e,t),this._highlighter}init(t,e,s,i){this.document=t,this.mml=s,this.node=e,this.setPrimaryHighlighter();for(const t of Object.keys(b0))this.explorers[t]=b0[t](this.document,this,this.node,this.mml,i);this.setSecondaryHighlighter(),this.attach()}attach(){this.attached=[];const t=[],e=this.document.options.a11y;for(var[s,i]of Object.entries(this.explorers))i instanceof o0?(i.stoppable=!1,t.unshift(i),this.speechExplorerKeys.some(t=>this.document.options.a11y[t])?(i.Attach(),this.attached.push(s)):i.Detach()):e[s]||"speech"===s&&(e.braille||e.keyMagnifier)?(i.Attach(),this.attached.push(s)):i.Detach();for(const e of t)if(e.attached){e.stoppable=!0;break}}reattach(){for(const t of this.attached){const e=this.explorers[t];e.active&&(this._restart.push(t),e.Stop())}}restart(){this._restart.forEach(t=>{this.explorers[t].Start()}),this._restart=[]}setPrimaryHighlighter(){var[t,e]=this.colorOptions();this._highlighter=X1(e,t,this.document.outputJax.name)}setSecondaryHighlighter(){this.secondaryHighlighter=X1({color:"red"},{color:"black"},this.document.outputJax.name),this.speech.region.highlighter=this.secondaryHighlighter}highlight(t){this.highlighter.highlight(t)}unhighlight(){this.secondaryHighlighter.unhighlight(),this.highlighter.unhighlight()}get speech(){return this.explorers.speech}colorOptions(){const t=this.document.options.a11y;return[{color:t.foregroundColor.toLowerCase(),alpha:t.foregroundOpacity/100},{color:t.backgroundColor.toLowerCase(),alpha:t.backgroundOpacity/100}]}}const N0="Unix"===ri.os;function x0(t,i){t=class extends t{constructor(){super(...arguments),this.refocus=null}get ariaRole(){return this.constructor.ariaRole}get roleDescription(){var t=this.constructor;return"none"===t.roleDescription?t.none:t.roleDescription}get none(){return this.constructor.none}attachSpeech(t){super.attachSpeech(t),null!=(t=null==(t=this.outputData.speechPromise)?void 0:t.then(()=>this.explorers.speech.attachSpeech()))&&t.then(()=>{var t;null!=(t=this.explorers)&&t.speech&&(this.explorers.speech.restarted=this.refocus),this.refocus=null,this.explorers&&this.explorers.restart()})}detachSpeech(t){super.detachSpeech(t),this.explorers.speech.detachSpeech()}explorable(t,e=!1){if(!(this.state()>=u.EXPLORER)){if(!this.isEscaped&&(t.options.enableExplorer||e)){const e=this.typesetRoot,s=i(this.root);this.explorers||(this.explorers=new E0),this.explorers.init(t,e,s,this)}this.state(u.EXPLORER)}}state(t=null,e=!1){if(t<u.EXPLORER&&this.explorers)for(const t of Object.values(this.explorers.explorers))t.active&&t.Stop();return super.state(t,e)}rerender(t,e=u.RERENDER){var s=this.setTemporaryFocus(t);super.rerender(t,e),this.clearTemporaryFocus(s)}setTemporaryFocus(t){var e;let s=null;if(this.explorers){const i=this.explorers.speech;if(s=null!=i&&i.attached?t.tmpFocus:null){this.refocus=null!=(e=i.semanticFocus())?e:null;const r=t.adaptor;r.append(r.body(),s)}this.explorers.reattach(),null!=s&&s.focus()}return s}clearTemporaryFocus(t){var e;t&&(null!=(e=this.outputData.speechPromise)?e:Promise.resolve()).then(()=>setTimeout(()=>t.remove(),100))}};return t.ariaRole=N0?"tree":"application",t.roleDescription="math",t.none="Â‘",t}function y0(t){var e=class extends t{constructor(...t){super(...t),this.explorerRegions=null,this.activeItem=null;const e=this.constructor.ProcessBits,s=(e.has("explorer")||e.allocate("explorer"),new In(this.mmlFactory)),i=this.options,r=(i.a11y.speechRules||(i.a11y.speechRules=i.sre.domain+"-"+i.sre.style),i.MathItem=x0(i.MathItem,t=>s.visitTree(t))),n=(r.roleDescription=i.roleDescription,this.explorerRegions=new g0(this),"addStyles"in this&&this.addStyles(this.constructor.speechStyles),this.adaptor),o="http://www.w3.org/2000/svg";this.infoIcon=n.node("mjx-help",{},[n.node("svg",{viewBox:"0 0 18 18",xmlns:o,"aria-hidden":"true"},[n.node("circle",{stroke:"none"},[],o),n.node("circle",{},[],o),n.node("line",{x1:9,y1:9,x2:9,y2:13},[],o),n.node("line",{x1:9,y1:5.5,x2:9,y2:5.5},[],o)],o)]),this.tmpFocus=this.adaptor.node("mjx-focus",{tabIndex:0,style:{outline:"none",display:"block",position:"absolute",top:0,left:"-10px",width:"1px",height:"1px",overflow:"hidden"},role:r.ariaRole,"aria-label":r.none,"aria-roledescription":r.none})}explorable(){if(!this.processed.isSet("explorer")){if(this.options.enableExplorer)for(const t of this.math)t.explorable(this);this.processed.set("explorer")}return this}rerender(t){const e=this.activeItem,s=null==e?void 0:e.setTemporaryFocus(this);return super.rerender(t),null!=e&&e.clearTemporaryFocus(s),this}state(t,e=!1){return super.state(t,e),t<u.EXPLORER&&this.processed.clear("explorer"),this}};return e.OPTIONS=Object.assign(Object.assign({},t.OPTIONS),{enableExplorer:ii,renderActions:yi(Object.assign(Object.assign({},t.OPTIONS.renderActions),{explorable:[u.EXPLORER]})),sre:yi(Object.assign(Object.assign({},t.OPTIONS.sre),{speech:"none"})),a11y:Object.assign(Object.assign({},t.OPTIONS.a11y),{align:"top",backgroundColor:"Blue",backgroundOpacity:20,flame:!1,foregroundColor:"Black",foregroundOpacity:100,highlight:"None",hover:!1,infoPrefix:!1,infoRole:!1,infoType:!1,keyMagnifier:!1,magnification:"None",magnify:"400%",mouseMagnifier:!1,subtitles:!1,treeColoring:!1,viewBraille:!1,voicing:!1,help:!0,roleDescription:"math",tabSelects:"all"})}),e.speechStyles={'mjx-container[has-speech="true"]':{position:"relative",cursor:"default"},"mjx-speech":{position:"absolute","z-index":-1,left:0,top:0,bottom:0,right:0},"mjx-speech:focus":{outline:"none"},"mjx-container .mjx-selected":{outline:"2px solid black"},"mjx-container > mjx-help":{display:"none",position:"absolute",top:"-.33em",right:"-.5em",width:".6em",height:".6em",cursor:"pointer"},'mjx-container[display="true"] > mjx-help':{right:0},"mjx-help > svg":{stroke:"black",width:"100%",height:"100%"},"mjx-help > svg > circle":{"stroke-width":"1.5px",cx:"9px",cy:"9px",r:"9px",fill:"white"},"mjx-help > svg > circle:nth-child(2)":{fill:"rgba(0, 0, 255, 0.2)",r:"7px"},"mjx-help > svg > line":{"stroke-width":"2.5px","stroke-linecap":"round"},"mjx-help:hover > svg > circle:nth-child(2)":{fill:"white"},"mjx-container.mjx-explorer-active > mjx-help":{display:"inline-flex","align-items":"center"},"mjx-help-sizer":{position:"fixed",width:"40%","max-width":"30em",top:"3em",left:"50%"},"mjx-help-dialog":{position:"absolute",width:"200%",left:"-100%",border:"3px outset","border-radius":"15px",color:"black","background-color":"#DDDDDD","z-index":"301","text-align":"right","font-style":"normal","text-indent":0,"text-transform":"none","line-height":"normal","letter-spacing":"normal","word-spacing":"normal","word-wrap":"normal",float:"none","box-shadow":"0px 10px 20px #808080",outline:"none"},"mjx-help-dialog > h1":{"font-size":"24px","text-align":"center",margin:".5em 0"},"mjx-help-dialog > div":{margin:"0 1em",padding:"3px",overflow:"auto",height:"20em",border:"2px inset black","background-color":"white","text-align":"left"},"mjx-help-dialog > input":{margin:".5em 2em"},"mjx-help-dialog kbd":{display:"inline-block",padding:"3px 5px","font-size":"11px","line-height":"10px",color:"#444d56","vertical-align":"middle","background-color":"#fafbfc",border:"solid 1.5px #c6cbd1","border-bottom-color":"#959da5","border-radius":"3px","box-shadow":"inset -.5px -1px 0 #959da5"},"mjx-help-dialog ul":{"list-style-type":"none"},"mjx-help-dialog li":{"margin-bottom":".5em"},"mjx-help-background":{position:"fixed",top:0,left:0,right:0,bottom:0}},e}function v0(t,e=null){return(t=t.documentClass.prototype.attachSpeech?t:j1(t,e)).documentClass=y0(t.documentClass),t}function C0(t,e,s){switch(e){case"speechRules":{const[e,i]=s.split("-");t.options.sre.domain=e,t.options.sre.style=i;break}case"magnification":switch(s){case"None":t.options.a11y.magnification=s,t.options.a11y.keyMagnifier=!1,t.options.a11y.mouseMagnifier=!1;break;case"Keyboard":t.options.a11y.magnification=s,t.options.a11y.keyMagnifier=!0,t.options.a11y.mouseMagnifier=!1;break;case"Mouse":t.options.a11y.magnification=s,t.options.a11y.keyMagnifier=!1,t.options.a11y.mouseMagnifier=!0}break;case"highlight":switch(s){case"None":t.options.a11y.highlight=s,t.options.a11y.hover=!1,t.options.a11y.flame=!1;break;case"Hover":t.options.a11y.highlight=s,t.options.a11y.hover=!0,t.options.a11y.flame=!1;break;case"Flame":t.options.a11y.highlight=s,t.options.a11y.hover=!1,t.options.a11y.flame=!0}break;case"locale":t.options.sre.locale=s;break;default:t.options.a11y[e]=s}}Xi("EXPLORER",u.INSERTED+30),MathJax.loader&&MathJax.loader.checkVersion("a11y/explorer",Ys,"a11y"),ei({_:{a11y:{explorer_ts:Ks,explorer:{Explorer:zs,ExplorerPool:Gs,Highlighter:qs,KeyExplorer:Vs,MouseExplorer:Xs,Region:Ws,TreeExplorer:Js}}}}),MathJax.startup&&ii&&MathJax.startup.extendHandler(t=>v0(t)),ui.preLoaded("a11y/sre","a11y/semantic-enrich","a11y/speech","a11y/explorer"),ui.preLoaded("loader","startup","core","input/mml","output/chtml","ui/menu"),ui.saveVersion("mml-chtml"),Ol.loadFont(function(t){return ui.load(...mi.load).then(()=>(t||function(){})()).then(()=>mi.ready()).catch(t=>mi.failed(t))},"chtml",Rl,!0)})()})();